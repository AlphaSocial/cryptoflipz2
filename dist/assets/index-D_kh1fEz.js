const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ta8VIxUb.js","assets/hooks.module-CuBEORbW.js","assets/index-19Wv5Alk.js","assets/inherits_browser-BlmhoU4v.js","assets/events-QtWKteeH.js","assets/index-jzTIzptC.js","assets/index-SVx-hTNT.js","assets/index.es-DfUsb-X2.js","assets/alchemy-provider-0066b792-BalXAdUC.js","assets/alchemy-websocket-provider-98da5bb0-4_aekB2T.js"])))=>i.map(i=>d[i]);
function eN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function em(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k1e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var nN={exports:{}},dv={},rN={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=Symbol.for("react.element"),B9=Symbol.for("react.portal"),F9=Symbol.for("react.fragment"),L9=Symbol.for("react.strict_mode"),D9=Symbol.for("react.profiler"),U9=Symbol.for("react.provider"),z9=Symbol.for("react.context"),j9=Symbol.for("react.forward_ref"),H9=Symbol.for("react.suspense"),G9=Symbol.for("react.memo"),W9=Symbol.for("react.lazy"),OT=Symbol.iterator;function V9(t){return t===null||typeof t!="object"?null:(t=OT&&t[OT]||t["@@iterator"],typeof t=="function"?t:null)}var iN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oN=Object.assign,sN={};function df(t,e,n){this.props=t,this.context=e,this.refs=sN,this.updater=n||iN}df.prototype.isReactComponent={};df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aN(){}aN.prototype=df.prototype;function a2(t,e,n){this.props=t,this.context=e,this.refs=sN,this.updater=n||iN}var l2=a2.prototype=new aN;l2.constructor=a2;oN(l2,df.prototype);l2.isPureReactComponent=!0;var BT=Array.isArray,lN=Object.prototype.hasOwnProperty,c2={current:null},cN={key:!0,ref:!0,__self:!0,__source:!0};function uN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)lN.call(e,r)&&!cN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tm,type:t,key:o,ref:s,props:i,_owner:c2.current}}function $9(t,e){return{$$typeof:tm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function u2(t){return typeof t=="object"&&t!==null&&t.$$typeof===tm}function q9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FT=/\/+/g;function sb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q9(""+t.key):e.toString(36)}function cg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case tm:case B9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+sb(s,0):r,BT(i)?(n="",t!=null&&(n=t.replace(FT,"$&/")+"/"),cg(i,e,n,"",function(c){return c})):i!=null&&(u2(i)&&(i=$9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(FT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",BT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+sb(o,a);s+=cg(o,e,n,l,i)}else if(l=V9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+sb(o,a++),s+=cg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hm(t,e,n){if(t==null)return t;var r=[],i=0;return cg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Q9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ii={current:null},ug={transition:null},K9={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:ug,ReactCurrentOwner:c2};function dN(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:Hm,forEach:function(t,e,n){Hm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hm(t,function(){e++}),e},toArray:function(t){return Hm(t,function(e){return e})||[]},only:function(t){if(!u2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=df;zt.Fragment=F9;zt.Profiler=D9;zt.PureComponent=a2;zt.StrictMode=L9;zt.Suspense=H9;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K9;zt.act=dN;zt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=c2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lN.call(e,l)&&!cN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:tm,type:t.type,key:i,ref:o,props:r,_owner:s}};zt.createContext=function(t){return t={$$typeof:z9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U9,_context:t},t.Consumer=t};zt.createElement=uN;zt.createFactory=function(t){var e=uN.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:j9,render:t}};zt.isValidElement=u2;zt.lazy=function(t){return{$$typeof:W9,_payload:{_status:-1,_result:t},_init:Q9}};zt.memo=function(t,e){return{$$typeof:G9,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=ug.transition;ug.transition={};try{t()}finally{ug.transition=e}};zt.unstable_act=dN;zt.useCallback=function(t,e){return ii.current.useCallback(t,e)};zt.useContext=function(t){return ii.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return ii.current.useDeferredValue(t)};zt.useEffect=function(t,e){return ii.current.useEffect(t,e)};zt.useId=function(){return ii.current.useId()};zt.useImperativeHandle=function(t,e,n){return ii.current.useImperativeHandle(t,e,n)};zt.useInsertionEffect=function(t,e){return ii.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return ii.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return ii.current.useMemo(t,e)};zt.useReducer=function(t,e,n){return ii.current.useReducer(t,e,n)};zt.useRef=function(t){return ii.current.useRef(t)};zt.useState=function(t){return ii.current.useState(t)};zt.useSyncExternalStore=function(t,e,n){return ii.current.useSyncExternalStore(t,e,n)};zt.useTransition=function(){return ii.current.useTransition()};zt.version="18.3.1";rN.exports=zt;var j=rN.exports;const O=em(j),kx=eN({__proto__:null,default:O},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X9=j,Y9=Symbol.for("react.element"),J9=Symbol.for("react.fragment"),Z9=Object.prototype.hasOwnProperty,ez=X9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tz={key:!0,ref:!0,__self:!0,__source:!0};function fN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Z9.call(e,r)&&!tz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Y9,type:t,key:o,ref:s,props:i,_owner:ez.current}}dv.Fragment=J9;dv.jsx=fN;dv.jsxs=fN;nN.exports=dv;var fn=nN.exports;function nz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function rz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var iz=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(rz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=nz(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Br="-ms-",Yg="-moz-",en="-webkit-",hN="comm",d2="rule",f2="decl",oz="@import",pN="@keyframes",sz="@layer",az=Math.abs,fv=String.fromCharCode,lz=Object.assign;function cz(t,e){return Er(t,0)^45?(((e<<2^Er(t,0))<<2^Er(t,1))<<2^Er(t,2))<<2^Er(t,3):0}function mN(t){return t.trim()}function uz(t,e){return(t=e.exec(t))?t[0]:t}function tn(t,e,n){return t.replace(e,n)}function Ox(t,e){return t.indexOf(e)}function Er(t,e){return t.charCodeAt(e)|0}function Vh(t,e,n){return t.slice(e,n)}function ds(t){return t.length}function h2(t){return t.length}function Gm(t,e){return e.push(t),t}function dz(t,e){return t.map(e).join("")}var hv=1,Md=1,gN=0,Ci=0,Qn=0,ff="";function pv(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:hv,column:Md,length:s,return:""}}function Lf(t,e){return lz(pv("",null,null,"",null,null,0),t,{length:-t.length},e)}function fz(){return Qn}function hz(){return Qn=Ci>0?Er(ff,--Ci):0,Md--,Qn===10&&(Md=1,hv--),Qn}function ji(){return Qn=Ci<gN?Er(ff,Ci++):0,Md++,Qn===10&&(Md=1,hv++),Qn}function As(){return Er(ff,Ci)}function dg(){return Ci}function nm(t,e){return Vh(ff,t,e)}function $h(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yN(t){return hv=Md=1,gN=ds(ff=t),Ci=0,[]}function vN(t){return ff="",t}function fg(t){return mN(nm(Ci-1,Bx(t===91?t+2:t===40?t+1:t)))}function pz(t){for(;(Qn=As())&&Qn<33;)ji();return $h(t)>2||$h(Qn)>3?"":" "}function mz(t,e){for(;--e&&ji()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return nm(t,dg()+(e<6&&As()==32&&ji()==32))}function Bx(t){for(;ji();)switch(Qn){case t:return Ci;case 34:case 39:t!==34&&t!==39&&Bx(Qn);break;case 40:t===41&&Bx(t);break;case 92:ji();break}return Ci}function gz(t,e){for(;ji()&&t+Qn!==57;)if(t+Qn===84&&As()===47)break;return"/*"+nm(e,Ci-1)+"*"+fv(t===47?t:ji())}function yz(t){for(;!$h(As());)ji();return nm(t,Ci)}function vz(t){return vN(hg("",null,null,null,[""],t=yN(t),0,[0],t))}function hg(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,p=0,m=1,y=1,g=1,v=0,b="",x=i,R=o,k=r,_=b;y;)switch(p=v,v=ji()){case 40:if(p!=108&&Er(_,d-1)==58){Ox(_+=tn(fg(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:_+=fg(v);break;case 9:case 10:case 13:case 32:_+=pz(p);break;case 92:_+=mz(dg()-1,7);continue;case 47:switch(As()){case 42:case 47:Gm(wz(gz(ji(),dg()),e,n),l);break;default:_+="/"}break;case 123*m:a[c++]=ds(_)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(_=tn(_,/\f/g,"")),h>0&&ds(_)-d&&Gm(h>32?DT(_+";",r,n,d-1):DT(tn(_," ","")+";",r,n,d-2),l);break;case 59:_+=";";default:if(Gm(k=LT(_,e,n,c,u,i,a,b,x=[],R=[],d),o),v===123)if(u===0)hg(_,e,k,k,x,o,d,a,R);else switch(f===99&&Er(_,3)===110?100:f){case 100:case 108:case 109:case 115:hg(t,k,k,r&&Gm(LT(t,k,k,0,0,i,a,b,i,x=[],d),R),i,R,d,a,r?x:R);break;default:hg(_,k,k,k,[""],R,0,a,R)}}c=u=h=0,m=g=1,b=_="",d=s;break;case 58:d=1+ds(_),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&hz()==125)continue}switch(_+=fv(v),v*m){case 38:g=u>0?1:(_+="\f",-1);break;case 44:a[c++]=(ds(_)-1)*g,g=1;break;case 64:As()===45&&(_+=fg(ji())),f=As(),u=d=ds(b=_+=yz(dg())),v++;break;case 45:p===45&&ds(_)==2&&(m=0)}}return o}function LT(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=h2(f),p=0,m=0,y=0;p<r;++p)for(var g=0,v=Vh(t,d+1,d=az(m=s[p])),b=t;g<h;++g)(b=mN(m>0?f[g]+" "+v:tn(v,/&\f/g,f[g])))&&(l[y++]=b);return pv(t,e,n,i===0?d2:a,l,c,u)}function wz(t,e,n){return pv(t,e,n,hN,fv(fz()),Vh(t,2,-2),0)}function DT(t,e,n,r){return pv(t,e,n,f2,Vh(t,0,r),Vh(t,r+1,-1),r)}function ld(t,e){for(var n="",r=h2(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function bz(t,e,n,r){switch(t.type){case sz:if(t.children.length)break;case oz:case f2:return t.return=t.return||t.value;case hN:return"";case pN:return t.return=t.value+"{"+ld(t.children,r)+"}";case d2:t.value=t.props.join(",")}return ds(n=ld(t.children,r))?t.return=t.value+"{"+n+"}":""}function xz(t){var e=h2(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function Ez(t){return function(e){e.root||(e=e.return)&&t(e)}}var UT=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function wN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Az=function(e,n,r){for(var i=0,o=0;i=o,o=As(),i===38&&o===12&&(n[r]=1),!$h(o);)ji();return nm(e,Ci)},_z=function(e,n){var r=-1,i=44;do switch($h(i)){case 0:i===38&&As()===12&&(n[r]=1),e[r]+=Az(Ci-1,n,r);break;case 2:e[r]+=fg(i);break;case 4:if(i===44){e[++r]=As()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=fv(i)}while(i=ji());return e},Sz=function(e,n){return vN(_z(yN(e),n))},zT=new WeakMap,Cz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zT.get(r))&&!i){zT.set(e,!0);for(var o=[],s=Sz(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},Tz=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bN(t,e){switch(cz(t,e)){case 5103:return en+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return en+t+Yg+t+Br+t+t;case 6828:case 4268:return en+t+Br+t+t;case 6165:return en+t+Br+"flex-"+t+t;case 5187:return en+t+tn(t,/(\w+).+(:[^]+)/,en+"box-$1$2"+Br+"flex-$1$2")+t;case 5443:return en+t+Br+"flex-item-"+tn(t,/flex-|-self/,"")+t;case 4675:return en+t+Br+"flex-line-pack"+tn(t,/align-content|flex-|-self/,"")+t;case 5548:return en+t+Br+tn(t,"shrink","negative")+t;case 5292:return en+t+Br+tn(t,"basis","preferred-size")+t;case 6060:return en+"box-"+tn(t,"-grow","")+en+t+Br+tn(t,"grow","positive")+t;case 4554:return en+tn(t,/([^-])(transform)/g,"$1"+en+"$2")+t;case 6187:return tn(tn(tn(t,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),t,"")+t;case 5495:case 3959:return tn(t,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return tn(tn(t,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+Br+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+t+t;case 4095:case 3583:case 4068:case 2532:return tn(t,/(.+)-inline(.+)/,en+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ds(t)-1-e>6)switch(Er(t,e+1)){case 109:if(Er(t,e+4)!==45)break;case 102:return tn(t,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+Yg+(Er(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ox(t,"stretch")?bN(tn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Er(t,e+1)!==115)break;case 6444:switch(Er(t,ds(t)-3-(~Ox(t,"!important")&&10))){case 107:return tn(t,":",":"+en)+t;case 101:return tn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(Er(t,14)===45?"inline-":"")+"box$3$1"+en+"$2$3$1"+Br+"$2box$3")+t}break;case 5936:switch(Er(t,e+11)){case 114:return en+t+Br+tn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return en+t+Br+tn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return en+t+Br+tn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return en+t+Br+t+t}return t}var Mz=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case f2:e.return=bN(e.value,e.length);break;case pN:return ld([Lf(e,{value:tn(e.value,"@","@"+en)})],i);case d2:if(e.length)return dz(e.props,function(o){switch(uz(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ld([Lf(e,{props:[tn(o,/:(read-\w+)/,":"+Yg+"$1")]})],i);case"::placeholder":return ld([Lf(e,{props:[tn(o,/:(plac\w+)/,":"+en+"input-$1")]}),Lf(e,{props:[tn(o,/:(plac\w+)/,":"+Yg+"$1")]}),Lf(e,{props:[tn(o,/:(plac\w+)/,Br+"input-$1")]})],i)}return""})}},Iz=[Mz],Rz=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Iz,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)o[y[g]]=!0;a.push(m)});var l,c=[Cz,Tz];{var u,d=[bz,Ez(function(m){u.insert(m)})],f=xz(c.concat(i,d)),h=function(y){return ld(vz(y),f)};l=function(y,g,v,b){u=v,h(y?y+"{"+g.styles+"}":g.styles),b&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new iz({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(null,arguments)}var xN={exports:{}},cn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=typeof Symbol=="function"&&Symbol.for,p2=vr?Symbol.for("react.element"):60103,m2=vr?Symbol.for("react.portal"):60106,mv=vr?Symbol.for("react.fragment"):60107,gv=vr?Symbol.for("react.strict_mode"):60108,yv=vr?Symbol.for("react.profiler"):60114,vv=vr?Symbol.for("react.provider"):60109,wv=vr?Symbol.for("react.context"):60110,g2=vr?Symbol.for("react.async_mode"):60111,bv=vr?Symbol.for("react.concurrent_mode"):60111,xv=vr?Symbol.for("react.forward_ref"):60112,Ev=vr?Symbol.for("react.suspense"):60113,Pz=vr?Symbol.for("react.suspense_list"):60120,Av=vr?Symbol.for("react.memo"):60115,_v=vr?Symbol.for("react.lazy"):60116,Nz=vr?Symbol.for("react.block"):60121,kz=vr?Symbol.for("react.fundamental"):60117,Oz=vr?Symbol.for("react.responder"):60118,Bz=vr?Symbol.for("react.scope"):60119;function Wi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case p2:switch(t=t.type,t){case g2:case bv:case mv:case yv:case gv:case Ev:return t;default:switch(t=t&&t.$$typeof,t){case wv:case xv:case _v:case Av:case vv:return t;default:return e}}case m2:return e}}}function EN(t){return Wi(t)===bv}cn.AsyncMode=g2;cn.ConcurrentMode=bv;cn.ContextConsumer=wv;cn.ContextProvider=vv;cn.Element=p2;cn.ForwardRef=xv;cn.Fragment=mv;cn.Lazy=_v;cn.Memo=Av;cn.Portal=m2;cn.Profiler=yv;cn.StrictMode=gv;cn.Suspense=Ev;cn.isAsyncMode=function(t){return EN(t)||Wi(t)===g2};cn.isConcurrentMode=EN;cn.isContextConsumer=function(t){return Wi(t)===wv};cn.isContextProvider=function(t){return Wi(t)===vv};cn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===p2};cn.isForwardRef=function(t){return Wi(t)===xv};cn.isFragment=function(t){return Wi(t)===mv};cn.isLazy=function(t){return Wi(t)===_v};cn.isMemo=function(t){return Wi(t)===Av};cn.isPortal=function(t){return Wi(t)===m2};cn.isProfiler=function(t){return Wi(t)===yv};cn.isStrictMode=function(t){return Wi(t)===gv};cn.isSuspense=function(t){return Wi(t)===Ev};cn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mv||t===bv||t===yv||t===gv||t===Ev||t===Pz||typeof t=="object"&&t!==null&&(t.$$typeof===_v||t.$$typeof===Av||t.$$typeof===vv||t.$$typeof===wv||t.$$typeof===xv||t.$$typeof===kz||t.$$typeof===Oz||t.$$typeof===Bz||t.$$typeof===Nz)};cn.typeOf=Wi;xN.exports=cn;var Fz=xN.exports,AN=Fz,Lz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Dz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_N={};_N[AN.ForwardRef]=Lz;_N[AN.Memo]=Dz;var Uz=!0;function SN(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var y2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Uz===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},CN=function(e,n,r){y2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function zz(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hz=/[A-Z]|^ms/g,Gz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TN=function(e){return e.charCodeAt(1)===45},jT=function(e){return e!=null&&typeof e!="boolean"},ab=wN(function(t){return TN(t)?t:t.replace(Hz,"-$&").toLowerCase()}),HT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Gz,function(r,i,o){return fs={name:i,styles:o,next:fs},i})}return jz[e]!==1&&!TN(e)&&typeof n=="number"&&n!==0?n+"px":n};function qh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return fs={name:i.name,styles:i.styles,next:fs},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)fs={name:s.name,styles:s.styles,next:fs},s=s.next;var a=o.styles+";";return a}return Wz(t,e,n)}case"function":{if(t!==void 0){var l=fs,c=n(t);return fs=l,qh(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Wz(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=qh(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":jT(a)&&(r+=ab(o)+":"+HT(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)jT(s[l])&&(r+=ab(o)+":"+HT(o,s[l])+";");else{var c=qh(t,e,s);switch(o){case"animation":case"animationName":{r+=ab(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var GT=/label:\s*([^\s;{]+)\s*(;|$)/g,fs;function v2(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";fs=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=qh(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=qh(n,e,t[a]),r){var l=o;i+=l[a]}GT.lastIndex=0;for(var c="",u;(u=GT.exec(i))!==null;)c+="-"+u[1];var d=zz(i)+c;return{name:d,styles:i,next:fs}}var Vz=function(e){return e()},$z=kx.useInsertionEffect?kx.useInsertionEffect:!1,MN=$z||Vz,IN=j.createContext(typeof HTMLElement<"u"?Rz({key:"css"}):null);IN.Provider;var RN=function(e){return j.forwardRef(function(n,r){var i=j.useContext(IN);return e(n,i,r)})},Zg=j.createContext({}),qz=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Jg({},e,n)},Qz=UT(function(t){return UT(function(e){return qz(t,e)})}),Go=function(e){var n=j.useContext(Zg);return e.theme!==n&&(n=Qz(n)(e.theme)),j.createElement(Zg.Provider,{value:n},e.children)},rm={}.hasOwnProperty,Fx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",w2=function(e,n){var r={};for(var i in n)rm.call(n,i)&&(r[i]=n[i]);return r[Fx]=e,r},Kz=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return y2(n,r,i),MN(function(){return CN(n,r,i)}),null},Xz=RN(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Fx],o=[r],s="";typeof t.className=="string"?s=SN(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=v2(o,void 0,j.useContext(Zg));s+=e.key+"-"+a.name;var l={};for(var c in t)rm.call(t,c)&&c!=="css"&&c!==Fx&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),j.createElement(j.Fragment,null,j.createElement(Kz,{cache:e,serialized:a,isStringTag:typeof i=="string"}),j.createElement(i,l))}),b2=Xz,Id=fn.Fragment,U=function(e,n,r){return rm.call(n,"css")?fn.jsx(b2,w2(e,n),r):fn.jsx(e,n,r)},Z=function(e,n,r){return rm.call(n,"css")?fn.jsxs(b2,w2(e,n),r):fn.jsxs(e,n,r)},x2={},Sv={};Sv.byteLength=Zz;Sv.toByteArray=tj;Sv.fromByteArray=ij;var ps=[],to=[],Yz=typeof Uint8Array<"u"?Uint8Array:Array,lb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wu=0,Jz=lb.length;wu<Jz;++wu)ps[wu]=lb[wu],to[lb.charCodeAt(wu)]=wu;to[45]=62;to[95]=63;function PN(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Zz(t){var e=PN(t),n=e[0],r=e[1];return(n+r)*3/4-r}function ej(t,e,n){return(e+n)*3/4-n}function tj(t){var e,n=PN(t),r=n[0],i=n[1],o=new Yz(ej(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=to[t.charCodeAt(l)]<<18|to[t.charCodeAt(l+1)]<<12|to[t.charCodeAt(l+2)]<<6|to[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=to[t.charCodeAt(l)]<<2|to[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=to[t.charCodeAt(l)]<<10|to[t.charCodeAt(l+1)]<<4|to[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function nj(t){return ps[t>>18&63]+ps[t>>12&63]+ps[t>>6&63]+ps[t&63]}function rj(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(nj(r));return i.join("")}function ij(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(rj(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(ps[e>>2]+ps[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(ps[e>>10]+ps[e>>4&63]+ps[e<<2&63]+"=")),i.join("")}var E2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */E2.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(h?-1:1)*s*Math.pow(2,o-r)};E2.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=a&255,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=s&255,h+=p,s/=256,c-=8);t[n+h-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Sv,n=E2,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const z=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(z,A),z.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const A=new Uint8Array(z);return Object.setPrototypeOf(A,a.prototype),A}function a(z,A,T){if(typeof z=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(z)}return l(z,A,T)}a.poolSize=8192;function l(z,A,T){if(typeof z=="string")return f(z,A);if(ArrayBuffer.isView(z))return p(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(V(z,ArrayBuffer)||z&&V(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(z,SharedArrayBuffer)||z&&V(z.buffer,SharedArrayBuffer)))return m(z,A,T);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=z.valueOf&&z.valueOf();if(Q!=null&&Q!==z)return a.from(Q,A,T);const K=y(z);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return a.from(z[Symbol.toPrimitive]("string"),A,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}a.from=function(z,A,T){return l(z,A,T)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function u(z,A,T){return c(z),z<=0?s(z):A!==void 0?typeof T=="string"?s(z).fill(A,T):s(z).fill(A):s(z)}a.alloc=function(z,A,T){return u(z,A,T)};function d(z){return c(z),s(z<0?0:g(z)|0)}a.allocUnsafe=function(z){return d(z)},a.allocUnsafeSlow=function(z){return d(z)};function f(z,A){if((typeof A!="string"||A==="")&&(A="utf8"),!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const T=b(z,A)|0;let Q=s(T);const K=Q.write(z,A);return K!==T&&(Q=Q.slice(0,K)),Q}function h(z){const A=z.length<0?0:g(z.length)|0,T=s(A);for(let Q=0;Q<A;Q+=1)T[Q]=z[Q]&255;return T}function p(z){if(V(z,Uint8Array)){const A=new Uint8Array(z);return m(A.buffer,A.byteOffset,A.byteLength)}return h(z)}function m(z,A,T){if(A<0||z.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<A+(T||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return A===void 0&&T===void 0?Q=new Uint8Array(z):T===void 0?Q=new Uint8Array(z,A):Q=new Uint8Array(z,A,T),Object.setPrototypeOf(Q,a.prototype),Q}function y(z){if(a.isBuffer(z)){const A=g(z.length)|0,T=s(A);return T.length===0||z.copy(T,0,0,A),T}if(z.length!==void 0)return typeof z.length!="number"||le(z.length)?s(0):h(z);if(z.type==="Buffer"&&Array.isArray(z.data))return h(z.data)}function g(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function v(z){return+z!=z&&(z=0),a.alloc(+z)}a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,T){if(V(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),V(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(A)||!a.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===T)return 0;let Q=A.length,K=T.length;for(let Y=0,ee=Math.min(Q,K);Y<ee;++Y)if(A[Y]!==T[Y]){Q=A[Y],K=T[Y];break}return Q<K?-1:K<Q?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,T){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let Q;if(T===void 0)for(T=0,Q=0;Q<A.length;++Q)T+=A[Q].length;const K=a.allocUnsafe(T);let Y=0;for(Q=0;Q<A.length;++Q){let ee=A[Q];if(V(ee,Uint8Array))Y+ee.length>K.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(K,Y)):Uint8Array.prototype.set.call(K,ee,Y);else if(a.isBuffer(ee))ee.copy(K,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=ee.length}return K};function b(z,A){if(a.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||V(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const T=z.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&T===0)return 0;let K=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return at(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return Qe(z).length;default:if(K)return Q?-1:at(z).length;A=(""+A).toLowerCase(),K=!0}}a.byteLength=b;function x(z,A,T){let Q=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,A>>>=0,T<=A))return"";for(z||(z="utf8");;)switch(z){case"hex":return H(this,A,T);case"utf8":case"utf-8":return w(this,A,T);case"ascii":return D(this,A,T);case"latin1":case"binary":return N(this,A,T);case"base64":return B(this,A,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,T);default:if(Q)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function R(z,A,T){const Q=z[A];z[A]=z[T],z[T]=Q}a.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<A;T+=2)R(this,T,T+1);return this},a.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<A;T+=4)R(this,T,T+3),R(this,T+1,T+2);return this},a.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<A;T+=8)R(this,T,T+7),R(this,T+1,T+6),R(this,T+2,T+5),R(this,T+3,T+4);return this},a.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?w(this,0,A):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},a.prototype.inspect=function(){let A="";const T=t.INSPECT_MAX_BYTES;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(A,T,Q,K,Y){if(V(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(T===void 0&&(T=0),Q===void 0&&(Q=A?A.length:0),K===void 0&&(K=0),Y===void 0&&(Y=this.length),T<0||Q>A.length||K<0||Y>this.length)throw new RangeError("out of range index");if(K>=Y&&T>=Q)return 0;if(K>=Y)return-1;if(T>=Q)return 1;if(T>>>=0,Q>>>=0,K>>>=0,Y>>>=0,this===A)return 0;let ee=Y-K,ke=Q-T;const Me=Math.min(ee,ke),He=this.slice(K,Y),rt=A.slice(T,Q);for(let Ke=0;Ke<Me;++Ke)if(He[Ke]!==rt[Ke]){ee=He[Ke],ke=rt[Ke];break}return ee<ke?-1:ke<ee?1:0};function k(z,A,T,Q,K){if(z.length===0)return-1;if(typeof T=="string"?(Q=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,le(T)&&(T=K?0:z.length-1),T<0&&(T=z.length+T),T>=z.length){if(K)return-1;T=z.length-1}else if(T<0)if(K)T=0;else return-1;if(typeof A=="string"&&(A=a.from(A,Q)),a.isBuffer(A))return A.length===0?-1:_(z,A,T,Q,K);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(z,A,T):Uint8Array.prototype.lastIndexOf.call(z,A,T):_(z,[A],T,Q,K);throw new TypeError("val must be string, number or Buffer")}function _(z,A,T,Q,K){let Y=1,ee=z.length,ke=A.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(z.length<2||A.length<2)return-1;Y=2,ee/=2,ke/=2,T/=2}function Me(rt,Ke){return Y===1?rt[Ke]:rt.readUInt16BE(Ke*Y)}let He;if(K){let rt=-1;for(He=T;He<ee;He++)if(Me(z,He)===Me(A,rt===-1?0:He-rt)){if(rt===-1&&(rt=He),He-rt+1===ke)return rt*Y}else rt!==-1&&(He-=He-rt),rt=-1}else for(T+ke>ee&&(T=ee-ke),He=T;He>=0;He--){let rt=!0;for(let Ke=0;Ke<ke;Ke++)if(Me(z,He+Ke)!==Me(A,Ke)){rt=!1;break}if(rt)return He}return-1}a.prototype.includes=function(A,T,Q){return this.indexOf(A,T,Q)!==-1},a.prototype.indexOf=function(A,T,Q){return k(this,A,T,Q,!0)},a.prototype.lastIndexOf=function(A,T,Q){return k(this,A,T,Q,!1)};function I(z,A,T,Q){T=Number(T)||0;const K=z.length-T;Q?(Q=Number(Q),Q>K&&(Q=K)):Q=K;const Y=A.length;Q>Y/2&&(Q=Y/2);let ee;for(ee=0;ee<Q;++ee){const ke=parseInt(A.substr(ee*2,2),16);if(le(ke))return ee;z[T+ee]=ke}return ee}function S(z,A,T,Q){return X(at(A,z.length-T),z,T,Q)}function P(z,A,T,Q){return X(qe(A),z,T,Q)}function L(z,A,T,Q){return X(Qe(A),z,T,Q)}function G(z,A,T,Q){return X(kt(A,z.length-T),z,T,Q)}a.prototype.write=function(A,T,Q,K){if(T===void 0)K="utf8",Q=this.length,T=0;else if(Q===void 0&&typeof T=="string")K=T,Q=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(Q)?(Q=Q>>>0,K===void 0&&(K="utf8")):(K=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-T;if((Q===void 0||Q>Y)&&(Q=Y),A.length>0&&(Q<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let ee=!1;for(;;)switch(K){case"hex":return I(this,A,T,Q);case"utf8":case"utf-8":return S(this,A,T,Q);case"ascii":case"latin1":case"binary":return P(this,A,T,Q);case"base64":return L(this,A,T,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,A,T,Q);default:if(ee)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(z,A,T){return A===0&&T===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(A,T))}function w(z,A,T){T=Math.min(z.length,T);const Q=[];let K=A;for(;K<T;){const Y=z[K];let ee=null,ke=Y>239?4:Y>223?3:Y>191?2:1;if(K+ke<=T){let Me,He,rt,Ke;switch(ke){case 1:Y<128&&(ee=Y);break;case 2:Me=z[K+1],(Me&192)===128&&(Ke=(Y&31)<<6|Me&63,Ke>127&&(ee=Ke));break;case 3:Me=z[K+1],He=z[K+2],(Me&192)===128&&(He&192)===128&&(Ke=(Y&15)<<12|(Me&63)<<6|He&63,Ke>2047&&(Ke<55296||Ke>57343)&&(ee=Ke));break;case 4:Me=z[K+1],He=z[K+2],rt=z[K+3],(Me&192)===128&&(He&192)===128&&(rt&192)===128&&(Ke=(Y&15)<<18|(Me&63)<<12|(He&63)<<6|rt&63,Ke>65535&&Ke<1114112&&(ee=Ke))}}ee===null?(ee=65533,ke=1):ee>65535&&(ee-=65536,Q.push(ee>>>10&1023|55296),ee=56320|ee&1023),Q.push(ee),K+=ke}return C(Q)}const E=4096;function C(z){const A=z.length;if(A<=E)return String.fromCharCode.apply(String,z);let T="",Q=0;for(;Q<A;)T+=String.fromCharCode.apply(String,z.slice(Q,Q+=E));return T}function D(z,A,T){let Q="";T=Math.min(z.length,T);for(let K=A;K<T;++K)Q+=String.fromCharCode(z[K]&127);return Q}function N(z,A,T){let Q="";T=Math.min(z.length,T);for(let K=A;K<T;++K)Q+=String.fromCharCode(z[K]);return Q}function H(z,A,T){const Q=z.length;(!A||A<0)&&(A=0),(!T||T<0||T>Q)&&(T=Q);let K="";for(let Y=A;Y<T;++Y)K+=we[z[Y]];return K}function $(z,A,T){const Q=z.slice(A,T);let K="";for(let Y=0;Y<Q.length-1;Y+=2)K+=String.fromCharCode(Q[Y]+Q[Y+1]*256);return K}a.prototype.slice=function(A,T){const Q=this.length;A=~~A,T=T===void 0?Q:~~T,A<0?(A+=Q,A<0&&(A=0)):A>Q&&(A=Q),T<0?(T+=Q,T<0&&(T=0)):T>Q&&(T=Q),T<A&&(T=A);const K=this.subarray(A,T);return Object.setPrototypeOf(K,a.prototype),K};function F(z,A,T){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+A>T)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(A,T,Q){A=A>>>0,T=T>>>0,Q||F(A,T,this.length);let K=this[A],Y=1,ee=0;for(;++ee<T&&(Y*=256);)K+=this[A+ee]*Y;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(A,T,Q){A=A>>>0,T=T>>>0,Q||F(A,T,this.length);let K=this[A+--T],Y=1;for(;T>0&&(Y*=256);)K+=this[A+--T]*Y;return K},a.prototype.readUint8=a.prototype.readUInt8=function(A,T){return A=A>>>0,T||F(A,1,this.length),this[A]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(A,T){return A=A>>>0,T||F(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(A,T){return A=A>>>0,T||F(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(A,T){return A=A>>>0,T||F(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(A,T){return A=A>>>0,T||F(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readBigUInt64LE=Se(function(A){A=A>>>0,xt(A,"offset");const T=this[A],Q=this[A+7];(T===void 0||Q===void 0)&&oe(A,this.length-8);const K=T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,Y=this[++A]+this[++A]*2**8+this[++A]*2**16+Q*2**24;return BigInt(K)+(BigInt(Y)<<BigInt(32))}),a.prototype.readBigUInt64BE=Se(function(A){A=A>>>0,xt(A,"offset");const T=this[A],Q=this[A+7];(T===void 0||Q===void 0)&&oe(A,this.length-8);const K=T*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],Y=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Q;return(BigInt(K)<<BigInt(32))+BigInt(Y)}),a.prototype.readIntLE=function(A,T,Q){A=A>>>0,T=T>>>0,Q||F(A,T,this.length);let K=this[A],Y=1,ee=0;for(;++ee<T&&(Y*=256);)K+=this[A+ee]*Y;return Y*=128,K>=Y&&(K-=Math.pow(2,8*T)),K},a.prototype.readIntBE=function(A,T,Q){A=A>>>0,T=T>>>0,Q||F(A,T,this.length);let K=T,Y=1,ee=this[A+--K];for(;K>0&&(Y*=256);)ee+=this[A+--K]*Y;return Y*=128,ee>=Y&&(ee-=Math.pow(2,8*T)),ee},a.prototype.readInt8=function(A,T){return A=A>>>0,T||F(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},a.prototype.readInt16LE=function(A,T){A=A>>>0,T||F(A,2,this.length);const Q=this[A]|this[A+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(A,T){A=A>>>0,T||F(A,2,this.length);const Q=this[A+1]|this[A]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(A,T){return A=A>>>0,T||F(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,T){return A=A>>>0,T||F(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readBigInt64LE=Se(function(A){A=A>>>0,xt(A,"offset");const T=this[A],Q=this[A+7];(T===void 0||Q===void 0)&&oe(A,this.length-8);const K=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(Q<<24);return(BigInt(K)<<BigInt(32))+BigInt(T+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),a.prototype.readBigInt64BE=Se(function(A){A=A>>>0,xt(A,"offset");const T=this[A],Q=this[A+7];(T===void 0||Q===void 0)&&oe(A,this.length-8);const K=(T<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(K)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+Q)}),a.prototype.readFloatLE=function(A,T){return A=A>>>0,T||F(A,4,this.length),n.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,T){return A=A>>>0,T||F(A,4,this.length),n.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,T){return A=A>>>0,T||F(A,8,this.length),n.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,T){return A=A>>>0,T||F(A,8,this.length),n.read(this,A,!1,52,8)};function M(z,A,T,Q,K,Y){if(!a.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>K||A<Y)throw new RangeError('"value" argument is out of bounds');if(T+Q>z.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(A,T,Q,K){if(A=+A,T=T>>>0,Q=Q>>>0,!K){const ke=Math.pow(2,8*Q)-1;M(this,A,T,Q,ke,0)}let Y=1,ee=0;for(this[T]=A&255;++ee<Q&&(Y*=256);)this[T+ee]=A/Y&255;return T+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(A,T,Q,K){if(A=+A,T=T>>>0,Q=Q>>>0,!K){const ke=Math.pow(2,8*Q)-1;M(this,A,T,Q,ke,0)}let Y=Q-1,ee=1;for(this[T+Y]=A&255;--Y>=0&&(ee*=256);)this[T+Y]=A/ee&255;return T+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,1,255,0),this[T]=A&255,T+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,2,65535,0),this[T]=A&255,this[T+1]=A>>>8,T+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,2,65535,0),this[T]=A>>>8,this[T+1]=A&255,T+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,4,4294967295,0),this[T+3]=A>>>24,this[T+2]=A>>>16,this[T+1]=A>>>8,this[T]=A&255,T+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,4,4294967295,0),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4};function q(z,A,T,Q,K){We(A,Q,K,z,T,7);let Y=Number(A&BigInt(4294967295));z[T++]=Y,Y=Y>>8,z[T++]=Y,Y=Y>>8,z[T++]=Y,Y=Y>>8,z[T++]=Y;let ee=Number(A>>BigInt(32)&BigInt(4294967295));return z[T++]=ee,ee=ee>>8,z[T++]=ee,ee=ee>>8,z[T++]=ee,ee=ee>>8,z[T++]=ee,T}function J(z,A,T,Q,K){We(A,Q,K,z,T,7);let Y=Number(A&BigInt(4294967295));z[T+7]=Y,Y=Y>>8,z[T+6]=Y,Y=Y>>8,z[T+5]=Y,Y=Y>>8,z[T+4]=Y;let ee=Number(A>>BigInt(32)&BigInt(4294967295));return z[T+3]=ee,ee=ee>>8,z[T+2]=ee,ee=ee>>8,z[T+1]=ee,ee=ee>>8,z[T]=ee,T+8}a.prototype.writeBigUInt64LE=Se(function(A,T=0){return q(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Se(function(A,T=0){return J(this,A,T,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(A,T,Q,K){if(A=+A,T=T>>>0,!K){const Me=Math.pow(2,8*Q-1);M(this,A,T,Q,Me-1,-Me)}let Y=0,ee=1,ke=0;for(this[T]=A&255;++Y<Q&&(ee*=256);)A<0&&ke===0&&this[T+Y-1]!==0&&(ke=1),this[T+Y]=(A/ee>>0)-ke&255;return T+Q},a.prototype.writeIntBE=function(A,T,Q,K){if(A=+A,T=T>>>0,!K){const Me=Math.pow(2,8*Q-1);M(this,A,T,Q,Me-1,-Me)}let Y=Q-1,ee=1,ke=0;for(this[T+Y]=A&255;--Y>=0&&(ee*=256);)A<0&&ke===0&&this[T+Y+1]!==0&&(ke=1),this[T+Y]=(A/ee>>0)-ke&255;return T+Q},a.prototype.writeInt8=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,1,127,-128),A<0&&(A=255+A+1),this[T]=A&255,T+1},a.prototype.writeInt16LE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,2,32767,-32768),this[T]=A&255,this[T+1]=A>>>8,T+2},a.prototype.writeInt16BE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,2,32767,-32768),this[T]=A>>>8,this[T+1]=A&255,T+2},a.prototype.writeInt32LE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,4,2147483647,-2147483648),this[T]=A&255,this[T+1]=A>>>8,this[T+2]=A>>>16,this[T+3]=A>>>24,T+4},a.prototype.writeInt32BE=function(A,T,Q){return A=+A,T=T>>>0,Q||M(this,A,T,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[T]=A>>>24,this[T+1]=A>>>16,this[T+2]=A>>>8,this[T+3]=A&255,T+4},a.prototype.writeBigInt64LE=Se(function(A,T=0){return q(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Se(function(A,T=0){return J(this,A,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(z,A,T,Q,K,Y){if(T+Q>z.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function de(z,A,T,Q,K){return A=+A,T=T>>>0,K||ie(z,A,T,4),n.write(z,A,T,Q,23,4),T+4}a.prototype.writeFloatLE=function(A,T,Q){return de(this,A,T,!0,Q)},a.prototype.writeFloatBE=function(A,T,Q){return de(this,A,T,!1,Q)};function ve(z,A,T,Q,K){return A=+A,T=T>>>0,K||ie(z,A,T,8),n.write(z,A,T,Q,52,8),T+8}a.prototype.writeDoubleLE=function(A,T,Q){return ve(this,A,T,!0,Q)},a.prototype.writeDoubleBE=function(A,T,Q){return ve(this,A,T,!1,Q)},a.prototype.copy=function(A,T,Q,K){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!K&&K!==0&&(K=this.length),T>=A.length&&(T=A.length),T||(T=0),K>0&&K<Q&&(K=Q),K===Q||A.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),A.length-T<K-Q&&(K=A.length-T+Q);const Y=K-Q;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(T,Q,K):Uint8Array.prototype.set.call(A,this.subarray(Q,K),T),Y},a.prototype.fill=function(A,T,Q,K){if(typeof A=="string"){if(typeof T=="string"?(K=T,T=0,Q=this.length):typeof Q=="string"&&(K=Q,Q=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(A.length===1){const ee=A.charCodeAt(0);(K==="utf8"&&ee<128||K==="latin1")&&(A=ee)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(T<0||this.length<T||this.length<Q)throw new RangeError("Out of range index");if(Q<=T)return this;T=T>>>0,Q=Q===void 0?this.length:Q>>>0,A||(A=0);let Y;if(typeof A=="number")for(Y=T;Y<Q;++Y)this[Y]=A;else{const ee=a.isBuffer(A)?A:a.from(A,K),ke=ee.length;if(ke===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(Y=0;Y<Q-T;++Y)this[Y+T]=ee[Y%ke]}return this};const Pe={};function Ae(z,A,T){Pe[z]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}Ae("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ae("ERR_INVALID_ARG_TYPE",function(z,A){return`The "${z}" argument must be of type number. Received type ${typeof A}`},TypeError),Ae("ERR_OUT_OF_RANGE",function(z,A,T){let Q=`The value of "${z}" is out of range.`,K=T;return Number.isInteger(T)&&Math.abs(T)>2**32?K=st(String(T)):typeof T=="bigint"&&(K=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(K=st(K)),K+="n"),Q+=` It must be ${A}. Received ${K}`,Q},RangeError);function st(z){let A="",T=z.length;const Q=z[0]==="-"?1:0;for(;T>=Q+4;T-=3)A=`_${z.slice(T-3,T)}${A}`;return`${z.slice(0,T)}${A}`}function yt(z,A,T){xt(A,"offset"),(z[A]===void 0||z[A+T]===void 0)&&oe(A,z.length-(T+1))}function We(z,A,T,Q,K,Y){if(z>T||z<A){const ee=typeof A=="bigint"?"n":"";let ke;throw A===0||A===BigInt(0)?ke=`>= 0${ee} and < 2${ee} ** ${(Y+1)*8}${ee}`:ke=`>= -(2${ee} ** ${(Y+1)*8-1}${ee}) and < 2 ** ${(Y+1)*8-1}${ee}`,new Pe.ERR_OUT_OF_RANGE("value",ke,z)}yt(Q,K,Y)}function xt(z,A){if(typeof z!="number")throw new Pe.ERR_INVALID_ARG_TYPE(A,"number",z)}function oe(z,A,T){throw Math.floor(z)!==z?(xt(z,T),new Pe.ERR_OUT_OF_RANGE("offset","an integer",z)):A<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${A}`,z)}const _t=/[^+/0-9A-Za-z-_]/g;function Et(z){if(z=z.split("=")[0],z=z.trim().replace(_t,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function at(z,A){A=A||1/0;let T;const Q=z.length;let K=null;const Y=[];for(let ee=0;ee<Q;++ee){if(T=z.charCodeAt(ee),T>55295&&T<57344){if(!K){if(T>56319){(A-=3)>-1&&Y.push(239,191,189);continue}else if(ee+1===Q){(A-=3)>-1&&Y.push(239,191,189);continue}K=T;continue}if(T<56320){(A-=3)>-1&&Y.push(239,191,189),K=T;continue}T=(K-55296<<10|T-56320)+65536}else K&&(A-=3)>-1&&Y.push(239,191,189);if(K=null,T<128){if((A-=1)<0)break;Y.push(T)}else if(T<2048){if((A-=2)<0)break;Y.push(T>>6|192,T&63|128)}else if(T<65536){if((A-=3)<0)break;Y.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((A-=4)<0)break;Y.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return Y}function qe(z){const A=[];for(let T=0;T<z.length;++T)A.push(z.charCodeAt(T)&255);return A}function kt(z,A){let T,Q,K;const Y=[];for(let ee=0;ee<z.length&&!((A-=2)<0);++ee)T=z.charCodeAt(ee),Q=T>>8,K=T%256,Y.push(K),Y.push(Q);return Y}function Qe(z){return e.toByteArray(Et(z))}function X(z,A,T,Q){let K;for(K=0;K<Q&&!(K+T>=A.length||K>=z.length);++K)A[K+T]=z[K];return K}function V(z,A){return z instanceof A||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===A.name}function le(z){return z!==z}const we=function(){const z="0123456789abcdef",A=new Array(256);for(let T=0;T<16;++T){const Q=T*16;for(let K=0;K<16;++K)A[Q+K]=z[T]+z[K]}return A}();function Se(z){return typeof BigInt>"u"?he:z}function he(){throw new Error("BigInt not supported")}})(x2);var NN={exports:{}},Wn=NN.exports={},cs,us;function Lx(){throw new Error("setTimeout has not been defined")}function Dx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cs=setTimeout:cs=Lx}catch{cs=Lx}try{typeof clearTimeout=="function"?us=clearTimeout:us=Dx}catch{us=Dx}})();function kN(t){if(cs===setTimeout)return setTimeout(t,0);if((cs===Lx||!cs)&&setTimeout)return cs=setTimeout,setTimeout(t,0);try{return cs(t,0)}catch{try{return cs.call(null,t,0)}catch{return cs.call(this,t,0)}}}function oj(t){if(us===clearTimeout)return clearTimeout(t);if((us===Dx||!us)&&clearTimeout)return us=clearTimeout,clearTimeout(t);try{return us(t)}catch{try{return us.call(null,t)}catch{return us.call(this,t)}}}var ta=[],cd=!1,uc,pg=-1;function sj(){!cd||!uc||(cd=!1,uc.length?ta=uc.concat(ta):pg=-1,ta.length&&ON())}function ON(){if(!cd){var t=kN(sj);cd=!0;for(var e=ta.length;e;){for(uc=ta,ta=[];++pg<e;)uc&&uc[pg].run();pg=-1,e=ta.length}uc=null,cd=!1,oj(t)}}Wn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ta.push(new BN(t,e)),ta.length===1&&!cd&&kN(ON)};function BN(t,e){this.fun=t,this.array=e}BN.prototype.run=function(){this.fun.apply(null,this.array)};Wn.title="browser";Wn.browser=!0;Wn.env={};Wn.argv=[];Wn.version="";Wn.versions={};function _a(){}Wn.on=_a;Wn.addListener=_a;Wn.once=_a;Wn.off=_a;Wn.removeListener=_a;Wn.removeAllListeners=_a;Wn.emit=_a;Wn.prependListener=_a;Wn.prependOnceListener=_a;Wn.listeners=function(t){return[]};Wn.binding=function(t){throw new Error("process.binding is not supported")};Wn.cwd=function(){return"/"};Wn.chdir=function(t){throw new Error("process.chdir is not supported")};Wn.umask=function(){return 0};var aj=NN.exports;const lj=em(aj);window.Buffer=x2.Buffer;window.process=lj;typeof window<"u"&&(window.global=window.global||window,!window.URL&&window.webkitURL&&(window.URL=window.webkitURL));window.require=function(t){switch(t){case"stream":return require("stream-browserify");case"crypto":return require("crypto-browserify");case"util":return require("util");case"buffer":return require("buffer");case"process":return require("process/browser");case"zlib":return require("browserify-zlib");case"path":return require("path-browserify");default:throw new Error(`Module ${t} not found`)}};var Ux={},FN={exports:{}},Vi={},LN={exports:{}},DN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,H){var $=N.length;N.push(H);e:for(;0<$;){var F=$-1>>>1,M=N[F];if(0<i(M,H))N[F]=H,N[$]=M,$=F;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var H=N[0],$=N.pop();if($!==H){N[0]=$;e:for(var F=0,M=N.length,q=M>>>1;F<q;){var J=2*(F+1)-1,ie=N[J],de=J+1,ve=N[de];if(0>i(ie,$))de<M&&0>i(ve,ie)?(N[F]=ve,N[de]=$,F=de):(N[F]=ie,N[J]=$,F=J);else if(de<M&&0>i(ve,$))N[F]=ve,N[de]=$,F=de;else break e}}return H}function i(N,H){var $=N.sortIndex-H.sortIndex;return $!==0?$:N.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=N)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function x(N){if(m=!1,b(N),!p)if(n(l)!==null)p=!0,C(R);else{var H=n(c);H!==null&&D(x,H.startTime-N)}}function R(N,H){p=!1,m&&(m=!1,g(I),I=-1),h=!0;var $=f;try{for(b(H),d=n(l);d!==null&&(!(d.expirationTime>H)||N&&!L());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var M=F(d.expirationTime<=H);H=t.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),b(H)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var J=n(c);J!==null&&D(x,J.startTime-H),q=!1}return q}finally{d=null,f=$,h=!1}}var k=!1,_=null,I=-1,S=5,P=-1;function L(){return!(t.unstable_now()-P<S)}function G(){if(_!==null){var N=t.unstable_now();P=N;var H=!0;try{H=_(!0,N)}finally{H?B():(k=!1,_=null)}}else k=!1}var B;if(typeof v=="function")B=function(){v(G)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,E=w.port2;w.port1.onmessage=G,B=function(){E.postMessage(null)}}else B=function(){y(G,0)};function C(N){_=N,k||(k=!0,B())}function D(N,H){I=y(function(){N(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,C(R))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var $=f;f=H;try{return N()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=f;f=N;try{return H()}finally{f=$}},t.unstable_scheduleCallback=function(N,H,$){var F=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,N){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=$+M,N={id:u++,callback:H,priorityLevel:N,startTime:$,expirationTime:M,sortIndex:-1},$>F?(N.sortIndex=$,e(c,N),n(l)===null&&N===n(c)&&(m?(g(I),I=-1):m=!0,D(x,$-F))):(N.sortIndex=M,e(l,N),p||h||(p=!0,C(R))),N},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(N){var H=f;return function(){var $=f;f=H;try{return N.apply(this,arguments)}finally{f=$}}}})(DN);LN.exports=DN;var cj=LN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj=j,Gi=cj;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UN=new Set,Qh={};function ou(t,e){Rd(t,e),Rd(t+"Capture",e)}function Rd(t,e){for(Qh[t]=e,t=0;t<e.length;t++)UN.add(e[t])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zx=Object.prototype.hasOwnProperty,dj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WT={},VT={};function fj(t){return zx.call(VT,t)?!0:zx.call(WT,t)?!1:dj.test(t)?VT[t]=!0:(WT[t]=!0,!1)}function hj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pj(t,e,n,r){if(e===null||typeof e>"u"||hj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var A2=/[\-:]([a-z])/g;function _2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(A2,_2);Ir[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(A2,_2);Ir[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(A2,_2);Ir[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function S2(t,e,n,r){var i=Ir.hasOwnProperty(e)?Ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pj(e,n,i,r)&&(n=null),r||i===null?fj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sa=uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wm=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),$u=Symbol.for("react.fragment"),C2=Symbol.for("react.strict_mode"),jx=Symbol.for("react.profiler"),zN=Symbol.for("react.provider"),jN=Symbol.for("react.context"),T2=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),M2=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),HN=Symbol.for("react.offscreen"),$T=Symbol.iterator;function Df(t){return t===null||typeof t!="object"?null:(t=$T&&t[$T]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,cb;function fh(t){if(cb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cb=e&&e[1]||""}return`
`+cb+t}var ub=!1;function db(t,e){if(!t||ub)return"";ub=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ub=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fh(t):""}function mj(t){switch(t.tag){case 5:return fh(t.type);case 16:return fh("Lazy");case 13:return fh("Suspense");case 19:return fh("SuspenseList");case 0:case 2:case 15:return t=db(t.type,!1),t;case 11:return t=db(t.type.render,!1),t;case 1:return t=db(t.type,!0),t;default:return""}}function Wx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $u:return"Fragment";case Vu:return"Portal";case jx:return"Profiler";case C2:return"StrictMode";case Hx:return"Suspense";case Gx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jN:return(t.displayName||"Context")+".Consumer";case zN:return(t._context.displayName||"Context")+".Provider";case T2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M2:return e=t.displayName||null,e!==null?e:Wx(t.type)||"Memo";case Ya:e=t._payload,t=t._init;try{return Wx(t(e))}catch{}}return null}function gj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wx(e);case 8:return e===C2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _l(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yj(t){var e=GN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vm(t){t._valueTracker||(t._valueTracker=yj(t))}function WN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ey(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vx(t,e){var n=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_l(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VN(t,e){e=e.checked,e!=null&&S2(t,"checked",e,!1)}function $x(t,e){VN(t,e);var n=_l(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qx(t,e.type,n):e.hasOwnProperty("defaultValue")&&qx(t,e.type,_l(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qx(t,e,n){(e!=="number"||ey(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hh=Array.isArray;function ud(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_l(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ze(92));if(hh(n)){if(1<n.length)throw Error(ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_l(n)}}function $N(t,e){var n=_l(e.value),r=_l(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $m,QN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($m=$m||document.createElement("div"),$m.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$m.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vj=["Webkit","ms","Moz","O"];Object.keys(_h).forEach(function(t){vj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_h[e]=_h[t]})});function KN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_h.hasOwnProperty(t)&&_h[t]?(""+e).trim():e+"px"}function XN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wj=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xx(t,e){if(e){if(wj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function Yx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jx=null;function I2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zx=null,dd=null,fd=null;function YT(t){if(t=sm(t)){if(typeof Zx!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=Rv(e),Zx(t.stateNode,t.type,e))}}function YN(t){dd?fd?fd.push(t):fd=[t]:dd=t}function JN(){if(dd){var t=dd,e=fd;if(fd=dd=null,YT(t),e)for(t=0;t<e.length;t++)YT(e[t])}}function ZN(t,e){return t(e)}function ek(){}var fb=!1;function tk(t,e,n){if(fb)return t(e,n);fb=!0;try{return ZN(t,e,n)}finally{fb=!1,(dd!==null||fd!==null)&&(ek(),JN())}}function Xh(t,e){var n=t.stateNode;if(n===null)return null;var r=Rv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var eE=!1;if(pa)try{var Uf={};Object.defineProperty(Uf,"passive",{get:function(){eE=!0}}),window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{eE=!1}function bj(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Sh=!1,ty=null,ny=!1,tE=null,xj={onError:function(t){Sh=!0,ty=t}};function Ej(t,e,n,r,i,o,s,a,l){Sh=!1,ty=null,bj.apply(xj,arguments)}function Aj(t,e,n,r,i,o,s,a,l){if(Ej.apply(this,arguments),Sh){if(Sh){var c=ty;Sh=!1,ty=null}else throw Error(ze(198));ny||(ny=!0,tE=c)}}function su(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JT(t){if(su(t)!==t)throw Error(ze(188))}function _j(t){var e=t.alternate;if(!e){if(e=su(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return JT(i),t;if(o===r)return JT(i),e;o=o.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function rk(t){return t=_j(t),t!==null?ik(t):null}function ik(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ik(t);if(e!==null)return e;t=t.sibling}return null}var ok=Gi.unstable_scheduleCallback,ZT=Gi.unstable_cancelCallback,Sj=Gi.unstable_shouldYield,Cj=Gi.unstable_requestPaint,Hn=Gi.unstable_now,Tj=Gi.unstable_getCurrentPriorityLevel,R2=Gi.unstable_ImmediatePriority,sk=Gi.unstable_UserBlockingPriority,ry=Gi.unstable_NormalPriority,Mj=Gi.unstable_LowPriority,ak=Gi.unstable_IdlePriority,Cv=null,_s=null;function Ij(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(Cv,t,void 0,(t.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:Nj,Rj=Math.log,Pj=Math.LN2;function Nj(t){return t>>>=0,t===0?32:31-(Rj(t)/Pj|0)|0}var qm=64,Qm=4194304;function ph(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ph(a):(o&=s,o!==0&&(r=ph(o)))}else s=n&~i,s!==0?r=ph(s):o!==0&&(r=ph(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wo(e),i=1<<n,r|=t[n],e&=~i;return r}function kj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Wo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function nE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lk(){var t=qm;return qm<<=1,!(qm&4194240)&&(qm=64),t}function hb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function im(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wo(e),t[e]=n}function Bj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function P2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ln=0;function ck(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uk,N2,dk,fk,hk,rE=!1,Km=[],ll=null,cl=null,ul=null,Yh=new Map,Jh=new Map,el=[],Fj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eM(t,e){switch(t){case"focusin":case"focusout":ll=null;break;case"dragenter":case"dragleave":cl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":Yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(e.pointerId)}}function zf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sm(e),e!==null&&N2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lj(t,e,n,r,i){switch(e){case"focusin":return ll=zf(ll,t,e,n,r,i),!0;case"dragenter":return cl=zf(cl,t,e,n,r,i),!0;case"mouseover":return ul=zf(ul,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yh.set(o,zf(Yh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jh.set(o,zf(Jh.get(o)||null,t,e,n,r,i)),!0}return!1}function pk(t){var e=dc(t.target);if(e!==null){var n=su(e);if(n!==null){if(e=n.tag,e===13){if(e=nk(n),e!==null){t.blockedOn=e,hk(t.priority,function(){dk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jx=r,n.target.dispatchEvent(r),Jx=null}else return e=sm(n),e!==null&&N2(e),t.blockedOn=n,!1;e.shift()}return!0}function tM(t,e,n){mg(t)&&n.delete(e)}function Dj(){rE=!1,ll!==null&&mg(ll)&&(ll=null),cl!==null&&mg(cl)&&(cl=null),ul!==null&&mg(ul)&&(ul=null),Yh.forEach(tM),Jh.forEach(tM)}function jf(t,e){t.blockedOn===e&&(t.blockedOn=null,rE||(rE=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,Dj)))}function Zh(t){function e(i){return jf(i,t)}if(0<Km.length){jf(Km[0],t);for(var n=1;n<Km.length;n++){var r=Km[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ll!==null&&jf(ll,t),cl!==null&&jf(cl,t),ul!==null&&jf(ul,t),Yh.forEach(e),Jh.forEach(e),n=0;n<el.length;n++)r=el[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<el.length&&(n=el[0],n.blockedOn===null);)pk(n),n.blockedOn===null&&el.shift()}var hd=Sa.ReactCurrentBatchConfig,oy=!0;function Uj(t,e,n,r){var i=ln,o=hd.transition;hd.transition=null;try{ln=1,k2(t,e,n,r)}finally{ln=i,hd.transition=o}}function zj(t,e,n,r){var i=ln,o=hd.transition;hd.transition=null;try{ln=4,k2(t,e,n,r)}finally{ln=i,hd.transition=o}}function k2(t,e,n,r){if(oy){var i=iE(t,e,n,r);if(i===null)Ab(t,e,r,sy,n),eM(t,r);else if(Lj(i,t,e,n,r))r.stopPropagation();else if(eM(t,r),e&4&&-1<Fj.indexOf(t)){for(;i!==null;){var o=sm(i);if(o!==null&&uk(o),o=iE(t,e,n,r),o===null&&Ab(t,e,r,sy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ab(t,e,r,null,n)}}var sy=null;function iE(t,e,n,r){if(sy=null,t=I2(r),t=dc(t),t!==null)if(e=su(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sy=t,null}function mk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tj()){case R2:return 1;case sk:return 4;case ry:case Mj:return 16;case ak:return 536870912;default:return 16}default:return 16}}var rl=null,O2=null,gg=null;function gk(){if(gg)return gg;var t,e=O2,n=e.length,r,i="value"in rl?rl.value:rl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return gg=i.slice(t,1<r?1-r:void 0)}function yg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xm(){return!0}function nM(){return!1}function $i(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xm:nM,this.isPropagationStopped=nM,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xm)},persist:function(){},isPersistent:Xm}),e}var hf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B2=$i(hf),om=Mn({},hf,{view:0,detail:0}),jj=$i(om),pb,mb,Hf,Tv=Mn({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hf&&(Hf&&t.type==="mousemove"?(pb=t.screenX-Hf.screenX,mb=t.screenY-Hf.screenY):mb=pb=0,Hf=t),pb)},movementY:function(t){return"movementY"in t?t.movementY:mb}}),rM=$i(Tv),Hj=Mn({},Tv,{dataTransfer:0}),Gj=$i(Hj),Wj=Mn({},om,{relatedTarget:0}),gb=$i(Wj),Vj=Mn({},hf,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=$i(Vj),qj=Mn({},hf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qj=$i(qj),Kj=Mn({},hf,{data:0}),iM=$i(Kj),Xj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jj[t])?!!e[t]:!1}function F2(){return Zj}var eH=Mn({},om,{key:function(t){if(t.key){var e=Xj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F2,charCode:function(t){return t.type==="keypress"?yg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tH=$i(eH),nH=Mn({},Tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oM=$i(nH),rH=Mn({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F2}),iH=$i(rH),oH=Mn({},hf,{propertyName:0,elapsedTime:0,pseudoElement:0}),sH=$i(oH),aH=Mn({},Tv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lH=$i(aH),cH=[9,13,27,32],L2=pa&&"CompositionEvent"in window,Ch=null;pa&&"documentMode"in document&&(Ch=document.documentMode);var uH=pa&&"TextEvent"in window&&!Ch,yk=pa&&(!L2||Ch&&8<Ch&&11>=Ch),sM=" ",aM=!1;function vk(t,e){switch(t){case"keyup":return cH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qu=!1;function dH(t,e){switch(t){case"compositionend":return wk(e);case"keypress":return e.which!==32?null:(aM=!0,sM);case"textInput":return t=e.data,t===sM&&aM?null:t;default:return null}}function fH(t,e){if(qu)return t==="compositionend"||!L2&&vk(t,e)?(t=gk(),gg=O2=rl=null,qu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yk&&e.locale!=="ko"?null:e.data;default:return null}}var hH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hH[t.type]:e==="textarea"}function bk(t,e,n,r){YN(r),e=ay(e,"onChange"),0<e.length&&(n=new B2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Th=null,ep=null;function pH(t){Pk(t,0)}function Mv(t){var e=Xu(t);if(WN(e))return t}function mH(t,e){if(t==="change")return e}var xk=!1;if(pa){var yb;if(pa){var vb="oninput"in document;if(!vb){var cM=document.createElement("div");cM.setAttribute("oninput","return;"),vb=typeof cM.oninput=="function"}yb=vb}else yb=!1;xk=yb&&(!document.documentMode||9<document.documentMode)}function uM(){Th&&(Th.detachEvent("onpropertychange",Ek),ep=Th=null)}function Ek(t){if(t.propertyName==="value"&&Mv(ep)){var e=[];bk(e,ep,t,I2(t)),tk(pH,e)}}function gH(t,e,n){t==="focusin"?(uM(),Th=e,ep=n,Th.attachEvent("onpropertychange",Ek)):t==="focusout"&&uM()}function yH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mv(ep)}function vH(t,e){if(t==="click")return Mv(e)}function wH(t,e){if(t==="input"||t==="change")return Mv(e)}function bH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qo=typeof Object.is=="function"?Object.is:bH;function tp(t,e){if(Qo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zx.call(e,i)||!Qo(t[i],e[i]))return!1}return!0}function dM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fM(t,e){var n=dM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dM(n)}}function Ak(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ak(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _k(){for(var t=window,e=ey();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ey(t.document)}return e}function D2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xH(t){var e=_k(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ak(n.ownerDocument.documentElement,n)){if(r!==null&&D2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=fM(n,o);var s=fM(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EH=pa&&"documentMode"in document&&11>=document.documentMode,Qu=null,oE=null,Mh=null,sE=!1;function hM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sE||Qu==null||Qu!==ey(r)||(r=Qu,"selectionStart"in r&&D2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mh&&tp(Mh,r)||(Mh=r,r=ay(oE,"onSelect"),0<r.length&&(e=new B2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qu)))}function Ym(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ku={animationend:Ym("Animation","AnimationEnd"),animationiteration:Ym("Animation","AnimationIteration"),animationstart:Ym("Animation","AnimationStart"),transitionend:Ym("Transition","TransitionEnd")},wb={},Sk={};pa&&(Sk=document.createElement("div").style,"AnimationEvent"in window||(delete Ku.animationend.animation,delete Ku.animationiteration.animation,delete Ku.animationstart.animation),"TransitionEvent"in window||delete Ku.transitionend.transition);function Iv(t){if(wb[t])return wb[t];if(!Ku[t])return t;var e=Ku[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sk)return wb[t]=e[n];return t}var Ck=Iv("animationend"),Tk=Iv("animationiteration"),Mk=Iv("animationstart"),Ik=Iv("transitionend"),Rk=new Map,pM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){Rk.set(t,e),ou(e,[t])}for(var bb=0;bb<pM.length;bb++){var xb=pM[bb],AH=xb.toLowerCase(),_H=xb[0].toUpperCase()+xb.slice(1);kl(AH,"on"+_H)}kl(Ck,"onAnimationEnd");kl(Tk,"onAnimationIteration");kl(Mk,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(Ik,"onTransitionEnd");Rd("onMouseEnter",["mouseout","mouseover"]);Rd("onMouseLeave",["mouseout","mouseover"]);Rd("onPointerEnter",["pointerout","pointerover"]);Rd("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SH=new Set("cancel close invalid load scroll toggle".split(" ").concat(mh));function mM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Aj(r,e,void 0,t),t.currentTarget=null}function Pk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;mM(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;mM(i,a,c),o=l}}}if(ny)throw t=tE,ny=!1,tE=null,t}function yn(t,e){var n=e[dE];n===void 0&&(n=e[dE]=new Set);var r=t+"__bubble";n.has(r)||(Nk(e,t,2,!1),n.add(r))}function Eb(t,e,n){var r=0;e&&(r|=4),Nk(n,t,r,e)}var Jm="_reactListening"+Math.random().toString(36).slice(2);function np(t){if(!t[Jm]){t[Jm]=!0,UN.forEach(function(n){n!=="selectionchange"&&(SH.has(n)||Eb(n,!1,t),Eb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jm]||(e[Jm]=!0,Eb("selectionchange",!1,e))}}function Nk(t,e,n,r){switch(mk(e)){case 1:var i=Uj;break;case 4:i=zj;break;default:i=k2}n=i.bind(null,e,n,t),i=void 0,!eE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ab(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=dc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}tk(function(){var c=o,u=I2(n),d=[];e:{var f=Rk.get(t);if(f!==void 0){var h=B2,p=t;switch(t){case"keypress":if(yg(n)===0)break e;case"keydown":case"keyup":h=tH;break;case"focusin":p="focus",h=gb;break;case"focusout":p="blur",h=gb;break;case"beforeblur":case"afterblur":h=gb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=rM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Gj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=iH;break;case Ck:case Tk:case Mk:h=$j;break;case Ik:h=sH;break;case"scroll":h=jj;break;case"wheel":h=lH;break;case"copy":case"cut":case"paste":h=Qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=oM}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,g!==null&&(x=Xh(v,g),x!=null&&m.push(rp(v,x,b)))),y)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Jx&&(p=n.relatedTarget||n.fromElement)&&(dc(p)||p[ma]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?dc(p):null,p!==null&&(y=su(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=rM,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=oM,x="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?f:Xu(h),b=p==null?f:Xu(p),f=new m(x,v+"leave",h,n,u),f.target=y,f.relatedTarget=b,x=null,dc(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,x=m),y=x,h&&p)t:{for(m=h,g=p,v=0,b=m;b;b=bu(b))v++;for(b=0,x=g;x;x=bu(x))b++;for(;0<v-b;)m=bu(m),v--;for(;0<b-v;)g=bu(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=bu(m),g=bu(g)}m=null}else m=null;h!==null&&gM(d,f,h,m,!1),p!==null&&y!==null&&gM(d,y,p,m,!0)}}e:{if(f=c?Xu(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=mH;else if(lM(f))if(xk)R=wH;else{R=yH;var k=gH}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=vH);if(R&&(R=R(t,c))){bk(d,R,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&qx(f,"number",f.value)}switch(k=c?Xu(c):window,t){case"focusin":(lM(k)||k.contentEditable==="true")&&(Qu=k,oE=c,Mh=null);break;case"focusout":Mh=oE=Qu=null;break;case"mousedown":sE=!0;break;case"contextmenu":case"mouseup":case"dragend":sE=!1,hM(d,n,u);break;case"selectionchange":if(EH)break;case"keydown":case"keyup":hM(d,n,u)}var _;if(L2)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else qu?vk(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(yk&&n.locale!=="ko"&&(qu||I!=="onCompositionStart"?I==="onCompositionEnd"&&qu&&(_=gk()):(rl=u,O2="value"in rl?rl.value:rl.textContent,qu=!0)),k=ay(c,I),0<k.length&&(I=new iM(I,t,null,n,u),d.push({event:I,listeners:k}),_?I.data=_:(_=wk(n),_!==null&&(I.data=_)))),(_=uH?dH(t,n):fH(t,n))&&(c=ay(c,"onBeforeInput"),0<c.length&&(u=new iM("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}Pk(d,e)})}function rp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ay(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xh(t,n),o!=null&&r.unshift(rp(t,o,i)),o=Xh(t,e),o!=null&&r.push(rp(t,o,i))),t=t.return}return r}function bu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gM(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Xh(n,o),l!=null&&s.unshift(rp(n,l,a))):i||(l=Xh(n,o),l!=null&&s.push(rp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var CH=/\r\n?/g,TH=/\u0000|\uFFFD/g;function yM(t){return(typeof t=="string"?t:""+t).replace(CH,`
`).replace(TH,"")}function Zm(t,e,n){if(e=yM(e),yM(t)!==e&&n)throw Error(ze(425))}function ly(){}var aE=null,lE=null;function cE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uE=typeof setTimeout=="function"?setTimeout:void 0,MH=typeof clearTimeout=="function"?clearTimeout:void 0,vM=typeof Promise=="function"?Promise:void 0,IH=typeof queueMicrotask=="function"?queueMicrotask:typeof vM<"u"?function(t){return vM.resolve(null).then(t).catch(RH)}:uE;function RH(t){setTimeout(function(){throw t})}function _b(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zh(e)}function dl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pf=Math.random().toString(36).slice(2),ms="__reactFiber$"+pf,ip="__reactProps$"+pf,ma="__reactContainer$"+pf,dE="__reactEvents$"+pf,PH="__reactListeners$"+pf,NH="__reactHandles$"+pf;function dc(t){var e=t[ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ma]||n[ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wM(t);t!==null;){if(n=t[ms])return n;t=wM(t)}return e}t=n,n=t.parentNode}return null}function sm(t){return t=t[ms]||t[ma],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function Rv(t){return t[ip]||null}var fE=[],Yu=-1;function Ol(t){return{current:t}}function wn(t){0>Yu||(t.current=fE[Yu],fE[Yu]=null,Yu--)}function pn(t,e){Yu++,fE[Yu]=t.current,t.current=e}var Sl={},jr=Ol(Sl),yi=Ol(!1),kc=Sl;function Pd(t,e){var n=t.type.contextTypes;if(!n)return Sl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function cy(){wn(yi),wn(jr)}function bM(t,e,n){if(jr.current!==Sl)throw Error(ze(168));pn(jr,e),pn(yi,n)}function kk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ze(108,gj(t)||"Unknown",i));return Mn({},n,r)}function uy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sl,kc=jr.current,pn(jr,t),pn(yi,yi.current),!0}function xM(t,e,n){var r=t.stateNode;if(!r)throw Error(ze(169));n?(t=kk(t,e,kc),r.__reactInternalMemoizedMergedChildContext=t,wn(yi),wn(jr),pn(jr,t)):wn(yi),pn(yi,n)}var Qs=null,Pv=!1,Sb=!1;function Ok(t){Qs===null?Qs=[t]:Qs.push(t)}function kH(t){Pv=!0,Ok(t)}function Bl(){if(!Sb&&Qs!==null){Sb=!0;var t=0,e=ln;try{var n=Qs;for(ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,Pv=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),ok(R2,Bl),i}finally{ln=e,Sb=!1}}return null}var Ju=[],Zu=0,dy=null,fy=0,oo=[],so=0,Oc=null,na=1,ra="";function Xl(t,e){Ju[Zu++]=fy,Ju[Zu++]=dy,dy=t,fy=e}function Bk(t,e,n){oo[so++]=na,oo[so++]=ra,oo[so++]=Oc,Oc=t;var r=na;t=ra;var i=32-Wo(r)-1;r&=~(1<<i),n+=1;var o=32-Wo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,na=1<<32-Wo(e)+i|n<<i|r,ra=o+t}else na=1<<o|n<<i|r,ra=t}function U2(t){t.return!==null&&(Xl(t,1),Bk(t,1,0))}function z2(t){for(;t===dy;)dy=Ju[--Zu],Ju[Zu]=null,fy=Ju[--Zu],Ju[Zu]=null;for(;t===Oc;)Oc=oo[--so],oo[so]=null,ra=oo[--so],oo[so]=null,na=oo[--so],oo[so]=null}var Hi=null,Ui=null,An=!1,Fo=null;function Fk(t,e){var n=ho(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function EM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hi=t,Ui=dl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oc!==null?{id:na,overflow:ra}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ho(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hi=t,Ui=null,!0):!1;default:return!1}}function hE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pE(t){if(An){var e=Ui;if(e){var n=e;if(!EM(t,e)){if(hE(t))throw Error(ze(418));e=dl(n.nextSibling);var r=Hi;e&&EM(t,e)?Fk(r,n):(t.flags=t.flags&-4097|2,An=!1,Hi=t)}}else{if(hE(t))throw Error(ze(418));t.flags=t.flags&-4097|2,An=!1,Hi=t}}}function AM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hi=t}function e0(t){if(t!==Hi)return!1;if(!An)return AM(t),An=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cE(t.type,t.memoizedProps)),e&&(e=Ui)){if(hE(t))throw Lk(),Error(ze(418));for(;e;)Fk(t,e),e=dl(e.nextSibling)}if(AM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=dl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Hi?dl(t.stateNode.nextSibling):null;return!0}function Lk(){for(var t=Ui;t;)t=dl(t.nextSibling)}function Nd(){Ui=Hi=null,An=!1}function j2(t){Fo===null?Fo=[t]:Fo.push(t)}var OH=Sa.ReactCurrentBatchConfig;function Gf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,t))}return t}function t0(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _M(t){var e=t._init;return e(t._payload)}function Dk(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=ml(g,v),g.index=0,g.sibling=null,g}function o(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,b,x){return v===null||v.tag!==6?(v=Nb(b,g.mode,x),v.return=g,v):(v=i(v,b),v.return=g,v)}function l(g,v,b,x){var R=b.type;return R===$u?u(g,v,b.props.children,x,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ya&&_M(R)===v.type)?(x=i(v,b.props),x.ref=Gf(g,v,b),x.return=g,x):(x=_g(b.type,b.key,b.props,null,g.mode,x),x.ref=Gf(g,v,b),x.return=g,x)}function c(g,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=kb(b,g.mode,x),v.return=g,v):(v=i(v,b.children||[]),v.return=g,v)}function u(g,v,b,x,R){return v===null||v.tag!==7?(v=Tc(b,g.mode,x,R),v.return=g,v):(v=i(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nb(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wm:return b=_g(v.type,v.key,v.props,null,g.mode,b),b.ref=Gf(g,null,v),b.return=g,b;case Vu:return v=kb(v,g.mode,b),v.return=g,v;case Ya:var x=v._init;return d(g,x(v._payload),b)}if(hh(v)||Df(v))return v=Tc(v,g.mode,b,null),v.return=g,v;t0(g,v)}return null}function f(g,v,b,x){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(g,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wm:return b.key===R?l(g,v,b,x):null;case Vu:return b.key===R?c(g,v,b,x):null;case Ya:return R=b._init,f(g,v,R(b._payload),x)}if(hh(b)||Df(b))return R!==null?null:u(g,v,b,x,null);t0(g,b)}return null}function h(g,v,b,x,R){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(b)||null,a(v,g,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wm:return g=g.get(x.key===null?b:x.key)||null,l(v,g,x,R);case Vu:return g=g.get(x.key===null?b:x.key)||null,c(v,g,x,R);case Ya:var k=x._init;return h(g,v,b,k(x._payload),R)}if(hh(x)||Df(x))return g=g.get(b)||null,u(v,g,x,R,null);t0(v,x)}return null}function p(g,v,b,x){for(var R=null,k=null,_=v,I=v=0,S=null;_!==null&&I<b.length;I++){_.index>I?(S=_,_=null):S=_.sibling;var P=f(g,_,b[I],x);if(P===null){_===null&&(_=S);break}t&&_&&P.alternate===null&&e(g,_),v=o(P,v,I),k===null?R=P:k.sibling=P,k=P,_=S}if(I===b.length)return n(g,_),An&&Xl(g,I),R;if(_===null){for(;I<b.length;I++)_=d(g,b[I],x),_!==null&&(v=o(_,v,I),k===null?R=_:k.sibling=_,k=_);return An&&Xl(g,I),R}for(_=r(g,_);I<b.length;I++)S=h(_,g,I,b[I],x),S!==null&&(t&&S.alternate!==null&&_.delete(S.key===null?I:S.key),v=o(S,v,I),k===null?R=S:k.sibling=S,k=S);return t&&_.forEach(function(L){return e(g,L)}),An&&Xl(g,I),R}function m(g,v,b,x){var R=Df(b);if(typeof R!="function")throw Error(ze(150));if(b=R.call(b),b==null)throw Error(ze(151));for(var k=R=null,_=v,I=v=0,S=null,P=b.next();_!==null&&!P.done;I++,P=b.next()){_.index>I?(S=_,_=null):S=_.sibling;var L=f(g,_,P.value,x);if(L===null){_===null&&(_=S);break}t&&_&&L.alternate===null&&e(g,_),v=o(L,v,I),k===null?R=L:k.sibling=L,k=L,_=S}if(P.done)return n(g,_),An&&Xl(g,I),R;if(_===null){for(;!P.done;I++,P=b.next())P=d(g,P.value,x),P!==null&&(v=o(P,v,I),k===null?R=P:k.sibling=P,k=P);return An&&Xl(g,I),R}for(_=r(g,_);!P.done;I++,P=b.next())P=h(_,g,I,P.value,x),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?I:P.key),v=o(P,v,I),k===null?R=P:k.sibling=P,k=P);return t&&_.forEach(function(G){return e(g,G)}),An&&Xl(g,I),R}function y(g,v,b,x){if(typeof b=="object"&&b!==null&&b.type===$u&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wm:e:{for(var R=b.key,k=v;k!==null;){if(k.key===R){if(R=b.type,R===$u){if(k.tag===7){n(g,k.sibling),v=i(k,b.props.children),v.return=g,g=v;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ya&&_M(R)===k.type){n(g,k.sibling),v=i(k,b.props),v.ref=Gf(g,k,b),v.return=g,g=v;break e}n(g,k);break}else e(g,k);k=k.sibling}b.type===$u?(v=Tc(b.props.children,g.mode,x,b.key),v.return=g,g=v):(x=_g(b.type,b.key,b.props,null,g.mode,x),x.ref=Gf(g,v,b),x.return=g,g=x)}return s(g);case Vu:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=i(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=kb(b,g.mode,x),v.return=g,g=v}return s(g);case Ya:return k=b._init,y(g,v,k(b._payload),x)}if(hh(b))return p(g,v,b,x);if(Df(b))return m(g,v,b,x);t0(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,b),v.return=g,g=v):(n(g,v),v=Nb(b,g.mode,x),v.return=g,g=v),s(g)):n(g,v)}return y}var kd=Dk(!0),Uk=Dk(!1),hy=Ol(null),py=null,ed=null,H2=null;function G2(){H2=ed=py=null}function W2(t){var e=hy.current;wn(hy),t._currentValue=e}function mE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pd(t,e){py=t,H2=ed=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function mo(t){var e=t._currentValue;if(H2!==t)if(t={context:t,memoizedValue:e,next:null},ed===null){if(py===null)throw Error(ze(308));ed=t,py.dependencies={lanes:0,firstContext:t}}else ed=ed.next=t;return e}var fc=null;function V2(t){fc===null?fc=[t]:fc.push(t)}function zk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V2(e)):(n.next=i.next,i.next=n),e.interleaved=n,ga(t,r)}function ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ja=!1;function $2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function la(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ga(t,n)}return i=r.interleaved,i===null?(e.next=e,V2(r)):(e.next=i.next,i.next=e),r.interleaved=e,ga(t,n)}function vg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P2(t,n)}}function SM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function my(t,e,n,r){var i=t.updateQueue;Ja=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Mn({},d,f);break e;case 2:Ja=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fc|=s,t.lanes=s,t.memoizedState=d}}function CM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var am={},Ss=Ol(am),op=Ol(am),sp=Ol(am);function hc(t){if(t===am)throw Error(ze(174));return t}function q2(t,e){switch(pn(sp,e),pn(op,t),pn(Ss,am),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kx(e,t)}wn(Ss),pn(Ss,e)}function Od(){wn(Ss),wn(op),wn(sp)}function Hk(t){hc(sp.current);var e=hc(Ss.current),n=Kx(e,t.type);e!==n&&(pn(op,t),pn(Ss,n))}function Q2(t){op.current===t&&(wn(Ss),wn(op))}var _n=Ol(0);function gy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cb=[];function K2(){for(var t=0;t<Cb.length;t++)Cb[t]._workInProgressVersionPrimary=null;Cb.length=0}var wg=Sa.ReactCurrentDispatcher,Tb=Sa.ReactCurrentBatchConfig,Bc=0,Tn=null,rr=null,fr=null,yy=!1,Ih=!1,ap=0,BH=0;function Pr(){throw Error(ze(321))}function X2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qo(t[n],e[n]))return!1;return!0}function Y2(t,e,n,r,i,o){if(Bc=o,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wg.current=t===null||t.memoizedState===null?UH:zH,t=n(r,i),Ih){o=0;do{if(Ih=!1,ap=0,25<=o)throw Error(ze(301));o+=1,fr=rr=null,e.updateQueue=null,wg.current=jH,t=n(r,i)}while(Ih)}if(wg.current=vy,e=rr!==null&&rr.next!==null,Bc=0,fr=rr=Tn=null,yy=!1,e)throw Error(ze(300));return t}function J2(){var t=ap!==0;return ap=0,t}function as(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Tn.memoizedState=fr=t:fr=fr.next=t,fr}function go(){if(rr===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=rr.next;var e=fr===null?Tn.memoizedState:fr.next;if(e!==null)fr=e,rr=t;else{if(t===null)throw Error(ze(310));rr=t,t={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},fr===null?Tn.memoizedState=fr=t:fr=fr.next=t}return fr}function lp(t,e){return typeof e=="function"?e(t):e}function Mb(t){var e=go(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=rr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Bc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Tn.lanes|=u,Fc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Qo(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Tn.lanes|=o,Fc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ib(t){var e=go(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Qo(o,e.memoizedState)||(pi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gk(){}function Wk(t,e){var n=Tn,r=go(),i=e(),o=!Qo(r.memoizedState,i);if(o&&(r.memoizedState=i,pi=!0),r=r.queue,Z2(qk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,cp(9,$k.bind(null,n,r,i,e),void 0,null),gr===null)throw Error(ze(349));Bc&30||Vk(n,e,i)}return i}function Vk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $k(t,e,n,r){e.value=n,e.getSnapshot=r,Qk(e)&&Kk(t)}function qk(t,e,n){return n(function(){Qk(e)&&Kk(t)})}function Qk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qo(t,n)}catch{return!0}}function Kk(t){var e=ga(t,1);e!==null&&Vo(e,t,1,-1)}function TM(t){var e=as();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:t},e.queue=t,t=t.dispatch=DH.bind(null,Tn,t),[e.memoizedState,t]}function cp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xk(){return go().memoizedState}function bg(t,e,n,r){var i=as();Tn.flags|=t,i.memoizedState=cp(1|e,n,void 0,r===void 0?null:r)}function Nv(t,e,n,r){var i=go();r=r===void 0?null:r;var o=void 0;if(rr!==null){var s=rr.memoizedState;if(o=s.destroy,r!==null&&X2(r,s.deps)){i.memoizedState=cp(e,n,o,r);return}}Tn.flags|=t,i.memoizedState=cp(1|e,n,o,r)}function MM(t,e){return bg(8390656,8,t,e)}function Z2(t,e){return Nv(2048,8,t,e)}function Yk(t,e){return Nv(4,2,t,e)}function Jk(t,e){return Nv(4,4,t,e)}function Zk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eO(t,e,n){return n=n!=null?n.concat([t]):null,Nv(4,4,Zk.bind(null,e,t),n)}function eS(){}function tO(t,e){var n=go();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nO(t,e){var n=go();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rO(t,e,n){return Bc&21?(Qo(n,e)||(n=lk(),Tn.lanes|=n,Fc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function FH(t,e){var n=ln;ln=n!==0&&4>n?n:4,t(!0);var r=Tb.transition;Tb.transition={};try{t(!1),e()}finally{ln=n,Tb.transition=r}}function iO(){return go().memoizedState}function LH(t,e,n){var r=pl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oO(t))sO(e,n);else if(n=zk(t,e,n,r),n!==null){var i=Zr();Vo(n,t,r,i),aO(n,e,r)}}function DH(t,e,n){var r=pl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oO(t))sO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qo(a,s)){var l=e.interleaved;l===null?(i.next=i,V2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zk(t,e,i,r),n!==null&&(i=Zr(),Vo(n,t,r,i),aO(n,e,r))}}function oO(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function sO(t,e){Ih=yy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P2(t,n)}}var vy={readContext:mo,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},UH={readContext:mo,useCallback:function(t,e){return as().memoizedState=[t,e===void 0?null:e],t},useContext:mo,useEffect:MM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bg(4194308,4,Zk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bg(4194308,4,t,e)},useInsertionEffect:function(t,e){return bg(4,2,t,e)},useMemo:function(t,e){var n=as();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=as();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LH.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=as();return t={current:t},e.memoizedState=t},useState:TM,useDebugValue:eS,useDeferredValue:function(t){return as().memoizedState=t},useTransition:function(){var t=TM(!1),e=t[0];return t=FH.bind(null,t[1]),as().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=as();if(An){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),gr===null)throw Error(ze(349));Bc&30||Vk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,MM(qk.bind(null,r,o,t),[t]),r.flags|=2048,cp(9,$k.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=as(),e=gr.identifierPrefix;if(An){var n=ra,r=na;n=(r&~(1<<32-Wo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ap++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zH={readContext:mo,useCallback:tO,useContext:mo,useEffect:Z2,useImperativeHandle:eO,useInsertionEffect:Yk,useLayoutEffect:Jk,useMemo:nO,useReducer:Mb,useRef:Xk,useState:function(){return Mb(lp)},useDebugValue:eS,useDeferredValue:function(t){var e=go();return rO(e,rr.memoizedState,t)},useTransition:function(){var t=Mb(lp)[0],e=go().memoizedState;return[t,e]},useMutableSource:Gk,useSyncExternalStore:Wk,useId:iO,unstable_isNewReconciler:!1},jH={readContext:mo,useCallback:tO,useContext:mo,useEffect:Z2,useImperativeHandle:eO,useInsertionEffect:Yk,useLayoutEffect:Jk,useMemo:nO,useReducer:Ib,useRef:Xk,useState:function(){return Ib(lp)},useDebugValue:eS,useDeferredValue:function(t){var e=go();return rr===null?e.memoizedState=t:rO(e,rr.memoizedState,t)},useTransition:function(){var t=Ib(lp)[0],e=go().memoizedState;return[t,e]},useMutableSource:Gk,useSyncExternalStore:Wk,useId:iO,unstable_isNewReconciler:!1};function Io(t,e){if(t&&t.defaultProps){e=Mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kv={isMounted:function(t){return(t=t._reactInternals)?su(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=pl(t),o=la(r,i);o.payload=e,n!=null&&(o.callback=n),e=fl(t,o,i),e!==null&&(Vo(e,t,i,r),vg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=pl(t),o=la(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fl(t,o,i),e!==null&&(Vo(e,t,i,r),vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zr(),r=pl(t),i=la(n,r);i.tag=2,e!=null&&(i.callback=e),e=fl(t,i,r),e!==null&&(Vo(e,t,r,n),vg(e,t,r))}};function IM(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!tp(n,r)||!tp(i,o):!0}function lO(t,e,n){var r=!1,i=Sl,o=e.contextType;return typeof o=="object"&&o!==null?o=mo(o):(i=vi(e)?kc:jr.current,r=e.contextTypes,o=(r=r!=null)?Pd(t,i):Sl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function RM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kv.enqueueReplaceState(e,e.state,null)}function yE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$2(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=mo(o):(o=vi(e)?kc:jr.current,i.context=Pd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gE(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kv.enqueueReplaceState(i,i.state,null),my(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bd(t,e){try{var n="",r=e;do n+=mj(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Rb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HH=typeof WeakMap=="function"?WeakMap:Map;function cO(t,e,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){by||(by=!0,ME=r),vE(t,e)},n}function uO(t,e,n){n=la(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vE(t,e),typeof r!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function PM(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nG.bind(null,t,e,n),e.then(t,t))}function NM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kM(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=la(-1,1),e.tag=2,fl(n,e,1))),n.lanes|=1),t)}var GH=Sa.ReactCurrentOwner,pi=!1;function Gr(t,e,n,r){e.child=t===null?Uk(e,null,n,r):kd(e,t.child,n,r)}function OM(t,e,n,r,i){n=n.render;var o=e.ref;return pd(e,i),r=Y2(t,e,n,r,o,i),n=J2(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ya(t,e,i)):(An&&n&&U2(e),e.flags|=1,Gr(t,e,r,i),e.child)}function BM(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!lS(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dO(t,e,o,r,i)):(t=_g(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:tp,n(s,r)&&t.ref===e.ref)return ya(t,e,i)}return e.flags|=1,t=ml(o,r),t.ref=e.ref,t.return=e,e.child=t}function dO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(tp(o,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,ya(t,e,i)}return wE(t,e,n,r,i)}function fO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(nd,Bi),Bi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(nd,Bi),Bi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pn(nd,Bi),Bi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pn(nd,Bi),Bi|=r;return Gr(t,e,i,n),e.child}function hO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wE(t,e,n,r,i){var o=vi(n)?kc:jr.current;return o=Pd(e,o),pd(e,i),n=Y2(t,e,n,r,o,i),r=J2(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ya(t,e,i)):(An&&r&&U2(e),e.flags|=1,Gr(t,e,n,i),e.child)}function FM(t,e,n,r,i){if(vi(n)){var o=!0;uy(e)}else o=!1;if(pd(e,i),e.stateNode===null)xg(t,e),lO(e,n,r),yE(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=mo(c):(c=vi(n)?kc:jr.current,c=Pd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&RM(e,s,r,c),Ja=!1;var f=e.memoizedState;s.state=f,my(e,r,s,i),l=e.memoizedState,a!==r||f!==l||yi.current||Ja?(typeof u=="function"&&(gE(e,n,u,r),l=e.memoizedState),(a=Ja||IM(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Io(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mo(l):(l=vi(n)?kc:jr.current,l=Pd(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&RM(e,s,r,l),Ja=!1,f=e.memoizedState,s.state=f,my(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||yi.current||Ja?(typeof h=="function"&&(gE(e,n,h,r),p=e.memoizedState),(c=Ja||IM(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bE(t,e,n,r,o,i)}function bE(t,e,n,r,i,o){hO(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xM(e,n,!1),ya(t,e,o);r=e.stateNode,GH.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=kd(e,t.child,null,o),e.child=kd(e,null,a,o)):Gr(t,e,a,o),e.memoizedState=r.state,i&&xM(e,n,!0),e.child}function pO(t){var e=t.stateNode;e.pendingContext?bM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bM(t,e.context,!1),q2(t,e.containerInfo)}function LM(t,e,n,r,i){return Nd(),j2(i),e.flags|=256,Gr(t,e,n,r),e.child}var xE={dehydrated:null,treeContext:null,retryLane:0};function EE(t){return{baseLanes:t,cachePool:null,transitions:null}}function mO(t,e,n){var r=e.pendingProps,i=_n.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(_n,i&1),t===null)return pE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fv(s,r,0,null),t=Tc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=EE(n),e.memoizedState=xE,t):tS(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WH(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ml(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ml(a,o):(o=Tc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?EE(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=xE,r}return o=t.child,t=o.sibling,r=ml(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tS(t,e){return e=Fv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function n0(t,e,n,r){return r!==null&&j2(r),kd(e,t.child,null,n),t=tS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WH(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Rb(Error(ze(422))),n0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fv({mode:"visible",children:r.children},i,0,null),o=Tc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&kd(e,t.child,null,s),e.child.memoizedState=EE(s),e.memoizedState=xE,o);if(!(e.mode&1))return n0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ze(419)),r=Rb(o,r,void 0),n0(t,e,s,r)}if(a=(s&t.childLanes)!==0,pi||a){if(r=gr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ga(t,i),Vo(r,t,i,-1))}return aS(),r=Rb(Error(ze(421))),n0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rG.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ui=dl(i.nextSibling),Hi=e,An=!0,Fo=null,t!==null&&(oo[so++]=na,oo[so++]=ra,oo[so++]=Oc,na=t.id,ra=t.overflow,Oc=e),e=tS(e,r.children),e.flags|=4096,e)}function DM(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mE(t.return,e,n)}function Pb(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gr(t,e,r.children,n),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DM(t,n,e);else if(t.tag===19)DM(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(_n,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pb(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pb(e,!0,n,null,o);break;case"together":Pb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ya(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=ml(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ml(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VH(t,e,n){switch(e.tag){case 3:pO(e),Nd();break;case 5:Hk(e);break;case 1:vi(e.type)&&uy(e);break;case 4:q2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(hy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(_n,_n.current&1),e.flags|=128,null):n&e.child.childLanes?mO(t,e,n):(pn(_n,_n.current&1),t=ya(t,e,n),t!==null?t.sibling:null);pn(_n,_n.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,fO(t,e,n)}return ya(t,e,n)}var yO,AE,vO,wO;yO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};AE=function(){};vO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hc(Ss.current);var o=null;switch(n){case"input":i=Vx(t,i),r=Vx(t,r),o=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),o=[];break;case"textarea":i=Qx(t,i),r=Qx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ly)}Xx(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};wO=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wf(t,e){if(!An)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $H(t,e,n){var r=e.pendingProps;switch(z2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return vi(e.type)&&cy(),Nr(e),null;case 3:return r=e.stateNode,Od(),wn(yi),wn(jr),K2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(e0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fo!==null&&(PE(Fo),Fo=null))),AE(t,e),Nr(e),null;case 5:Q2(e);var i=hc(sp.current);if(n=e.type,t!==null&&e.stateNode!=null)vO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return Nr(e),null}if(t=hc(Ss.current),e0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ms]=e,r[ip]=o,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<mh.length;i++)yn(mh[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":qT(r,o),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},yn("invalid",r);break;case"textarea":KT(r,o),yn("invalid",r)}Xx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zm(r.textContent,a,t),i=["children",""+a]):Qh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&yn("scroll",r)}switch(n){case"input":Vm(r),QT(r,o,!0);break;case"textarea":Vm(r),XT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ly)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ms]=e,t[ip]=r,yO(t,e,!1,!1),e.stateNode=t;e:{switch(s=Yx(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<mh.length;i++)yn(mh[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":qT(t,r),i=Vx(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),yn("invalid",t);break;case"textarea":KT(t,r),i=Qx(t,r),yn("invalid",t);break;default:i=r}Xx(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?XN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kh(t,l):typeof l=="number"&&Kh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yn("scroll",t):l!=null&&S2(t,o,l,s))}switch(n){case"input":Vm(t),QT(t,r,!1);break;case"textarea":Vm(t),XT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_l(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ud(t,!!r.multiple,o,!1):r.defaultValue!=null&&ud(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ly)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)wO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(n=hc(sp.current),hc(Ss.current),e0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ms]=e,(o=r.nodeValue!==n)&&(t=Hi,t!==null))switch(t.tag){case 3:Zm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zm(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ms]=e,e.stateNode=r}return Nr(e),null;case 13:if(wn(_n),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(An&&Ui!==null&&e.mode&1&&!(e.flags&128))Lk(),Nd(),e.flags|=98560,o=!1;else if(o=e0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ze(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ze(317));o[ms]=e}else Nd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),o=!1}else Fo!==null&&(PE(Fo),Fo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_n.current&1?or===0&&(or=3):aS())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return Od(),AE(t,e),t===null&&np(e.stateNode.containerInfo),Nr(e),null;case 10:return W2(e.type._context),Nr(e),null;case 17:return vi(e.type)&&cy(),Nr(e),null;case 19:if(wn(_n),o=e.memoizedState,o===null)return Nr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Wf(o,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=gy(t),s!==null){for(e.flags|=128,Wf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(_n,_n.current&1|2),e.child}t=t.sibling}o.tail!==null&&Hn()>Fd&&(e.flags|=128,r=!0,Wf(o,!1),e.lanes=4194304)}else{if(!r)if(t=gy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!An)return Nr(e),null}else 2*Hn()-o.renderingStartTime>Fd&&n!==1073741824&&(e.flags|=128,r=!0,Wf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Hn(),e.sibling=null,n=_n.current,pn(_n,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return sS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bi&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function qH(t,e){switch(z2(e),e.tag){case 1:return vi(e.type)&&cy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Od(),wn(yi),wn(jr),K2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q2(e),null;case 13:if(wn(_n),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));Nd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wn(_n),null;case 4:return Od(),null;case 10:return W2(e.type._context),null;case 22:case 23:return sS(),null;case 24:return null;default:return null}}var r0=!1,Fr=!1,QH=typeof WeakSet=="function"?WeakSet:Set,mt=null;function td(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(t,e,r)}else n.current=null}function _E(t,e,n){try{n()}catch(r){Nn(t,e,r)}}var UM=!1;function KH(t,e){if(aE=oy,t=_k(),D2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lE={focusedElem:t,selectionRange:n},oy=!1,mt=e;mt!==null;)if(e=mt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,mt=t;else for(;mt!==null;){e=mt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Io(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(x){Nn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,mt=t;break}mt=e.return}return p=UM,UM=!1,p}function Rh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&_E(e,n,o)}i=i.next}while(i!==r)}}function Ov(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function SE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bO(t){var e=t.alternate;e!==null&&(t.alternate=null,bO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ms],delete e[ip],delete e[dE],delete e[PH],delete e[NH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xO(t){return t.tag===5||t.tag===3||t.tag===4}function zM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function CE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ly));else if(r!==4&&(t=t.child,t!==null))for(CE(t,e,n),t=t.sibling;t!==null;)CE(t,e,n),t=t.sibling}function TE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(TE(t,e,n),t=t.sibling;t!==null;)TE(t,e,n),t=t.sibling}var xr=null,Oo=!1;function ka(t,e,n){for(n=n.child;n!==null;)EO(t,e,n),n=n.sibling}function EO(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(Cv,n)}catch{}switch(n.tag){case 5:Fr||td(n,e);case 6:var r=xr,i=Oo;xr=null,ka(t,e,n),xr=r,Oo=i,xr!==null&&(Oo?(t=xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xr.removeChild(n.stateNode));break;case 18:xr!==null&&(Oo?(t=xr,n=n.stateNode,t.nodeType===8?_b(t.parentNode,n):t.nodeType===1&&_b(t,n),Zh(t)):_b(xr,n.stateNode));break;case 4:r=xr,i=Oo,xr=n.stateNode.containerInfo,Oo=!0,ka(t,e,n),xr=r,Oo=i;break;case 0:case 11:case 14:case 15:if(!Fr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&_E(n,e,s),i=i.next}while(i!==r)}ka(t,e,n);break;case 1:if(!Fr&&(td(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nn(n,e,a)}ka(t,e,n);break;case 21:ka(t,e,n);break;case 22:n.mode&1?(Fr=(r=Fr)||n.memoizedState!==null,ka(t,e,n),Fr=r):ka(t,e,n);break;default:ka(t,e,n)}}function jM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QH),e.forEach(function(r){var i=iG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function So(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:xr=a.stateNode,Oo=!1;break e;case 3:xr=a.stateNode.containerInfo,Oo=!0;break e;case 4:xr=a.stateNode.containerInfo,Oo=!0;break e}a=a.return}if(xr===null)throw Error(ze(160));EO(o,s,i),xr=null,Oo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AO(e,t),e=e.sibling}function AO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(So(e,t),ns(t),r&4){try{Rh(3,t,t.return),Ov(3,t)}catch(m){Nn(t,t.return,m)}try{Rh(5,t,t.return)}catch(m){Nn(t,t.return,m)}}break;case 1:So(e,t),ns(t),r&512&&n!==null&&td(n,n.return);break;case 5:if(So(e,t),ns(t),r&512&&n!==null&&td(n,n.return),t.flags&32){var i=t.stateNode;try{Kh(i,"")}catch(m){Nn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&VN(i,o),Yx(a,s);var c=Yx(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?XN(i,d):u==="dangerouslySetInnerHTML"?QN(i,d):u==="children"?Kh(i,d):S2(i,u,d,c)}switch(a){case"input":$x(i,o);break;case"textarea":$N(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ud(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?ud(i,!!o.multiple,o.defaultValue,!0):ud(i,!!o.multiple,o.multiple?[]:"",!1))}i[ip]=o}catch(m){Nn(t,t.return,m)}}break;case 6:if(So(e,t),ns(t),r&4){if(t.stateNode===null)throw Error(ze(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Nn(t,t.return,m)}}break;case 3:if(So(e,t),ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zh(e.containerInfo)}catch(m){Nn(t,t.return,m)}break;case 4:So(e,t),ns(t);break;case 13:So(e,t),ns(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(iS=Hn())),r&4&&jM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Fr=(c=Fr)||u,So(e,t),Fr=c):So(e,t),ns(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(mt=t,u=t.child;u!==null;){for(d=mt=u;mt!==null;){switch(f=mt,h=f.child,f.tag){case 0:case 11:case 14:case 15:Rh(4,f,f.return);break;case 1:td(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Nn(r,n,m)}}break;case 5:td(f,f.return);break;case 22:if(f.memoizedState!==null){GM(d);continue}}h!==null?(h.return=f,mt=h):GM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KN("display",s))}catch(m){Nn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Nn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:So(e,t),ns(t),r&4&&jM(t);break;case 21:break;default:So(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xO(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kh(i,""),r.flags&=-33);var o=zM(t);TE(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=zM(t);CE(t,a,s);break;default:throw Error(ze(161))}}catch(l){Nn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XH(t,e,n){mt=t,_O(t)}function _O(t,e,n){for(var r=(t.mode&1)!==0;mt!==null;){var i=mt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||r0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fr;a=r0;var c=Fr;if(r0=s,(Fr=l)&&!c)for(mt=i;mt!==null;)s=mt,l=s.child,s.tag===22&&s.memoizedState!==null?WM(i):l!==null?(l.return=s,mt=l):WM(i);for(;o!==null;)mt=o,_O(o),o=o.sibling;mt=i,r0=a,Fr=c}HM(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,mt=o):HM(t)}}function HM(t){for(;mt!==null;){var e=mt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fr||Ov(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Io(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&CM(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}CM(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Zh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Fr||e.flags&512&&SE(e)}catch(f){Nn(e,e.return,f)}}if(e===t){mt=null;break}if(n=e.sibling,n!==null){n.return=e.return,mt=n;break}mt=e.return}}function GM(t){for(;mt!==null;){var e=mt;if(e===t){mt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,mt=n;break}mt=e.return}}function WM(t){for(;mt!==null;){var e=mt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ov(4,e)}catch(l){Nn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nn(e,i,l)}}var o=e.return;try{SE(e)}catch(l){Nn(e,o,l)}break;case 5:var s=e.return;try{SE(e)}catch(l){Nn(e,s,l)}}}catch(l){Nn(e,e.return,l)}if(e===t){mt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,mt=a;break}mt=e.return}}var YH=Math.ceil,wy=Sa.ReactCurrentDispatcher,nS=Sa.ReactCurrentOwner,po=Sa.ReactCurrentBatchConfig,Kt=0,gr=null,Kn=null,Mr=0,Bi=0,nd=Ol(0),or=0,up=null,Fc=0,Bv=0,rS=0,Ph=null,di=null,iS=0,Fd=1/0,Ws=null,by=!1,ME=null,hl=null,i0=!1,il=null,xy=0,Nh=0,IE=null,Eg=-1,Ag=0;function Zr(){return Kt&6?Hn():Eg!==-1?Eg:Eg=Hn()}function pl(t){return t.mode&1?Kt&2&&Mr!==0?Mr&-Mr:OH.transition!==null?(Ag===0&&(Ag=lk()),Ag):(t=ln,t!==0||(t=window.event,t=t===void 0?16:mk(t.type)),t):1}function Vo(t,e,n,r){if(50<Nh)throw Nh=0,IE=null,Error(ze(185));im(t,n,r),(!(Kt&2)||t!==gr)&&(t===gr&&(!(Kt&2)&&(Bv|=n),or===4&&tl(t,Mr)),wi(t,r),n===1&&Kt===0&&!(e.mode&1)&&(Fd=Hn()+500,Pv&&Bl()))}function wi(t,e){var n=t.callbackNode;Oj(t,e);var r=iy(t,t===gr?Mr:0);if(r===0)n!==null&&ZT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ZT(n),e===1)t.tag===0?kH(VM.bind(null,t)):Ok(VM.bind(null,t)),IH(function(){!(Kt&6)&&Bl()}),n=null;else{switch(ck(r)){case 1:n=R2;break;case 4:n=sk;break;case 16:n=ry;break;case 536870912:n=ak;break;default:n=ry}n=NO(n,SO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SO(t,e){if(Eg=-1,Ag=0,Kt&6)throw Error(ze(327));var n=t.callbackNode;if(md()&&t.callbackNode!==n)return null;var r=iy(t,t===gr?Mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ey(t,r);else{e=r;var i=Kt;Kt|=2;var o=TO();(gr!==t||Mr!==e)&&(Ws=null,Fd=Hn()+500,Cc(t,e));do try{eG();break}catch(a){CO(t,a)}while(!0);G2(),wy.current=o,Kt=i,Kn!==null?e=0:(gr=null,Mr=0,e=or)}if(e!==0){if(e===2&&(i=nE(t),i!==0&&(r=i,e=RE(t,i))),e===1)throw n=up,Cc(t,0),tl(t,r),wi(t,Hn()),n;if(e===6)tl(t,r);else{if(i=t.current.alternate,!(r&30)&&!JH(i)&&(e=Ey(t,r),e===2&&(o=nE(t),o!==0&&(r=o,e=RE(t,o))),e===1))throw n=up,Cc(t,0),tl(t,r),wi(t,Hn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ze(345));case 2:Yl(t,di,Ws);break;case 3:if(tl(t,r),(r&130023424)===r&&(e=iS+500-Hn(),10<e)){if(iy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uE(Yl.bind(null,t,di,Ws),e);break}Yl(t,di,Ws);break;case 4:if(tl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Wo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YH(r/1960))-r,10<r){t.timeoutHandle=uE(Yl.bind(null,t,di,Ws),r);break}Yl(t,di,Ws);break;case 5:Yl(t,di,Ws);break;default:throw Error(ze(329))}}}return wi(t,Hn()),t.callbackNode===n?SO.bind(null,t):null}function RE(t,e){var n=Ph;return t.current.memoizedState.isDehydrated&&(Cc(t,e).flags|=256),t=Ey(t,e),t!==2&&(e=di,di=n,e!==null&&PE(e)),t}function PE(t){di===null?di=t:di.push.apply(di,t)}function JH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tl(t,e){for(e&=~rS,e&=~Bv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wo(e),r=1<<n;t[n]=-1,e&=~r}}function VM(t){if(Kt&6)throw Error(ze(327));md();var e=iy(t,0);if(!(e&1))return wi(t,Hn()),null;var n=Ey(t,e);if(t.tag!==0&&n===2){var r=nE(t);r!==0&&(e=r,n=RE(t,r))}if(n===1)throw n=up,Cc(t,0),tl(t,e),wi(t,Hn()),n;if(n===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yl(t,di,Ws),wi(t,Hn()),null}function oS(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(Fd=Hn()+500,Pv&&Bl())}}function Lc(t){il!==null&&il.tag===0&&!(Kt&6)&&md();var e=Kt;Kt|=1;var n=po.transition,r=ln;try{if(po.transition=null,ln=1,t)return t()}finally{ln=r,po.transition=n,Kt=e,!(Kt&6)&&Bl()}}function sS(){Bi=nd.current,wn(nd)}function Cc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MH(n)),Kn!==null)for(n=Kn.return;n!==null;){var r=n;switch(z2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cy();break;case 3:Od(),wn(yi),wn(jr),K2();break;case 5:Q2(r);break;case 4:Od();break;case 13:wn(_n);break;case 19:wn(_n);break;case 10:W2(r.type._context);break;case 22:case 23:sS()}n=n.return}if(gr=t,Kn=t=ml(t.current,null),Mr=Bi=e,or=0,up=null,rS=Bv=Fc=0,di=Ph=null,fc!==null){for(e=0;e<fc.length;e++)if(n=fc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fc=null}return t}function CO(t,e){do{var n=Kn;try{if(G2(),wg.current=vy,yy){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yy=!1}if(Bc=0,fr=rr=Tn=null,Ih=!1,ap=0,nS.current=null,n===null||n.return===null){or=1,up=e,Kn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=NM(s);if(h!==null){h.flags&=-257,kM(h,s,a,o,e),h.mode&1&&PM(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){PM(o,c,e),aS();break e}l=Error(ze(426))}}else if(An&&a.mode&1){var y=NM(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),kM(y,s,a,o,e),j2(Bd(l,a));break e}}o=l=Bd(l,a),or!==4&&(or=2),Ph===null?Ph=[o]:Ph.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=cO(o,l,e);SM(o,g);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hl===null||!hl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=uO(o,a,e);SM(o,x);break e}}o=o.return}while(o!==null)}IO(n)}catch(R){e=R,Kn===n&&n!==null&&(Kn=n=n.return);continue}break}while(!0)}function TO(){var t=wy.current;return wy.current=vy,t===null?vy:t}function aS(){(or===0||or===3||or===2)&&(or=4),gr===null||!(Fc&268435455)&&!(Bv&268435455)||tl(gr,Mr)}function Ey(t,e){var n=Kt;Kt|=2;var r=TO();(gr!==t||Mr!==e)&&(Ws=null,Cc(t,e));do try{ZH();break}catch(i){CO(t,i)}while(!0);if(G2(),Kt=n,wy.current=r,Kn!==null)throw Error(ze(261));return gr=null,Mr=0,or}function ZH(){for(;Kn!==null;)MO(Kn)}function eG(){for(;Kn!==null&&!Sj();)MO(Kn)}function MO(t){var e=PO(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?IO(t):Kn=e,nS.current=null}function IO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qH(n,e),n!==null){n.flags&=32767,Kn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{or=6,Kn=null;return}}else if(n=$H(n,e,Bi),n!==null){Kn=n;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);or===0&&(or=5)}function Yl(t,e,n){var r=ln,i=po.transition;try{po.transition=null,ln=1,tG(t,e,n,r)}finally{po.transition=i,ln=r}return null}function tG(t,e,n,r){do md();while(il!==null);if(Kt&6)throw Error(ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bj(t,o),t===gr&&(Kn=gr=null,Mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||i0||(i0=!0,NO(ry,function(){return md(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=po.transition,po.transition=null;var s=ln;ln=1;var a=Kt;Kt|=4,nS.current=null,KH(t,n),AO(n,t),xH(lE),oy=!!aE,lE=aE=null,t.current=n,XH(n),Cj(),Kt=a,ln=s,po.transition=o}else t.current=n;if(i0&&(i0=!1,il=t,xy=i),o=t.pendingLanes,o===0&&(hl=null),Ij(n.stateNode),wi(t,Hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(by)throw by=!1,t=ME,ME=null,t;return xy&1&&t.tag!==0&&md(),o=t.pendingLanes,o&1?t===IE?Nh++:(Nh=0,IE=t):Nh=0,Bl(),null}function md(){if(il!==null){var t=ck(xy),e=po.transition,n=ln;try{if(po.transition=null,ln=16>t?16:t,il===null)var r=!1;else{if(t=il,il=null,xy=0,Kt&6)throw Error(ze(331));var i=Kt;for(Kt|=4,mt=t.current;mt!==null;){var o=mt,s=o.child;if(mt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(mt=c;mt!==null;){var u=mt;switch(u.tag){case 0:case 11:case 15:Rh(8,u,o)}var d=u.child;if(d!==null)d.return=u,mt=d;else for(;mt!==null;){u=mt;var f=u.sibling,h=u.return;if(bO(u),u===c){mt=null;break}if(f!==null){f.return=h,mt=f;break}mt=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}mt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,mt=s;else e:for(;mt!==null;){if(o=mt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rh(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,mt=g;break e}mt=o.return}}var v=t.current;for(mt=v;mt!==null;){s=mt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,mt=b;else e:for(s=v;mt!==null;){if(a=mt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ov(9,a)}}catch(R){Nn(a,a.return,R)}if(a===s){mt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,mt=x;break e}mt=a.return}}if(Kt=i,Bl(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(Cv,t)}catch{}r=!0}return r}finally{ln=n,po.transition=e}}return!1}function $M(t,e,n){e=Bd(n,e),e=cO(t,e,1),t=fl(t,e,1),e=Zr(),t!==null&&(im(t,1,e),wi(t,e))}function Nn(t,e,n){if(t.tag===3)$M(t,t,n);else for(;e!==null;){if(e.tag===3){$M(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hl===null||!hl.has(r))){t=Bd(n,t),t=uO(e,t,1),e=fl(e,t,1),t=Zr(),e!==null&&(im(e,1,t),wi(e,t));break}}e=e.return}}function nG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zr(),t.pingedLanes|=t.suspendedLanes&n,gr===t&&(Mr&n)===n&&(or===4||or===3&&(Mr&130023424)===Mr&&500>Hn()-iS?Cc(t,0):rS|=n),wi(t,e)}function RO(t,e){e===0&&(t.mode&1?(e=Qm,Qm<<=1,!(Qm&130023424)&&(Qm=4194304)):e=1);var n=Zr();t=ga(t,e),t!==null&&(im(t,e,n),wi(t,n))}function rG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RO(t,n)}function iG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(e),RO(t,n)}var PO;PO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,VH(t,e,n);pi=!!(t.flags&131072)}else pi=!1,An&&e.flags&1048576&&Bk(e,fy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xg(t,e),t=e.pendingProps;var i=Pd(e,jr.current);pd(e,n),i=Y2(null,e,r,t,i,n);var o=J2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(o=!0,uy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$2(e),i.updater=kv,e.stateNode=i,i._reactInternals=e,yE(e,r,t,n),e=bE(null,e,r,!0,o,n)):(e.tag=0,An&&o&&U2(e),Gr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sG(r),t=Io(r,t),i){case 0:e=wE(null,e,r,t,n);break e;case 1:e=FM(null,e,r,t,n);break e;case 11:e=OM(null,e,r,t,n);break e;case 14:e=BM(null,e,r,Io(r.type,t),n);break e}throw Error(ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Io(r,i),wE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Io(r,i),FM(t,e,r,i,n);case 3:e:{if(pO(e),t===null)throw Error(ze(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jk(t,e),my(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bd(Error(ze(423)),e),e=LM(t,e,r,n,i);break e}else if(r!==i){i=Bd(Error(ze(424)),e),e=LM(t,e,r,n,i);break e}else for(Ui=dl(e.stateNode.containerInfo.firstChild),Hi=e,An=!0,Fo=null,n=Uk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nd(),r===i){e=ya(t,e,n);break e}Gr(t,e,r,n)}e=e.child}return e;case 5:return Hk(e),t===null&&pE(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,cE(r,i)?s=null:o!==null&&cE(r,o)&&(e.flags|=32),hO(t,e),Gr(t,e,s,n),e.child;case 6:return t===null&&pE(e),null;case 13:return mO(t,e,n);case 4:return q2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kd(e,null,r,n):Gr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Io(r,i),OM(t,e,r,i,n);case 7:return Gr(t,e,e.pendingProps,n),e.child;case 8:return Gr(t,e,e.pendingProps.children,n),e.child;case 12:return Gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pn(hy,r._currentValue),r._currentValue=s,o!==null)if(Qo(o.value,s)){if(o.children===i.children&&!yi.current){e=ya(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=la(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mE(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ze(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mE(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pd(e,n),i=mo(i),r=r(i),e.flags|=1,Gr(t,e,r,n),e.child;case 14:return r=e.type,i=Io(r,e.pendingProps),i=Io(r.type,i),BM(t,e,r,i,n);case 15:return dO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Io(r,i),xg(t,e),e.tag=1,vi(r)?(t=!0,uy(e)):t=!1,pd(e,n),lO(e,r,i),yE(e,r,i,n),bE(null,e,r,!0,t,n);case 19:return gO(t,e,n);case 22:return fO(t,e,n)}throw Error(ze(156,e.tag))};function NO(t,e){return ok(t,e)}function oG(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,n,r){return new oG(t,e,n,r)}function lS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sG(t){if(typeof t=="function")return lS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T2)return 11;if(t===M2)return 14}return 2}function ml(t,e){var n=t.alternate;return n===null?(n=ho(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _g(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")lS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case $u:return Tc(n.children,i,o,e);case C2:s=8,i|=8;break;case jx:return t=ho(12,n,e,i|2),t.elementType=jx,t.lanes=o,t;case Hx:return t=ho(13,n,e,i),t.elementType=Hx,t.lanes=o,t;case Gx:return t=ho(19,n,e,i),t.elementType=Gx,t.lanes=o,t;case HN:return Fv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zN:s=10;break e;case jN:s=9;break e;case T2:s=11;break e;case M2:s=14;break e;case Ya:s=16,r=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=ho(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Tc(t,e,n,r){return t=ho(7,t,r,e),t.lanes=n,t}function Fv(t,e,n,r){return t=ho(22,t,r,e),t.elementType=HN,t.lanes=n,t.stateNode={isHidden:!1},t}function Nb(t,e,n){return t=ho(6,t,null,e),t.lanes=n,t}function kb(t,e,n){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hb(0),this.expirationTimes=hb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cS(t,e,n,r,i,o,s,a,l){return t=new aG(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ho(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$2(o),t}function lG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kO(t){if(!t)return Sl;t=t._reactInternals;e:{if(su(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var n=t.type;if(vi(n))return kk(t,n,e)}return e}function OO(t,e,n,r,i,o,s,a,l){return t=cS(n,r,!0,t,i,o,s,a,l),t.context=kO(null),n=t.current,r=Zr(),i=pl(n),o=la(r,i),o.callback=e??null,fl(n,o,i),t.current.lanes=i,im(t,i,r),wi(t,r),t}function Lv(t,e,n,r){var i=e.current,o=Zr(),s=pl(i);return n=kO(n),e.context===null?e.context=n:e.pendingContext=n,e=la(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fl(i,e,s),t!==null&&(Vo(t,i,s,o),vg(t,i,s)),s}function Ay(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uS(t,e){qM(t,e),(t=t.alternate)&&qM(t,e)}function cG(){return null}var BO=typeof reportError=="function"?reportError:function(t){console.error(t)};function dS(t){this._internalRoot=t}Dv.prototype.render=dS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));Lv(t,e,null,null)};Dv.prototype.unmount=dS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lc(function(){Lv(null,t,null,null)}),e[ma]=null}};function Dv(t){this._internalRoot=t}Dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=fk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<el.length&&e!==0&&e<el[n].priority;n++);el.splice(n,0,t),n===0&&pk(t)}};function fS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QM(){}function uG(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ay(s);o.call(c)}}var s=OO(e,r,t,0,null,!1,!1,"",QM);return t._reactRootContainer=s,t[ma]=s.current,np(t.nodeType===8?t.parentNode:t),Lc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ay(l);a.call(c)}}var l=cS(t,0,!1,null,null,!1,!1,"",QM);return t._reactRootContainer=l,t[ma]=l.current,np(t.nodeType===8?t.parentNode:t),Lc(function(){Lv(e,l,n,r)}),l}function zv(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ay(s);a.call(l)}}Lv(e,s,t,i)}else s=uG(n,e,t,i,r);return Ay(s)}uk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ph(e.pendingLanes);n!==0&&(P2(e,n|1),wi(e,Hn()),!(Kt&6)&&(Fd=Hn()+500,Bl()))}break;case 13:Lc(function(){var r=ga(t,1);if(r!==null){var i=Zr();Vo(r,t,1,i)}}),uS(t,1)}};N2=function(t){if(t.tag===13){var e=ga(t,134217728);if(e!==null){var n=Zr();Vo(e,t,134217728,n)}uS(t,134217728)}};dk=function(t){if(t.tag===13){var e=pl(t),n=ga(t,e);if(n!==null){var r=Zr();Vo(n,t,e,r)}uS(t,e)}};fk=function(){return ln};hk=function(t,e){var n=ln;try{return ln=t,e()}finally{ln=n}};Zx=function(t,e,n){switch(e){case"input":if($x(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rv(r);if(!i)throw Error(ze(90));WN(r),$x(r,i)}}}break;case"textarea":$N(t,n);break;case"select":e=n.value,e!=null&&ud(t,!!n.multiple,e,!1)}};ZN=oS;ek=Lc;var dG={usingClientEntryPoint:!1,Events:[sm,Xu,Rv,YN,JN,oS]},Vf={findFiberByHostInstance:dc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fG={bundleType:Vf.bundleType,version:Vf.version,rendererPackageName:Vf.rendererPackageName,rendererConfig:Vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rk(t),t===null?null:t.stateNode},findFiberByHostInstance:Vf.findFiberByHostInstance||cG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o0.isDisabled&&o0.supportsFiber)try{Cv=o0.inject(fG),_s=o0}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dG;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fS(e))throw Error(ze(200));return lG(t,e,null,n)};Vi.createRoot=function(t,e){if(!fS(t))throw Error(ze(299));var n=!1,r="",i=BO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cS(t,1,!1,null,null,n,!1,r,i),t[ma]=e.current,np(t.nodeType===8?t.parentNode:t),new dS(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=rk(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return Lc(t)};Vi.hydrate=function(t,e,n){if(!Uv(e))throw Error(ze(200));return zv(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!fS(t))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=BO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=OO(e,null,t,1,n??null,i,!1,o,s),t[ma]=e.current,np(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dv(e)};Vi.render=function(t,e,n){if(!Uv(e))throw Error(ze(200));return zv(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!Uv(t))throw Error(ze(40));return t._reactRootContainer?(Lc(function(){zv(null,null,t,!1,function(){t._reactRootContainer=null,t[ma]=null})}),!0):!1};Vi.unstable_batchedUpdates=oS;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uv(n))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return zv(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function FO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FO)}catch(t){console.error(t)}}FO(),FN.exports=Vi;var jv=FN.exports;const LO=em(jv),hG=eN({__proto__:null,default:LO},[jv]);var KM=jv;Ux.createRoot=KM.createRoot,Ux.hydrateRoot=KM.hydrateRoot;const DO="2.31.2";let Ob={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${DO}`},Ie=class NE extends Error{constructor(e,n={}){const r=n.cause instanceof NE?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof NE&&n.cause.docsPath||n.docsPath,o=Ob.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Ob.version?[`Version: ${Ob.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=DO}walk(e){return UO(this,e)}};function UO(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?UO(t.cause,e):e?null:t}let zO=class extends Ie{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class pG extends Ie{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class mG extends Ie{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let gG=class extends Ie{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},jO=class extends Ie{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},HO=class extends Ie{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class XM extends Ie{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function mf(t,{dir:e,size:n=32}={}){return typeof t=="string"?gl(t,{dir:e,size:n}):yG(t,{dir:e,size:n})}function gl(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new HO({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function yG(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new HO({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}function Ms(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Cn(t){return Ms(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function bi(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const vG=new TextEncoder;function gf(t,e={}){return typeof t=="number"||typeof t=="bigint"?bG(t,e):typeof t=="boolean"?wG(t,e):Ms(t)?yo(t,e):Mc(t,e)}function wG(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Eo(n,{size:e.size}),mf(n,{size:e.size})):n}const Os={zero:48,nine:57,A:65,F:70,a:97,f:102};function YM(t){if(t>=Os.zero&&t<=Os.nine)return t-Os.zero;if(t>=Os.A&&t<=Os.F)return t-(Os.A-10);if(t>=Os.a&&t<=Os.f)return t-(Os.a-10)}function yo(t,e={}){let n=t;e.size&&(Eo(n,{size:e.size}),n=mf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=YM(r.charCodeAt(a++)),c=YM(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new Ie(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function bG(t,e){const n=De(t,e);return yo(n)}function Mc(t,e={}){const n=vG.encode(t);return typeof e.size=="number"?(Eo(n,{size:e.size}),mf(n,{dir:"right",size:e.size})):n}function Eo(t,{size:e}){if(Cn(t)>e)throw new gG({givenSize:Cn(t),maxSize:e})}function pr(t,e={}){const{signed:n}=e;e.size&&Eo(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function xG(t,e={}){let n=t;if(e.size&&(Eo(n,{size:e.size}),n=bi(n)),bi(n)==="0x00")return!1;if(bi(n)==="0x01")return!0;throw new mG(n)}function vo(t,e={}){return Number(pr(t,e))}function EG(t,e={}){let n=yo(t);return e.size&&(Eo(n,{size:e.size}),n=bi(n,{dir:"right"})),new TextDecoder().decode(n)}const AG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ei(t,e={}){return typeof t=="number"||typeof t=="bigint"?De(t,e):typeof t=="string"?Ld(t,e):typeof t=="boolean"?GO(t,e):Jn(t,e)}function GO(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Eo(n,{size:e.size}),mf(n,{size:e.size})):n}function Jn(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=AG[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Eo(r,{size:e.size}),mf(r,{dir:"right",size:e.size})):r}function De(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new zO({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?mf(a,{size:r}):a}const _G=new TextEncoder;function Ld(t,e={}){const n=_G.encode(t);return Jn(n,e)}async function SG(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:De(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function Ko(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new DG(t.type);return`${t.name}(${Hv(t.inputs,{includeName:e})})`}function Hv(t,{includeName:e=!1}={}){return t?t.map(n=>CG(n,{includeName:e})).join(e?", ":","):""}function CG(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Hv(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class TG extends Ie{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class JM extends Ie{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class WO extends Ie{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Hv(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class lm extends Ie{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class MG extends Ie{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class IG extends Ie{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Cn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class RG extends Ie{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class PG extends Ie{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ZM extends Ie{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class VO extends Ie{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class NG extends Ie{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class $O extends Ie{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class e3 extends Ie{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Dd extends Ie{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class qO extends Ie{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class kG extends Ie{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class OG extends Ie{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ko(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Ko(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let BG=class extends Ie{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class dp extends Ie{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Hv(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class Gv extends Ie{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ko(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class FG extends Ie{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class LG extends Ie{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let QO=class extends Ie{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class DG extends Ie{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Is(t){return typeof t[0]=="string"?Yo(t):UG(t)}function UG(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Yo(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let ri=class extends Ie{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Wv=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const s0=BigInt(2**32-1),t3=BigInt(32);function zG(t,e=!1){return e?{h:Number(t&s0),l:Number(t>>t3&s0)}:{h:Number(t>>t3&s0)|0,l:Number(t&s0)|0}}function jG(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=zG(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const HG=(t,e,n)=>t<<n|e>>>32-n,GG=(t,e,n)=>e<<n|t>>>32-n,WG=(t,e,n)=>e<<n-32|t>>>64-n,VG=(t,e,n)=>t<<n-32|e>>>64-n,xu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xo(t,...e){if(!hS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $G(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");fp(t.outputLen),fp(t.blockLen)}function Ud(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KO(t,e){Xo(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function qG(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function zd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Bb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rs(t,e){return t<<32-e|t>>>e}const QG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function KG(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function XG(t){for(let e=0;e<t.length;e++)t[e]=KG(t[e]);return t}const n3=QG?t=>t:XG,XO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",YG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hp(t){if(Xo(t),XO)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=YG[t[n]];return e}const Bs={_0:48,_9:57,A:65,F:70,a:97,f:102};function r3(t){if(t>=Bs._0&&t<=Bs._9)return t-Bs._0;if(t>=Bs.A&&t<=Bs.F)return t-(Bs.A-10);if(t>=Bs.a&&t<=Bs.f)return t-(Bs.a-10)}function pS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(XO)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=r3(t.charCodeAt(o)),a=r3(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function JG(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function cm(t){return typeof t=="string"&&(t=JG(t)),Xo(t),t}function pc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Xo(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let mS=class{};function YO(t){const e=r=>t().update(cm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ZG(t){const e=(r,i)=>t(i).update(cm(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function eW(t=32){if(xu&&typeof xu.getRandomValues=="function")return xu.getRandomValues(new Uint8Array(t));if(xu&&typeof xu.randomBytes=="function")return Uint8Array.from(xu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const tW=BigInt(0),$f=BigInt(1),nW=BigInt(2),rW=BigInt(7),iW=BigInt(256),oW=BigInt(113),JO=[],ZO=[],eB=[];for(let t=0,e=$f,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],JO.push(2*(5*r+n)),ZO.push((t+1)*(t+2)/2%64);let i=tW;for(let o=0;o<7;o++)e=(e<<$f^(e>>rW)*oW)%iW,e&nW&&(i^=$f<<($f<<BigInt(o))-$f);eB.push(i)}const tB=jG(eB,!0),sW=tB[0],aW=tB[1],i3=(t,e,n)=>n>32?WG(t,e,n):HG(t,e,n),o3=(t,e,n)=>n>32?VG(t,e,n):GG(t,e,n);function nB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=i3(c,u,1)^n[a],f=o3(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=ZO[s],l=i3(i,o,a),c=o3(i,o,a),u=JO[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=sW[r],t[1]^=aW[r]}zd(n)}let gS=class rB extends mS{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,fp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=qG(this.state)}clone(){return this._cloneInto()}keccak(){n3(this.state32),nB(this.state32,this.rounds),n3(this.state32),this.posOut=0,this.pos=0}update(e){Ud(this),e=cm(e),Xo(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ud(this,!1),Xo(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,zd(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new rB(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Fl=(t,e,n)=>YO(()=>new gS(e,t,n)),lW=Fl(6,144,224/8),cW=Fl(6,136,256/8),uW=Fl(6,104,384/8),dW=Fl(6,72,512/8),fW=Fl(1,144,224/8),yS=Fl(1,136,256/8),hW=Fl(1,104,384/8),pW=Fl(1,72,512/8),iB=(t,e,n)=>ZG((r={})=>new gS(e,t,r.dkLen===void 0?n:r.dkLen,!0)),mW=iB(31,168,128/8),gW=iB(31,136,256/8),W1e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:gS,keccakP:nB,keccak_224:fW,keccak_256:yS,keccak_384:hW,keccak_512:pW,sha3_224:lW,sha3_256:cW,sha3_384:uW,sha3_512:dW,shake128:mW,shake256:gW},Symbol.toStringTag,{value:"Module"}));function Cr(t,e){const n=e||"hex",r=yS(Ms(t,{strict:!1})?gf(t):t);return n==="bytes"?r:ei(r)}const Fb=new Wv(8192);function um(t,e){if(Fb.has(`${t}.${e}`))return Fb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Cr(Mc(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Fb.set(`${t}.${e}`,o),o}function Tr(t,e){if(!Zn(t,{strict:!1}))throw new ri({address:t});return um(t,e)}const yW=/^0x[a-fA-F0-9]{40}$/,Lb=new Wv(8192);function Zn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Lb.has(r))return Lb.get(r);const i=yW.test(t)?t.toLowerCase()===t?!0:n?um(t)===t:!0:!1;return Lb.set(r,i),i}function Dc(t,e,n,{strict:r}={}){return Ms(t,{strict:!1})?_y(t,e,n,{strict:r}):aB(t,e,n,{strict:r})}function oB(t,e){if(typeof e=="number"&&e>0&&e>Cn(t)-1)throw new jO({offset:e,position:"start",size:Cn(t)})}function sB(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Cn(t)!==n-e)throw new jO({offset:n,position:"end",size:Cn(t)})}function aB(t,e,n,{strict:r}={}){oB(t,e);const i=t.slice(e,n);return r&&sB(i,e,n),i}function _y(t,e,n,{strict:r}={}){oB(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&sB(i,e,n),i}const vW=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,lB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ll(t,e){if(t.length!==e.length)throw new RG({expectedLength:t.length,givenLength:e.length});const n=wW({params:t,values:e}),r=wS(n);return r.length===0?"0x":r}function wW({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(vS({param:t[r],value:e[r]}));return n}function vS({param:t,value:e}){const n=bS(t.type);if(n){const[r,i]=n;return xW(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return CW(e,{param:t});if(t.type==="address")return bW(e);if(t.type==="bool")return AW(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=lB.exec(t.type)??[];return _W(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return EW(e,{param:t});if(t.type==="string")return SW(e);throw new FG(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function wS(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Cn(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(De(e+i,{size:32})),r.push(a),i+=Cn(a)):n.push(a)}return Is([...n,...r])}function bW(t){if(!Zn(t))throw new ri({address:t});return{dynamic:!1,encoded:gl(t.toLowerCase())}}function xW(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new QO(t);if(!r&&t.length!==e)throw new MG({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const o=[];for(let s=0;s<t.length;s++){const a=vS({param:n,value:t[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=wS(o);if(r){const a=De(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Is([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Is(o.map(({encoded:s})=>s))}}function EW(t,{param:e}){const[,n]=e.type.split("bytes"),r=Cn(t);if(!n){let i=t;return r%32!==0&&(i=gl(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Is([gl(De(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new IG({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:gl(t,{dir:"right"})}}function AW(t){if(typeof t!="boolean")throw new Ie(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:gl(GO(t))}}function _W(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new zO({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:De(t,{size:32,signed:e})}}function SW(t){const e=Ld(t),n=Math.ceil(Cn(e)/32),r=[];for(let i=0;i<n;i++)r.push(gl(Dc(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Is([gl(De(Cn(e),{size:32})),...r])}}function CW(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const o=e.components[i],s=Array.isArray(t)?i:o.name,a=vS({param:o,value:t[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?wS(r):Is(r.map(({encoded:i})=>i))}}function bS(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Db="/docs/contract/encodeDeployData";function Vv(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new TG({docsPath:Db});if(!("inputs"in i))throw new JM({docsPath:Db});if(!i.inputs||i.inputs.length===0)throw new JM({docsPath:Db});const o=Ll(i.inputs,n);return Yo([r,o])}function Dn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class au extends Ie{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Sg extends Ie{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function TW(t){const e=Cr(`0x${t.substring(4)}`).substring(26);return um(`0x${e}`)}const MW="modulepreload",IW=function(t){return"/"+t},s3={},je=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=IW(l),l in s3)return;s3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":MW,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};async function RW({hash:t,signature:e}){const n=Ms(t)?t:ei(t),{secp256k1:r}=await je(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>nX);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:d,yParity:f}=e,h=Number(f??d),p=a3(h);return new r.Signature(pr(c),pr(u)).addRecoveryBit(p)}const s=Ms(e)?e:ei(e);if(Cn(s)!==65)throw new Error("invalid signature length");const a=vo(`0x${s.slice(130)}`),l=a3(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function a3(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function cB({hash:t,signature:e}){return TW(await RW({hash:t,signature:e}))}class l3 extends Ie{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class uB extends Ie{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class PW extends Ie{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const NW={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new PW({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new uB({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new l3({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new l3({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function xS(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(NW);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Cl(t,e="hex"){const n=dB(t),r=xS(new Uint8Array(n.length));return n.encode(r),e==="hex"?Jn(r.bytes):r.bytes}function dB(t){return Array.isArray(t)?kW(t.map(e=>dB(e))):OW(t)}function kW(t){const e=t.reduce((i,o)=>i+o.length,0),n=fB(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function OW(t){const e=typeof t=="string"?yo(t):t,n=fB(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function fB(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ie("Length is too large.")}function BW(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,o=Cr(Yo(["0x05",Cl([e?De(e):"0x",i,n?De(n):"0x"])]));return r==="bytes"?yo(o):o}async function hB(t){const{authorization:e,signature:n}=t;return cB({hash:BW(e),signature:n??e})}class kE extends Ie{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class FW extends Ie{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class LW extends Ie{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class pB extends Ie{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class $v extends Ie{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function mB({chain:t,currentChainId:e}){if(!t)throw new LW;if(e!==t.id)throw new FW({chain:t,currentChainId:e})}const gB={gwei:9,wei:18},DW={ether:-9,wei:9},UW={ether:-18,gwei:-9};function qv(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,o]=[n.slice(0,n.length-e),n.slice(n.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function xi(t,e="wei"){return qv(t,DW[e])}class rd extends Ie{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(rd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Uc extends Ie{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${xi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Uc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class OE extends Ie{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${xi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(OE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class BE extends Ie{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(BE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class FE extends Ie{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(FE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class LE extends Ie{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(LE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class DE extends Ie{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(DE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class UE extends Ie{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(UE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class zE extends Ie{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(zE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class jE extends Ie{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(jE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class pp extends Ie{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${xi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${xi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(pp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class dm extends Ie{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Qv(t,e="wei"){return qv(t,gB[e])}function fm(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class zW extends Ie{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class jW extends Ie{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class HW extends Ie{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",fm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class GW extends Ie{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class WW extends Ie{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=fm({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof f<"u"&&`${Qv(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${xi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${xi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${xi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class yB extends Ie{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(s=`Transaction at block hash "${e}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class vB extends Ie{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class VW extends Ie{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const ar=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),$W=t=>t,ES=t=>t;class kh extends Ie{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${ES(s)}`,e&&`Request body: ${ar(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class AS extends Ie{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ES(r)}`,`Request body: ${ar(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class c3 extends Ie{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ES(n)}`,`Request body: ${ar(e)}`],name:"TimeoutError"})}}const qW=-1;class Mi extends Ie{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof AS?e.code:n??qW}}class qi extends Mi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class mp extends Mi{constructor(e){super(e,{code:mp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class gp extends Mi{constructor(e){super(e,{code:gp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class yp extends Mi{constructor(e,{method:n}={}){super(e,{code:yp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class vp extends Mi{constructor(e){super(e,{code:vp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class zc extends Mi{constructor(e){super(e,{code:zc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class jc extends Mi{constructor(e){super(e,{code:jc.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class wp extends Mi{constructor(e){super(e,{code:wp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class yl extends Mi{constructor(e){super(e,{code:yl.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(yl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class bp extends Mi{constructor(e){super(e,{code:bp.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class mc extends Mi{constructor(e,{method:n}={}){super(e,{code:mc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(mc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class jd extends Mi{constructor(e){super(e,{code:jd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class xp extends Mi{constructor(e){super(e,{code:xp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class vn extends qi{constructor(e){super(e,{code:vn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ep extends qi{constructor(e){super(e,{code:Ep.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ap extends qi{constructor(e,{method:n}={}){super(e,{code:Ap.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Ap,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class _p extends qi{constructor(e){super(e,{code:_p.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(_p,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Sp extends qi{constructor(e){super(e,{code:Sp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Sp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class wo extends qi{constructor(e){super(e,{code:wo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hd extends qi{constructor(e){super(e,{code:Hd.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Cp extends qi{constructor(e){super(e,{code:Cp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Cp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Tp extends qi{constructor(e){super(e,{code:Tp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Tp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Mp extends qi{constructor(e){super(e,{code:Mp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Ip extends qi{constructor(e){super(e,{code:Ip.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Ip,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Rp extends qi{constructor(e){super(e,{code:Rp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Gd extends qi{constructor(e){super(e,{code:Gd.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class QW extends Mi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Kv(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof Ie?t.walk(i=>i?.code===rd.code):t;return r instanceof Ie?new rd({cause:t,message:r.details}):rd.nodeMessage.test(n)?new rd({cause:t,message:t.details}):Uc.nodeMessage.test(n)?new Uc({cause:t,maxFeePerGas:e?.maxFeePerGas}):OE.nodeMessage.test(n)?new OE({cause:t,maxFeePerGas:e?.maxFeePerGas}):BE.nodeMessage.test(n)?new BE({cause:t,nonce:e?.nonce}):FE.nodeMessage.test(n)?new FE({cause:t,nonce:e?.nonce}):LE.nodeMessage.test(n)?new LE({cause:t,nonce:e?.nonce}):DE.nodeMessage.test(n)?new DE({cause:t}):UE.nodeMessage.test(n)?new UE({cause:t,gas:e?.gas}):zE.nodeMessage.test(n)?new zE({cause:t,gas:e?.gas}):jE.nodeMessage.test(n)?new jE({cause:t}):pp.nodeMessage.test(n)?new pp({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new dm({cause:t})}function wB(t,{docsPath:e,...n}){const r=(()=>{const i=Kv(t,n);return i instanceof dm?t:i})();return new WW(r,{docsPath:e,...n})}function Xv(t,{format:e}){if(!e)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in t&&(n[a]=t[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=e(t||{});return r(i),n}function _S(t,e){return({exclude:n,format:r})=>({exclude:n,format:i=>{const o=e(i);if(n)for(const s of n)delete o[s];return{...o,...r(i)}},type:t})}const KW={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function yf(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=XW(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Jn(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=De(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=De(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=De(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=De(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=De(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=De(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=KW[t.type]),typeof t.value<"u"&&(e.value=De(t.value)),e}function XW(t){return t.map(e=>({address:e.address,r:e.r?De(BigInt(e.r)):e.r,s:e.s?De(BigInt(e.s)):e.s,chainId:De(e.chainId),nonce:De(e.nonce),...typeof e.yParity<"u"?{yParity:De(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:De(e.v)}:{}}))}function Ct(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const Yv=2n**256n-1n;function lu(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=t,s=e?Dn(e):void 0;if(s&&!Zn(s.address))throw new ri({address:s.address});if(o&&!Zn(o))throw new ri({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new zW;if(r&&r>Yv)throw new Uc({maxFeePerGas:r});if(i&&r&&i>r)throw new pp({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function vf(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return vo(e)}class YW extends Ie{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class SS extends Ie{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class JW extends Ie{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${xi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class bB extends Ie{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const xB={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Jv(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?vo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?vo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?xB[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=eV(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const ZW=_S("transaction",Jv);function eV(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function CS(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Jv(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const tV=_S("block",CS);async function ws(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){const o=r??"latest",s=i??!1,a=n!==void 0?De(n):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):l=await t.request({method:"eth_getBlockByNumber",params:[a||o,s]},{dedupe:!!a}),!l)throw new bB({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||CS)(l)}async function TS(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function nV(t,e){return EB(t,e)}async function EB(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await Ct(t,ws,"getBlock")({}),l=await o({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof o<"u")return o;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return pr(s)}catch{const[o,s]=await Promise.all([n?Promise.resolve(n):Ct(t,ws,"getBlock")({}),Ct(t,TS,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new SS;const a=s-o.baseFeePerGas;return a<0n?0n:a}}async function rV(t,e){return HE(t,e)}async function HE(t,e){const{block:n,chain:r=t.chain,request:i,type:o="eip1559"}=e||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new YW;const l=10**(s.toString().split(".")[1]?.length??0),c=f=>f*BigInt(Math.ceil(s*l))/BigInt(l),u=n||await Ct(t,ws,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new SS;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await EB(t,{block:u,chain:r,request:i}),h=c(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??c(await Ct(t,TS,"getGasPrice")({}))}}class iV extends Ie{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=fm({from:n?.address,to:d,value:typeof f<"u"&&`${Qv(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${xi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${xi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${xi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function oV(t,{docsPath:e,...n}){const r=(()=>{const i=Kv(t,n);return i instanceof dm?t:i})();return new iV(r,{docsPath:e,...n})}class sV extends Ie{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class aV extends Ie{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function u3(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function lV(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=u3(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=u3(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function d3(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new XM({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new XM({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function cV(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:o}=t,s={};if(o!==void 0&&(s.code=o),e!==void 0&&(s.balance=De(e)),n!==void 0&&(s.nonce=De(n)),r!==void 0&&(s.state=d3(r)),i!==void 0){if(s.state)throw new aV;s.stateDiff=d3(i)}return s}function MS(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Zn(n,{strict:!1}))throw new ri({address:n});if(e[n])throw new sV({address:n});e[n]=cV(r)}return e}async function IS(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=typeof n=="bigint"?De(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(o)}async function RS(t,e){const{account:n=t.account}=e,r=n?Dn(n):void 0;try{let L=function(B){const{block:w,request:E,rpcStateOverride:C}=B;return t.request({method:"eth_estimateGas",params:C?[E,w??"latest",C]:w?[E,w]:[E]})};const{accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,blockNumber:l,blockTag:c,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,value:g,stateOverride:v,...b}=await Zv(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),R=(typeof l=="bigint"?De(l):void 0)||c,k=MS(v),_=await(async()=>{if(b.to)return b.to;if(o&&o.length>0)return await hB({authorization:o[0]}).catch(()=>{throw new Ie("`to` is required. Could not infer from `authorizationList`")})})();lu(e);const I=t.chain?.formatters?.transactionRequest?.format,P=(I||yf)({...Xv(b,{format:I}),from:r?.address,accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:_,value:g});let G=BigInt(await L({block:R,request:P,rpcStateOverride:k}));if(o){const B=await IS(t,{address:P.from}),w=await Promise.all(o.map(async E=>{const{address:C}=E,D=await L({block:R,request:{authorizationList:void 0,data:u,from:r?.address,to:C,value:De(B)},rpcStateOverride:k}).catch(()=>100000n);return 2n*BigInt(D)}));G+=w.reduce((E,C)=>E+C,0n)}return G}catch(i){throw oV(i,{...e,account:r,chain:t.chain})}}async function PS(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?De(r):n]},{dedupe:!!r});return vo(i)}function NS(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>yo(o)):t.blobs,i=[];for(const o of r)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>Jn(o))}function kS(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>yo(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>yo(s)):t.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],l=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?o:o.map(s=>Jn(s))}function uV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function dV(t,e,n){return t&e^~t&n}function fV(t,e,n){return t&e^t&n^e&n}class hV extends mS{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Bb(this.buffer)}update(e){Ud(this),e=cm(e),Xo(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Bb(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ud(this),KO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,zd(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;uV(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Bb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Oa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pV=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ba=new Uint32Array(64);let mV=class extends hV{constructor(e=32){super(64,e,8,!1),this.A=Oa[0]|0,this.B=Oa[1]|0,this.C=Oa[2]|0,this.D=Oa[3]|0,this.E=Oa[4]|0,this.F=Oa[5]|0,this.G=Oa[6]|0,this.H=Oa[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ba[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Ba[d-15],h=Ba[d-2],p=rs(f,7)^rs(f,18)^f>>>3,m=rs(h,17)^rs(h,19)^h>>>10;Ba[d]=m+Ba[d-7]+p+Ba[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=rs(a,6)^rs(a,11)^rs(a,25),h=u+f+dV(a,l,c)+pV[d]+Ba[d]|0,m=(rs(r,2)^rs(r,13)^rs(r,22))+fV(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){zd(Ba)}destroy(){this.set(0,0,0,0,0,0,0,0),zd(this.buffer)}};const AB=YO(()=>new mV),gV=AB;function yV(t,e){return gV(Ms(t,{strict:!1})?gf(t):t)}function vV(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=yV(e);return i.set([n],0),r==="bytes"?i:Jn(i)}function _B(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const o of e)i.push(vV({commitment:o,to:r,version:n}));return i}const f3=6,SB=32,OS=4096,CB=SB*OS,h3=CB*f3-1-1*OS*f3,TB=1;class wV extends Ie{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class MB extends Ie{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class bV extends Ie{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class xV extends Ie{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${TB}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function EV(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?yo(t.data):t.data,r=Cn(n);if(!r)throw new MB;if(r>h3)throw new wV({maxSize:h3,size:r});const i=[];let o=!0,s=0;for(;o;){const a=xS(new Uint8Array(CB));let l=0;for(;l<OS;){const c=n.slice(s,s+(SB-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),o=!1;break}l++,s+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Jn(a.bytes))}function IB(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??EV({data:e,to:r}),o=t.commitments??NS({blobs:i,kzg:n,to:r}),s=t.proofs??kS({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:o[l],proof:s[l]});return a}function RB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new HW({transaction:t})}const PB=["blobVersionedHashes","chainId","fees","gas","nonce","type"],p3=new Map;async function Zv(t,e){const{account:n=t.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,nonceManager:l,parameters:c=PB,type:u}=e,d=n&&Dn(n),f={...e,...d?{from:d?.address}:{}};let h;async function p(){return h||(h=await Ct(t,ws,"getBlock")({blockTag:"latest"}),h)}let m;async function y(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await Ct(t,vf,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&d)if(l){const g=await y();f.nonce=await l.consume({address:d.address,chainId:g,client:t})}else f.nonce=await Ct(t,PS,"getTransactionCount")({address:d.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const g=NS({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const v=_B({commitments:g,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=kS({blobs:r,commitments:g,kzg:s}),b=IB({blobs:r,commitments:g,proofs:v,to:"hex"});f.sidecars=b}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=RB(f)}catch{let g=p3.get(t.uid);typeof g>"u"&&(g=typeof(await p())?.baseFeePerGas=="bigint",p3.set(t.uid,g)),f.type=g?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const g=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await HE(t,{block:g,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new JW({maxPriorityFeePerGas:b});f.maxPriorityFeePerGas=b,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new SS;if(typeof e.gasPrice>"u"){const g=await p(),{gasPrice:v}=await HE(t,{block:g,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof o>"u"&&(f.gas=await Ct(t,RS,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),lu(f),delete f.parameters,f}async function BS(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Ub=new Wv(128);async function ew(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:m,...y}=e;if(typeof n>"u")throw new au({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?Dn(n):null;try{lu(e);const v=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await hB({authorization:o[0]}).catch(()=>{throw new Ie("`to` is required. Could not infer from `authorizationList`.")})})();if(g?.type==="json-rpc"||g===null){let b;r!==null&&(b=await Ct(t,vf,"getChainId")({}),mB({currentChainId:b,chain:r}));const x=t.chain?.formatters?.transactionRequest?.format,k=(x||yf)({...Xv(y,{format:x}),accessList:i,authorizationList:o,blobs:s,chainId:b,data:a,from:g?.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:v,type:p,value:m}),_=Ub.get(t.uid),I=_?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:I,params:[k]},{retryCount:0})}catch(S){if(_===!1)throw S;const P=S;if(P.name==="InvalidInputRpcError"||P.name==="InvalidParamsRpcError"||P.name==="MethodNotFoundRpcError"||P.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(L=>(Ub.set(t.uid,!0),L)).catch(L=>{const G=L;throw G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"?(Ub.set(t.uid,!1),P):G});throw P}}if(g?.type==="local"){const b=await Ct(t,Zv,"prepareTransactionRequest")({account:g,accessList:i,authorizationList:o,blobs:s,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:g.nonceManager,parameters:[...PB,"sidecars"],type:p,value:m,...y,to:v}),x=r?.serializers?.transaction,R=await g.signTransaction(b,{serializer:x});return await Ct(t,BS,"sendRawTransaction")({serializedTransaction:R})}throw g?.type==="smart"?new Sg({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Sg({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(v){throw v instanceof Sg?v:wB(v,{...e,account:g,chain:e.chain||void 0})}}function AV(t,e){const{abi:n,args:r,bytecode:i,...o}=e,s=Vv({abi:n,args:r,bytecode:i});return ew(t,{...o,...o.authorizationList?{to:null}:{},data:s})}const GE=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],WE=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],NB=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],kB=[...NB,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],_V=[...NB,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],m3=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],g3=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],y3=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function SV(t,e={}){typeof e.size<"u"&&Eo(t,{size:e.size});const n=Jn(t,e);return pr(n,e)}function CV(t,e={}){let n=t;if(typeof e.size<"u"&&(Eo(n,{size:e.size}),n=bi(n)),n.length>1||n[0]>1)throw new pG(n);return!!n[0]}function ca(t,e={}){typeof e.size<"u"&&Eo(t,{size:e.size});const n=Jn(t,e);return vo(n,e)}function TV(t,e={}){let n=t;return typeof e.size<"u"&&(Eo(n,{size:e.size}),n=bi(n,{dir:"right"})),new TextDecoder().decode(n)}function hm(t,e){const n=typeof e=="string"?yo(e):e,r=xS(n);if(Cn(n)===0&&t.length>0)throw new lm;if(Cn(e)&&Cn(e)<32)throw new WO({data:typeof e=="string"?e:Jn(e),params:t,size:Cn(e)});let i=0;const o=[];for(let s=0;s<t.length;++s){const a=t[s];r.setPosition(i);const[l,c]=gd(r,a,{staticPosition:0});i+=c,o.push(l)}return o}function gd(t,e,{staticPosition:n}){const r=bS(e.type);if(r){const[i,o]=r;return IV(t,{...e,type:o},{length:i,staticPosition:n})}if(e.type==="tuple")return kV(t,e,{staticPosition:n});if(e.type==="address")return MV(t);if(e.type==="bool")return RV(t);if(e.type.startsWith("bytes"))return PV(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return NV(t,e);if(e.type==="string")return OV(t,{staticPosition:n});throw new LG(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const v3=32,VE=32;function MV(t){const e=t.readBytes(32);return[um(Jn(aB(e,-20))),32]}function IV(t,e,{length:n,staticPosition:r}){if(!n){const s=ca(t.readBytes(VE)),a=r+s,l=a+v3;t.setPosition(a);const c=ca(t.readBytes(v3)),u=Pp(e);let d=0;const f=[];for(let h=0;h<c;++h){t.setPosition(l+(u?h*32:d));const[p,m]=gd(t,e,{staticPosition:l});d+=m,f.push(p)}return t.setPosition(r+32),[f,32]}if(Pp(e)){const s=ca(t.readBytes(VE)),a=r+s,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=gd(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,l]=gd(t,e,{staticPosition:r+i});i+=l,o.push(a)}return[o,i]}function RV(t){return[CV(t.readBytes(32),{size:32}),32]}function PV(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=ca(t.readBytes(32));t.setPosition(n+s);const a=ca(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[Jn(l),32]}return[Jn(t.readBytes(Number.parseInt(i),32)),32]}function NV(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?SV(i,{signed:n}):ca(i,{signed:n}),32]}function kV(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(Pp(e)){const s=ca(t.readBytes(VE)),a=n+s;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+o);const[u,d]=gd(t,c,{staticPosition:a});o+=d,i[r?l:c?.name]=u}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const a=e.components[s],[l,c]=gd(t,a,{staticPosition:n});i[r?s:a?.name]=l,o+=c}return[i,o]}function OV(t,{staticPosition:e}){const n=ca(t.readBytes(32)),r=e+n;t.setPosition(r);const i=ca(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=TV(bi(o));return t.setPosition(e+32),[s,32]}function Pp(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Pp);const n=bS(t.type);return!!(n&&Pp({...t,type:n[1]}))}const BV=t=>Cr(gf(t));function FV(t){return BV(t)}const LV="1.0.8";let Qi=class $E extends Error{constructor(e,n={}){const r=n.cause instanceof $E?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof $E&&n.cause.docsPath||n.docsPath,o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${LV}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Ca(t,e){return t.exec(e)?.groups}const OB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,BB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,FB=/^\(.+?\).*?$/,w3=/^tuple(?<array>(\[(\d*)\])*)$/;function qE(t){let e=t.type;if(w3.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const o=t.components[i];e+=qE(o),i<n-1&&(e+=", ")}const r=Ca(w3,t.type);return e+=`)${r?.array??""}`,qE({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function qf(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=qE(i),r!==n-1&&(e+=", ")}return e}function Sy(t){return t.type==="function"?`function ${t.name}(${qf(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${qf(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${qf(t.inputs)})`:t.type==="error"?`error ${t.name}(${qf(t.inputs)})`:t.type==="constructor"?`constructor(${qf(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const LB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function DV(t){return LB.test(t)}function UV(t){return Ca(LB,t)}const DB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function zV(t){return DB.test(t)}function jV(t){return Ca(DB,t)}const UB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function HV(t){return UB.test(t)}function GV(t){return Ca(UB,t)}const zB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function FS(t){return zB.test(t)}function WV(t){return Ca(zB,t)}const jB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function VV(t){return jB.test(t)}function $V(t){return Ca(jB,t)}const HB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function qV(t){return HB.test(t)}function QV(t){return Ca(HB,t)}const KV=/^receive\(\) external payable$/;function XV(t){return KV.test(t)}const YV=new Set(["indexed"]),QE=new Set(["calldata","memory","storage"]);class JV extends Qi{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class ZV extends Qi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class e$ extends Qi{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class t$ extends Qi{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class n$ extends Qi{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class r$ extends Qi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class i$ extends Qi{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class o$ extends Qi{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class wf extends Qi{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s$ extends Qi{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a$ extends Qi{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class l$ extends Qi{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class c$ extends Qi{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function u$(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const s of i[1])o+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${o}})`}return e?`${e}:${t}${r}`:t}const zb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function KE(t,e={}){if(HV(t))return d$(t,e);if(zV(t))return f$(t,e);if(DV(t))return h$(t,e);if(VV(t))return p$(t,e);if(qV(t))return m$(t);if(XV(t))return{type:"receive",stateMutability:"payable"};throw new s$({signature:t})}function d$(t,e={}){const n=GV(t);if(!n)throw new wf({signature:t,type:"function"});const r=Uo(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(Hc(r[a],{modifiers:QE,structs:e,type:"function"}));const s=[];if(n.returns){const a=Uo(n.returns),l=a.length;for(let c=0;c<l;c++)s.push(Hc(a[c],{modifiers:QE,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function f$(t,e={}){const n=jV(t);if(!n)throw new wf({signature:t,type:"event"});const r=Uo(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Hc(r[s],{modifiers:YV,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function h$(t,e={}){const n=UV(t);if(!n)throw new wf({signature:t,type:"error"});const r=Uo(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Hc(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function p$(t,e={}){const n=$V(t);if(!n)throw new wf({signature:t,type:"constructor"});const r=Uo(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(Hc(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function m$(t){const e=QV(t);if(!e)throw new wf({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const g$=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y$=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,v$=/^u?int$/;function Hc(t,e){const n=u$(t,e?.type,e?.structs);if(zb.has(n))return zb.get(n);const r=FB.test(t),i=Ca(r?y$:g$,t);if(!i)throw new t$({param:t});if(i.name&&b$(i.name))throw new n$({param:t,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,c={};if(r){l="tuple";const d=Uo(i.type),f=[],h=d.length;for(let p=0;p<h;p++)f.push(Hc(d[p],{structs:a}));c={components:f}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(v$.test(i.type))l=`${i.type}256`;else if(l=i.type,e?.type!=="struct"&&!GB(l))throw new e$({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new r$({param:t,type:e?.type,modifier:i.modifier});if(QE.has(i.modifier)&&!x$(l,!!i.array))throw new i$({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...o,...s,...c};return zb.set(n,u),u}function Uo(t,e=[],n="",r=0){const i=t.trim().length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?Uo(a,[...e,n.trim()]):Uo(a,e,`${n}${s}`,r);case"(":return Uo(a,e,`${n}${s}`,r+1);case")":return Uo(a,e,`${n}${s}`,r-1);default:return Uo(a,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new c$({current:n,depth:r});return e.push(n.trim()),e}function GB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||OB.test(t)||BB.test(t)}const w$=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function b$(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||OB.test(t)||BB.test(t)||w$.test(t)}function x$(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function WB(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!FS(a))continue;const l=WV(a);if(!l)throw new wf({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],d=c.length;for(let f=0;f<d;f++){const p=c[f].trim();if(!p)continue;const m=Hc(p,{type:"struct"});u.push(m)}if(!u.length)throw new a$({signature:a});e[l.name]=u}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];r[a]=VB(l,e)}return r}const E$=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function VB(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(FB.test(s.type))r.push(s);else{const l=Ca(E$,s.type);if(!l?.type)throw new o$({abiParameter:s});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new l$({type:u});r.push({...s,type:`tuple${c??""}`,components:VB(e[u]??[],e,new Set([...n,u]))})}else if(GB(u))r.push(s);else throw new ZV({type:u})}}return r}function $B(t){const e=WB(t),n=[],r=t.length;for(let i=0;i<r;i++){const o=t[i];FS(o)||n.push(KE(o,e))}return n}function b3(t){let e;if(typeof t=="string")e=KE(t);else{const n=WB(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!FS(o)){e=KE(o,n);break}}}if(!e)throw new JV({signature:t});return e}function A$(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Ie("Unable to normalize signature.");return i}const _$=t=>{const e=typeof t=="string"?t:Sy(t);return A$(e)};function qB(t){return FV(_$(t))}const tw=qB,pm=t=>Dc(qB(t),0,4);function cu(t){const{abi:e,args:n=[],name:r}=t,i=Ms(r,{strict:!1}),o=e.filter(a=>i?a.type==="function"?pm(a)===r:a.type==="event"?tw(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const d="inputs"in a&&a.inputs[u];return d?XE(c,d):!1})){if(s&&"inputs"in s&&s.inputs){const c=QB(a.inputs,s.inputs,n);if(c)throw new OG({abiItem:a,type:c[0]},{abiItem:s,type:c[1]})}s=a}}return s||o[0]}function XE(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Zn(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>XE(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>XE(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function QB(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return QB(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?Zn(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?Zn(n[r],{strict:!1}):!1)return s}}const jb="/docs/contract/decodeFunctionResult";function uu(t){const{abi:e,args:n,functionName:r,data:i}=t;let o=e[0];if(r){const a=cu({abi:e,args:n,name:r});if(!a)throw new Dd(r,{docsPath:jb});o=a}if(o.type!=="function")throw new Dd(void 0,{docsPath:jb});if(!o.outputs)throw new qO(o.name,{docsPath:jb});const s=hm(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const x3="/docs/contract/encodeFunctionData";function S$(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const o=cu({abi:e,args:n,name:r});if(!o)throw new Dd(r,{docsPath:x3});i=o}if(i.type!=="function")throw new Dd(void 0,{docsPath:x3});return{abi:[i],functionName:pm(Ko(i))}}function Ao(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:S$(t),i=n[0],o=r,s="inputs"in i&&i.inputs?Ll(i.inputs,e??[]):void 0;return Yo([o,s??"0x"])}function bf({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new kE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new kE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const KB={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},XB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},C$={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function T$(t){const{abi:e,data:n}=t,r=Dc(n,0,4);if(r==="0x")throw new lm;const o=[...e||[],XB,C$].find(s=>s.type==="error"&&r===pm(Ko(s)));if(!o)throw new VO(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?hm(o.inputs,Dc(n,4)):void 0,errorName:o.name}}function YB({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?ar(e[o]):e[o]}`).join(", ")})`}class JB extends Ie{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:h}){const p=n?Dn(n):void 0;let m=fm({from:p?.address,to:d,value:typeof f<"u"&&`${Qv(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${xi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${xi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${xi(c)} gwei`,nonce:u});h&&(m+=`
${lV(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ZB extends Ie{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const l=cu({abi:n,args:r,name:s}),c=l?YB({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?Ko(l,{includeName:!0}):void 0,d=fm({address:i&&$W(i),function:u,args:c&&c!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=a}}class YE extends Ie{constructor({abi:e,data:n,functionName:r,message:i}){let o,s,a,l;if(n&&n!=="0x")try{s=T$({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")l=f[0];else if(d==="Panic"){const[h]=f;l=KB[h]}else{const h=u?Ko(u,{includeName:!0}):void 0,p=u&&f?YB({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){o=u}else i&&(l=i);let c;o instanceof VO&&(c=o.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=c}}class M$ extends Ie{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class I$ extends Ie{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class nw extends Ie{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function LS(t,e){if(!(t instanceof Ie))return!1;const n=t.walk(r=>r instanceof YE);return n instanceof YE?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===KB[50]):!1}function R$(t){const{abi:e,data:n}=t,r=Dc(n,0,4),i=e.find(o=>o.type==="function"&&r===pm(Ko(o)));if(!i)throw new kG(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?hm(i.inputs,Dc(n,4)):void 0}}const Hb="/docs/contract/encodeErrorResult";function E3(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=cu({abi:e,args:r,name:n});if(!l)throw new ZM(n,{docsPath:Hb});i=l}if(i.type!=="error")throw new ZM(void 0,{docsPath:Hb});const o=Ko(i),s=pm(o);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new PG(i.name,{docsPath:Hb});a=Ll(i.inputs,r)}return Yo([s,a])}const Gb="/docs/contract/encodeFunctionResult";function P$(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=cu({abi:e,name:n});if(!s)throw new Dd(n,{docsPath:Gb});i=s}if(i.type!=="function")throw new Dd(void 0,{docsPath:Gb});if(!i.outputs)throw new qO(i.name,{docsPath:Gb});const o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new QO(r)})();return Ll(i.outputs,o)}const eF="x-batch-gateway:true";async function $1e(t){const{data:e,ccipRequest:n}=t,{args:[r]}=R$({abi:WE,data:e}),i=[],o=[];return await Promise.all(r.map(async(s,a)=>{try{o[a]=await n(s),i[a]=!1}catch(l){i[a]=!0,o[a]=N$(l)}})),P$({abi:WE,functionName:"query",result:[i,o]})}function N$(t){return t.name==="HttpRequestError"&&t.status?E3({abi:WE,errorName:"HttpError",args:[t.status,t.shortMessage]}):E3({abi:[XB],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function tF(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ms(e)?e:null}function Cg(t){let e=new Uint8Array(32).fill(0);if(!t)return Jn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=tF(n[r]),o=i?gf(i):Cr(Mc(n[r]),"bytes");e=Cr(Is([e,o]),"bytes")}return Jn(e)}function k$(t){return`[${t.slice(2)}]`}function O$(t){const e=new Uint8Array(32).fill(0);return t?tF(t)||Cr(Mc(t)):Jn(e)}function rw(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Mc(e).byteLength+2);let r=0;const i=e.split(".");for(let o=0;o<i.length;o++){let s=Mc(i[o]);s.byteLength>255&&(s=Mc(k$(O$(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const B$=3;function Gc(t,{abi:e,address:n,args:r,docsPath:i,functionName:o,sender:s}){const a=t instanceof nw?t:t instanceof Ie?t.walk(p=>"data"in p)||t.walk():{},{code:l,data:c,details:u,message:d,shortMessage:f}=a,h=t instanceof lm?new M$({functionName:o}):[B$,zc.code].includes(l)&&(c||u||d||f)?new YE({abi:e,data:typeof c=="object"?c.data:c,functionName:o,message:a instanceof AS?u:f??d}):t;return new ZB(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DS=BigInt(0),JE=BigInt(1);function Cy(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function a0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function nF(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?DS:BigInt("0x"+t)}function iw(t){return nF(hp(t))}function rF(t){return Xo(t),nF(hp(Uint8Array.from(t).reverse()))}function US(t,e){return pS(t.toString(16).padStart(e*2,"0"))}function iF(t,e){return US(t,e).reverse()}function no(t,e,n){let r;if(typeof e=="string")try{r=pS(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(hS(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Wb=t=>typeof t=="bigint"&&DS<=t;function F$(t,e,n){return Wb(t)&&Wb(e)&&Wb(n)&&e<=t&&t<n}function L$(t,e,n,r){if(!F$(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function D$(t){let e;for(e=0;t>DS;t>>=JE,e+=1);return e}const ow=t=>(JE<<BigInt(t))-JE;function U$(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),u=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){o=c();const m=o.slice();p.push(m),h+=o.length}return pc(...p)};return(h,p)=>{l(),u(h);let m;for(;!(m=p(d()));)u();return l(),m}}function zS(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function A3(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const z$="0.1.1";function j$(){return z$}let Vn=class ZE extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof ZE){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof ZE&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${j$()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return oF(this,e)}};function oF(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?oF(t.cause,e):e?null:t}const H$="#__bigint";function G$(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+H$:i,n)}function W$(t,e){if(S3(t)>e)throw new eq({givenSize:S3(t),maxSize:e})}const Fs={zero:48,nine:57,A:65,F:70,a:97,f:102};function _3(t){if(t>=Fs.zero&&t<=Fs.nine)return t-Fs.zero;if(t>=Fs.A&&t<=Fs.F)return t-(Fs.A-10);if(t>=Fs.a&&t<=Fs.f)return t-(Fs.a-10)}function V$(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new tq({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let o=0;o<r;o++){const s=n==="right";i[s?o:r-o-1]=t[s?o:t.length-o-1]}return i}function jS(t,e){if(bo(t)>e)throw new sq({givenSize:bo(t),maxSize:e})}function $$(t,e){if(typeof e=="number"&&e>0&&e>bo(t)-1)throw new uF({offset:e,position:"start",size:bo(t)})}function q$(t,e,n){if(typeof e=="number"&&typeof n=="number"&&bo(t)!==n-e)throw new uF({offset:n,position:"end",size:bo(t)})}function sF(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new aq({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Q$=new TextEncoder;function K$(t){return t instanceof Uint8Array?t:typeof t=="string"?Y$(t):X$(t)}function X$(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Y$(t,e={}){const{size:n}=e;let r=t;n&&(jS(t,n),r=Vc(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,l=0;a<o;a++){const c=_3(i.charCodeAt(l++)),u=_3(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Vn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);s[a]=c*16+u}return s}function J$(t,e={}){const{size:n}=e,r=Q$.encode(t);return typeof n=="number"?(W$(r,n),Z$(r,n)):r}function Z$(t,e){return V$(t,{dir:"right",size:e})}function S3(t){return t.length}let eq=class extends Vn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},tq=class extends Vn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const nq=new TextEncoder,rq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iq(t,e={}){const{strict:n=!1}=e;if(!t)throw new C3(t);if(typeof t!="string")throw new C3(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new T3(t);if(!t.startsWith("0x"))throw new T3(t)}function Rs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function aF(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(jS(n,e.size),Wc(n,e.size)):n}function lF(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=rq[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(jS(r,e.size),Vc(r,e.size)):r}function qr(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new cF({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Wc(l,r):l}function HS(t,e={}){return lF(nq.encode(t),e)}function Wc(t,e){return sF(t,{dir:"left",size:e})}function Vc(t,e){return sF(t,{dir:"right",size:e})}function GS(t,e,n,r={}){const{strict:i}=r;$$(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&q$(o,e,n),o}function bo(t){return Math.ceil((t.length-2)/2)}function oq(t,e={}){const{strict:n=!1}=e;try{return iq(t,{strict:n}),!0}catch{return!1}}class cF extends Vn{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class C3 extends Vn{constructor(e){super(`Value \`${typeof e=="object"?G$(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class T3 extends Vn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class sq extends Vn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class uF extends Vn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class aq extends Vn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function lq(t){return{address:t.address,amount:qr(t.amount),index:qr(t.index),validatorIndex:qr(t.validatorIndex)}}function dF(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:qr(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:qr(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:qr(t.gasLimit)},...typeof t.number=="bigint"&&{number:qr(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:qr(t.prevRandao)},...typeof t.time=="bigint"&&{time:qr(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(lq)}}}const cq="0x82ad56cb",fF="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",uq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",dq="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function hF(t,{docsPath:e,...n}){const r=(()=>{const i=Kv(t,n);return i instanceof dm?t:i})();return new JB(r,{docsPath:e,...n})}function WS(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Vb=new Map;function pF({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=l();s();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p?.([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p?.(f)}})},s=()=>Vb.delete(e),a=()=>l().map(({args:u})=>u),l=()=>Vb.get(e)||[],c=u=>Vb.set(e,[...l(),u]);return{flush:s,async schedule(u){const{promise:d,resolve:f,reject:h}=WS();return n?.([...a(),u])&&o(),l().length>0?(c({args:u,resolve:f,reject:h}),d):(c({args:u,resolve:f,reject:h}),setTimeout(o,r),d)}}}async function sw(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:o,blockTag:s="latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:b,to:x,value:R,stateOverride:k,..._}=e,I=n?Dn(n):void 0;if(u&&(f||h))throw new Ie("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&x)throw new Ie("Cannot provide both `code` & `to` as parameters.");const S=u&&d,P=f&&h&&x&&d,L=S||P,G=S?pq({code:u,data:d}):P?mq({data:d,factory:f,factoryData:h,to:x}):d;try{lu(e);const w=(typeof o=="bigint"?De(o):void 0)||s,E=c?dF(c):void 0,C=MS(k),D=t.chain?.formatters?.transactionRequest?.format,H=(D||yf)({...Xv(_,{format:D}),from:I?.address,accessList:a,authorizationList:r,blobs:l,data:G,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:b,to:L?void 0:x,value:R});if(i&&fq({request:H})&&!C&&!E)try{return await hq(t,{...H,blockNumber:o,blockTag:s})}catch(M){if(!(M instanceof pB)&&!(M instanceof kE))throw M}const $=(()=>{const M=[H,w];return C&&E?[...M,C,E]:C?[...M,C]:E?[...M,{},E]:M})(),F=await t.request({method:"eth_call",params:$});return F==="0x"?{data:void 0}:{data:F}}catch(B){const w=gq(B),{offchainLookup:E,offchainLookupSignature:C}=await je(async()=>{const{offchainLookup:D,offchainLookupSignature:N}=await import("./ccip-C7xIdxsb.js");return{offchainLookup:D,offchainLookupSignature:N}},[]);if(t.ccipRead!==!1&&w?.slice(0,10)===C&&x)return{data:await E(t,{data:w,to:x})};throw L&&w?.slice(0,10)==="0x101bb98d"?new I$({factory:f}):hF(B,{...e,account:I,chain:t.chain})}}function fq({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(cq)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function hq(t,e){const{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:s,multicallAddress:a,to:l}=e;let c=a;if(!c){if(!t.chain)throw new pB;c=bf({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(typeof i=="bigint"?De(i):void 0)||o,{schedule:f}=pF({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((g,{data:v})=>g+(v.length-2),0)>n*2},fn:async m=>{const y=m.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),g=Ao({abi:GE,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:g,to:c},d]});return uu({abi:GE,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await f({data:s,to:l});if(!p)throw new nw({data:h});return h==="0x"?{data:void 0}:{data:h}}function pq(t){const{code:e,data:n}=t;return Vv({abi:$B(["constructor(bytes, bytes)"]),bytecode:fF,args:[e,n]})}function mq(t){const{data:e,factory:n,factoryData:r,to:i}=t;return Vv({abi:$B(["constructor(address, bytes, address, bytes)"]),bytecode:uq,args:[i,e,n,r]})}function gq(t){if(!(t instanceof Ie))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function Ps(t,e){const{abi:n,address:r,args:i,functionName:o,...s}=e,a=Ao({abi:n,args:i,functionName:o});try{const{data:l}=await Ct(t,sw,"call")({...s,data:a,to:r});return uu({abi:n,args:i,functionName:o,data:l||"0x"})}catch(l){throw Gc(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function yq(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return bf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d=Ao({abi:g3,functionName:"addr",...i!=null?{args:[Cg(o),BigInt(i)]}:{args:[Cg(o)]}}),f={address:c,abi:kB,functionName:"resolve",args:[ei(rw(o)),d,s??[eF]],blockNumber:n,blockTag:r},p=await Ct(t,Ps,"readContract")(f);if(p[0]==="0x")return null;const m=uu({abi:g3,args:i!=null?[Cg(o),BigInt(i)]:void 0,functionName:"addr",data:p[0]});return m==="0x"||bi(m)==="0x00"?null:m}catch(d){if(a)throw d;if(LS(d,"resolve"))return null;throw d}}class vq extends Ie{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Qf extends Ie{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class VS extends Ie{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class wq extends Ie{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const bq=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,xq=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Eq=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Aq=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function _q(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function M3(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function mF({uri:t,gatewayUrls:e}){const n=Eq.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=M3(e?.ipfs,"https://ipfs.io"),i=M3(e?.arweave,"https://arweave.net"),o=t.match(bq),{protocol:s,subpath:a,target:l,subtarget:c=""}=o?.groups||{},u=s==="ipns:/"||a==="ipns/",d=s==="ipfs:/"||a==="ipfs/"||xq.test(t);if(t.startsWith("http")&&!u&&!d){let h=t;return e?.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(Aq,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new VS({uri:t})}function gF(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new vq({data:t});return t.image||t.image_url||t.image_data}async function Sq({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await $S({gatewayUrls:t,uri:gF(n)})}catch{throw new VS({uri:e})}}async function $S({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=mF({uri:e,gatewayUrls:t});if(r||await _q(n))return n;throw new VS({uri:e})}function Cq(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[o,s]=n.split(":"),[a,l]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Qf({reason:"Only EIP-155 supported"});if(!s)throw new Qf({reason:"Chain ID not found"});if(!l)throw new Qf({reason:"Contract address not found"});if(!i)throw new Qf({reason:"Token ID not found"});if(!a)throw new Qf({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function Tq(t,{nft:e}){if(e.namespace==="erc721")return Ps(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ps(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new wq({namespace:e.namespace})}async function Mq(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?Iq(t,{gatewayUrls:e,record:n}):$S({uri:n,gatewayUrls:e})}async function Iq(t,{gatewayUrls:e,record:n}){const r=Cq(n),i=await Tq(t,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=mF({uri:i,gatewayUrls:e});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(c);return $S({uri:gF(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),Sq({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,l)})}async function yF(t,e){const{blockNumber:n,blockTag:r,key:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return bf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:c,abi:kB,functionName:"resolve",args:[ei(rw(o)),Ao({abi:m3,functionName:"text",args:[Cg(o),i]}),s??[eF]],blockNumber:n,blockTag:r},h=await Ct(t,Ps,"readContract")(d);if(h[0]==="0x")return null;const p=uu({abi:m3,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(LS(d,"resolve"))return null;throw d}}async function vF(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const l=await Ct(t,yF,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!l)return null;try{return await Mq(t,{record:l,gatewayUrls:r})}catch{return null}}async function wF(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=bf({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const l=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:_V,functionName:"reverse",args:[ei(rw(l))],blockNumber:n,blockTag:r},u=Ct(t,Ps,"readContract"),[d,f]=i?await u({...c,args:[...c.args,i]}):await u(c);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(c){if(o)throw c;if(LS(c,"reverse"))return null;throw c}}async function Rq(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:o}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return bf({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await Ct(t,Ps,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ei(rw(i))],blockNumber:n,blockTag:r});return l}async function bF(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...p}=e,m=n?Dn(n):void 0;try{lu(e);const g=(typeof r=="bigint"?De(r):void 0)||i,v=t.chain?.formatters?.transactionRequest?.format,x=(v||yf)({...Xv(p,{format:v}),from:m?.address,blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h}),R=await t.request({method:"eth_createAccessList",params:[x,g]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(y){throw hF(y,{...e,account:m,chain:t.chain})}}function aw(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:o,transport:s})=>{o==="success"&&e===r&&(n[i]=s.request)}),r=>n[r]||t.request}async function Pq(t){const e=aw(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class Nq extends Ie{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const I3="/docs/contract/encodeEventTopics";function mm(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=cu({abi:e,name:n});if(!l)throw new e3(n,{docsPath:I3});i=l}if(i.type!=="event")throw new e3(void 0,{docsPath:I3});const o=Ko(i),s=tw(o);let a=[];if(r&&"inputs"in i){const l=i.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?l?.map(u=>r[u.name])??[]:[];c.length>0&&(a=l?.map((u,d)=>Array.isArray(c[d])?c[d].map((f,h)=>R3({param:u,value:c[d][h]})):typeof c[d]<"u"&&c[d]!==null?R3({param:u,value:c[d]}):null)??[])}return[s,...a]}function R3({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Cr(gf(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Nq(t.type);return Ll([t],[e])}async function xF(t,e){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:l}=e,c=aw(t,{method:"eth_newFilter"}),u=o?mm({abi:r,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?De(s):s,toBlock:typeof l=="bigint"?De(l):l,topics:u}]});return{abi:r,args:i,eventName:o,id:d,request:c(d),strict:!!a,type:"event"}}async function EF(t,{address:e,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const l=i??(r?[r]:void 0),c=aw(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>mm({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?De(o):o,toBlock:typeof a=="bigint"?De(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:c(d),strict:!!s,toBlock:a,type:"event"}}async function AF(t){const e=aw(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function kq(t,e){const{abi:n,address:r,args:i,functionName:o,dataSuffix:s,...a}=e,l=Ao({abi:n,args:i,functionName:o});try{return await Ct(t,RS,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Dn(a.account):void 0;throw Gc(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}async function Oq(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const Bq=new Map,Fq=new Map;function Lq(t){const e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=e(t,Bq),r=e(t,Fq);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Dq(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Lq(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=t(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const Uq=t=>`blockNumber.${t}`;async function gm(t,{cacheTime:e=t.cacheTime}={}){const n=await Dq(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Uq(t.uid),cacheTime:e});return BigInt(n)}async function zq(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?De(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),vo(o)}async function P3(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?De(n):void 0,o=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(o!=="0x")return o}function lw(t,e){if(!Zn(t,{strict:!1}))throw new ri({address:t});if(!Zn(e,{strict:!1}))throw new ri({address:e});return t.toLowerCase()===e.toLowerCase()}const N3="/docs/contract/decodeEventLog";function qS(t){const{abi:e,data:n,strict:r,topics:i}=t,o=r??!0,[s,...a]=i;if(!s)throw new NG({docsPath:N3});const l=e.find(m=>m.type==="event"&&s===tw(Ko(m)));if(!(l&&"name"in l)||l.type!=="event")throw new $O(s,{docsPath:N3});const{name:c,inputs:u}=l,d=u?.some(m=>!("name"in m&&m.name)),f=d?[]:{},h=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[y,g]=h[m],v=a[m];if(!v)throw new Gv({abiItem:l,param:y});f[d?g:y.name||g]=jq({param:y,value:v})}const p=u.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=hm(p,n);if(m)if(d)for(let y=0;y<u.length;y++)f[y]=f[y]??m.shift();else for(let y=0;y<p.length;y++)f[p[y].name]=m[y]}catch(m){if(o)throw m instanceof WO||m instanceof uB?new dp({abiItem:l,data:n,params:p,size:Cn(n)}):m}else if(o)throw new dp({abiItem:l,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function jq({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(hm([t],e)||[])[0]}function QS(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{try{const a=e.find(c=>c.type==="event"&&s.topics[0]===tw(c));if(!a)return null;const l=qS({...s,abi:[a],strict:i});return o&&!o.includes(l.eventName)||!Hq({args:l.args,inputs:a.inputs,matchArgs:n})?null:{...l,...s}}catch(a){let l,c;if(a instanceof $O)return null;if(a instanceof dp||a instanceof Gv){if(i)return null;l=a.abiItem.name,c=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:l}}}).filter(Boolean)}function Hq(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(o,s,a){try{return o.type==="address"?lw(s,a):o.type==="string"||o.type==="bytes"?Cr(gf(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,s)=>{if(o==null)return!0;const a=n[s];return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,s])=>{if(s==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):!1}function va(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function KS(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:l}={}){const c=l??!1,u=s??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(m=>mm({abi:[m],eventName:m.name,args:s?void 0:a}))],o&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?De(r):r,toBlock:typeof i=="bigint"?De(i):i}]});const h=f.map(p=>va(p));return u?QS({abi:u,args:a,logs:h,strict:c}):h}async function _F(t,e){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:l,strict:c}=e,u=s?cu({abi:n,name:s}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return Ct(t,KS,"getLogs")({address:r,args:i,blockHash:o,event:u,events:d,fromBlock:a,toBlock:l,strict:c})}class Gq extends Ie{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Wq(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[o,s,a,l,c,u,d]=await Ct(t,Ps,"readContract")({abi:Vq,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:d,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new Gq({address:n}):s}}const Vq=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function $q(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function qq(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=typeof n=="bigint"?De(n):void 0,s=await t.request({method:"eth_feeHistory",params:[De(e),o||r,i]},{dedupe:!!o});return $q(s)}async function cw(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>va(o));return!("abi"in e)||!e.abi?i:QS({abi:e.abi,logs:i,strict:n})}async function Qq(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>va(o));return e.abi?QS({abi:e.abi,logs:i,strict:n}):i}async function Kq(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?De(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||r]})}async function XS(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){const s=r||"latest",a=n!==void 0?De(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,De(o)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,De(o)]},{dedupe:!!a}),!l)throw new yB({blockHash:e,blockNumber:n,blockTag:s,hash:i,index:o});return(t.chain?.formatters?.transaction?.format||Jv)(l)}async function Xq(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Ct(t,gm,"getBlockNumber")({}),e?Ct(t,XS,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||i?.blockNumber;return o?r-o+1n:0n}const SF={"0x0":"reverted","0x1":"success"};function CF(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>va(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?vo(t.transactionIndex):null,status:t.status?SF[t.status]:null,type:t.type?xB[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const Yq=_S("transactionReceipt",CF);async function eA(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new vB({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||CF)(n)}async function TF(t,e){const{account:n,allowFailure:r=!0,batchSize:i,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:l}=e,c=e.contracts,u=i??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=bf({blockNumber:o,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,p=0;for(let g=0;g<c.length;g++){const{abi:v,address:b,args:x,functionName:R}=c[g];try{const k=Ao({abi:v,args:x,functionName:R});p+=(k.length-2)/2,u>0&&p>u&&f[h].length>0&&(h++,p=(k.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:k,target:b}]}catch(k){const _=Gc(k,{abi:v,address:b,args:x,docsPath:"/docs/contract/multicall",functionName:R,sender:n});if(!r)throw _;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:b}]}}const m=await Promise.allSettled(f.map(g=>Ct(t,Ps,"readContract")({abi:GE,account:n,address:d,args:[g],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:l}))),y=[];for(let g=0;g<m.length;g++){const v=m[g];if(v.status==="rejected"){if(!r)throw v.reason;for(let x=0;x<f[g].length;x++)y.push({status:"failure",error:v.reason,result:void 0});continue}const b=v.value;for(let x=0;x<b.length;x++){const{returnData:R,success:k}=b[x],{callData:_}=f[g][x],{abi:I,address:S,functionName:P,args:L}=c[y.length];try{if(_==="0x")throw new lm;if(!k)throw new nw({data:R});const G=uu({abi:I,args:L,data:R,functionName:P});y.push(r?{result:G,status:"success"}:G)}catch(G){const B=Gc(G,{abi:I,address:S,args:L,docsPath:"/docs/contract/multicall",functionName:P});if(!r)throw B;y.push({error:B,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Ie("multicall results mismatch");return y}async function tA(t,e){const{blockNumber:n,blockTag:r="latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=e;try{const l=[];for(const f of i){const h=f.blockOverrides?dF(f.blockOverrides):void 0,p=f.calls.map(y=>{const g=y,v=g.account?Dn(g.account):void 0,b={...g,data:g.abi?Ao(g):g.data,from:g.from??v?.address};return lu(b),yf(b)}),m=f.stateOverrides?MS(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:p,stateOverrides:m})}const u=(typeof n=="bigint"?De(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((f,h)=>({...CS(f),calls:f.calls.map((p,m)=>{const{abi:y,args:g,functionName:v,to:b}=i[h].calls[m],x=p.error?.data??p.returnData,R=BigInt(p.gasUsed),k=p.logs?.map(P=>va(P)),_=p.status==="0x1"?"success":"failure",I=y&&_==="success"&&x!=="0x"?uu({abi:y,data:x,functionName:v}):null,S=(()=>{if(_==="success")return;let P;if(p.error?.data==="0x"?P=new lm:p.error&&(P=new nw(p.error)),!!P)return Gc(P,{abi:y??[],address:b??"0x",args:g,functionName:v??"<unknown>"})})();return{data:x,gasUsed:R,logs:k,status:_,..._==="success"?{result:I}:{error:S}}})}))}catch(l){const c=l,u=Kv(c,{});throw u instanceof dm?c:u}}function MF(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=yS(K$(t));return n==="Bytes"?r:lF(r)}class Jq extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Zq={checksum:new Jq(8192)},$b=Zq.checksum,eQ=/^0x[a-fA-F0-9]{40}$/;function uw(t,e={}){const{strict:n=!0}=e;if(!eQ.test(t))throw new k3({address:t,cause:new nQ});if(n){if(t.toLowerCase()===t)return;if(tQ(t)!==t)throw new k3({address:t,cause:new rQ})}}function tQ(t){if($b.has(t))return $b.get(t);uw(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=MF(J$(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return $b.set(t,i),i}function nA(t,e={}){const{strict:n=!0}=e??{};try{return uw(t,{strict:n}),!0}catch{return!1}}class k3 extends Vn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class nQ extends Vn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class rQ extends Vn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function rA(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Vn("Unable to normalize signature.");return i}function iA(t,e){const n=typeof t,r=e.type;switch(r){case"address":return nA(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>iA(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>iA(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function IF(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return IF(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?nA(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?nA(n[r],{strict:!1}):!1)return s}}function RF(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?b3(t):t;return{...r,...n?{hash:id(r)}:{}}}function iQ(t,e,n){const{args:r=[],prepare:i=!0}=n??{},o=oq(e,{strict:!1}),s=t.filter(c=>o?c.type==="function"||c.type==="error"?PF(c)===GS(e,0,4):c.type==="event"?id(c)===e:!1:"name"in c&&c.name===e);if(s.length===0)throw new oA({name:e});if(s.length===1)return{...s[0],...i?{hash:id(s[0])}:{}};let a;for(const c of s){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:id(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in c&&c.inputs[f];return h?iA(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=IF(c.inputs,a.inputs,r);if(d)throw new sQ({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=s;return{...c,overloads:u}})();if(!l)throw new oA({name:e});return{...l,...i?{hash:id(l)}:{}}}function PF(t){return GS(id(t),0,4)}function oQ(t){const e=typeof t=="string"?t:Sy(t);return rA(e)}function id(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:MF(HS(oQ(t)))}class sQ extends Vn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${rA(Sy(e.abiItem))}\`, and`,`\`${n.type}\` in \`${rA(Sy(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class oA extends Vn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const aQ=/^(.*)\[([0-9]*)\]$/,lQ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,NF=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function cQ({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(YS({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function YS({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=yQ(r.type);if(i){const[o,s]=i;return dQ(n,{checksumAddress:t,length:o,parameter:{...r,type:s}})}if(r.type==="tuple")return gQ(n,{checksumAddress:t,parameter:r});if(r.type==="address")return uQ(n,{checksum:t});if(r.type==="bool")return hQ(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,s="256"]=NF.exec(r.type)??[];return pQ(n,{signed:o,size:Number(s)})}if(r.type.startsWith("bytes"))return fQ(n,{type:r.type});if(r.type==="string")return mQ(n);throw new FF(r.type)}function JS(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=bo(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(qr(e+i,{size:32})),r.push(a),i+=bo(a)):n.push(a)}return Rs(...n,...r)}function uQ(t,e){const{checksum:n=!1}=e;return uw(t,{strict:n}),{dynamic:!1,encoded:Wc(t.toLowerCase())}}function dQ(t,e){const{checksumAddress:n,length:r,parameter:i}=e,o=r===null;if(!Array.isArray(t))throw new wQ(t);if(!o&&t.length!==r)throw new vQ({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const a=[];for(let l=0;l<t.length;l++){const c=YS({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(s=!0),a.push(c)}if(o||s){const l=JS(a);if(o){const c=qr(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Rs(c,l):c}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Rs(...a.map(({encoded:l})=>l))}}function fQ(t,{type:e}){const[,n]=e.split("bytes"),r=bo(t);if(!n){let i=t;return r%32!==0&&(i=Vc(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Rs(Wc(qr(r,{size:32})),i)}}if(r!==Number.parseInt(n))throw new OF({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Vc(t)}}function hQ(t){if(typeof t!="boolean")throw new Vn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Wc(aF(t))}}function pQ(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new cF({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:qr(t,{size:32,signed:e})}}function mQ(t){const e=HS(t),n=Math.ceil(bo(e)/32),r=[];for(let i=0;i<n;i++)r.push(Vc(GS(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Rs(Vc(qr(bo(e),{size:32})),...r)}}function gQ(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const o=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],l=Array.isArray(t)?s:a.name,c=YS({checksumAddress:n,parameter:a,value:t[l]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?JS(o):Rs(...o.map(({encoded:s})=>s))}}function yQ(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function kF(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new BF({expectedLength:t.length,givenLength:e.length});const i=cQ({checksumAddress:r,parameters:t,values:e}),o=JS(i);return o.length===0?"0x":o}function sA(t,e){if(t.length!==e.length)throw new BF({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r];n.push(sA.encode(i,o))}return Rs(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return uw(l),Wc(l.toLowerCase(),i?32:0)}if(n==="string")return HS(r);if(n==="bytes")return r;if(n==="bool")return Wc(aF(r),i?32:1);const o=n.match(NF);if(o){const[l,c,u="256"]=o,d=Number.parseInt(u)/8;return qr(r,{size:i?32:d,signed:c==="int"})}const s=n.match(lQ);if(s){const[l,c]=s;if(Number.parseInt(c)!==(r.length-2)/2)throw new OF({expectedSize:Number.parseInt(c),value:r});return Vc(r,i?32:0)}const a=n.match(aQ);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(c,r[d],!0));return u.length===0?"0x":Rs(...u)}throw new FF(n)}t.encode=e})(sA||(sA={}));class vQ extends Vn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class OF extends Vn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${bo(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class BF extends Vn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class wQ extends Vn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class FF extends Vn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function bQ(t,e){const{bytecode:n,args:r}=e;return Rs(n,t.inputs?.length&&r?.length?kF(t.inputs,r):"0x")}function xQ(t){return RF(t)}function EQ(t,...e){const{overloads:n}=t,r=n?AQ([t,...n],t.name,{args:e[0]}):t,i=_Q(r),o=e.length>0?kF(r.inputs,e[0]):void 0;return o?Rs(i,o):i}function Eu(t,e={}){return RF(t,e)}function AQ(t,e,n){const r=iQ(t,e,n);if(r.type!=="function")throw new oA({name:e,type:"function"});return r}function _Q(t){return PF(t)}const SQ="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",is="0x0000000000000000000000000000000000000000",l0=new Wv(8192);function CQ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(l0.get(n))return l0.get(n);const r=t().finally(()=>l0.delete(n));return l0.set(n,r),r}async function aA(t){return new Promise(e=>setTimeout(e,t))}function Ty(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await aA(u),s({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});o(c)}};s()})}function TQ(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if(o?.exclude?.includes(c))throw new mc(new Error("method not supported"),{method:c});if(o?.include&&!o.include.includes(c))throw new mc(new Error("method not supported"),{method:c});const u=i?Ld(`${l}.${ar(n)}`):void 0;return CQ(()=>Ty(async()=>{try{return await t(n)}catch(d){const f=d;switch(f.code){case mp.code:throw new mp(f);case gp.code:throw new gp(f);case yp.code:throw new yp(f,{method:n.method});case vp.code:throw new vp(f);case zc.code:throw new zc(f);case jc.code:throw new jc(f);case wp.code:throw new wp(f);case yl.code:throw new yl(f);case bp.code:throw new bp(f);case mc.code:throw new mc(f,{method:n.method});case jd.code:throw new jd(f);case xp.code:throw new xp(f);case vn.code:throw new vn(f);case Ep.code:throw new Ep(f);case Ap.code:throw new Ap(f);case _p.code:throw new _p(f);case Sp.code:throw new Sp(f);case wo.code:throw new wo(f);case Hd.code:throw new Hd(f);case Cp.code:throw new Cp(f);case Tp.code:throw new Tp(f);case Mp.code:throw new Mp(f);case Ip.code:throw new Ip(f);case Rp.code:throw new Rp(f);case Gd.code:throw new Gd(f);case 5e3:throw new vn(f);default:throw d instanceof Ie?d:new QW(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof kh){const h=f?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<d)*s},retryCount:a,shouldRetry:({error:d})=>MQ(d)}),{enabled:i,id:u})}}function MQ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===jd.code||t.code===zc.code:t instanceof kh&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function du(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function ZS(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function IQ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const O3=IQ();function RQ(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:u}=a;try{const d=await ZS(async({signal:h})=>{const p={...a,body:Array.isArray(r)?ar(r.map(v=>({jsonrpc:"2.0",id:v.id??O3.take(),...v}))):ar({jsonrpc:"2.0",id:r.id??O3.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:u||(s>0?h:null)},m=new Request(t,p),y=await i?.(m,p)??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new c3({body:r,url:t}),timeout:s,signal:!0});o&&await o(d);let f;if(d.headers.get("Content-Type")?.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(h){if(d.ok)throw h;f={error:f}}}if(!d.ok)throw new kh({body:r,details:ar(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof kh||d instanceof c3?d:new kh({body:r,cause:d,url:t})}}}}class PQ extends Ie{constructor({domain:e}){super(`Invalid domain "${ar(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class NQ extends Ie{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class kQ extends Ie{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function OQ(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:HF({domain:e}),...t.types};jF({domain:e,message:n,primaryType:r,types:i});const o=["0x1901"];return e&&o.push(BQ({domain:e,types:i})),r!=="EIP712Domain"&&o.push(LF({data:n,primaryType:r,types:i})),Cr(Is(o))}function BQ({domain:t,types:e}){return LF({data:t,primaryType:"EIP712Domain",types:e})}function LF({data:t,primaryType:e,types:n}){const r=DF({data:t,primaryType:e,types:n});return Cr(r)}function DF({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[FQ({primaryType:e,types:n})];for(const o of n[e]){const[s,a]=zF({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(s),i.push(a)}return Ll(r,i)}function FQ({primaryType:t,types:e}){const n=ei(LQ({primaryType:t,types:e}));return Cr(n)}function LQ({primaryType:t,types:e}){let n="";const r=UF({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const o of i)n+=`${o}(${e[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function UF({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const o of e[i])UF({primaryType:o.type,types:e},n);return n}function zF({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Cr(DF({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Cr(r)];if(n==="string")return[{type:"bytes32"},Cr(ei(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>zF({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},Cr(Ll(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}function DQ(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(l,c)=>{const u={...c};for(const d of l){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},s=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return ar({domain:s,message:a,primaryType:r,types:i})}function jF(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(s,a)=>{for(const l of s){const{name:c,type:u}=l,d=a[c],f=u.match(lB);if(f&&(typeof d=="number"||typeof d=="bigint")){const[m,y,g]=f;De(d,{signed:y==="int",size:Number.parseInt(g)/8})}if(u==="address"&&typeof d=="string"&&!Zn(d))throw new ri({address:d});const h=u.match(vW);if(h){const[m,y]=h;if(y&&Cn(d)!==Number.parseInt(y))throw new BG({expectedSize:Number.parseInt(y),givenSize:Cn(d)})}const p=i[u];p&&(UQ(u),o(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new PQ({domain:e});o(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])o(i[r],n);else throw new NQ({primaryType:r,types:i})}function HF({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function UQ(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new kQ({type:t})}function zQ(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Zn(i))throw new ri({address:i});if(r<0)throw new $v({chainId:r})}eC(t)}function jQ(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new MB;for(const n of e){const r=Cn(n),i=vo(Dc(n,0,1));if(r!==32)throw new bV({hash:n,size:r});if(i!==TB)throw new xV({hash:n,version:i})}}eC(t)}function eC(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new $v({chainId:e});if(i&&!Zn(i))throw new ri({address:i});if(r&&r>Yv)throw new Uc({maxFeePerGas:r});if(n&&r&&n>r)throw new pp({maxFeePerGas:r,maxPriorityFeePerGas:n})}function HQ(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(e<=0)throw new $v({chainId:e});if(o&&!Zn(o))throw new ri({address:o});if(n||i)throw new Ie("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Yv)throw new Uc({maxFeePerGas:r})}function GQ(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(o&&!Zn(o))throw new ri({address:o});if(typeof e<"u"&&e<=0)throw new $v({chainId:e});if(n||i)throw new Ie("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Yv)throw new Uc({maxFeePerGas:r})}function dw(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new GW({storageKey:i[o]});if(!Zn(r,{strict:!1}))throw new ri({address:r});e.push([r,i])}return e}function WQ(t,e){const n=RB(t);return n==="eip1559"?qQ(t,e):n==="eip2930"?QQ(t,e):n==="eip4844"?$Q(t,e):n==="eip7702"?VQ(t,e):KQ(t,e)}function VQ(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:o,to:s,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;zQ(t);const f=dw(u),h=XQ(n);return Yo(["0x04",Cl([De(r),o?De(o):"0x",c?De(c):"0x",l?De(l):"0x",i?De(i):"0x",s??"0x",a?De(a):"0x",d??"0x",f,h,...ym(t,e)])])}function $Q(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;jQ(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const b=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(k=>Jn(k)),x=t.kzg,R=NS({blobs:b,kzg:x});if(typeof f>"u"&&(f=_B({commitments:R})),typeof h>"u"){const k=kS({blobs:b,commitments:R,kzg:x});h=IB({blobs:b,commitments:R,proofs:k})}}const p=dw(u),m=[De(n),i?De(i):"0x",c?De(c):"0x",l?De(l):"0x",r?De(r):"0x",o??"0x",s?De(s):"0x",d??"0x",p,a?De(a):"0x",f??[],...ym(t,e)],y=[],g=[],v=[];if(h)for(let b=0;b<h.length;b++){const{blob:x,commitment:R,proof:k}=h[b];y.push(x),g.push(R),v.push(k)}return Yo(["0x03",Cl(h?[m,y,g,v]:m)])}function qQ(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;eC(t);const d=dw(c),f=[De(n),i?De(i):"0x",l?De(l):"0x",a?De(a):"0x",r?De(r):"0x",o??"0x",s?De(s):"0x",u??"0x",d,...ym(t,e)];return Yo(["0x02",Cl(f)])}function QQ(t,e){const{chainId:n,gas:r,data:i,nonce:o,to:s,value:a,accessList:l,gasPrice:c}=t;HQ(t);const u=dw(l),d=[De(n),o?De(o):"0x",c?De(c):"0x",r?De(r):"0x",s??"0x",a?De(a):"0x",i??"0x",u,...ym(t,e)];return Yo(["0x01",Cl(d)])}function KQ(t,e){const{chainId:n=0,gas:r,data:i,nonce:o,to:s,value:a,gasPrice:l}=t;GQ(t);let c=[o?De(o):"0x",l?De(l):"0x",r?De(r):"0x",s??"0x",a?De(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new jW({v:e.v});return h})(),d=bi(e.r),f=bi(e.s);c=[...c,De(u),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(c=[...c,De(n),"0x","0x"]);return Cl(c)}function ym(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const o=bi(n.r),s=bi(n.s);return[typeof i=="number"?i?De(1):"0x":r===0n?"0x":r===1n?De(1):r===27n?"0x":De(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function XQ(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...o}=n,s=n.address;e.push([r?ei(r):"0x",s,i?ei(i):"0x",...ym({},o)])}return e}const YQ=`Ethereum Signed Message:
`;function JQ(t){const e=typeof t=="string"?Ld(t):typeof t.raw=="string"?t.raw:Jn(t.raw),n=Ld(`${YQ}${Cn(e)}`);return Is([n,e])}function GF(t,e){return Cr(JQ(t),e)}const WF="0x6492649264926492649264926492649264926492649264926492649264926492";function ZQ(t){return _y(t,-32)===WF}function eK(t){const{address:e,data:n,signature:r,to:i="hex"}=t,o=Yo([Ll([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),WF]);return i==="hex"?o:yo(o)}class tK extends Ie{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function nK(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new tK({value:t});let[n,r="0"]=t.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[o,s,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],l=Math.round(+`${s}.${a}`);l>9?r=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):r=`${o}${l}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${i?"-":""}${n}${r}`)}function Fa(t,e="wei"){return nK(t,gB[e])}const rK="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function iK(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:l}=e,c=e.account?Dn(e.account):void 0;if(s&&!c)throw new Ie("`account` is required when `traceAssetChanges` is true");const u=c?bQ(xQ("constructor(bytes, bytes)"),{bytecode:fF,args:[rK,EQ(Eu("function getBalance(address)"),[c.address])]}):void 0,d=s?await Promise.all(e.calls.map(async N=>{if(!N.data&&!N.abi)return;const{accessList:H}=await bF(t,{account:c.address,...N,data:N.abi?Ao(N):N.data});return H.map(({address:$,storageKeys:F})=>F.length>0?$:null)})).then(N=>N.flat().filter(Boolean)):[],f=await tA(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((N,H)=>({abi:[Eu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:N,from:is,nonce:H})),stateOverrides:[{address:is,nonce:0}]}]:[],{calls:[...i,{}].map(N=>({...N,from:c?.address})),stateOverrides:o},...s?[{calls:[{data:u}]},{calls:d.map((N,H)=>({abi:[Eu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:N,from:is,nonce:H})),stateOverrides:[{address:is,nonce:0}]},{calls:d.map((N,H)=>({to:N,abi:[Eu("function decimals() returns (uint256)")],functionName:"decimals",from:is,nonce:H})),stateOverrides:[{address:is,nonce:0}]},{calls:d.map((N,H)=>({to:N,abi:[Eu("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:is,nonce:H})),stateOverrides:[{address:is,nonce:0}]},{calls:d.map((N,H)=>({to:N,abi:[Eu("function symbol() returns (string)")],functionName:"symbol",from:is,nonce:H})),stateOverrides:[{address:is,nonce:0}]}]:[]],traceTransfers:a,validation:l}),h=s?f[2]:f[0],[p,m,,y,g,v,b,x]=s?f:[],{calls:R,...k}=h,_=R.slice(0,-1)??[],I=p?.calls??[],S=m?.calls??[],P=[...I,...S].map(N=>N.status==="success"?pr(N.data):null),L=y?.calls??[],G=g?.calls??[],B=[...L,...G].map(N=>N.status==="success"?pr(N.data):null),w=(v?.calls??[]).map(N=>N.status==="success"?N.result:null),E=(x?.calls??[]).map(N=>N.status==="success"?N.result:null),C=(b?.calls??[]).map(N=>N.status==="success"?N.result:null),D=[];for(const[N,H]of B.entries()){const $=P[N];if(typeof H!="bigint"||typeof $!="bigint")continue;const F=w[N-1],M=E[N-1],q=C[N-1],J=N===0?{address:SQ,decimals:18,symbol:"ETH"}:{address:d[N-1],decimals:q||F?Number(F??1):void 0,symbol:M??void 0};D.some(ie=>ie.token.address===J.address)||D.push({token:J,value:{pre:$,post:H,diff:H-$}})}return{assetChanges:D,block:k,results:_}}const qb=new Map,B3=new Map;let oK=0;function wa(t,e,n){const r=++oK,i=()=>qb.get(t)||[],o=()=>{const u=i();qb.set(t,u.filter(d=>d.id!==r))},s=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=B3.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},a=i();if(qb.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return s;const l={};for(const u in e)l[u]=(...d)=>{const f=i();if(f.length!==0)for(const h of f)h.fns[u]?.(...d)};const c=n(l);return typeof c=="function"&&B3.set(t,c),s}function xf(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:o}));const l=await n?.(a)??r;await aA(l);const c=async()=>{i&&(await t({unpoll:o}),await aA(r),c())};c()})(),o}function sK(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),u=s??!1;let d;return c?(()=>{const p=ar(["watchBlocks",t.uid,e,n,r,u,l]);return wa(p,{onBlock:i,onError:o},m=>xf(async()=>{try{const y=await Ct(t,ws,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let g=d?.number+1n;g<y.number;g++){const v=await Ct(t,ws,"getBlock")({blockNumber:g,includeTransactions:u});m.onBlock(v,d),d=v}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:l}))})():(()=>{let p=!0,m=!0,y=()=>p=!1;return(async()=>{try{r&&Ct(t,ws,"getBlock")({blockTag:e,includeTransactions:u}).then(b=>{p&&m&&(i(b,void 0),m=!1)}).catch(o);const g=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(x=>x.config.type==="webSocket");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await g.subscribe({params:["newHeads"],async onData(b){if(!p)return;const x=await Ct(t,ws,"getBlock")({blockNumber:b.result?.number,includeTransactions:u}).catch(()=>{});p&&(i(x,d),m=!1,d=x)},onError(b){o?.(b)}});y=v,p||y()}catch(g){o?.(g)}})(),()=>y()})()}function VF(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=t.pollingInterval}){const a=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let l;return a?(()=>{const d=ar(["watchBlockNumber",t.uid,e,n,s]);return wa(d,{onBlockNumber:r,onError:i},f=>xf(async()=>{try{const h=await Ct(t,gm,"getBlockNumber")({cacheTime:0});if(l){if(h===l)return;if(h-l>1&&n)for(let p=l+1n;p<h;p++)f.onBlockNumber(p,l),l=p}(!l||h>l)&&(f.onBlockNumber(h,l),l=h)}catch(h){f.onError?.(h)}},{emitOnBegin:e,interval:s}))})():(()=>{const d=ar(["watchBlockNumber",t.uid,e,n]);return wa(d,{onBlockNumber:r,onError:i},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const g=t.transport.transports.find(v=>v.config.type==="webSocket");return g?g.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(g){if(!h)return;const v=pr(g.result?.number);f.onBlockNumber(v,l),l=v},onError(g){f.onError?.(g)}});p=y,h||p()}catch(m){i?.(m)}})(),()=>p()})})()}async function fw(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function aK(t,{address:e,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:d}){const f=typeof c<"u"?c:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const y=ar(["watchEvent",e,n,r,t.uid,i,u,s]);return wa(y,{onLogs:l,onError:a},g=>{let v;s!==void 0&&(v=s-1n);let b,x=!1;const R=xf(async()=>{if(!x){try{b=await Ct(t,EF,"createEventFilter")({address:e,args:n,event:i,events:o,strict:h,fromBlock:s})}catch{}x=!0;return}try{let k;if(b)k=await Ct(t,cw,"getFilterChanges")({filter:b});else{const _=await Ct(t,gm,"getBlockNumber")({});v&&v!==_?k=await Ct(t,KS,"getLogs")({address:e,args:n,event:i,events:o,fromBlock:v+1n,toBlock:_}):k=[],v=_}if(k.length===0)return;if(r)g.onLogs(k);else for(const _ of k)g.onLogs([_])}catch(k){b&&k instanceof jc&&(x=!1),g.onError?.(k)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await Ct(t,fw,"uninstallFilter")({filter:b}),R()}})})():(()=>{let y=!0,g=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(_=>_.config.type==="webSocket");return k?k.value:t.transport}return t.transport})(),b=o??(i?[i]:void 0);let x=[];b&&(x=[b.flatMap(_=>mm({abi:[_],eventName:_.name,args:n}))],i&&(x=x[0]));const{unsubscribe:R}=await v.subscribe({params:["logs",{address:e,topics:x}],onData(k){if(!y)return;const _=k.result;try{const{eventName:I,args:S}=qS({abi:b??[],data:_.data,topics:_.topics,strict:h}),P=va(_,{args:S,eventName:I});l([P])}catch(I){let S,P;if(I instanceof dp||I instanceof Gv){if(d)return;S=I.abiItem.name,P=I.abiItem.inputs?.some(G=>!("name"in G&&G.name))}const L=va(_,{args:P?[]:{},eventName:S});l([L])}},onError(k){a?.(k)}});g=R,y||g()}catch(v){a?.(v)}})(),()=>g()})()}function lK(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const c=ar(["watchPendingTransactions",t.uid,e,o]);return wa(c,{onTransactions:r,onError:n},u=>{let d;const f=xf(async()=>{try{if(!d)try{d=await Ct(t,AF,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const h=await Ct(t,cw,"getFilterChanges")({filter:d});if(h.length===0)return;if(e)u.onTransactions(h);else for(const p of h)u.onTransactions([p])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await Ct(t,fw,"uninstallFilter")({filter:d}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const h=f.result;r([h])},onError(f){n?.(f)}});u=d,c||u()}catch(d){n?.(d)}})(),()=>u()})()}async function cK(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>um(n))}async function uK(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function dK(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Dn(n):void 0,o=r?[i?.address,[De(r)]]:[i?.address],s=await t.request({method:"wallet_getCapabilities",params:o}),a={};for(const[l,c]of Object.entries(s)){a[Number(l)]={};for(let[u,d]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=d}return typeof r=="number"?a[r]:a}const $F="0x5792579257925792579257925792579257925792579257925792579257925792",qF=De(0,{size:32});async function fK(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Dn(n):null,d=e.calls.map(f=>{const h=f;return{data:h.abi?Ao({abi:h.abi,functionName:h.functionName,args:h.args}):h.data,to:h.to,value:h.value?De(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:De(i.id),from:u?.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Hd(new Ie(v,{details:v}))}if(a&&d.length>1){const g="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Gd(new Ie(g,{details:g}))}const p=[];for(const g of d){const v=ew(t,{account:u,chain:i,data:g.data,to:g.to,value:g.value?pr(g.value):void 0});p.push(v),s>0&&await new Promise(b=>setTimeout(b,s))}const m=await Promise.allSettled(p);if(m.every(g=>g.status==="rejected"))throw m[0].reason;const y=m.map(g=>g.status==="fulfilled"?g.value:qF);return{id:Is([...y,De(i.id,{size:32}),$F])}}throw wB(f,{...e,account:u,chain:e.chain})}}async function QF(t,e){async function n(u){if(u.endsWith($F.slice(2))){const f=bi(_y(u,-64,-32)),h=_y(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(y=>qF.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>y?.status==="0x1")?200:p.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:vo(f),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:o,version:s="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?vo(i):void 0,receipts:o?.map(u=>({...u,blockNumber:pr(u.blockNumber),gasUsed:pr(u.gasUsed),status:SF[u.status]}))??[],statusCode:c,status:l,version:s}}async function hK(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function pK(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:f})=>f>=200,timeout:o=6e4}=e,s=ar(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:l,reject:c}=WS();let u;const d=wa(s,{resolve:l,reject:c},f=>{const h=xf(async()=>{const p=m=>{clearTimeout(u),h(),m(),d()};try{const m=await QF(t,{id:n});if(!i(m))return;p(()=>f.resolve(m))}catch(m){p(()=>f.reject(m))}},{interval:r,emitOnBegin:!0});return h});return u=o?setTimeout(()=>{d(),clearTimeout(u),c(new mK({id:n}))},o):void 0,await a}class mK extends Ie{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function gK(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function yK(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?vo(t.nonce):void 0,storageProof:t.storageProof?gK(t.storageProof):void 0}}async function vK(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?De(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,s||o]});return yK(a)}async function wK(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:o=6,retryDelay:s=({count:l})=>~~(1<<l)*200,timeout:a=18e4}){const l=ar(["waitForTransactionReceipt",t.uid,n]);let c,u,d,f=!1,h,p;const{promise:m,resolve:y,reject:g}=WS(),v=a?setTimeout(()=>{p(),h(),g(new VW({hash:n}))},a):void 0;return h=wa(l,{onReplaced:r,resolve:y,reject:g},b=>{p=Ct(t,VF,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(x){const R=_=>{clearTimeout(v),p(),_(),h()};let k=x;if(!f)try{if(d){if(e>1&&(!d.blockNumber||k-d.blockNumber+1n<e))return;R(()=>b.resolve(d));return}if(c||(f=!0,await Ty(async()=>{c=await Ct(t,XS,"getTransaction")({hash:n}),c.blockNumber&&(k=c.blockNumber)},{delay:s,retryCount:o}),f=!1),d=await Ct(t,eA,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||k-d.blockNumber+1n<e))return;R(()=>b.resolve(d))}catch(_){if(_ instanceof yB||_ instanceof vB){if(!c){f=!1;return}try{u=c,f=!0;const I=await Ty(()=>Ct(t,ws,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:L})=>L instanceof bB});f=!1;const S=I.transactions.find(({from:L,nonce:G})=>L===u.from&&G===u.nonce);if(!S||(d=await Ct(t,eA,"getTransactionReceipt")({hash:S.hash}),e>1&&(!d.blockNumber||k-d.blockNumber+1n<e)))return;let P="replaced";S.to===u.to&&S.value===u.value&&S.input===u.input?P="repriced":S.from===S.to&&S.value===0n&&(P="cancelled"),R(()=>{b.onReplaced?.({reason:P,replacedTransaction:u,transaction:S,transactionReceipt:d}),b.resolve(d)})}catch(I){R(()=>b.reject(I))}}else R(()=>b.reject(_))}}})}),m}async function bK(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Tr(n))}async function xK(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function KF(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new au({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Dn(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Dn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await Ct(t,vf,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await Ct(t,PS,"getTransactionCount")({address:o.address,blockTag:"pending"}),(s==="self"||s?.address&&lw(s.address,o.address))&&(a.nonce+=1)),a}async function EK(t,e){const{account:n=t.account}=e;if(!n)throw new au({docsPath:"/docs/eip7702/signAuthorization"});const r=Dn(n);if(!r.signAuthorization)throw new Sg({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await KF(t,e);return r.signAuthorization(i)}async function AK(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new au({docsPath:"/docs/actions/wallet/signTransaction"});const o=Dn(n);lu({account:o,...e});const s=await Ct(t,vf,"getChainId")({});r!==null&&mB({currentChainId:s,chain:r});const l=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||yf;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:De(s),from:o.address}]},{retryCount:0})}async function XF(t,{account:e=t.account,message:n}){if(!e)throw new au({docsPath:"/docs/actions/wallet/signMessage"});const r=Dn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Ld(n):n.raw instanceof Uint8Array?ei(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function _K(t,e){const{account:n=t.account,domain:r,message:i,primaryType:o}=e;if(!n)throw new au({docsPath:"/docs/actions/wallet/signTypedData"});const s=Dn(n),a={EIP712Domain:HF({domain:r}),...e.types};if(jF({domain:r,message:i,primaryType:o,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const l=DQ({domain:r,message:i,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function SK(t,e){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=e,l=a.account?Dn(a.account):t.account,c=Ao({abi:n,args:i,functionName:s});try{const{data:u}=await Ct(t,sw,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:l}),d=uu({abi:n,args:i,functionName:s,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:o,functionName:s,...a,account:l}}}catch(u){throw Gc(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function CK(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:De(e)}]},{retryCount:0})}let YF=class extends mS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,$G(e);const r=cm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),zd(o)}update(e){return Ud(this),this.iHash.update(e),this}digestInto(e){Ud(this),Xo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const JF=(t,e,n)=>new YF(t,e).update(n).digest();JF.create=(t,e)=>new YF(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mi=BigInt(0),ti=BigInt(1),gc=BigInt(2),TK=BigInt(3),ZF=BigInt(4),e4=BigInt(5),t4=BigInt(8);function io(t,e){const n=t%e;return n>=mi?n:e+n}function Yi(t,e,n){let r=t;for(;e-- >mi;)r*=r,r%=n;return r}function F3(t,e){if(t===mi)throw new Error("invert: expected non-zero number");if(e<=mi)throw new Error("invert: expected positive modulus, got "+e);let n=io(t,e),r=e,i=mi,o=ti;for(;n!==mi;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==ti)throw new Error("invert: does not exist");return io(i,e)}function n4(t,e){const n=(t.ORDER+ti)/ZF,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function MK(t,e){const n=(t.ORDER-e4)/t4,r=t.mul(e,gc),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,gc),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function IK(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ti,n=0;for(;e%gc===mi;)e/=gc,n++;let r=gc;const i=hw(t);for(;L3(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return n4;let o=i.pow(r,e);const s=(e+ti)/gc;return function(l,c){if(l.is0(c))return c;if(L3(l,c)!==1)throw new Error("Cannot find square root");let u=n,d=l.mul(l.ONE,o),f=l.pow(c,e),h=l.pow(c,s);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let p=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(p++,m=l.sqr(m),p===u)throw new Error("Cannot find square root");const y=ti<<BigInt(u-p-1),g=l.pow(d,y);u=p,d=l.sqr(g),f=l.mul(f,d),h=l.mul(h,g)}return h}}function RK(t){return t%ZF===TK?n4:t%t4===e4?MK:IK(t)}const PK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function NK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=PK.reduce((r,i)=>(r[i]="function",r),e);return zS(t,n),t}function kK(t,e,n){if(n<mi)throw new Error("invalid exponent, negatives unsupported");if(n===mi)return t.ONE;if(n===ti)return e;let r=t.ONE,i=e;for(;n>mi;)n&ti&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ti;return r}function r4(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function L3(t,e){const n=(t.ORDER-ti)/gc,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function OK(t,e){e!==void 0&&fp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function hw(t,e,n=!1,r={}){if(t<=mi)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=OK(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:ow(s),ZERO:mi,ONE:ti,create:u=>io(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return mi<=u&&u<t},is0:u=>u===mi,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&ti)===ti,neg:u=>io(-u,t),eql:(u,d)=>u===d,sqr:u=>io(u*u,t),add:(u,d)=>io(u+d,t),sub:(u,d)=>io(u-d,t),mul:(u,d)=>io(u*d,t),pow:(u,d)=>kK(c,u,d),div:(u,d)=>io(u*F3(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>F3(u,t),sqrt:o||(u=>(l||(l=RK(t)),l(c,u))),toBytes:u=>n?iF(u,a):US(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?rF(u):iw(u)},invertBatch:u=>r4(c,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(c)}function i4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function o4(t){const e=i4(t);return e+Math.ceil(e/2)}function BK(t,e,n=!1){const r=t.length,i=i4(e),o=o4(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?rF(t):iw(t),a=io(s,e-ti)+ti;return n?iF(a,i):US(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wd=BigInt(0),yc=BigInt(1);function Oh(t,e){const n=e.negate();return t?n:e}function FK(t,e,n){const r=s=>s.pz,i=r4(t.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function s4(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Qb(t,e){s4(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=ow(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function D3(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=yc);const c=e*r,u=c+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:c}}function LK(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function DK(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Kb=new WeakMap,a4=new WeakMap;function Xb(t){return a4.get(t)||1}function U3(t){if(t!==Wd)throw new Error("invalid wNAF")}function UK(t,e){return{constTimeNegate:Oh,hasPrecomputes(n){return Xb(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>Wd;)r&yc&&(i=i.add(o)),o=o.double(),r>>=yc;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Qb(r,e),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=Qb(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=D3(i,l,a);i=c,d?s=s.add(Oh(h,r[p])):o=o.add(Oh(f,r[u]))}return U3(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=Qb(n,e);for(let a=0;a<s.windows&&i!==Wd;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=D3(i,a,s);if(i=l,!u){const f=r[c];o=o.add(d?f.negate():f)}}return U3(i),o},getPrecomputes(n,r,i){let o=Kb.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),Kb.set(r,o))),o},wNAFCached(n,r,i){const o=Xb(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=Xb(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){s4(r,e),a4.set(n,r),Kb.delete(n)}}}function zK(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>Wd||r>Wd;)n&yc&&(o=o.add(i)),r&yc&&(s=s.add(i)),i=i.double(),n>>=yc,r>>=yc;return{p1:o,p2:s}}function jK(t,e,n,r){LK(n,t),DK(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=D$(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=ow(l),u=new Array(Number(c)+1).fill(s),d=Math.floor((e.BITS-1)/l)*l;let f=s;for(let h=d;h>=0;h-=l){u.fill(s);for(let m=0;m<o;m++){const y=r[m],g=Number(y>>BigInt(h)&c);u[g]=u[g].add(n[m])}let p=s;for(let m=u.length-1,y=s;m>0;m--)y=y.add(u[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function z3(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return NK(e),e}else return hw(t)}function HK(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>Wd))throw new Error(`CURVE.${a} must be positive bigint`)}const r=z3(e.p,n.Fp),i=z3(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j3(t){t.lowS!==void 0&&Cy("lowS",t.lowS),t.prehash!==void 0&&Cy("prehash",t.prehash)}class GK extends Error{constructor(e=""){super(e)}}const Ks={Err:GK,_tlv:{encode:(t,e)=>{const{Err:n}=Ks;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=a0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?a0(i.length/2|128):"";return a0(t)+o+i+e},decode(t,e){const{Err:n}=Ks;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Ks;if(t<Bh)throw new e("integer: negative integers are not allowed");let n=a0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ks;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return iw(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ks,i=no("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Ks,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Bh=BigInt(0),Fh=BigInt(1),WK=BigInt(2),c0=BigInt(3),VK=BigInt(4);function $K(t,e,n){function r(i){const o=t.sqr(i),s=t.mul(o,i);return t.add(t.add(s,t.mul(i,e)),n)}return r}function l4(t,e,n){const{BYTES:r}=t;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=no("private key",o);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function qK(t,e={}){const{Fp:n,Fn:r}=HK("weierstrass",t,e),{h:i,n:o}=t;zS(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(I,S,P){const{x:L,y:G}=S.toAffine(),B=n.toBytes(L);if(Cy("isCompressed",P),P){a();const w=!n.isOdd(G);return pc(c4(w),B)}else return pc(Uint8Array.of(4),B,n.toBytes(G))}function c(I){Xo(I);const S=n.BYTES,P=S+1,L=2*S+1,G=I.length,B=I[0],w=I.subarray(1);if(G===P&&(B===2||B===3)){const E=n.fromBytes(w);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const C=f(E);let D;try{D=n.sqrt(C)}catch($){const F=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}a();const N=n.isOdd(D);return(B&1)===1!==N&&(D=n.neg(D)),{x:E,y:D}}else if(G===L&&B===4){const E=n.fromBytes(w.subarray(S*0,S*1)),C=n.fromBytes(w.subarray(S*1,S*2));if(!h(E,C))throw new Error("bad point: is not on curve");return{x:E,y:C}}else throw new Error(`bad point: got length ${G}, expected compressed=${P} or uncompressed=${L}`)}const u=e.toBytes||l,d=e.fromBytes||c,f=$K(n,t.a,t.b);function h(I,S){const P=n.sqr(S),L=f(I);return n.eql(P,L)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,c0),VK),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function y(I,S,P=!1){if(!n.isValid(S)||P&&n.is0(S))throw new Error(`bad point coordinate ${I}`);return S}function g(I){if(!(I instanceof R))throw new Error("ProjectivePoint expected")}const v=A3((I,S)=>{const{px:P,py:L,pz:G}=I;if(n.eql(G,n.ONE))return{x:P,y:L};const B=I.is0();S==null&&(S=B?n.ONE:n.inv(G));const w=n.mul(P,S),E=n.mul(L,S),C=n.mul(G,S);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:w,y:E}}),b=A3(I=>{if(I.is0()){if(e.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:S,y:P}=I.toAffine();if(!n.isValid(S)||!n.isValid(P))throw new Error("bad point: x or y not field elements");if(!h(S,P))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(I,S,P,L,G){return P=new R(n.mul(P.px,I),P.py,P.pz),S=Oh(L,S),P=Oh(G,P),S.add(P)}class R{constructor(S,P,L){this.px=y("x",S),this.py=y("y",P,!0),this.pz=y("z",L),Object.freeze(this)}static fromAffine(S){const{x:P,y:L}=S||{};if(!S||!n.isValid(P)||!n.isValid(L))throw new Error("invalid affine point");if(S instanceof R)throw new Error("projective point not allowed");return n.is0(P)&&n.is0(L)?R.ZERO:new R(P,L,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return FK(R,"pz",S)}static fromBytes(S){return Xo(S),R.fromHex(S)}static fromHex(S){const P=R.fromAffine(d(no("pointHex",S)));return P.assertValidity(),P}static fromPrivateKey(S){const P=l4(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return R.BASE.multiply(P(S))}static msm(S,P){return jK(R,r,S,P)}precompute(S=8,P=!0){return _.setWindowSize(this,S),P||this.multiply(c0),this}_setWindowSize(S){this.precompute(S)}assertValidity(){b(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){g(S);const{px:P,py:L,pz:G}=this,{px:B,py:w,pz:E}=S,C=n.eql(n.mul(P,E),n.mul(B,G)),D=n.eql(n.mul(L,E),n.mul(w,G));return C&&D}negate(){return new R(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:P}=t,L=n.mul(P,c0),{px:G,py:B,pz:w}=this;let E=n.ZERO,C=n.ZERO,D=n.ZERO,N=n.mul(G,G),H=n.mul(B,B),$=n.mul(w,w),F=n.mul(G,B);return F=n.add(F,F),D=n.mul(G,w),D=n.add(D,D),E=n.mul(S,D),C=n.mul(L,$),C=n.add(E,C),E=n.sub(H,C),C=n.add(H,C),C=n.mul(E,C),E=n.mul(F,E),D=n.mul(L,D),$=n.mul(S,$),F=n.sub(N,$),F=n.mul(S,F),F=n.add(F,D),D=n.add(N,N),N=n.add(D,N),N=n.add(N,$),N=n.mul(N,F),C=n.add(C,N),$=n.mul(B,w),$=n.add($,$),N=n.mul($,F),E=n.sub(E,N),D=n.mul($,H),D=n.add(D,D),D=n.add(D,D),new R(E,C,D)}add(S){g(S);const{px:P,py:L,pz:G}=this,{px:B,py:w,pz:E}=S;let C=n.ZERO,D=n.ZERO,N=n.ZERO;const H=t.a,$=n.mul(t.b,c0);let F=n.mul(P,B),M=n.mul(L,w),q=n.mul(G,E),J=n.add(P,L),ie=n.add(B,w);J=n.mul(J,ie),ie=n.add(F,M),J=n.sub(J,ie),ie=n.add(P,G);let de=n.add(B,E);return ie=n.mul(ie,de),de=n.add(F,q),ie=n.sub(ie,de),de=n.add(L,G),C=n.add(w,E),de=n.mul(de,C),C=n.add(M,q),de=n.sub(de,C),N=n.mul(H,ie),C=n.mul($,q),N=n.add(C,N),C=n.sub(M,N),N=n.add(M,N),D=n.mul(C,N),M=n.add(F,F),M=n.add(M,F),q=n.mul(H,q),ie=n.mul($,ie),M=n.add(M,q),q=n.sub(F,q),q=n.mul(H,q),ie=n.add(ie,q),F=n.mul(M,ie),D=n.add(D,F),F=n.mul(de,ie),C=n.mul(J,C),C=n.sub(C,F),F=n.mul(J,M),N=n.mul(de,N),N=n.add(N,F),new R(C,D,N)}subtract(S){return this.add(S.negate())}is0(){return this.equals(R.ZERO)}multiply(S){const{endo:P}=e;if(!r.isValidNot0(S))throw new Error("invalid scalar: out of range");let L,G;const B=w=>_.wNAFCached(this,w,R.normalizeZ);if(P){const{k1neg:w,k1:E,k2neg:C,k2:D}=P.splitScalar(S),{p:N,f:H}=B(E),{p:$,f:F}=B(D);G=H.add(F),L=x(P.beta,N,$,w,C)}else{const{p:w,f:E}=B(S);L=w,G=E}return R.normalizeZ([L,G])[0]}multiplyUnsafe(S){const{endo:P}=e,L=this;if(!r.isValid(S))throw new Error("invalid scalar: out of range");if(S===Bh||L.is0())return R.ZERO;if(S===Fh)return L;if(_.hasPrecomputes(this))return this.multiply(S);if(P){const{k1neg:G,k1:B,k2neg:w,k2:E}=P.splitScalar(S),{p1:C,p2:D}=zK(R,L,B,E);return x(P.beta,C,D,G,w)}else return _.wNAFCachedUnsafe(L,S)}multiplyAndAddUnsafe(S,P,L){const G=this.multiplyUnsafe(P).add(S.multiplyUnsafe(L));return G.is0()?void 0:G}toAffine(S){return v(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return i===Fh?!0:S?S(R,this):_.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:S}=e;return i===Fh?this:S?S(R,this):this.multiplyUnsafe(i)}toBytes(S=!0){return Cy("isCompressed",S),this.assertValidity(),u(R,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return hp(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}R.BASE=new R(t.Gx,t.Gy,n.ONE),R.ZERO=new R(n.ZERO,n.ONE,n.ZERO),R.Fp=n,R.Fn=r;const k=r.BITS,_=UK(R,e.endo?Math.ceil(k/2):k);return R}function c4(t){return Uint8Array.of(t?2:3)}function QK(t,e,n={}){zS(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||eW,i=e.hmac||((L,...G)=>JF(e.hash,L,pc(...G))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s;function c(L){const G=a>>Fh;return L>G}function u(L){return c(L)?s.neg(L):L}function d(L,G){if(!s.isValidNot0(G))throw new Error(`invalid signature ${L}: out of range 1..CURVE.n`)}class f{constructor(G,B,w){d("r",G),d("s",B),this.r=G,this.s=B,w!=null&&(this.recovery=w),Object.freeze(this)}static fromCompact(G){const B=s.BYTES,w=no("compactSignature",G,B*2);return new f(s.fromBytes(w.subarray(0,B)),s.fromBytes(w.subarray(B,B*2)))}static fromDER(G){const{r:B,s:w}=Ks.toSig(no("DER",G));return new f(B,w)}assertValidity(){}addRecoveryBit(G){return new f(this.r,this.s,G)}recoverPublicKey(G){const B=o.ORDER,{r:w,s:E,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*WK<B&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=C===2||C===3?w+a:w;if(!o.isValid(N))throw new Error("recovery id 2 or 3 invalid");const H=o.toBytes(N),$=t.fromHex(pc(c4((C&1)===0),H)),F=s.inv(N),M=b(no("msgHash",G)),q=s.create(-M*F),J=s.create(E*F),ie=t.BASE.multiplyUnsafe(q).add($.multiplyUnsafe(J));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,s.neg(this.s),this.recovery):this}toBytes(G){if(G==="compact")return pc(s.toBytes(this.r),s.toBytes(this.s));if(G==="der")return pS(Ks.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return hp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return hp(this.toBytes("compact"))}}const h=l4(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(L){try{return h(L),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const L=a;return BK(r(o4(L)),L)},precompute(L=8,G=t.BASE){return G.precompute(L,!1)}};function m(L,G=!0){return t.fromPrivateKey(L).toBytes(G)}function y(L){if(typeof L=="bigint")return!1;if(L instanceof t)return!0;const B=no("key",L).length,w=o.BYTES,E=w+1,C=2*w+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===E))return B===E||B===C}function g(L,G,B=!0){if(y(L)===!0)throw new Error("first arg must be private key");if(y(G)===!1)throw new Error("second arg must be public key");return t.fromHex(G).multiply(h(L)).toBytes(B)}const v=e.bits2int||function(L){if(L.length>8192)throw new Error("input is too large");const G=iw(L),B=L.length*8-l;return B>0?G>>BigInt(B):G},b=e.bits2int_modN||function(L){return s.create(v(L))},x=ow(l);function R(L){return L$("num < 2^"+l,L,Bh,x),s.toBytes(L)}function k(L,G,B=_){if(["recovered","canonical"].some(J=>J in B))throw new Error("sign() legacy options not supported");const{hash:w}=e;let{lowS:E,prehash:C,extraEntropy:D}=B;E==null&&(E=!0),L=no("msgHash",L),j3(B),C&&(L=no("prehashed msgHash",w(L)));const N=b(L),H=h(G),$=[R(H),R(N)];if(D!=null&&D!==!1){const J=D===!0?r(o.BYTES):D;$.push(no("extraEntropy",J))}const F=pc(...$),M=N;function q(J){const ie=v(J);if(!s.isValidNot0(ie))return;const de=s.inv(ie),ve=t.BASE.multiply(ie).toAffine(),Pe=s.create(ve.x);if(Pe===Bh)return;const Ae=s.create(de*s.create(M+Pe*H));if(Ae===Bh)return;let st=(ve.x===Pe?0:2)|Number(ve.y&Fh),yt=Ae;return E&&c(Ae)&&(yt=u(Ae),st^=1),new f(Pe,yt,st)}return{seed:F,k2sig:q}}const _={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function S(L,G,B=_){const{seed:w,k2sig:E}=k(L,G,B);return U$(e.hash.outputLen,s.BYTES,i)(w,E)}t.BASE.precompute(8);function P(L,G,B,w=I){const E=L;G=no("msgHash",G),B=no("publicKey",B),j3(w);const{lowS:C,prehash:D,format:N}=w;if("strict"in w)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&!["compact","der","js"].includes(N))throw new Error('format must be "compact", "der" or "js"');const H=typeof E=="string"||hS(E),$=!H&&!N&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!H&&!$)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,M;try{if($)if(N===void 0||N==="js")F=new f(E.r,E.s);else throw new Error("invalid format");if(H){try{N!=="compact"&&(F=f.fromDER(E))}catch(yt){if(!(yt instanceof Ks.Err))throw yt}!F&&N!=="der"&&(F=f.fromCompact(E))}M=t.fromHex(B)}catch{return!1}if(!F||C&&F.hasHighS())return!1;D&&(G=e.hash(G));const{r:q,s:J}=F,ie=b(G),de=s.inv(J),ve=s.create(ie*de),Pe=s.create(q*de),Ae=t.BASE.multiplyUnsafe(ve).add(M.multiplyUnsafe(Pe));return Ae.is0()?!1:s.create(Ae.x)===q}return Object.freeze({getPublicKey:m,getSharedSecret:g,sign:S,verify:P,utils:p,Point:t,Signature:f})}function KK(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=hw(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function XK(t){const{CURVE:e,curveOpts:n}=KK(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function YK(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function JK(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=XK(t),i=qK(e,n),o=QK(i,r,n);return YK(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZK(t,e){const n=r=>JK({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const My={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const eX=BigInt(1),lA=BigInt(2),H3=(t,e)=>(t+e/lA)/e;function tX(t){const e=My.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=Yi(u,n,e)*u%e,f=Yi(d,n,e)*u%e,h=Yi(f,lA,e)*c%e,p=Yi(h,i,e)*h%e,m=Yi(p,o,e)*p%e,y=Yi(m,a,e)*m%e,g=Yi(y,l,e)*y%e,v=Yi(g,a,e)*m%e,b=Yi(v,n,e)*u%e,x=Yi(b,s,e)*p%e,R=Yi(x,r,e)*c%e,k=Yi(R,lA,e);if(!cA.eql(cA.sqr(k),t))throw new Error("Cannot find square root");return k}const cA=hw(My.p,void 0,void 0,{sqrt:tX}),u4=ZK({...My,Fp:cA,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=My.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eX*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=H3(o*t,e),l=H3(-r*t,e);let c=io(t-a*n-l*i,e),u=io(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},AB),nX=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:u4},Symbol.toStringTag,{value:"Module"}));function rX({r:t,s:e,to:n="hex",v:r,yParity:i}){const o=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new u4.Signature(pr(t),pr(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?s:yo(s)}async function tC(t,e){const{address:n,factory:r,factoryData:i,hash:o,signature:s,universalSignatureVerifierAddress:a=t.chain?.contracts?.universalSignatureVerifier?.address,...l}=e,c=Ms(s)?s:typeof s=="object"&&"r"in s&&"s"in s?rX(s):Jn(s),u=await(async()=>!r&&!i||ZQ(c)?c:eK({address:r,data:i,signature:c}))();try{const d=a?{to:a,data:Ao({abi:y3,functionName:"isValidSig",args:[n,o,u]}),...l}:{data:Vv({abi:y3,args:[n,o,u],bytecode:dq}),...l},{data:f}=await Ct(t,sw,"call")(d);return xG(f??"0x0")}catch(d){try{if(lw(Tr(n),await cB({hash:o,signature:s})))return!0}catch{}if(d instanceof JB)return!1;throw d}}async function iX(t,{address:e,message:n,factory:r,factoryData:i,signature:o,...s}){const a=GF(n);return tC(t,{address:e,factory:r,factoryData:i,hash:a,signature:o,...s})}async function oX(t,e){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:l,domain:c,...u}=e,d=OQ({message:s,primaryType:a,types:l,domain:c});return tC(t,{address:n,factory:r,factoryData:i,hash:d,signature:o,...u})}async function sX(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function aX(t,e){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const y=f??!1,g=ar(["watchContractEvent",r,i,o,t.uid,s,d,y,a]);return wa(g,{onLogs:c,onError:l},v=>{let b;a!==void 0&&(b=a-1n);let x,R=!1;const k=xf(async()=>{if(!R){try{x=await Ct(t,xF,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:y,fromBlock:a})}catch{}R=!0;return}try{let _;if(x)_=await Ct(t,cw,"getFilterChanges")({filter:x});else{const I=await Ct(t,gm,"getBlockNumber")({});b&&b<I?_=await Ct(t,_F,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:b+1n,toBlock:I,strict:y}):_=[],b=I}if(_.length===0)return;if(o)v.onLogs(_);else for(const I of _)v.onLogs([I])}catch(_){x&&_ instanceof jc&&(R=!1),v.onError?.(_)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await Ct(t,fw,"uninstallFilter")({filter:x}),k()}})})():(()=>{const y=f??!1,g=ar(["watchContractEvent",r,i,o,t.uid,s,d,y]);let v=!0,b=()=>v=!1;return wa(g,{onLogs:c,onError:l},x=>((async()=>{try{const R=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find(S=>S.config.type==="webSocket");return I?I.value:t.transport}return t.transport})(),k=s?mm({abi:n,eventName:s,args:i}):[],{unsubscribe:_}=await R.subscribe({params:["logs",{address:r,topics:k}],onData(I){if(!v)return;const S=I.result;try{const{eventName:P,args:L}=qS({abi:n,data:S.data,topics:S.topics,strict:f}),G=va(S,{args:L,eventName:P});x.onLogs([G])}catch(P){let L,G;if(P instanceof dp||P instanceof Gv){if(f)return;L=P.abiItem.name,G=P.abiItem.inputs?.some(w=>!("name"in w&&w.name))}const B=va(S,{args:G?[]:{},eventName:L});x.onLogs([B])}},onError(I){x.onError?.(I)}});b=_,v||b()}catch(R){l?.(R)}})(),()=>b()))})()}async function lX(t,e){const{abi:n,account:r=t.account,address:i,args:o,dataSuffix:s,functionName:a,...l}=e;if(typeof r>"u")throw new au({docsPath:"/docs/contract/writeContract"});const c=r?Dn(r):null,u=Ao({abi:n,args:o,functionName:a});try{return await Ct(t,ew,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:i,account:c,...l})}catch(d){throw Gc(d,{abi:n,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:c?.address})}}function Ef(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const Tg="2.17.3",cX=()=>`@wagmi/core@${Tg}`;var d4=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Iy,f4;let Ta=class uA extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return cX()}constructor(e,n={}){super(),Iy.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof uA?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof uA&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return d4(this,Iy,"m",f4).call(this,this,e)}};Iy=new WeakSet,f4=function t(e,n){return n?.(e)?e:e.cause?d4(this,Iy,"m",t).call(this,e.cause,n):e};class $c extends Ta{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class uX extends Ta{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class dX extends Ta{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class fX extends Ta{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class hX extends Ta{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class pX extends Ta{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function mX(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new uX;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...i}=e,o=await n.connect(i),s=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(r){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),r}}const dA=256;let u0=dA,d0;function h4(t=11){if(!d0||u0+t>dA*2){d0="",u0=0;for(let e=0;e<dA;e++)d0+=(256+Math.random()*256|0).toString(16).substring(1)}return d0.substring(u0,u0+++t)}function p4(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(a/2),500),4e3),c=t.pollingInterval??l,u=t.cacheTime??c,d=t.account?Dn(t.account):void 0,{config:f,request:h,value:p}=t.transport({chain:n,pollingInterval:c}),m={...f,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:i,name:o,pollingInterval:c,request:h,transport:m,type:s,uid:h4()};function g(v){return b=>{const x=b(v);for(const k in y)delete x[k];const R={...v,...x};return Object.assign(R,{extend:g(R)})}}return Object.assign(y,{extend:g(y)})}function m4({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},l){const c=h4();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:TQ(r,{methods:e,retryCount:i,retryDelay:o,uid:c}),value:l}}function gX(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>m4({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class yX extends Ie{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Qa(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:l,retryDelay:c,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},y=e.retryCount??f,g=h??e.timeout??1e4,v=t||d?.rpcUrls.default.http[0];if(!v)throw new yX;const b=RQ(v,{fetchOptions:r,onRequest:a,onResponse:l,timeout:g});return m4({key:i,methods:o,name:s,async request({method:x,params:R}){const k={method:x,params:R},{schedule:_}=pF({id:v,wait:m,shouldSplitBatch(L){return L.length>p},fn:L=>b.request({body:L}),sort:(L,G)=>L.id-G.id}),I=async L=>n?_(L):[await b.request({body:L})],[{error:S,result:P}]=await I(k);if(u)return{error:S,result:P};if(S)throw new AS({body:k,error:S,url:v});return P},retryCount:y,retryDelay:c,timeout:g,type:"http"},{fetchOptions:r,url:v})}}function vX(t){const{scheme:e,statement:n,...r}=t.match(wX)?.groups??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:l,...c}=t.match(bX)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const wX=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,bX=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function xX(t){const{address:e,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!Zn(r.address,{strict:!1})||e&&!lw(r.address,e))return!1}catch{return!1}return!0}async function EX(t,e){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:l=new Date,...c}=e,u=vX(i);if(!u.address||!xX({address:n,domain:r,message:u,nonce:o,scheme:s,time:l}))return!1;const f=GF(i);return tC(t,{address:u.address,hash:f,signature:a,...c})}function AX(t){return{call:e=>sw(t,e),createAccessList:e=>bF(t,e),createBlockFilter:()=>Pq(t),createContractEventFilter:e=>xF(t,e),createEventFilter:e=>EF(t,e),createPendingTransactionFilter:()=>AF(t),estimateContractGas:e=>kq(t,e),estimateGas:e=>RS(t,e),getBalance:e=>IS(t,e),getBlobBaseFee:()=>Oq(t),getBlock:e=>ws(t,e),getBlockNumber:e=>gm(t,e),getBlockTransactionCount:e=>zq(t,e),getBytecode:e=>P3(t,e),getChainId:()=>vf(t),getCode:e=>P3(t,e),getContractEvents:e=>_F(t,e),getEip712Domain:e=>Wq(t,e),getEnsAddress:e=>yq(t,e),getEnsAvatar:e=>vF(t,e),getEnsName:e=>wF(t,e),getEnsResolver:e=>Rq(t,e),getEnsText:e=>yF(t,e),getFeeHistory:e=>qq(t,e),estimateFeesPerGas:e=>rV(t,e),getFilterChanges:e=>cw(t,e),getFilterLogs:e=>Qq(t,e),getGasPrice:()=>TS(t),getLogs:e=>KS(t,e),getProof:e=>vK(t,e),estimateMaxPriorityFeePerGas:e=>nV(t,e),getStorageAt:e=>Kq(t,e),getTransaction:e=>XS(t,e),getTransactionConfirmations:e=>Xq(t,e),getTransactionCount:e=>PS(t,e),getTransactionReceipt:e=>eA(t,e),multicall:e=>TF(t,e),prepareTransactionRequest:e=>Zv(t,e),readContract:e=>Ps(t,e),sendRawTransaction:e=>BS(t,e),simulate:e=>tA(t,e),simulateBlocks:e=>tA(t,e),simulateCalls:e=>iK(t,e),simulateContract:e=>SK(t,e),verifyMessage:e=>iX(t,e),verifySiweMessage:e=>EX(t,e),verifyTypedData:e=>oX(t,e),uninstallFilter:e=>fw(t,e),waitForTransactionReceipt:e=>wK(t,e),watchBlocks:e=>sK(t,e),watchBlockNumber:e=>VF(t,e),watchContractEvent:e=>aX(t,e),watchEvent:e=>aK(t,e),watchPendingTransactions:e=>lK(t,e)}}function _X(t){return{addChain:e=>SG(t,e),deployContract:e=>AV(t,e),getAddresses:()=>cK(t),getCallsStatus:e=>QF(t,e),getCapabilities:e=>dK(t,e),getChainId:()=>vf(t),getPermissions:()=>uK(t),prepareAuthorization:e=>KF(t,e),prepareTransactionRequest:e=>Zv(t,e),requestAddresses:()=>bK(t),requestPermissions:e=>xK(t,e),sendCalls:e=>fK(t,e),sendRawTransaction:e=>BS(t,e),sendTransaction:e=>ew(t,e),showCallsStatus:e=>hK(t,e),signAuthorization:e=>EK(t,e),signMessage:e=>XF(t,e),signTransaction:e=>AK(t,e),signTypedData:e=>_K(t,e),switchChain:e=>CK(t,e),waitForCallsStatus:e=>pK(t,e),watchAsset:e=>sX(t,e),writeContract:e=>lX(t,e)}}async function g4(t,e={}){let n;if(e.connector){const{connector:c}=e;if(t.state.status==="reconnecting"&&!c.getAccounts&&!c.getChainId)throw new pX({connector:c});const[u,d]=await Promise.all([c.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),c.getChainId()]);n={accounts:u,chainId:d,connector:c}}else n=t.state.connections.get(t.state.current);if(!n)throw new dX;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new hX({connectionChainId:n.chainId,connectorChainId:i});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const s=Dn(e.account??n.accounts[0]);if(s&&(s.address=Tr(s.address)),e.account&&!n.accounts.some(c=>c.toLowerCase()===s.address.toLowerCase()))throw new fX({address:s.address,connector:o});const a=t.chains.find(c=>c.id===r),l=await n.connector.getProvider({chainId:r});return p4({account:s,chain:a,name:"Connector Client",transport:c=>gX(l)({...c,retryCount:0})})}async function SX(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:i,current:o}=t.state;n=i.get(o)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...i,connections:new Map(r),current:o.connector.uid}});{const i=t.state.current;if(!i)return;const o=t.state.connections.get(i)?.connector;if(!o)return;await t.storage?.setItem("recentConnectorId",o.id)}}function y4(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(UW[t])}function v4(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,i=r?.[0],o=t.chains.find(a=>a.id===n?.chainId),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}async function CX(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...o}=e,s=t.getClient({chainId:r});return Ef(s,TF,"multicall")({allowFailure:n,contracts:i,...o})}function TX(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Ef(i,Ps,"readContract")(r)}async function MX(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:i,...o}=e,s=e.contracts;try{const a={};for(const[d,f]of s.entries()){const h=f.chainId??t.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:f,index:d})}const l=()=>Object.entries(a).map(([d,f])=>CX(t,{...o,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(d),contracts:f.map(({contract:h})=>h)})),c=(await Promise.all(l())).flat(),u=Object.values(a).flatMap(d=>d.map(({index:f})=>f));return c.reduce((d,f,h)=>(d&&(d[u[h]]=f),d),[])}catch(a){if(a instanceof ZB)throw a;const l=()=>s.map(c=>TX(t,{...c,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function IX(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:o,token:s,unit:a="ether"}=e;if(s)try{return await G3(t,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:s})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await G3(t,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:s}),p=EG(bi(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const l=t.getClient({chainId:o}),u=await Ef(l,IS,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),d=t.chains.find(f=>f.id===o)??l.chain;return{decimals:d.nativeCurrency.decimals,formatted:qv(u,y4(a)),symbol:d.nativeCurrency.symbol,value:u}}async function G3(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:o,unit:s}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:o},[l,c,u]=await MX(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=qv(l??"0",y4(s??c));return{decimals:c,formatted:d,symbol:u,value:l}}function W3(t){return t.state.chainId}function Tl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tl(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!Tl(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let Yb=[];function V3(t){const e=t.chains;return Tl(Yb,e)?Yb:(Yb=e,e)}function RX(t,e={}){let n;try{n=t.getClient(e)}catch{}return n}let f0=[];function fA(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Tl(f0,e)?f0:(f0=e,e)}let Jb=[];function $3(t){const e=t.connectors;return Tl(Jb,e)?Jb:(Jb=e,e)}function PX(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Ef(i,vF,"getEnsAvatar")(r)}function NX(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Ef(i,wF,"getEnsName")(r)}function hA(t,e={}){return RX(t,e)?.extend(AX)}async function kX(t,e={}){return(await g4(t,e)).extend(_X)}let Zb=!1;async function OX(t,e={}){if(Zb)return[];Zb=!0,t.setState(c=>({...c,status:c.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const c of e.connectors){let u;typeof c=="function"?u=t._internal.connectors.setup(c):u=c,n.push(u)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,c]of t.state.connections)i[c.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((c,u)=>(i[c.id]??10)-(i[u.id]??10)):n;let s=!1;const a=[],l=[];for(const c of o){const u=await c.getProvider().catch(()=>{});if(!u||l.some(h=>h===u)||!await c.isAuthorized())continue;const f=await c.connect({isReconnecting:!0}).catch(()=>null);f&&(c.emitter.off("connect",t._internal.events.connect),c.emitter.on("change",t._internal.events.change),c.emitter.on("disconnect",t._internal.events.disconnect),t.setState(h=>{const p=new Map(s?h.connections:new Map).set(c.uid,{accounts:f.accounts,chainId:f.chainId,connector:c});return{...h,current:s?h.current:c.uid,connections:p}}),a.push({accounts:f.accounts,chainId:f.chainId,connector:c}),l.push(u),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(c=>({...c,status:"connected"})):t.setState(c=>({...c,connections:new Map,current:null,status:"disconnected"}))),Zb=!1,a}async function BX(t,e){const{account:n,connector:r,...i}=e;let o;return typeof n=="object"&&n.type==="local"?o=t.getClient():o=await g4(t,{account:n,connector:r}),Ef(o,XF,"signMessage")({...i,...n?{account:n}:{}})}class ao extends Ta{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class FX extends Ta{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function LX(t,e){const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(e.connector?.uid??t.state.current);if(i){const s=i.connector;if(!s.switchChain)throw new FX({connector:s});return await s.switchChain({addEthereumChainParameter:n,chainId:r})}const o=t.chains.find(s=>s.id===r);if(!o)throw new $c;return t.setState(s=>({...s,chainId:r})),o}function w4(t,e){const{onChange:n}=e;return t.subscribe(()=>v4(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...l}=i;return Tl(s,l)&&o?.id===a?.id&&o?.uid===a?.uid}})}function DX(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function UX(t,e){const{onChange:n}=e;return t.subscribe(()=>fA(t),n,{equalityFn:Tl})}function zX(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function jX(t,e){const{onChange:n}=e;return t.subscribe(()=>hA(t),n,{equalityFn(r,i){return r?.uid===i?.uid}})}vm.type="injected";function vm(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...HX[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let i,o,s,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:vm.type,async setup(){const c=await this.getProvider();c?.on&&t.target&&(s||(s=this.onConnect.bind(this),c.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u}={}){const d=await this.getProvider();if(!d)throw new ao;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>Tr(p)),f.length>0&&(f=await this.getAccounts())}catch(h){const p=h;if(p.code===vn.code)throw new vn(p);if(p.code===yl.code)throw p}try{!f?.length&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(m=>Tr(m))),s&&(d.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let h=await this.getChainId();return c&&h!==c&&(h=(await this.switchChain({chainId:c}).catch(m=>{if(m.code===vn.code)throw m;return{id:h}}))?.id??h),e&&await l.storage?.removeItem(`${this.id}.disconnected`),t.target||await l.storage?.setItem("injected.connected",!0),{accounts:f,chainId:h}}catch(h){const p=h;throw p.code===vn.code?new vn(p):p.code===yl.code?new yl(p):p}},async disconnect(){const c=await this.getProvider();if(!c)throw new ao;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),c.on("connect",s));try{await ZS(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await l.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await l.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new ao;return(await c.request({method:"eth_accounts"})).map(d=>Tr(d))},async getChainId(){const c=await this.getProvider();if(!c)throw new ao;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=Mg(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(e&&await l.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await l.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(f()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(f()),h))]))return!0}throw new ao}return!!(await Ty(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){const d=await this.getProvider();if(!d)throw new ao;const f=l.chains.find(p=>p.id===u);if(!f)throw new wo(new $c);const h=new Promise(p=>{const m=y=>{"chainId"in y&&y.chainId===u&&(l.emitter.off("change",m),p())};l.emitter.on("change",m)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:De(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),h]),f}catch(p){const m=p;if(m.code===4902||m?.data?.originalError?.code===4902)try{const{default:y,...g}=f.blockExplorers??{};let v;c?.blockExplorerUrls?v=c.blockExplorerUrls:y&&(v=[y.url,...Object.values(g).map(R=>R.url)]);let b;c?.rpcUrls?.length?b=c.rpcUrls:b=[f.rpcUrls.default?.http[0]??""];const x={blockExplorerUrls:v,chainId:De(u),chainName:c?.chainName??f.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??f.nativeCurrency,rpcUrls:b};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[x]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new vn(new Error("User rejected switch after adding network."))}),h]),f}catch(y){throw new vn(y)}throw m.code===vn.code?new vn(m):new wo(m)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const u=(await this.getChainId()).toString();this.onConnect({chainId:u}),e&&await l.storage?.removeItem(`${this.id}.disconnected`)}else l.emitter.emit("change",{accounts:c.map(u=>Tr(u))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const d=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const HX={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:Mg(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return Mg(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:Mg(t,"isPhantom")}}};function Mg(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function GX(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function WX(){const t=new Set;let e=[];const n=()=>GX(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}const VX=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let c=s;if(a){const u=l?.equalityFn||Object.is;let d=s(r.getState());c=f=>{const h=s(f);if(!u(d,h)){const p=d;a(d=h,p)}},l?.fireImmediately&&a(d,d)}return i(c)},t(e,n,r)},$X=VX;function qX(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const pA=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return pA(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return pA(r)(n)}}}},QX=(t,e)=>(n,r,i)=>{let o={storage:qX(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let h;const p=()=>{var m,y;if(!c)return;s=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:f)});const g=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(m=r())!=null?m:f))||void 0;return pA(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,R]=v;if(h=o.merge(R,(b=r())!=null?b:f),n(h,!0),x)return u()}).then(()=>{g?.(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{g?.(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},o.skipHydration||p(),h||f},KX=QX,q3=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},e1=t=>t?q3(t):q3;var b4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,p){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],g=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,p),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var x=y.length,R;for(b=0;b<x;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,f);break;default:if(!v)for(R=1,v=new Array(g-1);R<g;R++)v[R-1]=arguments[R];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,y=[],g=p.length;m<g;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(b4);var XX=b4.exports;const YX=em(XX);class JX{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new YX})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function ZX(t){return new JX(t)}function eY(t,e){return JSON.parse(t,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(n,i)??i})}function Q3(t,e){return t.slice(0,e).join(".")||"."}function K3(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function tY(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,l){if(typeof l=="object")if(i.length){const c=K3(i,this);c===0?i[i.length]=this:(i.splice(c),o.splice(c)),o[o.length]=a;const u=K3(i,l);if(u!==0)return r?e.call(this,a,l,Q3(o,u)):`[ref=${Q3(o,u)}]`}else i[0]=l,o[0]=a;return n?t.call(this,a,l):l}}function nY(t,e,n,r){return JSON.stringify(t,tY((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),e?.(i,s)??s},r),n??void 0)}function rY(t){const{deserialize:e=eY,key:n="wagmi",serialize:r=nY,storage:i=x4}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const l=i.getItem(`${n}.${s}`),c=await o(l);return c?e(c)??null:a??null},async setItem(s,a){const l=`${n}.${s}`;a===null?await o(i.removeItem(l)):await o(i.setItem(l,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const x4={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function iY(){const t=typeof window<"u"&&window.localStorage?window.localStorage:x4;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const mA=256;let h0=mA,p0;function oY(t=11){if(!p0||h0+t>mA*2){p0="",h0=0;for(let e=0;e<mA;e++)p0+=(256+Math.random()*256|0).toString(16).substring(1)}return p0.substring(h0,h0+++t)}function E4(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=rY({storage:iY()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?WX():void 0,a=e1(()=>o.chains),l=e1(()=>{const R=[],k=new Set;for(const _ of o.connectors??[]){const I=c(_);if(R.push(I),!i&&I.rdns){const S=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const P of S)k.add(P)}}if(!i&&s){const _=s.getProviders();for(const I of _)k.has(I.info.rdns)||R.push(c(u(I)))}return R});function c(R){const k=ZX(oY()),_={...R({emitter:k,chains:a.getState(),storage:n,transports:o.transports}),emitter:k,uid:k.uid};return k.on("connect",b),_.setup?.(),_}function u(R){const{info:k}=R,_=R.provider;return vm({target:{...k,id:k.rdns,provider:_}})}const d=new Map;function f(R={}){const k=R.chainId??y.getState().chainId,_=a.getState().find(S=>S.id===k);if(R.chainId&&!_)throw new $c;{const S=d.get(y.getState().chainId);if(S&&!_)return S;if(!_)throw new $c}{const S=d.get(k);if(S)return S}let I;if(o.client)I=o.client({chain:_});else{const S=_.id,P=a.getState().map(B=>B.id),L={},G=Object.entries(o);for(const[B,w]of G)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof w=="object")if(S in w)L[B]=w[S];else{if(P.some(C=>C in w))continue;L[B]=w}else L[B]=w;I=p4({...L,chain:_,batch:L.batch??{multicall:!0},transport:B=>o.transports[S]({...B,connectors:l})})}return d.set(k,I),I}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";Tg.startsWith(m)?p=Number.parseInt(Tg.replace(m,"")):p=Number.parseInt(Tg.split(".")[0]??"0");const y=e1($X(n?KX(h,{migrate(R,k){if(k===p)return R;const _=h(),I=g(R,_.chainId);return{..._,chainId:I}},name:"store",partialize(R){return{connections:{__type:"Map",value:Array.from(R.connections.entries()).map(([k,_])=>{const{id:I,name:S,type:P,uid:L}=_.connector;return[k,{..._,connector:{id:I,name:S,type:P,uid:L}}]})},chainId:R.chainId,current:R.current}},merge(R,k){typeof R=="object"&&R&&"status"in R&&delete R.status;const _=g(R,k.chainId);return{...k,...R,chainId:_}},skipHydration:i,storage:n,version:p}):h));y.setState(h());function g(R,k){return R&&typeof R=="object"&&"chainId"in R&&typeof R.chainId=="number"&&a.getState().some(_=>_.id===R.chainId)?R.chainId:k}r&&y.subscribe(({connections:R,current:k})=>k?R.get(k)?.chainId:void 0,R=>{if(a.getState().some(_=>_.id===R))return y.setState(_=>({..._,chainId:R??_.chainId}))}),s?.subscribe(R=>{const k=new Set,_=new Set;for(const S of l.getState())if(k.add(S.id),S.rdns){const P=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const L of P)_.add(L)}const I=[];for(const S of R){if(_.has(S.info.rdns))continue;const P=c(u(S));k.has(P.id)||I.push(P)}n&&!y.persist.hasHydrated()||l.setState(S=>[...S,...I],!0)});function v(R){y.setState(k=>{const _=k.connections.get(R.uid);return _?{...k,connections:new Map(k.connections).set(R.uid,{accounts:R.accounts??_.accounts,chainId:R.chainId??_.chainId,connector:_.connector})}:k})}function b(R){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(k=>{const _=l.getState().find(I=>I.uid===R.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",v),_.emitter.listenerCount("change")||_.emitter.on("change",v),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",x),{...k,connections:new Map(k.connections).set(R.uid,{accounts:R.accounts,chainId:R.chainId,connector:_}),current:R.uid,status:"connected"}):k})}function x(R){y.setState(k=>{const _=k.connections.get(R.uid);if(_){const S=_.connector;S.emitter.listenerCount("change")&&_.connector.emitter.off("change",v),S.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",x),S.emitter.listenerCount("connect")||_.connector.emitter.on("connect",b)}if(k.connections.delete(R.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const I=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:I.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return y.getState()},setState(R){let k;typeof R=="function"?k=R(y.getState()):k=R;const _=h();typeof k!="object"&&(k=_),Object.keys(_).some(S=>!(S in k))&&(k=_),y.setState(k,!0)},subscribe(R,k,_){return y.subscribe(R,k,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:s,store:y,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(R){const k=typeof R=="function"?R(a.getState()):R;if(k.length!==0)return a.setState(k,!0)},subscribe(R){return a.subscribe(R)}},connectors:{providerDetailToConnector:u,setup:c,setState(R){return l.setState(typeof R=="function"?R(l.getState()):R,!0)},subscribe(R){return l.subscribe(R)}},events:{change:v,connect:b,disconnect:x}}}}function sY(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{const o=new Set;for(const l of i??[])if(l.rdns){const c=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const u of c)o.add(u)}const s=[],a=t._internal.mipd?.getProviders()??[];for(const l of a){if(o.has(l.info.rdns))continue;const c=t._internal.connectors.providerDetailToConnector(l),u=t._internal.connectors.setup(c);s.push(u)}return[...i,...s]})),r?OX(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function aY(t){const{chain:e}=t,n=e.rpcUrls.default.http[0];if(!t.transports)return[n];const r=t.transports?.[e.id]?.({chain:e});return(r?.value?.transports||[r]).map(({value:o})=>o?.url||n)}function lY(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=sY(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=j.useRef(!0);return j.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const A4=j.createContext(void 0);function cY(t){const{children:e,config:n}=t,r={value:n};return j.createElement(lY,t,j.createElement(A4.Provider,r,e))}const uY="2.15.6",dY=()=>`wagmi@${uY}`;class fY extends Ta{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return dY()}}class hY extends fY{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function ur(t={}){const e=t.config??j.useContext(A4);if(!e)throw new hY;return e}function pY(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,i)=>{n(r,i)})}var _4={exports:{}},S4={},C4={exports:{}},T4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=j;function mY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gY=typeof Object.is=="function"?Object.is:mY,yY=Vd.useState,vY=Vd.useEffect,wY=Vd.useLayoutEffect,bY=Vd.useDebugValue;function xY(t,e){var n=e(),r=yY({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return wY(function(){i.value=n,i.getSnapshot=e,t1(i)&&o({inst:i})},[t,n,e]),vY(function(){return t1(i)&&o({inst:i}),t(function(){t1(i)&&o({inst:i})})},[t]),bY(n),n}function t1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gY(t,n)}catch{return!0}}function EY(t,e){return e()}var AY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EY:xY;T4.useSyncExternalStore=Vd.useSyncExternalStore!==void 0?Vd.useSyncExternalStore:AY;C4.exports=T4;var _Y=C4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=j,SY=_Y;function CY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TY=typeof Object.is=="function"?Object.is:CY,MY=SY.useSyncExternalStore,IY=pw.useRef,RY=pw.useEffect,PY=pw.useMemo,NY=pw.useDebugValue;S4.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=IY(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=PY(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,TY(u,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(u=h,p):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=MY(t,o[0],o[1]);return RY(function(){s.hasValue=!0,s.value=a},[a]),NY(a),a};_4.exports=S4;var M4=_4.exports;const n1=t=>typeof t=="object"&&!Array.isArray(t);function kY(t,e,n=e,r=Tl){const i=j.useRef([]),o=M4.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(n1(s)&&n1(a)&&i.current.length){for(const l of i.current)if(!r(s[l],a[l]))return!1;return!0}return r(s,a)});return j.useMemo(()=>{if(n1(o)){const s={...o};let a={};for(const[l,c]of Object.entries(s))a={...a,[l]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(l)||i.current.push(l),c)}};return Object.defineProperties(s,a),s}return o},[o])}function Rr(t={}){const e=ur(t);return kY(n=>w4(e,{onChange:n}),()=>v4(e))}function I4(t={}){const{onConnect:e,onDisconnect:n}=t,r=ur(t);j.useEffect(()=>w4(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:l,chainId:c,connector:u}=i,d=o.status==="reconnecting"||o.status===void 0;e?.({address:s,addresses:a,chain:l,chainId:c,connector:u,isReconnected:d})}else o.status==="connected"&&i.status==="disconnected"&&n?.()}}),[r,e,n])}var Af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qc=typeof window>"u"||"Deno"in globalThis;function Vr(){}function OY(t,e){return typeof t=="function"?t(e):t}function gA(t){return typeof t=="number"&&t>=0&&t!==1/0}function R4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vl(t,e){return typeof t=="function"?t(e):t}function Lo(t,e){return typeof t=="function"?t(e):t}function X3(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==nC(s,e.options))return!1}else if(!Np(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function Y3(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Qc(e.options.mutationKey)!==Qc(o))return!1}else if(!Np(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function nC(t,e){return(e?.queryKeyHashFn||Qc)(t)}function Qc(t){return JSON.stringify(t,(e,n)=>yA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Np(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Np(t[n],e[n])):!1}function P4(t,e){if(t===e)return t;const n=J3(t)&&J3(e);if(n||yA(t)&&yA(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=P4(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function Ry(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function J3(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yA(t){if(!Z3(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Z3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Z3(t){return Object.prototype.toString.call(t)==="[object Object]"}function BY(t){return new Promise(e=>{setTimeout(e,t)})}function vA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?P4(t,e):e}function FY(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LY(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var rC=Symbol();function N4(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===rC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function k4(t,e){return typeof t=="function"?t(...e):!!t}var DY=class extends Af{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!qc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},iC=new DY,UY=class extends Af{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!qc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Py=new UY;function wA(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function zY(t){return Math.min(1e3*2**t,3e4)}function O4(t){return(t??"online")==="online"?Py.isOnline():!0}var B4=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function r1(t){return t instanceof B4}function F4(t){let e=!1,n=0,r=!1,i;const o=wA(),s=m=>{r||(f(new B4(m)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>iC.isFocused()&&(t.networkMode==="always"||Py.isOnline())&&t.canRun(),u=()=>O4(t.networkMode)&&t.canRun(),d=m=>{r||(r=!0,t.onSuccess?.(m),i?.(),o.resolve(m))},f=m=>{r||(r=!0,t.onError?.(m),i?.(),o.reject(m))},h=()=>new Promise(m=>{i=y=>{(r||c())&&m(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),p=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(d).catch(g=>{if(r)return;const v=t.retry??(qc?0:3),b=t.retryDelay??zY,x=typeof b=="function"?b(n,g):b,R=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!R){f(g);return}n++,t.onFail?.(n,g),BY(x).then(()=>c()?void 0:h()).then(()=>{e?f(g):p()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),o)}}var jY=t=>setTimeout(t,0);function HY(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=jY;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ir=HY(),L4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gA(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},GY=class extends L4{#e;#t;#n;#r;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=WY(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=vA(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Lo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R4(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=N4(this.options,e),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const a=l=>{r1(l)&&l.silent||this.#a({type:"error",error:l}),r1(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=F4({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...D4(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return r1(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function D4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WY(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var VY=class extends Af{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??nC(r,e);let o=this.get(i);return o||(o=new GY({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>X3(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>X3(t,n)):e}notify(t){ir.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$Y=class extends L4{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||U4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=F4({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ir.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function U4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qY=class extends Af{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new $Y({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=m0(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=m0(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=m0(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=m0(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ir.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Y3(e,n))}findAll(t={}){return this.getAll().filter(e=>Y3(t,e))}notify(t){ir.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ir.batch(()=>Promise.all(t.map(e=>e.continue().catch(Vr))))}};function m0(t){return t.options.scope?.id}function e5(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=N4(e.options,e.fetchOptions),h=async(p,m,y)=>{if(u)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const v=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:m,direction:y?"backward":"forward",meta:e.options.meta};return d(k),k})(),b=await f(v),{maxPages:x}=e.options,R=y?LY:FY;return{pages:R(p.pages,b,x),pageParams:R(p.pageParams,m,x)}};if(i&&o.length){const p=i==="backward",m=p?QY:t5,y={pages:o,pageParams:s},g=m(r,y);a=await h(y,g,p)}else{const p=t??o.length;do{const m=l===0?s[0]??r.initialPageParam:t5(r,a);if(l>0&&m==null)break;a=await h(a,m),l++}while(l<p)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function t5(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function QY(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var KY=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new VY,this.#t=t.mutationCache||new qY,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=iC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Py.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,s=OY(e,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return ir.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;ir.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return ir.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ir.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return ir.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ir.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Vr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(vl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=e5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=e5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Py.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Np(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Np(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},XY=class extends Af{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=wA(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),n5(this.#t,this.options)?this.#f():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bA(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bA(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),e._defaulted&&!Ry(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&r5(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||Lo(this.options.enabled,this.#t)!==Lo(e.enabled,this.#t)||vl(this.options.staleTime,this.#t)!==vl(e.staleTime,this.#t))&&this.#y();const i=this.#g();r&&(this.#t!==n||Lo(this.options.enabled,this.#t)!==Lo(e.enabled,this.#t)||i!==this.#c)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return JY(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Vr)),e}#y(){this.#b();const t=vl(this.options.staleTime,this.#t);if(qc||this.#r.isStale||!gA(t))return;const n=R4(this.#r.dataUpdatedAt,t)+1;this.#h=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#c=t,!(qc||Lo(this.options.enabled,this.#t)===!1||!gA(this.#c)||this.#c===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||iC.isFocused())&&this.#f()},this.#c))}#w(){this.#y(),this.#v(this.#g())}#b(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,s=this.#s,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,f;if(e._optimisticResults){const I=this.hasListeners(),S=!I&&n5(t,e),P=I&&r5(t,n,e,r);(S||P)&&(u={...u,...D4(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:m}=u;f=u.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&m==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(I=i.data,y=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,I!==void 0&&(m="success",f=vA(i?.data,I,e),d=!0)}if(e.select&&f!==void 0&&!y)if(i&&f===o?.data&&e.select===this.#p)f=this.#u;else try{this.#p=e.select,f=e.select(f),f=vA(i?.data,f,e),this.#u=f,this.#a=null}catch(I){this.#a=I}this.#a&&(h=this.#a,f=this.#u,p=Date.now(),m="error");const g=u.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&g,R=f!==void 0,_={status:m,fetchStatus:u.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:b&&!R,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&R,isStale:oC(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const I=L=>{_.status==="error"?L.reject(_.error):_.data!==void 0&&L.resolve(_.data)},S=()=>{const L=this.#o=_.promise=wA();I(L)},P=this.#o;switch(P.status){case"pending":t.queryHash===n.queryHash&&I(P);break;case"fulfilled":(_.status==="error"||_.data!==P.value)&&S();break;case"rejected":(_.status!=="error"||_.error!==P.reason)&&S();break}}return _}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Ry(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#d.size)return!0;const o=new Set(i??this.#d);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(s=>{const a=s;return this.#r[a]!==t[a]&&o.has(a)})};this.#A({listeners:n()})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#A(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function YY(t,e){return Lo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function n5(t,e){return YY(t,e)||t.state.data!==void 0&&bA(t,e,e.refetchOnMount)}function bA(t,e,n){if(Lo(e.enabled,t)!==!1&&vl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&oC(t,e)}return!1}function r5(t,e,n,r){return(t!==e||Lo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&oC(t,n)}function oC(t,e){return Lo(e.enabled,t)!==!1&&t.isStaleByTime(vl(e.staleTime,t))}function JY(t,e){return!Ry(t.getCurrentResult(),e)}var ZY=class extends Af{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Ry(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Qc(n.mutationKey)!==Qc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??U4();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){ir.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function eJ(t){return JSON.stringify(t,(e,n)=>tJ(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function tJ(t){if(!i5(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!i5(n)||!n.hasOwnProperty("isPrototypeOf"))}function i5(t){return Object.prototype.toString.call(t)==="[object Object]"}function mw(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:o,maxPages:s,meta:a,networkMode:l,queryFn:c,queryHash:u,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:p,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:v,_optimisticResults:b,enabled:x,notifyOnChangeProps:R,placeholderData:k,refetchInterval:_,refetchIntervalInBackground:I,refetchOnMount:S,refetchOnReconnect:P,refetchOnWindowFocus:L,retryOnMount:G,select:B,staleTime:w,suspense:E,throwOnError:C,config:D,connector:N,query:H,...$}=t;return $}function nJ(t){return{mutationFn(e){return mX(t,e)},mutationKey:["connect"]}}function rJ(t){return{mutationFn(e){return SX(t,e)},mutationKey:["disconnect"]}}function iJ(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return await IX(t,{...o,address:r})??null},queryKey:oJ(e)}}function oJ(t={}){return["balance",mw(t)]}function sJ(t,e={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("name is required");return PX(t,{...o,name:r})},queryKey:aJ(e)}}function aJ(t={}){return["ensAvatar",mw(t)]}function lJ(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return NX(t,{...o,address:r})},queryKey:cJ(e)}}function cJ(t={}){return["ensName",mw(t)]}function uJ(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:i,scopeKey:o,...s}=n[1];return kX(t,{...s,connector:r})},queryKey:dJ(e)}}function dJ(t={}){const{connector:e,...n}=t;return["walletClient",{...mw(n),connectorUid:e?.uid}]}function fJ(t){return{mutationFn(e){return BX(t,e)},mutationKey:["signMessage"]}}function hJ(t){return{mutationFn(e){return LX(t,e)},mutationKey:["switchChain"]}}var z4=j.createContext(void 0),sC=t=>{const e=j.useContext(z4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pJ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),fn.jsx(z4.Provider,{value:t,children:e})),j4=j.createContext(!1),mJ=()=>j.useContext(j4);j4.Provider;function gJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yJ=j.createContext(gJ()),vJ=()=>j.useContext(yJ),wJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},bJ=t=>{j.useEffect(()=>{t.clearReset()},[t])},xJ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||k4(n,[t.error,r])),EJ=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},AJ=(t,e)=>t.isLoading&&t.isFetching&&!e,_J=(t,e)=>t?.suspense&&e.isPending,o5=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function SJ(t,e,n){const r=mJ(),i=vJ(),o=sC(),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",EJ(s),wJ(s,i),bJ(i);const a=!o.getQueryCache().get(s.queryHash),[l]=j.useState(()=>new e(o,s)),c=l.getOptimisticResult(s),u=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(d=>{const f=u?l.subscribe(ir.batchCalls(d)):Vr;return l.updateResult(),f},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),j.useEffect(()=>{l.setOptions(s)},[s,l]),_J(s,c))throw o5(s,l,i);if(xJ({result:c,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!qc&&AJ(c,r)&&(a?o5(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(Vr).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?c:l.trackResult(c)}function H4(t,e){return SJ(t,XY)}function gw(t,e){const n=sC(),[r]=j.useState(()=>new ZY(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const i=j.useSyncExternalStore(j.useCallback(s=>r.subscribe(ir.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=j.useCallback((s,a)=>{r.mutate(s,a).catch(Vr)},[r]);if(i.error&&k4(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function yw(t){const e=H4({...t,queryKeyHashFn:eJ});return e.queryKey=t.queryKey,e}function wm(t={}){const e=ur(t);return j.useSyncExternalStore(n=>DX(e,{onChange:n}),()=>W3(e),()=>W3(e))}function G4(t={}){const{address:e,query:n={}}=t,r=ur(t),i=wm({config:r}),o=iJ(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return yw({...n,...o,enabled:s})}function CJ(t={}){const e=ur(t);return j.useSyncExternalStore(n=>pY(e,{onChange:n}),()=>V3(e),()=>V3(e))}function TJ(t={}){const e=ur(t);return j.useSyncExternalStore(n=>zX(e,{onChange:n}),()=>$3(e),()=>$3(e))}function MJ(t={}){const{mutation:e}=t,n=ur(t),r=nJ(n),{mutate:i,mutateAsync:o,...s}=gw({...e,...r});return j.useEffect(()=>n.subscribe(({status:a})=>a,(a,l)=>{l==="connected"&&a==="disconnected"&&s.reset()}),[n,s.reset]),{...s,connect:i,connectAsync:o,connectors:TJ({config:n})}}function IJ(t={}){const e=ur(t);return j.useSyncExternalStore(n=>UX(e,{onChange:n}),()=>fA(e),()=>fA(e))}function aC(t={}){const{mutation:e}=t,n=ur(t),r=rJ(n),{mutate:i,mutateAsync:o,...s}=gw({...e,...r});return{...s,connectors:IJ({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:o}}function RJ(t={}){const{name:e,query:n={}}=t,r=ur(t),i=wm({config:r}),o=sJ(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return yw({...n,...o,enabled:s})}function PJ(t={}){const{address:e,query:n={}}=t,r=ur(t),i=wm({config:r}),o=lJ(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return yw({...n,...o,enabled:s})}function W4(t={}){const e=ur(t);return M4.useSyncExternalStoreWithSelector(n=>jX(e,{onChange:n}),()=>hA(e,t),()=>hA(e,t),n=>n,(n,r)=>n?.uid===r?.uid)}function NJ(t={}){const{mutation:e}=t,n=ur(t),r=fJ(n),{mutate:i,mutateAsync:o,...s}=gw({...e,...r});return{...s,signMessage:i,signMessageAsync:o}}function V4(t={}){const{mutation:e}=t,n=ur(t),r=hJ(n),{mutate:i,mutateAsync:o,...s}=gw({...e,...r});return{...s,chains:CJ({config:n}),switchChain:i,switchChainAsync:o}}function $4(t={}){const{query:e={},...n}=t,r=ur(n),i=sC(),{address:o,connector:s,status:a}=Rr({config:r}),l=wm({config:r}),c=t.connector??s,{queryKey:u,...d}=uJ(r,{...t,chainId:t.chainId??l,connector:t.connector??s}),f=!!((a==="connected"||a==="reconnecting"&&c?.getProvider)&&(e.enabled??!0)),h=j.useRef(o);return j.useEffect(()=>{const p=h.current;!o&&p?(i.removeQueries({queryKey:u}),h.current=void 0):o!==p&&(i.invalidateQueries({queryKey:u}),h.current=o)},[o,i]),yw({...e,...d,queryKey:u,enabled:f,staleTime:Number.POSITIVE_INFINITY})}var s5='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',kJ={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${s5}`,system:s5},Kf={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},OJ={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},q4=({borderRadius:t="large",fontStack:e="rounded",overlayBlur:n="none"})=>({blurs:{modalOverlay:OJ[n].modalOverlay},fonts:{body:kJ[e]},radii:{actionButton:Kf[t].actionButton,connectButton:Kf[t].connectButton,menuButton:Kf[t].connectButton,modal:Kf[t].modal,modalMobile:Kf[t].modalMobile}}),Ig="#1A1B1F",Q4={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:Ig},orange:{accentColor:"#FF983D",accentColorForeground:Ig},pink:{accentColor:"#FF7AB8",accentColorForeground:Ig},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}},a5=Q4.blue,K4=({accentColor:t=a5.accentColor,accentColorForeground:e=a5.accentColorForeground,...n}={})=>({...q4(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:Ig,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});K4.accentColors=Q4;var X4={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},l5=X4.blue,Y4=({accentColor:t=l5.accentColor,accentColorForeground:e=l5.accentColorForeground,...n}={})=>({...q4(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});Y4.accentColors=X4;var xA=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    }
  },

  "zilpay": {
    "qr_code": {
      "step1": {
        "title": "Open the ZilPay app",
        "description": "Add ZilPay to your home screen for faster access to your wallet."
      },
      "step2": {
        "title": "Create or Import a Wallet",
        "description": "Create a new wallet or import an existing one."
      },
      "step3": {
        "title": "Tap the scan button",
        "description": "After you scan, a connection prompt will appear for you to connect your wallet."
      }
    }
  }
}
`;function BJ(t,e){return Object.defineProperty(t,"__recipe__",{value:e,writable:!1}),t}var J4=BJ;function Z4(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");function n(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var i={};for(var o in e.responsiveArray)r[o]!=null&&(i[e.responsiveArray[o]]=r[o]);return i}return r}return J4(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:t.conditions}]})}function FJ(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");var n=Z4(t);function r(i,o){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(i,e.defaultCondition)}var s=Array.isArray(i)?n(i):i,a={};for(var l in s)s[l]!=null&&(a[l]=o(s[l],l));return a}return J4(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:t.conditions}]})}function LJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:String(e)}function UJ(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){UJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zJ=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object.assign({},...n.map(l=>l.styles)),o=Object.keys(i),s=o.filter(l=>"mappings"in i[l]),a=l=>{var c=[],u={},d=i1({},l),f=!1;for(var h of s){var p=l[h];if(p!=null){var m=i[h];f=!0;for(var y of m.mappings)u[y]=p,d[y]==null&&delete d[y]}}var g=f?i1(i1({},u),d):l,v=function(){var R=g[b],k=i[b];try{if(k.mappings)return 1;if(typeof R=="string"||typeof R=="number")c.push(k.values[R].defaultClass);else if(Array.isArray(R))for(var _=0;_<R.length;_++){var I=R[_];if(I!=null){var S=k.responsiveArray[_];c.push(k.values[I].conditions[S])}}else for(var P in R){var L=R[P];L!=null&&c.push(k.values[L].conditions[P])}}catch(G){throw G}};for(var b in g)v();return t(c.join(" "))};return Object.assign(a,{properties:new Set(o)})},jJ=t=>t,HJ=function(){return zJ(jJ)(...arguments)};function eL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tL(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eL(t))&&(r&&(r+=" "),r+=e);return r}var GJ="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const u5=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),d5=4;function WJ(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let R=1;R<r;R++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let R=0;R<d;R++)y=y<<1|u();let g=[],v=0,b=f;for(;;){let R=Math.floor(((y-v+1)*i-1)/b),k=0,_=r;for(;_-k>1;){let P=k+_>>>1;R<o[P]?_=P:k=P}if(k==0)break;g.push(k);let I=v+Math.floor(b*o[k]/i),S=v+Math.floor(b*o[k+1]/i)-1;for(;!((I^S)&h);)y=y<<1&m|u(),I=I<<1&m,S=S<<1&m|1;for(;I&~S&p;)y=y&h|y<<1&m>>>1|u(),I=I<<1^h,S=(S^h)<<1|h|1;v=I,b=1+S-I}let x=r-4;return g.map(R=>{switch(R-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return R-1}})}function VJ(t){let e=0;return()=>t[e++]}function nL(t){return VJ(WJ($J(t)))}function $J(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function qJ(t){return t&1?~t>>1:t>>1}function QJ(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=qJ(e());return n}function kp(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function rL(t){return Op(()=>{let e=kp(t);if(e.length)return e})}function iL(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(KJ(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(XJ(n,t))}return e.flat()}function Op(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function oL(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)QJ(t,n).forEach((o,s)=>r[s].push(o));return r}function KJ(t,e){let n=1+e(),r=e(),i=Op(e);return oL(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function XJ(t,e){let n=1+e();return oL(n,1+t,e).map(i=>[i[0],i.slice(1)])}function YJ(t){let e=[],n=kp(t);return i(r([]),[]),e;function r(o){let s=t(),a=Op(()=>{let l=kp(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function JJ(t){return t.toString(16).toUpperCase().padStart(2,"0")}function sL(t){return`{${JJ(t)}}`}function ZJ(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function $d(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function eZ(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var tZ="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Bp=44032,Ny=4352,ky=4449,Oy=4519,aL=19,lL=21,qd=28,By=lL*qd,nZ=aL*By,rZ=Bp+nZ,iZ=Ny+aL,oZ=ky+lL,sZ=Oy+qd;function gh(t){return t>>24&255}function cL(t){return t&16777215}let EA,f5,AA,Rg;function aZ(){let t=nL(tZ);EA=new Map(rL(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),f5=new Set(kp(t)),AA=new Map,Rg=new Map;for(let[e,n]of iL(t)){if(!f5.has(e)&&n.length==2){let[r,i]=n,o=Rg.get(r);o||(o=new Map,Rg.set(r,o)),o.set(i,e)}AA.set(e,n.reverse())}}function uL(t){return t>=Bp&&t<rZ}function lZ(t,e){if(t>=Ny&&t<iZ&&e>=ky&&e<oZ)return Bp+(t-Ny)*By+(e-ky)*qd;if(uL(t)&&e>Oy&&e<sZ&&(t-Bp)%qd==0)return t+(e-Oy);{let n=Rg.get(t);return n&&(n=n.get(e),n)?n:-1}}function dL(t){EA||aZ();let e=[],n=[],r=!1;function i(o){let s=EA.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(uL(o)){let s=o-Bp,a=s/By|0,l=s%By/qd|0,c=s%qd;i(Ny+a),i(ky+l),c>0&&i(Oy+c)}else{let s=AA.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=gh(e[0]);for(let s=1;s<e.length;s++){let a=gh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=gh(e[--l]),o<=a))break}o=gh(e[s])}}return e}function cZ(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=gh(o),a=cL(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=lZ(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function fL(t){return dL(t).map(cL)}function uZ(t){return cZ(dL(t))}const h5=45,hL=".",pL=65039,mL=1,Fy=t=>Array.from(t);function Fp(t,e){return t.P.has(e)||t.Q.has(e)}let dZ=class extends Array{get is_emoji(){return!0}},_A,gL,vc,SA,yL,yd,o1,Gu,Jl,p5,CA;function lC(){if(_A)return;let t=nL(GJ);const e=()=>kp(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));_A=new Map(iL(t)),gL=n(),vc=e(),SA=new Set(e().map(u=>vc[u])),vc=new Set(vc),yL=n(),n();let i=rL(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};yd=Op(u=>{let d=Op(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=$d(d),f&&(d=`Restricted[${d}]`);let h=s(),p=s(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),o1=n(),Gu=new Map;let a=e().concat(Fy(o1)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),o1.has(u)||Gu.set(u,h)});for(let{V:u,M:d}of new Set(Gu.values())){let f=[];for(let p of u){let m=yd.filter(g=>Fp(g,p)),y=f.find(({G:g})=>m.some(v=>g.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),r(y.G,m)}let h=f.flatMap(p=>Fy(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(g=>!p.has(g)));for(let g of m)d.set(g,y)}}Jl=new Set;let l=new Set;const c=u=>Jl.has(u)?l.add(u):Jl.add(u);for(let u of yd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of Jl)!Gu.has(u)&&!l.has(u)&&Gu.set(u,mL);r(Jl,fL(Jl)),p5=YJ(t).map(u=>dZ.from(u)).sort(eZ),CA=new Map;for(let u of p5){let d=[CA];for(let f of u){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===pL?d.push(...h):d=h}for(let f of d)f.V=u}}function cC(t){return(vL(t)?"":`${uC(vw([t]))} `)+sL(t)}function uC(t){return`"${t}"‎`}function fZ(t){if(t.length>=4&&t[2]==h5&&t[3]==h5)throw new Error(`invalid label extension: "${$d(t.slice(0,4))}"`)}function hZ(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function pZ(t){let e=t[0],n=u5.get(e);if(n)throw Lh(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=u5.get(e);if(s){if(i==o)throw Lh(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw Lh(`trailing ${n}`)}function vw(t,e=1/0,n=sL){let r=[];mZ(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];vL(a)&&(r.push($d(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push($d(t.slice(i,o))),r.join("")}function mZ(t,e){return lC(),vc.has(t)}function vL(t){return lC(),yL.has(t)}function gZ(t){return bZ(yZ(t,uZ,AZ))}function yZ(t,e,n){if(!t)return[];lC();let r=0;return t.split(hL).map(i=>{let o=ZJ(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=EZ(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(hZ(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))fZ(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(vc.has(u[0]))throw Lh("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&vc.has(y[0]))throw Lh(`emoji + combining mark: "${$d(a[m-1])} + ${vw([y[0]])}"`)}pZ(u);let h=Fy(new Set(f)),[p]=wZ(h);xZ(p,f),vZ(p,h),c=p.N}}s.type=c}catch(a){s.error=a}return s})}function vZ(t,e){let n,r=[];for(let i of e){let o=Gu.get(i);if(o===mL)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Fy(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Fp(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function wZ(t){let e=yd;for(let n of t){let r=e.filter(i=>Fp(i,n));if(!r.length)throw yd.some(i=>Fp(i,n))?bL(e[0],n):wL(n);if(e=r,r.length==1)break}return e}function bZ(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${uC(vw(e,63))}: ${i}`)}return $d(r)}).join(hL)}function wL(t){return new Error(`disallowed character: ${cC(t)}`)}function bL(t,e){let n=cC(e),r=yd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Lh(t){return new Error(`illegal placement: ${t}`)}function xZ(t,e){for(let n of e)if(!Fp(t,n))throw bL(t,n);if(t.M){let n=fL(e);for(let r=1,i=n.length;r<i;r++)if(SA.has(n[r])){let o=r+1;for(let s;o<i&&SA.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${cC(s)}`);if(o-r>d5)throw new Error(`excessive non-spacing marks: ${uC(vw(n.slice(r-1,o)))} (${o-r}/${d5})`);r=o}}}function EZ(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=_Z(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(Jl.has(s))i.push(s);else{let a=_A.get(s);if(a)i.push(...a);else if(!gL.has(s))throw wL(s)}}}return i.length&&r.push(e(i)),r}function AZ(t){return t.filter(e=>e!=pL)}function _Z(t,e){let n=CA,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}function SZ(t){return gZ(t)}function CZ(t){return SZ(t)}const TZ={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},MZ={block:tV({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=Jv(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?pr(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:ZW({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?pr(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:Yq({format(t){return{l1GasPrice:t.l1GasPrice?pr(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?pr(t.l1GasUsed):null,l1Fee:t.l1Fee?pr(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function IZ(t,e){return NZ(t)?PZ(t):WQ(t,e)}const RZ={transaction:IZ};function PZ(t){kZ(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:o,mint:s,to:a,value:l}=t,c=[e,r,a??"0x",s?ei(s):"0x",l?ei(l):"0x",i?ei(i):"0x",o?"0x1":"0x",n??"0x"];return Yo(["0x7e",Cl(c)])}function NZ(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function kZ(t){const{from:e,to:n}=t;if(e&&!Zn(e))throw new ri({address:e});if(n&&!Zn(n))throw new ri({address:n})}const Ly={blockTime:2e3,contracts:TZ,formatters:MZ,serializers:RZ},dC=du({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),fC=du({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Xf=1,hC=du({...Ly,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Ly.contracts,disputeGameFactory:{[Xf]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Xf]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Xf]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Xf]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Xf}),pC=du({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),_f=du({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Yf=1,mC=du({...Ly,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Ly.contracts,disputeGameFactory:{[Yf]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Yf]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Yf]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Yf]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Yf}),gC=du({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var TA=function(t,e){return TA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},TA(t,e)};function xL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");TA(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var co=function(){return co=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},co.apply(this,arguments)};function ww(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EL(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function AL(t,e){return function(n,r){e(n,r,t)}}function OZ(t,e,n,r,i,o){function s(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=n.length-1;h>=0;h--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(g||null))};var y=(0,n[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(u.get=d),(d=s(y.set))&&(u.set=d),(d=s(y.init))&&i.unshift(d)}else(d=s(y))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function BZ(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function FZ(t){return typeof t=="symbol"?t:"".concat(t)}function LZ(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function _L(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function SL(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function CL(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var bw=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function TL(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bw(e,t,n)}function Dy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yC(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ML(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yC(arguments[e]));return t}function IL(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function vC(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Qd(t){return this instanceof Qd?(this.v=t,this):new Qd(t)}function RL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(y,g){o.push([h,m,y,g])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof Qd?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function PL(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:Qd(t[i](s)),done:!1}:o?o(s):s}:o}}function NL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Dy=="function"?Dy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function kL(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var DZ=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function OL(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&bw(e,t,n);return DZ(e,t),e}function BL(t){return t&&t.__esModule?t:{default:t}}function FL(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function LL(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function DL(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function UL(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var UZ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function zL(t){function e(o){t.error=t.hasError?new UZ(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const zZ={__extends:xL,__assign:co,__rest:ww,__decorate:EL,__param:AL,__metadata:_L,__awaiter:SL,__generator:CL,__createBinding:bw,__exportStar:TL,__values:Dy,__read:yC,__spread:ML,__spreadArrays:IL,__spreadArray:vC,__await:Qd,__asyncGenerator:RL,__asyncDelegator:PL,__asyncValues:NL,__makeTemplateObject:kL,__importStar:OL,__importDefault:BL,__classPrivateFieldGet:FL,__classPrivateFieldSet:LL,__classPrivateFieldIn:DL,__addDisposableResource:UL,__disposeResources:zL},J1e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:UL,get __assign(){return co},__asyncDelegator:PL,__asyncGenerator:RL,__asyncValues:NL,__await:Qd,__awaiter:SL,__classPrivateFieldGet:FL,__classPrivateFieldIn:DL,__classPrivateFieldSet:LL,__createBinding:bw,__decorate:EL,__disposeResources:zL,__esDecorate:OZ,__exportStar:TL,__extends:xL,__generator:CL,__importDefault:BL,__importStar:OL,__makeTemplateObject:kL,__metadata:_L,__param:AL,__propKey:FZ,__read:yC,__rest:ww,__runInitializers:BZ,__setFunctionName:LZ,__spread:ML,__spreadArray:vC,__spreadArrays:IL,__values:Dy,default:zZ},Symbol.toStringTag,{value:"Module"}));var Pg="right-scroll-bar-position",Ng="width-before-scroll-bar",jZ="with-scroll-bars-hidden",HZ="--removed-body-scroll-bar-size";function s1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function GZ(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var WZ=typeof window<"u"?j.useLayoutEffect:j.useEffect,m5=new WeakMap;function VZ(t,e){var n=GZ(null,function(r){return t.forEach(function(i){return s1(i,r)})});return WZ(function(){var r=m5.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||s1(a,null)}),o.forEach(function(a){i.has(a)||s1(a,s)})}m5.set(n,t)},[t]),n}function $Z(t){return t}function qZ(t,e){e===void 0&&(e=$Z);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function QZ(t){t===void 0&&(t={});var e=qZ(null);return e.options=co({async:!0,ssr:!1},t),e}var jL=function(t){var e=t.sideCar,n=ww(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,co({},n))};jL.isSideCarExport=!0;function KZ(t,e){return t.useMedium(e),jL}var HL=QZ(),a1=function(){},xw=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:a1,onWheelCapture:a1,onTouchMoveCapture:a1}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,m=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,v=t.gapMode,b=ww(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,R=VZ([n,e]),k=co(co({},b),i);return j.createElement(j.Fragment,null,u&&j.createElement(x,{sideCar:HL,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?j.cloneElement(j.Children.only(a),co(co({},k),{ref:R})):j.createElement(g,co({},k,{className:l,ref:R}),a))});xw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xw.classNames={fullWidth:Ng,zeroRight:Pg};var XZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=XZ();return e&&t.setAttribute("nonce",e),t}function JZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=YZ())&&(JZ(e,n),ZZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tee=function(){var t=eee();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},GL=function(){var t=tee(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},nee={left:0,top:0,right:0,gap:0},l1=function(t){return parseInt(t||"",10)||0},ree=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[l1(n),l1(r),l1(i)]},iee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nee;var e=ree(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oee=GL(),vd="data-scroll-locked",see=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ng,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pg," .").concat(Pg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ng," .").concat(Ng,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vd,`] {
    `).concat(HZ,": ").concat(a,`px;
  }
`)},g5=function(){var t=parseInt(document.body.getAttribute(vd)||"0",10);return isFinite(t)?t:0},aee=function(){j.useEffect(function(){return document.body.setAttribute(vd,(g5()+1).toString()),function(){var t=g5()-1;t<=0?document.body.removeAttribute(vd):document.body.setAttribute(vd,t.toString())}},[])},lee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;aee();var o=j.useMemo(function(){return iee(i)},[i]);return j.createElement(oee,{styles:see(o,!e,i,n?"":"!important")})},MA=!1;if(typeof window<"u")try{var g0=Object.defineProperty({},"passive",{get:function(){return MA=!0,!0}});window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{MA=!1}var Au=MA?{passive:!1}:!1,cee=function(t){return t.tagName==="TEXTAREA"},WL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!cee(t)&&n[e]==="visible")},uee=function(t){return WL(t,"overflowY")},dee=function(t){return WL(t,"overflowX")},y5=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VL(t,r);if(i){var o=$L(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},hee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VL=function(t,e){return t==="v"?uee(e):dee(e)},$L=function(t,e){return t==="v"?fee(e):hee(e)},pee=function(t,e){return t==="h"&&e==="rtl"?-1:1},mee=function(t,e,n,r,i){var o=pee(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=$L(t,a),p=h[0],m=h[1],y=h[2],g=m-y-o*p;(p||g)&&VL(t,a)&&(d+=g,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},y0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},v5=function(t){return[t.deltaX,t.deltaY]},w5=function(t){return t&&"current"in t?t.current:t},gee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},yee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vee=0,_u=[];function wee(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(vee++)[0],o=j.useState(GL)[0],s=j.useRef(t);j.useEffect(function(){s.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=vC([t.lockRef.current],(t.shards||[]).map(w5),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=j.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var g=y0(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-g[0],x="deltaY"in m?m.deltaY:v[1]-g[1],R,k=m.target,_=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&_==="h"&&k.type==="range")return!1;var I=y5(_,k);if(!I)return!0;if(I?R=_:(R=_==="v"?"h":"v",I=y5(_,k)),!I)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=R),!R)return!0;var S=r.current||R;return mee(S,y,m,S==="h"?b:x)},[]),l=j.useCallback(function(m){var y=m;if(!(!_u.length||_u[_u.length-1]!==o)){var g="deltaY"in y?v5(y):y0(y),v=e.current.filter(function(R){return R.name===y.type&&(R.target===y.target||y.target===R.shadowParent)&&gee(R.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(w5).filter(Boolean).filter(function(R){return R.contains(y.target)}),x=b.length>0?a(y,b[0]):!s.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=j.useCallback(function(m,y,g,v){var b={name:m,delta:y,target:g,should:v,shadowParent:bee(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(x){return x!==b})},1)},[]),u=j.useCallback(function(m){n.current=y0(m),r.current=void 0},[]),d=j.useCallback(function(m){c(m.type,v5(m),m.target,a(m,t.lockRef.current))},[]),f=j.useCallback(function(m){c(m.type,y0(m),m.target,a(m,t.lockRef.current))},[]);j.useEffect(function(){return _u.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Au),document.addEventListener("touchmove",l,Au),document.addEventListener("touchstart",u,Au),function(){_u=_u.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Au),document.removeEventListener("touchmove",l,Au),document.removeEventListener("touchstart",u,Au)}},[]);var h=t.removeScrollBar,p=t.inert;return j.createElement(j.Fragment,null,p?j.createElement(o,{styles:yee(i)}):null,h?j.createElement(lee,{gapMode:t.gapMode}):null)}function bee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xee=KZ(HL,wee);var qL=j.forwardRef(function(t,e){return j.createElement(xw,co({},t,{ref:e,sideCar:xee}))});qL.classNames=xw.classNames;function b5(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function Eee(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}function QL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in t){var o=t[i],s=[...n,i];typeof o=="string"||typeof o=="number"||o==null?r[i]=e(o,s):typeof o=="object"&&!Array.isArray(o)?r[i]=QL(o,e,s):console.warn('Skipping invalid key "'.concat(s.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return r}function x5(t,e){var n={};if(typeof e=="object"){var r=t;QL(e,(a,l)=>{if(a!=null){var c=Eee(r,l);n[b5(c)]=String(a)}})}else{var i=t;for(var o in i){var s=i[o];s!=null&&(n[b5(o)]=s)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(l=>"".concat(l,":").concat(this[l])).join(";")},writable:!1}),n}var IA={exports:{}};(function(t,e){(function(n,r){var i="1.0.40",o="",s="?",a="function",l="undefined",c="object",u="string",d="major",f="model",h="name",p="type",m="vendor",y="version",g="architecture",v="console",b="mobile",x="tablet",R="smarttv",k="wearable",_="embedded",I=500,S="Amazon",P="Apple",L="ASUS",G="BlackBerry",B="Browser",w="Chrome",E="Edge",C="Firefox",D="Google",N="Huawei",H="LG",$="Microsoft",F="Motorola",M="Opera",q="Samsung",J="Sharp",ie="Sony",de="Xiaomi",ve="Zebra",Pe="Facebook",Ae="Chromium OS",st="Mac OS",yt=" Browser",We=function(he,z){var A={};for(var T in he)z[T]&&z[T].length%2===0?A[T]=z[T].concat(he[T]):A[T]=he[T];return A},xt=function(he){for(var z={},A=0;A<he.length;A++)z[he[A].toUpperCase()]=he[A];return z},oe=function(he,z){return typeof he===u?_t(z).indexOf(_t(he))!==-1:!1},_t=function(he){return he.toLowerCase()},Et=function(he){return typeof he===u?he.replace(/[^\d\.]/g,o).split(".")[0]:r},at=function(he,z){if(typeof he===u)return he=he.replace(/^\s\s*/,o),typeof z===l?he:he.substring(0,I)},qe=function(he,z){for(var A=0,T,Q,K,Y,ee,ke;A<z.length&&!ee;){var Me=z[A],He=z[A+1];for(T=Q=0;T<Me.length&&!ee&&Me[T];)if(ee=Me[T++].exec(he),ee)for(K=0;K<He.length;K++)ke=ee[++Q],Y=He[K],typeof Y===c&&Y.length>0?Y.length===2?typeof Y[1]==a?this[Y[0]]=Y[1].call(this,ke):this[Y[0]]=Y[1]:Y.length===3?typeof Y[1]===a&&!(Y[1].exec&&Y[1].test)?this[Y[0]]=ke?Y[1].call(this,ke,Y[2]):r:this[Y[0]]=ke?ke.replace(Y[1],Y[2]):r:Y.length===4&&(this[Y[0]]=ke?Y[3].call(this,ke.replace(Y[1],Y[2])):r):this[Y]=ke||r;A+=2}},kt=function(he,z){for(var A in z)if(typeof z[A]===c&&z[A].length>0){for(var T=0;T<z[A].length;T++)if(oe(z[A][T],he))return A===s?r:A}else if(oe(z[A],he))return A===s?r:A;return z.hasOwnProperty("*")?z["*"]:he},Qe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,M+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+B],y],[/\bfocus\/([\w\.]+)/i],[y,[h,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+yt]],[/fxios\/([\w\.-]+)/i],[y,[h,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+yt],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,q+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,Pe],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,w+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,w+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,kt,Qe]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,_t]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,_t]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,_t]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,q],[p,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,q],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,P],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,P],[p,x]],[/(macintosh);/i],[f,[m,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,J],[p,b]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[m,"Honor"],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,N],[p,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,N],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,de],[p,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,de],[p,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[p,b]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[p,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,F],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,F],[p,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,H],[p,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,H],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[p,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[p,b]],[/(pixel c)\b/i],[f,[m,D],[p,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,D],[p,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,ie],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,ie],[p,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,S],[p,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,S],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[p,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,G],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,L],[p,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,L],[p,b]],[/(nexus 9)/i],[f,[m,"HTC"],[p,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[p,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[p,x]],[/(itel) ((\w+))/i],[[m,_t],f,[p,kt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[p,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[p,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[p,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[p,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[p,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[p,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[p,x]],[/(surface duo)/i],[f,[m,$],[p,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[p,b]],[/(u304aa)/i],[f,[m,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[p,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[p,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[p,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[p,x]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[p,x]],[/\b(k88) b/i],[f,[m,"ZTE"],[p,x]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[p,x]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[p,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[p,x]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[p,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[p,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[p,b]],[/\b(ph-1) /i],[f,[m,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[p,x]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[p,x]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[p,x]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[p,x]],[/(sprint) (\w+)/i],[m,f,[p,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,$],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,ve],[p,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,ve],[p,b]],[/smart-tv.+(samsung)/i],[m,[p,R]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,q],[p,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,H],[p,R]],[/(apple) ?tv/i],[m,[f,P+" TV"],[p,R]],[/crkey/i],[[f,w+"cast"],[m,D],[p,R]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,S],[p,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,J],[p,R]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,ie],[p,R]],[/(mitv-\w{5}) bui/i],[f,[m,de],[p,R]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[p,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,at],[f,at],[p,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[p,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[f,[m,ie],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,$],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,q],[p,k]],[/((pebble))app/i],[m,f,[p,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,P],[p,k]],[/droid.+; (glass) \d/i],[f,[m,D],[p,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,ve],[p,k]],[/droid.+; (glass) \d/i],[f,[m,D],[p,k]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[p,k]],[/; (quest( \d| pro)?)/i],[f,[m,Pe],[p,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,_]],[/(aeobc)\b/i],[f,[m,S],[p,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,E+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[y,kt,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,kt,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,st],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,w+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,Ae],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},le=function(he,z){if(typeof he===c&&(z=he,he=r),!(this instanceof le))return new le(he,z).getResult();var A=typeof n!==l&&n.navigator?n.navigator:r,T=he||(A&&A.userAgent?A.userAgent:o),Q=A&&A.userAgentData?A.userAgentData:r,K=z?We(V,z):V,Y=A&&A.userAgent==T;return this.getBrowser=function(){var ee={};return ee[h]=r,ee[y]=r,qe.call(ee,T,K.browser),ee[d]=Et(ee[y]),Y&&A&&A.brave&&typeof A.brave.isBrave==a&&(ee[h]="Brave"),ee},this.getCPU=function(){var ee={};return ee[g]=r,qe.call(ee,T,K.cpu),ee},this.getDevice=function(){var ee={};return ee[m]=r,ee[f]=r,ee[p]=r,qe.call(ee,T,K.device),Y&&!ee[p]&&Q&&Q.mobile&&(ee[p]=b),Y&&ee[f]=="Macintosh"&&A&&typeof A.standalone!==l&&A.maxTouchPoints&&A.maxTouchPoints>2&&(ee[f]="iPad",ee[p]=x),ee},this.getEngine=function(){var ee={};return ee[h]=r,ee[y]=r,qe.call(ee,T,K.engine),ee},this.getOS=function(){var ee={};return ee[h]=r,ee[y]=r,qe.call(ee,T,K.os),Y&&!ee[h]&&Q&&Q.platform&&Q.platform!="Unknown"&&(ee[h]=Q.platform.replace(/chrome os/i,Ae).replace(/macos/i,st)),ee},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return T},this.setUA=function(ee){return T=typeof ee===u&&ee.length>I?at(ee,I):ee,this},this.setUA(T),this};le.VERSION=i,le.BROWSER=xt([h,y,d]),le.CPU=xt([g]),le.DEVICE=xt([f,m,p,v,b,R,x,k,_]),le.ENGINE=le.OS=xt([h,y]),t.exports&&(e=t.exports=le),e.UAParser=le;var we=typeof n!==l&&(n.jQuery||n.Zepto);if(we&&!we.ua){var Se=new le;we.ua=Se.getResult(),we.ua.get=function(){return Se.getUA()},we.ua.set=function(he){Se.setUA(he);var z=Se.getResult();for(var A in z)we.ua[A]=z[A]}}})(typeof window=="object"?window:tN)})(IA,IA.exports);var Aee=IA.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Jf={newline:10,reset:27};function _ee(t){if(!Number.isSafeInteger(t))throw new Error(`integer expected: ${t}`)}function See(t){if(!Number.isSafeInteger(t)||t<1||t>40)throw new Error(`Invalid version=${t}. Expected number [1..40]`)}function jl(t,e){return t.toString(2).padStart(e,"0")}function E5(t,e){const n=t%e;return n>=0?n:e+n}function Fi(t,e){return new Array(t).fill(e)}function A5(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function _5(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function Cee(){let t,e=1/0;return{add(n,r){n>=e||(t=r,e=n)},get:()=>t,score:()=>e}}function S5(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(_ee(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Oi{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const n=e.split(String.fromCharCode(Jf.newline)),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Oi({height:r,width:o},i)}data;height;width;constructor(e,n){const{height:r,width:i}=Oi.size(e);this.data=n||Array.from({length:r},()=>Fi(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=E5(e.x,this.width),e.y=E5(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Oi.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let c=0;c<a;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=Fi(e,n),s=Array.from({length:e},()=>Fi(i,n));return new Oi({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Oi(Oi.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Oi({height:n,width:e}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[i][o])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:n,width:r}=this;return new Oi({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:o,y:s})=>this.data[Math.floor(s/e)][Math.floor(o/e)])}clone(){return new Oi(this.size()).rect({x:0,y:0},this.size(),({x:n,y:r})=>this.data[r][n])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error(`Invalid color type=${typeof n}`)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(String.fromCharCode(Jf.newline))}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=e?!0:r[o+1][s];!a&&!l?i+="█":!a&&l?i+="▀":a&&!l?i+="▄":a&&l&&(i+=" ")}i+=String.fromCharCode(Jf.newline)}return i}toTerm(){const e=String.fromCharCode(Jf.reset),n=e+"[0m",r=e+"[1;47m  "+n,i=e+"[40m  "+n;return this.data.map(o=>o.map(s=>s?i:r).join("")).join(String.fromCharCode(Jf.newline))}toSVG(e=!0){let n=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,r="",i;return this.rectRead(0,1/0,(o,s)=>{if(!s)return;const{x:a,y:l}=o;if(!e){n+=`<rect x="${a}" y="${l}" width="1" height="1" />`;return}let c=`M${a} ${l}`;if(i){const d=`m${a-i.x} ${l-i.y}`;d.length<=c.length&&(c=d)}const u=a<10?`H${a}`:"h-1";r+=`${c}h1v1${u}Z`,i=o}),e&&(n+=`<path d="${r}"/>`),n+="</svg>",n}toGIF(){const e=a=>[a&255,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Fi(3*127,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(i+1,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const C5=["low","medium","quartile","high"],T5=["numeric","alphanumeric","byte","kanji","eci"],Tee=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Mee={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Iee={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Lr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=6,n=Lr.size.encode(t)-e-1,r=n-e,i=Math.ceil(r/28);let o=Math.floor(r/i);o%2?o+=1:r%i*2>=i&&(o+=2);const s=[e];for(let a=1;a<i;a++)s.push(n-(i-a)*o);return s.push(n),s},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Lr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^(r>>9)*1335;return(n<<10|r)^Lr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^(e>>11)*7973;return t<<12|e},alphabet:{numeric:S5("0123456789"),alphanumerc:S5("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(t,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Lr.sizeType(t)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=Tee[t-1],r=Mee[e][t-1],i=Iee[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:(n-r*i)*8,total:(r+o)*i+i-s}}},wC=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],ct={tables:(t=>{const e=Fi(256,0),n=Fi(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,i&256&&(i^=t);return{exp:e,log:n}})(285),exp:t=>ct.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: invalid arg=${t}`);return ct.tables.log[t]%255},mul(t,e){return t===0||e===0?0:ct.tables.exp[(ct.tables.log[t]+ct.tables.log[e])%255]},add:(t,e)=>t^e,pow:(t,e)=>ct.tables.exp[ct.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: invalid arg=${t}`);return ct.tables.exp[255-ct.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: invalid length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: invalid degree=${t}`);if(e==0)return[0];let n=Fi(t+1,0);return n[0]=e,ct.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[ct.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Fi(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=ct.add(n[r+i],ct.mul(t[r],e[i]));return ct.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Fi(t.length,0);for(let r=0;r<t.length;r++)n[r]=ct.mul(t[r],e);return ct.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(n==0)return[0];const r=Fi(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=ct.mul(t[i],n);return ct.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Fi(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=ct.add(n[a-o],r[a]);return ct.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=ct.add(n[r+o],ct.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=ct.mulPoly(e,[1,ct.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return ct.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=ct.add(ct.mul(e,n),t[r]);return n},euclidian(t,e,n){ct.degree(t)<ct.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*ct.degree(i)>=n;){let c=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=c;let d=[0];const f=ct.inv(r[0]);for(;ct.degree(i)>=ct.degree(r)&&i[0]!==0;){const h=ct.degree(i)-ct.degree(r),p=ct.mul(i[0],f);d=ct.addPoly(d,ct.monomial(h,p)),i=ct.addPoly(i,ct.mulPolyMonomial(r,h,p))}if(d=ct.mulPoly(d,o),s=ct.addPoly(d,u),ct.degree(i)>=ct.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=ct.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=ct.inv(a);return[ct.mulPolyScalar(s,l),ct.mulPolyScalar(i,l)]}};function Ree(t){return{encode(e){const n=ct.divisorPoly(t),r=Array.from(e);return r.push(...n.slice(0,-1).fill(0)),Uint8Array.from(ct.remainderPoly(r,n))},decode(e){const n=e.slice(),r=ct.polynomial(Array.from(e));let i=Fi(t,0),o=!1;for(let d=0;d<t;d++){const f=ct.evalPoly(r,ct.exp(d));i[i.length-1-d]=f,f!==0&&(o=!0)}if(!o)return n;i=ct.polynomial(i);const s=ct.monomial(t,1),[a,l]=ct.euclidian(s,i,t),c=Fi(ct.degree(a),0);let u=0;for(let d=1;d<256&&u<c.length;d++)ct.evalPoly(a,d)===0&&(c[u++]=ct.inv(d));if(u!==c.length)throw new Error("RS.decode: invalid errors number");for(let d=0;d<c.length;d++){const f=n.length-1-ct.log(c[d]);if(f<0)throw new Error("RS.decode: invalid error location");const h=ct.inv(c[d]);let p=1;for(let m=0;m<c.length;m++)d!==m&&(p=ct.mul(p,ct.add(1,ct.mul(c[m],h))));n[f]=ct.add(n[f],ct.mul(ct.evalPoly(l,h),ct.inv(p)))}return n}}}function Pee(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=Lr.capacity(t,e),a=Ree(n);return{encode(l){const c=[],u=[];for(let p=0;p<i;p++){const m=p<r,y=o+(m?0:1);c.push(l.subarray(0,y)),u.push(a.encode(l.subarray(0,y))),l=l.subarray(y)}const d=A5(...c),f=A5(...u),h=new Uint8Array(d.length+f.length);return h.set(d),h.set(f,d.length),h},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const c=[];for(let f=0;f<i;f++){const h=f<r;c.push(new Uint8Array(n+o+(h?0:1)))}let u=0;for(let f=0;f<o;f++)for(let h=0;h<i;h++)c[h][f]=l[u++];for(let f=r;f<i;f++)c[f][o]=l[u++];for(let f=o;f<o+n;f++)for(let h=0;h<i;h++){const p=h<r;c[h][f+(p?0:1)]=l[u++]}const d=[];for(const f of c)d.push(...Array.from(a.decode(f)).slice(0,-n));return Uint8Array.from(d)}}}function Nee(t,e,n,r=!1){const i=Lr.size.encode(t);let o=new Oi(i+2);const s=new Oi(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new Oi(1).rect(0,1,!0).border(1,!1).border(1,!0),l=Lr.alignmentPatterns(t);for(const c of l)for(const u of l)o.data[c][u]===void 0&&o.embed({x:u-2,y:c-2},a);o=o.hLine({x:0,y:6},1/0,({x:c},u)=>u===void 0?c%2==0:u).vLine({x:6,y:0},1/0,({y:c},u)=>u===void 0?c%2==0:u);{const c=Lr.formatBits(e,n),u=d=>!r&&(c>>d&1)==1;for(let d=0;d<6;d++)o.data[d][8]=u(d);for(let d=6;d<8;d++)o.data[d+1][8]=u(d);for(let d=8;d<15;d++)o.data[i-15+d][8]=u(d);for(let d=0;d<8;d++)o.data[8][i-d-1]=u(d);for(let d=8;d<9;d++)o.data[8][15-d-1+1]=u(d);for(let d=9;d<15;d++)o.data[8][15-d-1]=u(d);o.data[i-8][8]=!r}if(t>=7){const c=Lr.versionBits(t);for(let u=0;u<18;u+=1){const d=!r&&(c>>u&1)==1,f=Math.floor(u/3),h=u%3+i-8-3;o.data[f][h]=d,o.data[h][f]=d}}return o}function kee(t,e,n){const r=t.height,i=wC[e];let o=-1,s=r-1;for(let a=r-1;a>0;a-=2){for(a==6&&(a=5);;s+=o){for(let l=0;l<2;l+=1){const c=a-l;t.data[s][c]===void 0&&n(c,s,i(c,s))}if(s+o<0||s+o>=r)break}o=-o}}function Oee(t){let e="numeric";for(let n of t)if(!Lr.alphabet.numeric.has(n)&&(e="alphanumeric",!Lr.alphabet.alphanumerc.has(n)))return"byte";return e}function Bee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function M5(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Lr.alphabet.numeric.decode(n.split("")),f=d.length;for(let h=0;h<f-2;h+=3)i+=jl(d[h]*100+d[h+1]*10+d[h+2],10);f%3===1?i+=jl(d[f-1],4):f%3===2&&(i+=jl(d[f-2]*10+d[f-1],7))}else if(r==="alphanumeric"){const d=Lr.alphabet.alphanumerc.decode(n.split("")),f=d.length;for(let h=0;h<f-1;h+=2)i+=jl(d[h]*45+d[h+1],11);f%2==1&&(i+=jl(d[f-1],6))}else if(r==="byte"){const d=Bee(n);o=d.length,i=Array.from(d).map(f=>jl(f,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:s}=Lr.capacity(t,e),a=jl(o,Lr.lengthBits(t,r));let l=Lr.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let d=0;l.length!==s;d++)l+=c[d%c.length];const u=Uint8Array.from(l.match(/(.{8})/g).map(d=>+`0b${d}`));return Pee(t,e).encode(u)}function I5(t,e,n,r,i=!1){const o=Nee(t,e,r,i);let s=0;const a=8*n.length;if(kee(o,r,(l,c,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!==0,s++),o.data[c][l]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function Fee(t){const e=t.inverse(),n=h=>{let p=0;for(let m=0,y=1,g=void 0;m<h.length;m++)g===h[m]&&(y++,m!==h.length-1)||(y>=5&&(p+=3+(y-5)),g=h[m],y=1);return p};let r=0;t.data.forEach(h=>r+=n(h)),e.data.forEach(h=>r+=n(h));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let h=0;h<s;h++)for(let p=0;p<a;p++){const m=h+1,y=p+1;o[h][p]===o[m][p]&&o[m][p]===o[h][y]&&o[m][p]===o[m][y]&&(i+=3)}const l=h=>{const p=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],y=[...p,...m],g=[...m,...p];let v=0;for(let b=0;b<h.length;b++)_5(h,y,b)&&(v+=40),_5(h,g,b)&&(v+=40);return v};let c=0;for(const h of t.data)c+=l(h);for(const h of e.data)c+=l(h);let u=0;t.rectRead(0,1/0,(h,p)=>u+=p?1:0);const d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+c+f}function Lee(t,e,n,r){if(r===void 0){const i=Cee();for(let o=0;o<wC.length;o++)i.add(Fee(I5(t,e,n,o,!0)),o);r=i.get()}if(r===void 0)throw new Error("Cannot find mask");return I5(t,e,n,r)}function Dee(t){if(!C5.includes(t))throw new Error(`Invalid error correction mode=${t}. Expected: ${C5}`)}function Uee(t){if(!T5.includes(t))throw new Error(`Encoding: invalid mode=${t}. Expected: ${T5}`);if(t==="kanji"||t==="eci")throw new Error(`Encoding: ${t} is not supported (yet?).`)}function zee(t){if(![0,1,2,3,4,5,6,7].includes(t)||!wC[t])throw new Error(`Invalid mask=${t}. Expected number [0..7]`)}function jee(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";Dee(r);const i=n.encoding!==void 0?n.encoding:Oee(t);Uee(i),n.mask!==void 0&&zee(n.mask);let o=n.version,s,a=new Error("Unknown error");if(o!==void 0)See(o),s=M5(o,r,t,i);else for(let u=1;u<=40;u++)try{s=M5(u,r,t,i),o=u;break}catch(d){a=d}if(!o||!s)throw a;let l=Lee(o,r,s,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error(`invalid border type=${typeof c}`);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG(n.optimize);if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}function Hee(t,e={}){const{errorCorrection:n,version:r}=e,i=jee(t,"raw",{border:0,ecc:n,scale:1,version:r});return{edgeLength:i.length,finderLength:7,grid:i,value:t}}function bs(t){const{arena:e,...n}=t;return fn.jsxs(bs.Root,{...n,children:[fn.jsx(bs.Finder,{}),fn.jsx(bs.Cells,{}),e&&fn.jsx(bs.Arena,{children:typeof e=="string"?fn.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(t){t.Context=j.createContext(null);function e(o){const{children:s,size:a="100%",value:l,version:c,...u}=o,d=j.useMemo(()=>(j.Children.map(s,v=>!j.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[s]),f=j.useMemo(()=>{let v=o.errorCorrection;return d&&v==="low"&&(v="medium"),Hee(l,{errorCorrection:v,version:c})},[l,d,o.errorCorrection,c]),h=1,p=f.edgeLength*h,m=f.finderLength*h/2,y=d?Math.floor(p/4):0,g=j.useMemo(()=>({arenaSize:y,cellSize:h,edgeSize:p,qrcode:f,finderSize:m}),[y,p,f,m]);return fn.jsx(t.Context.Provider,{value:g,children:fn.jsxs("svg",{...u,width:a,height:a,viewBox:`0 0 ${p} ${p}`,xmlns:"http://www.w3.org/2000/svg",children:[fn.jsx("title",{children:"QR Code"}),s]})})}t.Root=e,function(o){o.displayName="Root"}(e=t.Root||(t.Root={}));function n(o){const{className:s,fill:a,innerClassName:l,radius:c=.25}=o,{cellSize:u,edgeSize:d,finderSize:f}=j.useContext(t.Context);function h({position:p}){let m=f-(f-u)-u/2;p==="top-right"&&(m=d-f-(f-u)-u/2);let y=f-(f-u)-u/2;p==="bottom-left"&&(y=d-f-(f-u)-u/2);let g=f-u*1.5;p==="top-right"&&(g=d-f-u*1.5);let v=f-u*1.5;return p==="bottom-left"&&(v=d-f-u*1.5),fn.jsxs(fn.Fragment,{children:[fn.jsx("rect",{className:s,stroke:a??"currentColor",fill:"transparent",x:m,y,width:u+(f-u)*2,height:u+(f-u)*2,rx:2*c*(f-u),ry:2*c*(f-u),strokeWidth:u}),fn.jsx("rect",{className:l,fill:a??"currentColor",x:g,y:v,width:u*3,height:u*3,rx:2*c*u,ry:2*c*u})]})}return fn.jsxs(fn.Fragment,{children:[fn.jsx(h,{position:"top-left"}),fn.jsx(h,{position:"top-right"}),fn.jsx(h,{position:"bottom-left"})]})}t.Finder=n,function(o){o.displayName="Finder"}(n=t.Finder||(t.Finder={}));function r(o){const{className:s,fill:a="currentColor",inset:l=!0,radius:c=1}=o,{arenaSize:u,cellSize:d,qrcode:f}=j.useContext(t.Context),{edgeLength:h,finderLength:p}=f,m=j.useMemo(()=>{let y="";for(let g=0;g<f.grid.length;g++){const v=f.grid[g];if(v)for(let b=0;b<v.length;b++){if(!v[b])continue;const R=h/2-u/2,k=R+u;if(g>=R&&g<=k&&b>=R&&b<=k)continue;const _=g<p&&b<p,I=g<p&&b>=h-p,S=g>=h-p&&b<p;if(_||I||S)continue;const P=l?d*.1:0,L=(d-P*2)/2,G=b*d+d/2,B=g*d+d/2,w=G-L,E=G+L,C=B-L,D=B+L,N=c*L;y+=[`M ${w+N},${C}`,`L ${E-N},${C}`,`A ${N},${N} 0 0,1 ${E},${C+N}`,`L ${E},${D-N}`,`A ${N},${N} 0 0,1 ${E-N},${D}`,`L ${w+N},${D}`,`A ${N},${N} 0 0,1 ${w},${D-N}`,`L ${w},${C+N}`,`A ${N},${N} 0 0,1 ${w+N},${C}`,"z"].join(" ")}}return y},[u,d,h,p,f.grid,l,c]);return fn.jsx("path",{className:s,d:m,fill:a})}t.Cells=r,function(o){o.displayName="Cells"}(r=t.Cells||(t.Cells={}));function i(o){const{children:s}=o,{arenaSize:a,cellSize:l,edgeSize:c}=j.useContext(t.Context),u=Math.ceil(c/2-a/2),d=a+a%2,f=l/2;return fn.jsx("foreignObject",{x:u,y:u,width:d,height:d,children:fn.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:s})})}t.Arena=i,function(o){o.displayName="Arena"}(i=t.Arena||(t.Arena={}))})(bs||(bs={}));bm.type="coinbaseWallet";function bm(t={}){return t.version==="3"||t.headlessMode?Wee(t):Gee(t)}function Gee(t){let e,n,r,i;return o=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:bm.type,async connect({chainId:s,...a}={}){try{const l=await this.getProvider(),c=(await l.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>Tr(d));n||(n=this.onAccountsChanged.bind(this),l.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),l.on("disconnect",i));let u=await this.getChainId();return s&&u!==s&&(u=(await this.switchChain({chainId:s}).catch(f=>{if(f.code===vn.code)throw f;return{id:u}}))?.id??u),{accounts:c,chainId:u}}catch(l){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(l.message)?new vn(l):l}},async disconnect(){const s=await this.getProvider();n&&(s.removeListener("accountsChanged",n),n=void 0),r&&(s.removeListener("chainChanged",r),r=void 0),i&&(s.removeListener("disconnect",i),i=void 0),s.disconnect(),s.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Tr(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const s=typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:t.preference?.options??"all"},{createCoinbaseWalletSDK:a}=await je(async()=>{const{createCoinbaseWalletSDK:c}=await import("./index-ta8VIxUb.js");return{createCoinbaseWalletSDK:c}},__vite__mapDeps([0,1]));e=a({...t,appChainIds:o.chains.map(c=>c.id),preference:s}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:s,chainId:a}){const l=o.chains.find(u=>u.id===a);if(!l)throw new wo(new $c);const c=await this.getProvider();try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:De(l.id)}]}),l}catch(u){if(u.code===4902)try{let d;s?.blockExplorerUrls?d=s.blockExplorerUrls:d=l.blockExplorers?.default.url?[l.blockExplorers?.default.url]:[];let f;s?.rpcUrls?.length?f=s.rpcUrls:f=[l.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:d,chainId:De(a),chainName:s?.chainName??l.name,iconUrls:s?.iconUrls,nativeCurrency:s?.nativeCurrency??l.nativeCurrency,rpcUrls:f};return await c.request({method:"wallet_addEthereumChain",params:[h]}),l}catch(d){throw new vn(d)}throw new wo(u)}},onAccountsChanged(s){s.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:s.map(a=>Tr(a))})},onChainChanged(s){const a=Number(s);o.emitter.emit("change",{chainId:a})},async onDisconnect(s){o.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}function Wee(t){let n,r,i,o,s;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:bm.type,async connect({chainId:l}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts"})).map(f=>Tr(f));i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),c.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let d=await this.getChainId();return l&&d!==l&&(d=(await this.switchChain({chainId:l}).catch(h=>{if(h.code===vn.code)throw h;return{id:d}}))?.id??d),{accounts:u,chainId:d}}catch(c){throw/(user closed modal|accounts received is empty|user denied account)/i.test(c.message)?new vn(c):c}},async disconnect(){const l=await this.getProvider();i&&(l.removeListener("accountsChanged",i),i=void 0),o&&(l.removeListener("chainChanged",o),o=void 0),s&&(l.removeListener("disconnect",s),s=void 0),l.disconnect(),l.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>Tr(c))},async getChainId(){const c=await(await this.getProvider()).request({method:"eth_chainId"});return Number(c)},async getProvider(){if(!r){const l=await(async()=>{const{default:h}=await je(async()=>{const{default:p}=await import("./index-19Wv5Alk.js").then(m=>m.i);return{default:p}},__vite__mapDeps([2,3,1,4]));return typeof h!="function"&&typeof h.default=="function"?h.default:h})();n=new l({...t,reloadOnDisconnect:!1});const c=n.walletExtension?.getChainId(),u=a.chains.find(h=>t.chainId?h.id===t.chainId:h.id===c)||a.chains[0],d=t.chainId||u?.id,f=t.jsonRpcUrl||u?.rpcUrls.default.http[0];r=n.makeWeb3Provider(f,d)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:c}){const u=a.chains.find(f=>f.id===c);if(!u)throw new wo(new $c);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:De(u.id)}]}),u}catch(f){if(f.code===4902)try{let h;l?.blockExplorerUrls?h=l.blockExplorerUrls:h=u.blockExplorers?.default.url?[u.blockExplorers?.default.url]:[];let p;l?.rpcUrls?.length?p=l.rpcUrls:p=[u.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:h,chainId:De(c),chainName:l?.chainName??u.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??u.nativeCurrency,rpcUrls:p};return await d.request({method:"wallet_addEthereumChain",params:[m]}),u}catch(h){throw new vn(h)}throw new wo(f)}},onAccountsChanged(l){l.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:l.map(c=>Tr(c))})},onChainChanged(l){const c=Number(l);a.emitter.emit("change",{chainId:c})},async onDisconnect(l){a.emitter.emit("disconnect");const c=await this.getProvider();i&&(c.removeListener("accountsChanged",i),i=void 0),o&&(c.removeListener("chainChanged",o),o=void 0),s&&(c.removeListener("disconnect",s),s=void 0)}})}bC.type="safe";function bC(t={}){const{shimDisconnect:e=!1}=t;let n,r;return i=>({id:"safe",name:"Safe",type:bC.type,async connect(){const o=await this.getProvider();if(!o)throw new ao;const s=await this.getAccounts(),a=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),e&&await i.storage?.removeItem("safe.disconnected"),{accounts:s,chainId:a}},async disconnect(){const o=await this.getProvider();if(!o)throw new ao;r&&(o.removeListener("disconnect",r),r=void 0),e&&await i.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const o=await this.getProvider();if(!o)throw new ao;return(await o.request({method:"eth_accounts"})).map(Tr)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!n){const{default:s}=await je(async()=>{const{default:u}=await import("./index-SVx-hTNT.js").then(d=>d.e);return{default:u}},[]),a=new s(t),l=await ZS(()=>a.safe.getInfo(),{timeout:t.unstable_getInfoTimeout??10});if(!l)throw new Error("Could not load Safe information");const c=await(async()=>{const u=await je(()=>import("./index-jzTIzptC.js").then(d=>d.i),__vite__mapDeps([5,6,4]));return typeof u.SafeAppProvider!="function"&&typeof u.default.SafeAppProvider=="function"?u.default.SafeAppProvider:u.SafeAppProvider})();n=new c(l,a)}return n}},async getChainId(){const o=await this.getProvider();if(!o)throw new ao;return Number(o.chainId)},async isAuthorized(){try{return e&&await i.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){i.emitter.emit("disconnect")}})}Ew.type="walletConnect";function Ew(t){const e=t.isNewChainsStale??!0;let n,r;const i="eip155";let o,s,a,l,c,u;return d=>({id:"walletConnect",name:"WalletConnect",type:Ew.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(a||(a=this.onConnect.bind(this),f.on("connect",a)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({chainId:f,...h}={}){try{const p=await this.getProvider();if(!p)throw new ao;l||(l=this.onDisplayUri,p.on("display_uri",l));let m=f;if(!m){const b=await d.storage?.getItem("state")??{};d.chains.some(R=>R.id===b.chainId)?m=b.chainId:m=d.chains[0]?.id}if(!m)throw new Error("No chains found on connector.");const y=await this.isChainsStale();if(p.session&&y&&await p.disconnect(),!p.session||y){const b=d.chains.filter(x=>x.id!==m).map(x=>x.id);await p.connect({optionalChains:[m,...b],..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(d.chains.map(x=>x.id))}const g=(await p.enable()).map(b=>Tr(b)),v=await this.getChainId();return l&&(p.removeListener("display_uri",l),l=void 0),a&&(p.removeListener("connect",a),a=void 0),o||(o=this.onAccountsChanged.bind(this),p.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),p.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),p.on("session_delete",c)),{accounts:g,chainId:v}}catch(p){throw/(user rejected|connection request reset)/i.test(p?.message)?new vn(p):p}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{s&&(f?.removeListener("chainChanged",s),s=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),a||(a=this.onConnect.bind(this),f?.on("connect",a)),o&&(f?.removeListener("accountsChanged",o),o=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>Tr(h))},async getProvider({chainId:f}={}){async function h(){const p=d.chains.map(y=>y.id);if(!p.length)return;const{EthereumProvider:m}=await je(async()=>{const{EthereumProvider:y}=await import("./index.es-DfUsb-X2.js").then(g=>g.a0);return{EthereumProvider:y}},__vite__mapDeps([7,4]));return await m.init({...t,disableProviderPing:!0,optionalChains:p,projectId:t.projectId,rpcMap:Object.fromEntries(d.chains.map(y=>{const[g]=aY({chain:y,transports:d.transports});return[y.id,g]})),showQrModal:t.showQrModal??!0})}return n||(r||(r=h()),n=await r,n?.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await this.switchChain?.({chainId:f}),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:h}){const p=await this.getProvider();if(!p)throw new ao;const m=d.chains.find(y=>y.id===h);if(!m)throw new wo(new $c);try{await Promise.all([new Promise(g=>{const v=({chainId:b})=>{b===h&&(d.emitter.off("change",v),g())};d.emitter.on("change",v)}),p.request({method:"wallet_switchEthereumChain",params:[{chainId:De(h)}]})]);const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,h]),m}catch(y){const g=y;if(/(user rejected)/i.test(g.message))throw new vn(g);try{let v;f?.blockExplorerUrls?v=f.blockExplorerUrls:v=m.blockExplorers?.default.url?[m.blockExplorers?.default.url]:[];let b;f?.rpcUrls?.length?b=f.rpcUrls:b=[...m.rpcUrls.default.http];const x={blockExplorerUrls:v,chainId:De(h),chainName:f?.chainName??m.name,iconUrls:f?.iconUrls,nativeCurrency:f?.nativeCurrency??m.nativeCurrency,rpcUrls:b};await p.request({method:"wallet_addEthereumChain",params:[x]});const R=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...R,h]),m}catch(v){throw new vn(v)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(h=>Tr(h))})},onChainChanged(f){const h=Number(f);d.emitter.emit("change",{chainId:h})},async onConnect(f){const h=Number(f.chainId),p=await this.getAccounts();d.emitter.emit("connect",{accounts:p,chainId:h})},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();o&&(h.removeListener("accountsChanged",o),o=void 0),s&&(h.removeListener("chainChanged",s),s=void 0),u&&(h.removeListener("disconnect",u),u=void 0),c&&(h.removeListener("session_delete",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?n.session?.namespaces[i]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||""))??[]:[]},async getRequestedChainsIds(){return await d.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!e)return!1;const f=d.chains.map(m=>m.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(m=>f.includes(m)))return!1;const p=await this.getRequestedChainsIds();return!f.every(m=>p.includes(m))},async setRequestedChainsIds(f){await d.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var Uy={},Vee=768,Su=FJ({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),KL=Z4({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),RA=HJ({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),R5={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},$ee={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},qee="_12cbo8i3 ju367v8r",Qee={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function Yn({active:t,hover:e}){return[qee,e&&Qee[e],$ee[t]]}var XL=j.createContext(null);function Kee(){const{adapter:t}=j.useContext(XL)??{};if(!t)throw new Error("No authentication adapter found");return t}function Aw(){return j.useContext(XL)?.status??null}function xC(){const t=Aw(),{isConnected:e}=Rr();return e?t&&(t==="loading"||t==="unauthenticated")?t:"connected":"disconnected"}function EC(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function Xee(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function Yee(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function fu(){return Xee()||Yee()}function wr(){return EC()||fu()}var Jee="iekbcc0",Zee={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},ete=({reset:t,...e})=>{if(!t)return RA(e);const n=Zee[t],r=RA(e);return tL(Jee,n,r)},te=O.forwardRef(({as:t="div",className:e,testId:n,...r},i)=>{const o={},s={};for(const l in r)RA.properties.has(l)?o[l]=r[l]:s[l]=r[l];const a=ete({reset:typeof t=="string"?t:"div",...o});return O.createElement(t,{className:tL(a,e),...s,"data-testid":n?`rk-${n.replace(/^rk-/,"")}`:void 0,ref:i})});te.displayName="Box";var YL=new Map,c1=new Map;async function JL(t){const e=c1.get(t);if(e)return e;const n=async()=>t().then(async i=>(YL.set(t,i),i)),r=n().catch(i=>n().catch(o=>{c1.delete(t)}));return c1.set(t,r),r}async function Ns(...t){return await Promise.all(t.map(e=>typeof e=="function"?JL(e):e))}function tte(){const[,t]=j.useReducer(e=>e+1,0);return t}function _w(t){const e=typeof t=="function"?YL.get(t):void 0,n=tte();return j.useEffect(()=>{typeof t=="function"&&!e&&JL(t).then(n)},[t,e,n]),typeof t=="function"?e:t}function yr({alt:t,background:e,borderColor:n,borderRadius:r,useAsImage:i,boxShadow:o,height:s,src:a,width:l,testId:c}){const u=fu(),d=_w(a),f=d&&/^http/.test(d),[h,p]=j.useReducer(()=>!0,!1);return O.createElement(te,{"aria-label":t,borderRadius:r,boxShadow:o,height:typeof s=="string"?s:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof s=="number"?s:void 0,width:typeof l=="number"?l:void 0},width:typeof l=="string"?l:void 0,testId:c},O.createElement(te,{...f?{"aria-hidden":!0,as:"img",onLoad:p,src:d}:{"aria-hidden":!0,as:"img",src:d},height:"full",position:"absolute",...u?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!i&&f?{opacity:h?1:0}:{}},width:"full"}),n?O.createElement(te,{...typeof n=="object"&&"custom"in n?{style:{borderColor:n.custom}}:{borderColor:n},borderRadius:r,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var nte="_1luule42",rte="_1luule43",ite=t=>j.useMemo(()=>`${t}_${Math.round(Math.random()*1e9)}`,[t]),Lp=({height:t=21,width:e=21})=>{const n=ite("spinner");return O.createElement("svg",{className:nte,fill:"none",height:t,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Loading"),O.createElement("clipPath",{id:n},O.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),O.createElement("foreignObject",{clipPath:`url(#${n})`,height:"21",width:"21",x:"0",y:"0"},O.createElement("div",{className:rte})))},Vt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],P5=[{color:Vt[0],emoji:"🌶"},{color:Vt[1],emoji:"🤑"},{color:Vt[2],emoji:"🐙"},{color:Vt[3],emoji:"🫐"},{color:Vt[4],emoji:"🐳"},{color:Vt[0],emoji:"🤶"},{color:Vt[5],emoji:"🌲"},{color:Vt[6],emoji:"🌞"},{color:Vt[7],emoji:"🐒"},{color:Vt[8],emoji:"🐵"},{color:Vt[9],emoji:"🦊"},{color:Vt[10],emoji:"🐼"},{color:Vt[11],emoji:"🦄"},{color:Vt[12],emoji:"🐷"},{color:Vt[13],emoji:"🐧"},{color:Vt[8],emoji:"🦩"},{color:Vt[14],emoji:"👽"},{color:Vt[0],emoji:"🎈"},{color:Vt[8],emoji:"🍉"},{color:Vt[1],emoji:"🎉"},{color:Vt[15],emoji:"🐲"},{color:Vt[16],emoji:"🌎"},{color:Vt[17],emoji:"🍊"},{color:Vt[18],emoji:"🐭"},{color:Vt[19],emoji:"🍣"},{color:Vt[1],emoji:"🐥"},{color:Vt[20],emoji:"👾"},{color:Vt[15],emoji:"🥦"},{color:Vt[0],emoji:"👹"},{color:Vt[17],emoji:"🙀"},{color:Vt[4],emoji:"⛱"},{color:Vt[21],emoji:"⛵️"},{color:Vt[17],emoji:"🥳"},{color:Vt[8],emoji:"🤯"},{color:Vt[22],emoji:"🤠"}];function ote(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}function ste(t){const n=Math.abs(ote((typeof t=="string"?t:"").toLowerCase())%P5.length);return P5[n??0]}var ate=({address:t,ensImage:e,size:n})=>{const[r,i]=j.useState(!1);j.useEffect(()=>{if(e){const a=new Image;a.src=e,a.onload=()=>i(!0)}},[e]);const{color:o,emoji:s}=j.useMemo(()=>ste(t),[t]);return e?r?O.createElement(te,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:n,width:n}}):O.createElement(te,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:n,width:n}},O.createElement(Lp,null)):O.createElement(te,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:n,width:n}},s)},ZL=ate,eD=j.createContext(ZL);function tD({address:t,imageUrl:e,loading:n,size:r}){const i=j.useContext(eD);return O.createElement(te,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${r}px`,width:`${r}px`},userSelect:"none"},O.createElement(te,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(r*.55)}px`,height:`${r}px`,transform:n?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:n?void 0:".1s",width:`${r}px`,willChange:"transform"},userSelect:"none"},O.createElement(i,{address:t,ensImage:e,size:r})),n&&O.createElement(te,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},O.createElement(Lp,{height:"100%",width:"100%"})))}var N5=()=>O.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Dropdown"),O.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),k5={defaultLocale:"en",locale:"en"},lte=class{constructor(t){this.listeners=new Set,this.defaultLocale=k5.defaultLocale,this.enableFallback=!1,this.locale=k5.locale,this.cachedLocales=[],this.translations={};for(const[e,n]of Object.entries(t))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(n,e)}}missingMessage(t){return`[missing: "${this.locale}.${t}" translation]`}flattenTranslation(t,e){const n={},r=(i,o)=>{for(const s of Object.keys(i)){const a=`${o}.${s}`,l=i[s];typeof l=="object"&&l!==null?r(l,a):n[a]=l}};return r(t,e),n}translateWithReplacements(t,e={}){let n=t;for(const r in e){const i=e[r];n=n.replace(`%{${r}}`,i)}return n}t(t,e,n){const r=`${this.locale}.${t}`,i=this.translations[r];if(!i){if(this.enableFallback){const o=`${this.defaultLocale}.${t}`,s=this.translations[o];if(s)return this.translateWithReplacements(s,e)}return n?.rawKeyIfTranslationMissing?t:this.missingMessage(t)}return this.translateWithReplacements(i,e)}isLocaleCached(t){return this.cachedLocales.includes(t)}updateLocale(t){this.locale=t,this.notifyListeners()}setTranslations(t,e){this.isLocaleCached(t)||(this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(e,t)}),this.locale=t,this.notifyListeners()}notifyListeners(){for(const t of this.listeners)t()}onChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}},uo=new lte({en:JSON.parse(xA),"en-US":JSON.parse(xA)});uo.defaultLocale="en-US";uo.locale="en-US";uo.enableFallback=!0;var cte=async t=>{switch(t){case"ar":case"ar-AR":return(await je(async()=>{const{default:e}=await import("./ar_AR-CTNWGWSS-DlAFo0vZ.js");return{default:e}},[])).default;case"de":case"de-DE":return(await je(async()=>{const{default:e}=await import("./de_DE-P43L3PR7-pJRS3eyz.js");return{default:e}},[])).default;case"en":case"en-US":return(await je(async()=>{const{default:e}=await Promise.resolve().then(()=>Z6);return{default:e}},void 0)).default;case"es":case"es-419":return(await je(async()=>{const{default:e}=await import("./es_419-JBX5FS3Q-Bk-MlIq_.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await je(async()=>{const{default:e}=await import("./fr_FR-CM2EDAQC-DvlCXiU9.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await je(async()=>{const{default:e}=await import("./hi_IN-GYVCUYRD-CQnOa8U_.js");return{default:e}},[])).default;case"id":case"id-ID":return(await je(async()=>{const{default:e}=await import("./id_ID-7ZWSMOOE-ZzIoBaiI.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await je(async()=>{const{default:e}=await import("./ja_JP-CGMP6VLZ-BBxPp4Hq.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await je(async()=>{const{default:e}=await import("./ko_KR-YCZDTF7X-4W342j3x.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await je(async()=>{const{default:e}=await import("./ms_MY-5LHAYMS7-BUU8UB2I.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await je(async()=>{const{default:e}=await import("./pt_BR-3JTS4PSK-Cou37HE0.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await je(async()=>{const{default:e}=await import("./ru_RU-6J6XERHI-BEDPqa1p.js");return{default:e}},[])).default;case"th":case"th-TH":return(await je(async()=>{const{default:e}=await import("./th_TH-STXOD4CR-DmwaGyKS.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await je(async()=>{const{default:e}=await import("./tr_TR-P7QAUUZU-DHzPxq5a.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await je(async()=>{const{default:e}=await import("./uk_UA-JTTBGJGQ-bEPIKyyu.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await je(async()=>{const{default:e}=await import("./vi_VN-5XUUAVWW-DvcbUvCZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await je(async()=>{const{default:e}=await import("./zh_CN-RGMLPFEP-CPkk4IYh.js");return{default:e}},[])).default;case"zh-HK":return(await je(async()=>{const{default:e}=await import("./zh_HK-YM3T6EI5-BYHcXtXC.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await je(async()=>{const{default:e}=await import("./zh_TW-HAEH6VE5-r-nym7hs.js");return{default:e}},[])).default;default:return(await je(async()=>{const{default:e}=await Promise.resolve().then(()=>Z6);return{default:e}},void 0)).default}};async function O5(t){if(uo.isLocaleCached(t)){uo.updateLocale(t);return}const n=await cte(t);uo.setTranslations(t,JSON.parse(n))}var ute=()=>{if(typeof window<"u"&&typeof navigator<"u"){if(navigator.languages?.length)return navigator.languages[0];if(navigator.language)return navigator.language}},er=j.createContext({i18n:uo}),dte=({children:t,locale:e})=>{const[n,r]=j.useState(0),i=j.useMemo(()=>ute(),[]);j.useEffect(()=>uo.onChange(()=>{r(a=>a+1)}),[]),j.useEffect(()=>{e&&e!==uo.locale?O5(e):!e&&i&&i!==uo.locale&&O5(i)},[e,i]);const o=j.useMemo(()=>({t:(a,l)=>uo.t(a,l),i18n:uo}),[n]);return O.createElement(er.Provider,{value:o},t)};function nD(t){return t!=null}var B5={iconBackground:"#7290CC",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:t}},[])).default},u1={iconBackground:"#96bedc",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:t}},[])).default},F5={iconBackground:"#e84141",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:t}},[])).default},d1={iconBackground:"#0052ff",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:t}},[])).default},f1={iconBackground:"#814625",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:t}},[])).default},L5={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:t}},[])).default},D5={iconBackground:"#ebac0e",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:t}},[])).default},U5={iconBackground:"#FCFF52",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:t}},[])).default},z5={iconBackground:"#002D74",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:t}},[])).default},fte={iconBackground:"#A36EFD",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:t}},[])).default},La={iconBackground:"#484c50",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:t}},[])).default},j5={iconBackground:"transparent",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:t}},[])).default},hte={iconBackground:"#04795c",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:t}},[])).default},H5={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:t}},[])).default},pte={iconBackground:"#f9f7ec",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:t}},[])).default},mte={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:t}},[])).default},G5={iconBackground:"#7132F5",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:t}},[])).default},W5={iconBackground:"transparent",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:t}},[])).default},h1={iconBackground:"#ffffff",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:t}},[])).default},p1={iconBackground:"#ffffff",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:t}},[])).default},V5={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:t}},[])).default},v0={iconBackground:"#ff5a57",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:t}},[])).default},m1={iconBackground:"#9f71ec",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:t}},[])).default},gte={iconBackground:"#1273EA",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:t}},[])).default},yte={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:t}},[])).default},vte={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:t}},[])).default},$5={iconBackground:"#FFEEDA",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:t}},[])).default},q5={iconBackground:"#F50DB4",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:t}},[])).default},Q5={iconBackground:"#f9f7ec",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:t}},[])).default},K5={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:t}},[])).default},X5={iconBackground:"#f9f7ec",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:t}},[])).default},g1={iconBackground:"#000000",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:t}},[])).default},wte={apechain:{chainId:33139,name:"ApeChain",...B5},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...B5},arbitrum:{chainId:42161,name:"Arbitrum",...u1},arbitrumGoerli:{chainId:421613,...u1},arbitrumSepolia:{chainId:421614,...u1},avalanche:{chainId:43114,...F5},avalancheFuji:{chainId:43113,...F5},base:{chainId:8453,name:"Base",...d1},baseGoerli:{chainId:84531,...d1},baseSepolia:{chainId:84532,...d1},berachain:{chainId:80094,name:"Berachain",...f1},berachainArtio:{chainId:80085,name:"Berachain Artio",...f1},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...f1},blast:{chainId:81457,name:"Blast",...L5},blastSepolia:{chainId:168587773,...L5},bsc:{chainId:56,name:"BSC",...D5},bscTestnet:{chainId:97,...D5},celo:{chainId:42220,name:"Celo",...U5},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...U5},cronos:{chainId:25,...z5},cronosTestnet:{chainId:338,...z5},degen:{chainId:666666666,name:"Degen",...fte},flow:{chainId:747,...j5},flowTestnet:{chainId:545,...j5},gnosis:{chainId:100,name:"Gnosis",...hte},goerli:{chainId:5,...La},gravity:{chainId:1625,name:"Gravity",...H5},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...H5},hardhat:{chainId:31337,...pte},holesky:{chainId:17e3,...La},hyperevm:{chainId:999,...mte},ink:{chainId:57073,...G5},inkSepolia:{chainId:763373,...G5},kaia:{chainId:8217,name:"Kaia",...W5},kairos:{chainId:1001,name:"Kairos",...W5},kovan:{chainId:42,...La},linea:{chainId:59144,name:"Linea",...h1},lineaGoerli:{chainId:59140,name:"Linea Goerli",...h1},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...h1},localhost:{chainId:1337,...La},mainnet:{chainId:1,name:"Ethereum",...La},manta:{chainId:169,name:"Manta",...p1},mantaSepolia:{chainId:3441006,...p1},mantaTestnet:{chainId:3441005,...p1},mantle:{chainId:5e3,...V5},mantleTestnet:{chainId:5001,...V5},optimism:{chainId:10,name:"Optimism",...v0},optimismGoerli:{chainId:420,...v0},optimismKovan:{chainId:69,...v0},optimismSepolia:{chainId:11155420,...v0},polygon:{chainId:137,name:"Polygon",...m1},polygonAmoy:{chainId:80002,...m1},polygonMumbai:{chainId:80001,...m1},rinkeby:{chainId:4,...La},ronin:{chainId:2020,...gte},ropsten:{chainId:3,...La},sanko:{chainId:1996,name:"Sanko",...yte},scroll:{chainId:534352,...$5},scrollSepolia:{chainId:534351,...$5},sepolia:{chainId:11155111,...La},superposition:{chainId:55244,name:"Superposition",...vte},unichain:{chainId:130,...q5},unichainSepolia:{chainId:1301,...q5},xdc:{chainId:50,name:"XDC",...Q5},xdcTestnet:{chainId:51,...Q5},zetachain:{chainId:7e3,name:"ZetaChain",...K5},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...K5},zkSync:{chainId:324,name:"zkSync",...X5},zkSyncTestnet:{chainId:280,...X5},zora:{chainId:7777777,name:"Zora",...g1},zoraSepolia:{chainId:999999999,...g1},zoraTestnet:{chainId:999,...g1}},bte=Object.fromEntries(Object.values(wte).filter(nD).map(({chainId:t,...e})=>[t,e])),xte=t=>t.map(e=>{const n=bte[e.id]??{};return{...e,name:n.name??e.name,iconUrl:e.iconUrl??n.iconUrl,iconBackground:e.iconBackground??n.iconBackground}}),AC=j.createContext({chains:[]});function Ete({children:t,initialChain:e}){const{chains:n}=ur();return O.createElement(AC.Provider,{value:j.useMemo(()=>({chains:xte(n),initialChainId:typeof e=="number"?e:e?.id}),[n,e])},t)}var hu=()=>j.useContext(AC).chains,Ate=()=>j.useContext(AC).initialChainId,_te=()=>{const t=hu();return j.useMemo(()=>{const e={};for(const n of t)e[n.id]=n;return e},[t])},rD=j.createContext({showBalance:void 0,setShowBalance:()=>{}});function Ste({children:t}){const[e,n]=j.useState();return O.createElement(rD.Provider,{value:{showBalance:e,setShowBalance:n}},t)}var iD=()=>j.useContext(rD);function Cte(){const[t,e]=j.useState(!1);return j.useEffect(()=>(e(!0),()=>{e(!1)}),[]),j.useCallback(()=>t,[t])}function oD(){const t=hu(),e=_f.id;return t.some(r=>r.id===e)}function Tte(t){const e=oD(),n=i=>{try{return CZ(i)}catch{}},{data:r}=RJ({chainId:_f.id,name:t?n(t):void 0,query:{enabled:e}});return r}async function Hl(t,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!t)throw new Error("rainbowFetch: Missing url argument");const n=new AbortController,r=setTimeout(()=>n.abort(),e.timeout),{body:i,params:o,headers:s,...a}=e,l=i&&typeof i=="object"?JSON.stringify(e.body):e.body,c=await fetch(`${t}${Ite(o)}`,{...a,body:l,headers:{Accept:"application/json","Content-Type":"application/json",...s},signal:n.signal});clearTimeout(r);const u=await Mte(c);if(c.ok){const{headers:h,status:p}=c;return{data:u,headers:h,status:p}}throw Rte({requestBody:i,response:c,responseBody:typeof u=="string"?{error:u}:u})}function Mte(t){return t.headers.get("Content-Type")?.startsWith("application/json")?t.json():t.text()}function Ite(t){return t&&Object.keys(t).length?`?${new URLSearchParams(t)}`:""}function Rte({requestBody:t,response:e,responseBody:n}){const r=n?.error||e?.statusText||"There was an error with the request.",i=new Error(r);return i.response=e,i.responseBody=n,i.requestBody=t,i}var Pte=class{constructor(t={}){const{baseUrl:e="",...n}=t;this.baseUrl=e,this.opts=n}get(t,e){return Hl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"get"})}delete(t,e){return Hl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"delete"})}head(t,e){return Hl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"head"})}options(t,e){return Hl(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"options"})}post(t,e,n){return Hl(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"post"})}put(t,e,n){return Hl(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"put"})}patch(t,e,n){return Hl(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"patch"})}};function Nte({baseUrl:t,headers:e,params:n,timeout:r}){return new Pte({baseUrl:t,headers:e,params:n,timeout:r})}var kte=!!(typeof process<"u"&&typeof Uy<"u"&&Uy.RAINBOW_PROVIDER_API_KEY),Ote=Nte({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof Uy<"u"&&Uy.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function Bte(t,e,n={}){return[t,e,n]}function kg(t){return`rk-ens-name-${t}`}function Fte(t){try{const e=t?JSON.parse(t):null;return typeof e=="object"?e:null}catch{return null}}function Lte(t,e){if(!Zn(t))return;const n=new Date,r=new Date(n.getTime()+180*6e4);localStorage.setItem(kg(t),JSON.stringify({ensName:e,expires:r.getTime()}))}function Dte(t){const e=Fte(localStorage.getItem(kg(t)));if(!e)return null;const{ensName:n,expires:r}=e;return typeof n!="string"||Number.isNaN(Number(r))||new Date().getTime()>Number(r)?(localStorage.removeItem(kg(t)),null):n}async function Ute({address:t}){const e=Dte(t);if(e)return e;const r=(await Ote.get("/v1/resolve-ens",{params:{address:t}})).data.data;return r&&Lte(t,r),r}function zte(t){const e=oD(),{data:n}=PJ({chainId:_f.id,address:t,query:{enabled:e}}),{data:r}=H4({queryKey:Bte("address",t),queryFn:()=>Ute({address:t}),enabled:!e&&!!t&&kte,staleTime:10*(60*1e3),retry:1});return n||r}function sD({address:t,includeBalance:e}){const n=zte(t),r=Tte(n),{data:i}=G4({address:e?t:void 0});return{ensName:n,ensAvatar:r,balance:i}}function _C(){const{chain:t}=Rr();return t?.id??null}var aD="rk-transactions";function jte(t){try{const e=t?JSON.parse(t):{};return typeof e=="object"?e:{}}catch{return{}}}function Y5(){return jte(typeof localStorage<"u"?localStorage.getItem(aD):null)}var Hte=/^0x([A-Fa-f0-9]{64})$/;function Gte(t){const e=[];return Hte.test(t.hash)||e.push("Invalid transaction hash"),typeof t.description!="string"&&e.push("Transaction must have a description"),typeof t.confirmations<"u"&&(!Number.isInteger(t.confirmations)||t.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function Wte({provider:t}){let e=Y5(),n=t;const r=new Set,i=new Set,o=new Map;function s(v){n=v}function a(v,b){return e[v]?.[b]??[]}function l(v,b,x){const R=Gte(x);if(R.length>0)throw new Error(["Unable to add transaction",...R].join(`
`));f(v,b,k=>[{...x,status:"pending"},...k.filter(({hash:_})=>_!==x.hash)])}function c(v,b){f(v,b,()=>[])}function u(v,b,x,R){f(v,b,k=>k.map(_=>_.hash===x?{..._,status:R}:_))}async function d(v,b){await Promise.all(a(v,b).filter(x=>x.status==="pending").map(async x=>{const{confirmations:R,hash:k}=x,_=o.get(k);if(_)return await _;const I=n.waitForTransactionReceipt({confirmations:R,hash:k,timeout:3e5}).then(({status:S})=>{o.delete(k),S!==void 0&&(u(v,b,k,S===0||S==="reverted"?"failed":"confirmed"),m(S))}).catch(()=>{u(v,b,k,"failed")});return o.set(k,I),await I}))}function f(v,b,x){e=Y5(),e[v]=e[v]??{};let R=0;const k=10,_=x(e[v][b]??[]).filter(({status:I})=>I==="pending"?!0:R++<=k);e[v][b]=_.length>0?_:void 0,h(),p(),d(v,b)}function h(){localStorage.setItem(aD,JSON.stringify(e))}function p(){for(const v of r)v()}function m(v){for(const b of i)b(v)}function y(v){return r.add(v),()=>{r.delete(v)}}function g(v){return i.add(v),()=>{i.delete(v)}}return{addTransaction:l,clearTransactions:c,getTransactions:a,onTransactionStatus:g,onChange:y,setProvider:s,waitForPendingTransactions:d}}var J5,lD=O.createContext(null);function Vte({children:t}){const e=W4(),{address:n}=Rr(),r=_C(),{refetch:i}=G4({address:n,query:{enabled:!1}}),[o]=O.useState(()=>J5??(J5=Wte({provider:e}))),s=O.useCallback(a=>{a==="success"&&i()},[i]);return O.useEffect(()=>{o.setProvider(e)},[o,e]),O.useEffect(()=>{n&&r&&o.waitForPendingTransactions(n,r)},[o,n,r]),O.useEffect(()=>{if(o&&n&&r)return o.onTransactionStatus(s)},[o,n,r,s]),O.createElement(lD.Provider,{value:o},t)}function cD(){const t=O.useContext(lD);if(!t)throw new Error("Transaction hooks must be used within RainbowKitProvider");return t}function uD(){const t=cD(),{address:e}=Rr(),n=_C(),[r,i]=j.useState(()=>t&&e&&n?t.getTransactions(e,n):[]);return j.useEffect(()=>{if(t&&e&&n)return i(t.getTransactions(e,n)),t.onChange(()=>{i(t.getTransactions(e,n))})},[t,e,n]),r}var Z5=t=>typeof t=="function"?t():t;function $te(t,{extends:e}={}){const n={...x5(R5,Z5(t))};if(!e)return n;const r=x5(R5,Z5(e));return Object.fromEntries(Object.entries(n).filter(([o,s])=>s!==r[o]))}function eI(t,e={}){return Object.entries($te(t,e)).map(([n,r])=>`${n}:${r.replace(/[:;{}</>]/g,"")};`).join("")}var dD={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},xm=j.createContext(dD),fD=j.createContext(!1);function qte(t,e){let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}}var hD=()=>{const[t,e]=j.useState({height:void 0,width:void 0});return j.useEffect(()=>{const n=qte(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},Em=j.createContext({connector:null,setConnector:()=>{}});function Qte({children:t}){const[e,n]=j.useState(null);return O.createElement(Em.Provider,{value:j.useMemo(()=>({connector:e,setConnector:n}),[e])},t)}var Am={COMPACT:"compact",WIDE:"wide"},Sw=j.createContext(Am.WIDE);function Kte({children:t,modalSize:e}){const{width:n}=hD(),r=n&&n<Vee,{connector:i}=j.useContext(Em);return O.createElement(Sw.Provider,{value:r||i?Am.COMPACT:e},t)}var SC=j.createContext(!1),Xte="rk-version";function Yte({version:t}){localStorage.setItem(Xte,t)}function Jte(){const t=j.useCallback(()=>{Yte({version:"2.2.7"})},[]);j.useEffect(()=>{t()},[t])}function Zte(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]=r)}return n}function CC(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function ene(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function TC(){if(typeof navigator>"u")return"Browser";const t=navigator.userAgent?.toLowerCase();return navigator.brave?.isBrave?"Brave":t?.indexOf("edg/")>-1?"Edge":t?.indexOf("op")>-1?"Opera":ene()?"Arc":t?.indexOf("chrome")>-1?"Chrome":t?.indexOf("firefox")>-1?"Firefox":CC()?"Safari":"Browser"}var tne=Aee.UAParser(),{os:MC}=tne;function nne(){return MC.name==="Windows"}function rne(){return MC.name==="Mac OS"}function ine(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(MC.name)}function IC(){return nne()?"Windows":rne()?"macOS":ine()?"Linux":"Desktop"}var one=t=>{const e=TC();return{Arc:t?.downloadUrls?.chrome,Brave:t?.downloadUrls?.chrome,Chrome:t?.downloadUrls?.chrome,Edge:t?.downloadUrls?.edge||t?.downloadUrls?.chrome,Firefox:t?.downloadUrls?.firefox,Opera:t?.downloadUrls?.opera||t?.downloadUrls?.chrome,Safari:t?.downloadUrls?.safari,Browser:t?.downloadUrls?.browserExtension}[e]??t?.downloadUrls?.browserExtension},sne=t=>(fu()?t?.downloadUrls?.ios:t?.downloadUrls?.android)??t?.downloadUrls?.mobile,ane=t=>{const e=IC();return{Windows:t?.downloadUrls?.windows,macOS:t?.downloadUrls?.macos,Linux:t?.downloadUrls?.linux,Desktop:t?.downloadUrls?.desktop}[e]??t?.downloadUrls?.desktop},pD=(t,e)=>t.some(n=>n.id===e),lne=t=>!!t.isRainbowKitConnector,tI=t=>!!(!t.isRainbowKitConnector&&t.icon?.replace(/\n/g,"").startsWith("data:image")&&t.uid&&t.name),cne=(t,e)=>t.id==="walletConnect"&&e?{...t,walletConnectModalConnector:e}:t,une=({wallets:t,recentWallets:e})=>[...e,...t.filter(n=>!pD(e,n.id))],mD="rk-recent";function dne(t){try{const e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function gD(){return typeof localStorage<"u"?dne(localStorage.getItem(mD)):[]}function fne(t){return[...new Set(t)]}function hne(t){const e=fne([t,...gD()]);localStorage.setItem(mD,JSON.stringify(e))}function Dp(t=!1){const e=hu(),n=Ate(),{connectAsync:r,connectors:i}=MJ(),o=i,{setIsWalletConnectModalOpen:s}=jD(),a=o.map(x=>({...x,...x.rkDetails||{}}));async function l(x){const R=await x.getChainId(),k=await r({chainId:n??e.find(({id:_})=>_===R)?.id??e[0]?.id,connector:x});return k&&hne(x.id),k}async function c(x){try{s(!0),await l(x),s(!1)}catch(R){const k=R.name==="UserRejectedRequestError"||R.message==="Connection request reset. Please try again.";if(s(!1),!k)throw R}}const u=async(x,R)=>{const k=await x.getProvider();return x.id==="coinbase"?k.qrUrl:new Promise(_=>k.once("display_uri",I=>{_(R(I))}))},d=a.find(x=>x.id==="walletConnect"&&x.isWalletConnectModalConnector),f=a.filter(tI).map(x=>({...x,groupIndex:0})),h=a.filter(lne).filter(x=>!x.isWalletConnectModalConnector).filter(x=>t?!f.some(k=>k.id===x.rdns):!0).map(x=>cne(x,d)),p=[...f,...h],m=Zte(p,x=>x.id),g=gD().map(x=>m[x]).filter(Boolean).slice(0,3),v=[],b=une({wallets:p,recentWallets:g});for(const x of b){if(!x)continue;const R=tI(x),k=pD(g,x.id);if(R){v.push({...x,iconUrl:x.icon,ready:!0,connect:()=>l(x),groupName:"Installed",recent:k});continue}v.push({...x,ready:x.installed??!0,connect:()=>l(x),desktopDownloadUrl:ane(x),extensionDownloadUrl:one(x),groupName:x.groupName,mobileDownloadUrl:sne(x),getQrCodeUri:x.qrCode?.getUri?()=>u(x,x.qrCode.getUri):void 0,getDesktopUri:x.desktop?.getUri?()=>u(x,x.desktop.getUri):void 0,getMobileUri:x.mobile?.getUri?()=>u(x,x.mobile?.getUri):void 0,recent:k,showWalletConnectModal:x.walletConnectModalConnector?()=>c(x.walletConnectModalConnector):void 0})}return v}var yD=async()=>(await je(async()=>{const{default:t}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:t}},[])).default,pne=()=>Ns(yD),mne=()=>O.createElement(yr,{background:"#d0d5de",borderRadius:"10",height:"48",src:yD,width:"48"}),vD=async()=>(await je(async()=>{const{default:t}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:t}},[])).default,gne=()=>Ns(vD),yne=()=>O.createElement(yr,{background:"#d0d5de",borderRadius:"10",height:"48",src:vD,width:"48"}),vt=O.forwardRef(({as:t="div",children:e,className:n,color:r,display:i,font:o="body",id:s,size:a="16",style:l,tabIndex:c,textAlign:u="inherit",weight:d="regular",testId:f},h)=>O.createElement(te,{as:t,className:n,color:r,display:i,fontFamily:o,fontSize:a,fontWeight:d,id:s,ref:h,style:l,tabIndex:c,textAlign:u,testId:f},e));vt.displayName="Text";var vne={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function ni({disabled:t=!1,href:e,label:n,onClick:r,rel:i="noreferrer noopener",size:o="medium",target:s="_blank",testId:a,type:l="primary"}){const c=l==="primary",u=o!=="large",d=wr(),f=t?"actionButtonSecondaryBackground":c?"accentColor":u?"actionButtonSecondaryBackground":null,{fontSize:h,height:p,paddingX:m,paddingY:y}=vne[o],g=!d||!u;return O.createElement(te,{...e?t?{}:{as:"a",href:e,rel:i,target:s}:{as:"button",type:"button"},onClick:t?void 0:r,...g?{borderColor:d&&!u&&!c?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!t&&Yn({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:y,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...f?{background:f}:{},...p?{height:p}:{}},O.createElement(vt,{color:t?"modalTextSecondary":c?"accentColorForeground":"accentColor",size:h,weight:"bold"},n))}var wne=()=>wr()?O.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Close"),O.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):O.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Close"),O.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),Kc=({"aria-label":t="Close",onClose:e})=>{const n=wr();return O.createElement(te,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:Yn({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},O.createElement(wne,null))},wD=async()=>(await je(async()=>{const{default:t}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:t}},[])).default;function bne({onClose:t,onCloseModal:e}){const{i18n:n}=j.useContext(er),[{status:r,...i},o]=O.useState({status:"idle"}),s=Kee(),a=j.useCallback(async()=>{try{const p=await s.getNonce();o(m=>({...m,nonce:p}))}catch{o(p=>({...p,errorMessage:n.t("sign_in.message.preparing_error"),status:"idle"}))}},[s,n.t]),l=j.useRef(!1);O.useEffect(()=>{l.current||(l.current=!0,a())},[a]);const c=wr(),{address:u,chain:d}=Rr(),{signMessageAsync:f}=NJ(),h=async()=>{try{const p=d?.id,{nonce:m}=i;if(!u||!p||!m)return;o(v=>({...v,errorMessage:void 0,status:"signing"}));const y=s.createMessage({address:u,chainId:p,nonce:m});let g;try{g=await f({message:y})}catch(v){return v instanceof vn?o(b=>({...b,status:"idle"})):o(b=>({...b,errorMessage:n.t("sign_in.signature.signing_error"),status:"idle"}))}o(v=>({...v,status:"verifying"}));try{if(await s.verify({message:y,signature:g})){e();return}throw new Error}catch{return o(v=>({...v,errorMessage:n.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:n.t("sign_in.signature.oops_error"),status:"idle"})}};return O.createElement(te,{position:"relative"},O.createElement(te,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},O.createElement(Kc,{onClose:t})),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:c?"60px":"36px"}},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"6":"4",style:{maxWidth:c?320:280}},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"16"},O.createElement(yr,{height:40,src:wD,width:40}),O.createElement(vt,{color:"modalText",size:c?"20":"18",textAlign:"center",weight:"heavy"},n.t("sign_in.label"))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"16":"12"},O.createElement(vt,{color:"modalTextSecondary",size:c?"16":"14",textAlign:"center"},n.t("sign_in.description")),r==="idle"&&i.errorMessage?O.createElement(vt,{color:"error",size:c?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),O.createElement(te,{alignItems:c?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},O.createElement(ni,{disabled:!i.nonce||r==="signing"||r==="verifying",label:i.nonce?r==="signing"?n.t("sign_in.signature.waiting"):r==="verifying"?n.t("sign_in.signature.verifying"):n.t("sign_in.message.send"):n.t("sign_in.message.preparing"),onClick:h,size:c?"large":"medium",testId:"auth-message-button"}),c?O.createElement(ni,{label:"Cancel",onClick:t,size:"large",type:"secondary"}):O.createElement(te,{as:"button",borderRadius:"full",className:Yn({active:"shrink",hover:"grow"}),display:"block",onClick:t,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(vt,{color:"closeButton",size:c?"16":"14",weight:"bold"},n.t("sign_in.message.cancel"))))))}function xne(){const t=hu(),e=Dp(),n=Aw()==="unauthenticated",r=j.useCallback(()=>{Ns(...e.map(i=>i.iconUrl),...t.map(i=>i.iconUrl).filter(nD)),wr()||(pne(),gne()),n&&Ns(wD)},[e,t,n]);j.useEffect(()=>{r()},[r])}var bD="WALLETCONNECT_DEEPLINK_CHOICE";function Ene({mobileUri:t,name:e}){localStorage.setItem(bD,JSON.stringify({href:t.split("?")[0],name:e}))}function Ane(){localStorage.removeItem(bD)}var xD=j.createContext(void 0),PA="data-rk",ED=t=>({[PA]:t||""}),_ne=t=>{if(t&&!/^[a-zA-Z0-9_]+$/.test(t))throw new Error(`Invalid ID: ${t}`);return t?`[${PA}="${t}"]`:`[${PA}]`},Sne=()=>{const t=j.useContext(xD);return ED(t)},Cne=Y4();function Tne({appInfo:t,avatar:e,children:n,coolMode:r=!1,id:i,initialChain:o,locale:s,modalSize:a=Am.WIDE,showRecentTransactions:l=!1,theme:c=Cne}){if(xne(),Jte(),I4({onDisconnect:Ane}),typeof c=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const u=_ne(i),d={...dD,...t},f=e??ZL;return O.createElement(Ete,{initialChain:o},O.createElement(Qte,null,O.createElement(dte,{locale:s},O.createElement(fD.Provider,{value:r},O.createElement(Kte,{modalSize:a},O.createElement(SC.Provider,{value:l},O.createElement(Vte,null,O.createElement(eD.Provider,{value:f},O.createElement(xm.Provider,{value:d},O.createElement(xD.Provider,{value:i},O.createElement(Ste,null,O.createElement(jre,null,c?O.createElement("div",{...ED(i)},O.createElement("style",{dangerouslySetInnerHTML:{__html:[`${u}{${eI("lightMode"in c?c.lightMode:c)}}`,"darkMode"in c?`@media(prefers-color-scheme:dark){${u}{${eI(c.darkMode,{extends:c.lightMode})}}}`:null].join("")}}),n):n))))))))))))}var Mne="_9pm4ki5 ju367va ju367v15 ju367v8r",Ine="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",nI=(t,e)=>{const n=t.querySelectorAll("button:not(:disabled), a[href]");n.length!==0&&n[e==="end"?n.length-1:0].focus()};function Rne(t){const e=j.useRef(null);return j.useEffect(()=>{const n=document.activeElement;return()=>{n.focus?.()}},[]),j.useEffect(()=>{if(e.current){const n=e.current.querySelector("[data-auto-focus]");n?n.focus():e.current.focus()}},[]),O.createElement(O.Fragment,null,O.createElement("div",{onFocus:j.useCallback(()=>e.current&&nI(e.current,"end"),[]),tabIndex:0}),O.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...t}),O.createElement("div",{onFocus:j.useCallback(()=>e.current&&nI(e.current,"start"),[]),tabIndex:0}))}var Pne=t=>t.stopPropagation();function zy({children:t,onClose:e,open:n,titleId:r}){j.useEffect(()=>{const c=u=>n&&u.key==="Escape"&&e();return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n,e]);const[i,o]=j.useState(!0);j.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const s=j.useCallback(()=>e(),[e]),a=Sne(),l=wr();return O.createElement(O.Fragment,null,n?jv.createPortal(O.createElement(qL,{enabled:i},O.createElement(te,{...a},O.createElement(te,{...a,alignItems:l?"flex-end":"center","aria-labelledby":r,"aria-modal":!0,className:Ine,onClick:s,position:"fixed",role:"dialog"},O.createElement(Rne,{className:Mne,onClick:Pne,role:"document"},t)))),document.body):null)}var Nne="_1ckjpok7",kne="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",One="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",Bne="_1ckjpok6 ju367vq",Fne="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",Lne="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function jy({bottomSheetOnMobile:t=!1,children:e,marginTop:n,padding:r="16",paddingBottom:i,wide:o=!1}){const s=wr(),l=j.useContext(Sw)===Am.COMPACT;return O.createElement(te,{marginTop:n},O.createElement(te,{className:[o?s?Lne:l?One:Fne:kne,s?Bne:null,s&&t?Nne:null].join(" ")},O.createElement(te,{padding:r,paddingBottom:i??r},e)))}var rI=["k","m","b","t"];function w0(t,e=1){return t.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function AD(t){if(t<1)return w0(t,3);if(t<10**2)return w0(t,2);if(t<10**4)return new Intl.NumberFormat().format(Number.parseFloat(w0(t,1)));const e=10**1;let n=String(t);for(let r=rI.length-1;r>=0;r--){const i=10**((r+1)*3);if(i<=t){t=t*e/i/e,n=w0(t,1)+rI[r];break}}return n}function _D(t){return t.length<8?t:`${t.substring(0,4)}…${t.substring(t.length-4)}`}function SD(t){if(!t)return"";const e=t.split("."),n=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${n}`}var Dne=()=>O.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Copied"),O.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),Une=()=>O.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Copy"),O.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),zne=()=>O.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Disconnect"),O.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function jne(){const t=cD(),{address:e}=Rr(),n=_C();return j.useCallback(()=>{if(!e||!n)throw new Error("No address or chain ID found");t.clearTransactions(e,n)},[t,e,n])}var CD=t=>t?.blockExplorers?.default?.url,TD=()=>O.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Link"),O.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),Hne=()=>O.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Cancel"),O.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),Gne=()=>O.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Success"),O.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),Wne=t=>{switch(t){case"pending":return Lp;case"confirmed":return Gne;case"failed":return Hne;default:return Lp}};function Vne({tx:t}){const e=wr(),n=Wne(t.status),r=t.status==="failed"?"error":"accentColor",{chain:i}=Rr(),o=t.status==="confirmed"?"Confirmed":t.status==="failed"?"Failed":"Pending",s=CD(i);return O.createElement(O.Fragment,null,O.createElement(te,{...s?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Yn({active:"shrink"}),href:`${s}/tx/${t.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},O.createElement(te,{color:r},O.createElement(n,null)),O.createElement(te,{display:"flex",flexDirection:"column",gap:e?"3":"1"},O.createElement(te,null,O.createElement(vt,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},t?.description)),O.createElement(te,null,O.createElement(vt,{color:t.status==="pending"?"modalTextSecondary":r,font:"body",size:"14",weight:e?"medium":"regular"},o)))),s&&O.createElement(te,{alignItems:"center",color:"modalTextDim",display:"flex"},O.createElement(TD,null))))}var $ne=3;function qne({address:t}){const e=uD(),n=jne(),{chain:r}=Rr(),i=CD(r),o=e.slice(0,$ne),s=o.length>0,a=wr(),{appName:l}=j.useContext(xm),{i18n:c}=j.useContext(er);return O.createElement(O.Fragment,null,O.createElement(te,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},s&&O.createElement(te,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},O.createElement(te,{display:"flex",justifyContent:"space-between"},O.createElement(vt,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.recent.title")),O.createElement(te,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},O.createElement(te,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:Yn({active:"shrink"}),onClick:n,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},O.createElement(vt,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.clear.label")))))),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},s?o.map(u=>O.createElement(Vne,{key:u.hash,tx:u})):O.createElement(O.Fragment,null,O.createElement(te,{padding:a?"12":"8"},O.createElement(vt,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},l?c.t("profile.transactions.description",{appName:l}):c.t("profile.transactions.description_fallback"))),a&&O.createElement(te,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&O.createElement(te,{paddingBottom:"18",paddingX:a?"8":"18"},O.createElement(te,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:Yn({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${t}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},O.createElement(vt,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},c.t("profile.explorer.label")),O.createElement(TD,null))))}function iI({action:t,icon:e,label:n,testId:r,url:i}){const o=wr();return O.createElement(te,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:Yn({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:t,padding:o?"6":"8",style:{willChange:"transform"},testId:r,transition:"default",width:"full"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},O.createElement(te,{color:"modalText",height:"max"},e),O.createElement(te,null,O.createElement(vt,{color:"modalText",size:o?"12":"13",weight:"semibold"},n))))}function Qne({address:t,ensAvatar:e,ensName:n,balance:r,onClose:i,onDisconnect:o}){const s=j.useContext(SC),[a,l]=j.useState(!1),c=j.useCallback(()=>{t&&(navigator.clipboard.writeText(t),l(!0))},[t]);if(j.useEffect(()=>{if(a){const y=setTimeout(()=>{l(!1)},1500);return()=>clearTimeout(y)}},[a]),!t)return null;const u=n?SD(n):_D(t),d=r?.formatted,f=d?AD(Number.parseFloat(d)):void 0,h="rk_profile_title",p=wr(),{i18n:m}=j.useContext(er);return O.createElement(O.Fragment,null,O.createElement(te,{display:"flex",flexDirection:"column"},O.createElement(te,{background:"profileForeground",padding:"16"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:p?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},O.createElement(te,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},O.createElement(Kc,{onClose:i}))," ",O.createElement(te,{marginTop:p?"24":"0"},O.createElement(tD,{address:t,imageUrl:e,size:p?82:74})),O.createElement(te,{display:"flex",flexDirection:"column",gap:p?"4":"0",textAlign:"center"},O.createElement(te,{textAlign:"center"},O.createElement(vt,{as:"h1",color:"modalText",id:h,size:p?"20":"18",weight:"heavy"},u)),!!r&&O.createElement(te,{textAlign:"center"},O.createElement(vt,{as:"h1",color:"modalTextSecondary",id:h,size:p?"16":"14",weight:"semibold"},f," ",r.symbol)))),O.createElement(te,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},O.createElement(iI,{action:c,icon:a?O.createElement(Dne,null):O.createElement(Une,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),O.createElement(iI,{action:o,icon:O.createElement(zne,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),s&&O.createElement(O.Fragment,null,O.createElement(te,{background:"generalBorder",height:"1",marginTop:"-1"}),O.createElement(te,null,O.createElement(qne,{address:t})))))}function Kne({onClose:t,open:e}){const{address:n}=Rr(),{balance:r,ensAvatar:i,ensName:o}=sD({address:n,includeBalance:e}),{disconnect:s}=aC();return n?O.createElement(O.Fragment,null,n&&O.createElement(zy,{onClose:t,open:e,titleId:"rk_account_modal_title"},O.createElement(jy,{bottomSheetOnMobile:!0,padding:"0"},O.createElement(Qne,{address:n,ensAvatar:i,ensName:o,balance:r,onClose:t,onDisconnect:s})))):null}var Xne=({size:t})=>O.createElement("svg",{fill:"none",height:t,viewBox:"0 0 28 28",width:t,xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Disconnect"),O.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),Yne="v9horb0",RC=O.forwardRef(({children:t,currentlySelected:e=!1,onClick:n,testId:r,...i},o)=>{const s=wr();return O.createElement(te,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:n,ref:o,testId:r,type:"button"},O.createElement(te,{borderRadius:"menuButton",className:[s?Yne:void 0,!e&&Yn({active:"shrink"})],padding:s?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},t))});RC.displayName="MenuButton";var Jne=({chainId:t,currentChainId:e,switchChain:n,chainIconSize:r,isLoading:i,src:o,name:s,iconBackground:a,idx:l})=>{const c=wr(),{i18n:u}=j.useContext(er),d=hu(),f=e===t;return O.createElement(j.Fragment,null,O.createElement(RC,{currentlySelected:f,onClick:f?void 0:()=>n({chainId:t}),testId:`chain-option-${t}`},O.createElement(te,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:r},o&&O.createElement(te,{height:"full",marginRight:"8"},O.createElement(yr,{alt:s,background:a,borderRadius:"full",height:r,src:o,width:r,testId:`chain-option-${t}-icon`})),O.createElement("div",null,s??s)),f&&O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},O.createElement(vt,{color:"accentColorForeground",size:"14",weight:"medium"},u.t("chains.connected")),O.createElement(te,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},O.createElement(vt,{color:"modalText",size:"14",weight:"medium"},u.t("chains.confirm")),O.createElement(te,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),c&&l<d.length-1&&O.createElement(te,{background:"generalBorderDim",height:"1",marginX:"8"}))},Zne=Jne,ere="_18dqw9x0",tre="_18dqw9x1";function nre({onClose:t,open:e}){const{chainId:n}=Rr(),{chains:r}=ur(),[i,o]=j.useState(null),{switchChain:s}=V4({mutation:{onMutate:({chainId:p})=>{o(p)},onSuccess:()=>{i&&o(null)},onError:()=>{i&&o(null)},onSettled:()=>{t()}}}),{i18n:a}=j.useContext(er),{disconnect:l}=aC(),c="rk_chain_modal_title",u=wr(),d=r.some(p=>p.id===n),f=u?"36":"28",h=hu();return n?O.createElement(zy,{onClose:t,open:e,titleId:c},O.createElement(jy,{bottomSheetOnMobile:!0,paddingBottom:"0"},O.createElement(te,{display:"flex",flexDirection:"column",gap:"14"},O.createElement(te,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u&&O.createElement(te,{width:"30"}),O.createElement(te,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},O.createElement(vt,{as:"h1",color:"modalText",id:c,size:u?"20":"18",weight:"heavy"},a.t("chains.title"))),O.createElement(Kc,{onClose:t})),!d&&O.createElement(te,{marginX:"8",textAlign:u?"center":"left"},O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),O.createElement(te,{className:u?tre:ere,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:p,iconUrl:m,id:y,name:g},v)=>O.createElement(Zne,{key:y,chainId:y,currentChainId:n,switchChain:s,chainIconSize:f,isLoading:i===y,src:m,name:g,iconBackground:p,idx:v})),!d&&O.createElement(O.Fragment,null,O.createElement(te,{background:"generalBorderDim",height:"1",marginX:"8"}),O.createElement(RC,{onClick:()=>l(),testId:"chain-option-disconnect"},O.createElement(te,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},O.createElement(te,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},O.createElement(Xne,{size:Number(f)})),O.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function rre(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]||(n[i]=[]),n[i].push(r))}return n}var PC=({children:t,href:e})=>O.createElement(te,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},t),NC=({children:t})=>O.createElement(vt,{color:"modalTextSecondary",size:"12",weight:"medium"},t);function oI({compactModeEnabled:t=!1,getWallet:e}){const{disclaimer:n,learnMoreUrl:r}=j.useContext(xm),{i18n:i}=j.useContext(er);return O.createElement(O.Fragment,null,O.createElement(te,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},O.createElement(te,{marginBottom:"10"},!t&&O.createElement(vt,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),O.createElement(te,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},O.createElement(te,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},O.createElement(mne,null)),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},O.createElement(te,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},O.createElement(yne,null)),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},O.createElement(ni,{label:i.t("intro.get.label"),onClick:e}),O.createElement(te,{as:"a",className:Yn({active:"shrink",hover:"grow"}),display:"block",href:r,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(vt,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),n&&!t&&O.createElement(te,{marginBottom:"8",marginTop:"12",textAlign:"center"},O.createElement(n,{Link:PC,Text:NC}))))}var MD=()=>O.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Back"),O.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),ire=()=>O.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},O.createElement("title",null,"Info"),O.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),ore=({"aria-label":t="Info",onClick:e})=>{const n=wr();return O.createElement(te,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:Yn({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},O.createElement(ire,null))},ID=t=>{const e=j.useRef(null),n=j.useContext(fD),r=_w(t);return j.useEffect(()=>{if(n&&e.current&&r)return are(e.current,r)},[n,r]),e},sre=()=>{const t="_rk_coolMode",e=document.getElementById(t);if(e)return e;const n=document.createElement("div");return n.setAttribute("id",t),n.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(n),n},sI=0;function are(t,e){sI++;const n=[15,20,25,35,45],r=35;let i=[],o=!1,s=0,a=0;const l=sre();function c(){const x=n[Math.floor(Math.random()*n.length)],R=Math.random()*10,k=Math.random()*25,_=Math.random()*360,I=Math.random()*35*(Math.random()<=.5?-1:1),S=a-x/2,P=s-x/2,L=Math.random()<=.5?-1:1,G=document.createElement("div");G.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,G.setAttribute("style",["position:absolute","will-change:transform",`top:${S}px`,`left:${P}px`,`transform:rotate(${_}deg)`].join(";")),l.appendChild(G),i.push({direction:L,element:G,left:P,size:x,speedHorz:R,speedUp:k,spinSpeed:I,spinVal:_,top:S})}function u(){for(const x of i)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(i=i.filter(R=>R!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let d;function f(){o&&i.length<r&&c(),u(),d=requestAnimationFrame(f)}f();const h="ontouchstart"in window||navigator.msMaxTouchPoints,p=h?"touchstart":"mousedown",m=h?"touchend":"mouseup",y=h?"touchmove":"mousemove",g=x=>{"touches"in x?(s=x.touches?.[0].clientX,a=x.touches?.[0].clientY):(s=x.clientX,a=x.clientY)},v=x=>{g(x),o=!0},b=()=>{o=!1};return t.addEventListener(y,g,{passive:!1}),t.addEventListener(p,v),t.addEventListener(m,b),t.addEventListener("mouseleave",b),()=>{t.removeEventListener(y,g),t.removeEventListener(p,v),t.removeEventListener(m,b),t.removeEventListener("mouseleave",b);const x=setInterval(()=>{d&&i.length===0&&(cancelAnimationFrame(d),clearInterval(x),--sI===0&&l.remove())},500)}}var lre="g5kl0l0",RD=({as:t="button",currentlySelected:e=!1,iconBackground:n,iconUrl:r,name:i,onClick:o,ready:s,recent:a,testId:l,isRainbowKitConnector:c,...u})=>{const d=ID(r),[f,h]=O.useState(!1),{i18n:p}=O.useContext(er);return O.createElement(te,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:d},O.createElement(te,{as:t,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[lre,Yn({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:l,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...u},O.createElement(te,{color:e?"accentColorForeground":"modalText",disabled:!s,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},O.createElement(yr,{background:n,...!f&&c?{borderColor:"actionButtonBorder"}:{},useAsImage:!c,borderRadius:"6",height:"28",src:r,width:"28"}),O.createElement(te,null,O.createElement(te,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&O.createElement(vt,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},p.t("connect.recent")))))))};RD.displayName="ModalSelection";var cre="rk-latest-id";function ure(t){localStorage.setItem(cre,t)}var y1=(t,e=1)=>{let n=t.replace("#","");n.length===3&&(n=`${n[0]}${n[0]}${n[1]}${n[1]}${n[2]}${n[2]}`);const r=Number.parseInt(n.substring(0,2),16),i=Number.parseInt(n.substring(2,4),16),o=Number.parseInt(n.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${r},${i},${o},${e})`},dre=t=>t?[y1(t,.2),y1(t,.14),y1(t,.1)]:null,fre=t=>/^#([0-9a-f]{3}){1,2}$/i.test(t),PD=async()=>(await je(async()=>{const{default:t}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:t}},[])).default,hre=()=>Ns(PD),pre=()=>O.createElement(yr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:PD,width:"48"}),ND=async()=>(await je(async()=>{const{default:t}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:t}},[])).default,kD=()=>Ns(ND),mre=()=>O.createElement(yr,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:ND,width:"48"}),OD=async()=>(await je(async()=>{const{default:t}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:t}},[])).default,gre=()=>Ns(OD),yre=()=>O.createElement(yr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:OD,width:"48"}),BD=async()=>(await je(async()=>{const{default:t}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:t}},[])).default,FD=()=>Ns(BD),vre=()=>O.createElement(yr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:BD,width:"48"}),wre="_1vwt0cg0",bre="_1vwt0cg2 ju367v7a ju367v7v",xre="_1vwt0cg3",Ere="_1vwt0cg4";function LD({ecc:t="medium",logoBackground:e,logoSize:n=50,logoUrl:r,size:i=200,uri:o}){const s="20",a=i-Number.parseInt(s,10)*2,l=_w(r);return O.createElement(te,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:wre,padding:s,width:"max"},O.createElement(te,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},O.createElement(bs.Root,{errorCorrection:t,size:a,value:o},O.createElement(bs.Cells,{radius:1}),O.createElement(bs.Finder,{radius:.25}),l&&O.createElement(bs.Arena,null,O.createElement("img",{alt:"Wallet Logo",src:l,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var DD=async()=>{switch(TC()){case"Arc":return(await je(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await je(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await je(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await je(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await je(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await je(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await je(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await je(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},Are=()=>Ns(DD),UD=async()=>{switch(IC()){case"Windows":return(await je(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await je(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await je(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await je(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},_re=()=>Ns(UD);function Sre({getWalletDownload:t,compactModeEnabled:e}){const r=Dp().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:i}=j.useContext(er);return O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},r?.filter(o=>o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&o.downloadUrls?.qrCode).map(o=>{const{downloadUrls:s,iconBackground:a,iconUrl:l,id:c,name:u,qrCode:d}=o,f=s?.qrCode&&d,h=!!o.extensionDownloadUrl,p=s?.qrCode&&h,m=s?.qrCode&&!!o.desktopDownloadUrl;return O.createElement(te,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},O.createElement(yr,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:l,width:"48"}),O.createElement(te,{display:"flex",flexDirection:"column",gap:"2"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},u),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},p?i.t("get.mobile_and_extension.description"):m?i.t("get.mobile_and_desktop.description"):f?i.t("get.mobile.description"):h?i.t("get.extension.description"):null))),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(ni,{label:i.t("get.action.label"),onClick:()=>t(c),type:"secondary"})))})),O.createElement(te,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},i.t("get.looking_for.title")),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},e?i.t("get.looking_for.desktop.compact_description"):i.t("get.looking_for.desktop.wide_description"))))}var v1="44";function Cre({changeWalletStep:t,compactModeEnabled:e,connectionError:n,onClose:r,qrCodeUri:i,reconnect:o,wallet:s}){const{downloadUrls:a,iconBackground:l,iconUrl:c,name:u,qrCode:d,ready:f,showWalletConnectModal:h,getDesktopUri:p}=s,m=!!p,y=CC(),{i18n:g}=j.useContext(er),v=!!s.extensionDownloadUrl,b=a?.qrCode&&v,x=a?.qrCode&&!!s.desktopDownloadUrl,R=d&&i,k=async()=>{const P=await p?.();window.open(P,y?"_blank":"_self")},_=h?{description:e?g.t("connect.walletconnect.description.compact"):g.t("connect.walletconnect.description.full"),label:g.t("connect.walletconnect.open.label"),onClick:()=>{r(),h()}}:R?{description:g.t("connect.secondary_action.get.description",{wallet:u}),label:g.t("connect.secondary_action.get.label"),onClick:()=>t(b||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:I}=hD(),S=I&&I<768;return j.useEffect(()=>{Are(),_re()},[]),O.createElement(te,{display:"flex",flexDirection:"column",height:"full",width:"full"},R?O.createElement(te,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},O.createElement(LD,{logoBackground:l,logoSize:e?60:72,logoUrl:c,size:e?318:S?Math.max(280,Math.min(I-308,382)):382,uri:i})):O.createElement(te,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},O.createElement(te,{borderRadius:"10",height:v1,overflow:"hidden"},O.createElement(yr,{useAsImage:!s.isRainbowKitConnector,height:v1,src:c,width:v1})),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},O.createElement(vt,{color:"modalText",size:"18",weight:"bold"},f?g.t("connect.status.opening",{wallet:u}):v?g.t("connect.status.not_installed",{wallet:u}):g.t("connect.status.not_available",{wallet:u})),!f&&v?O.createElement(te,{paddingTop:"20"},O.createElement(ni,{href:s.extensionDownloadUrl,label:g.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!R&&O.createElement(O.Fragment,null,O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},O.createElement(vt,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},g.t("connect.status.confirm"))),O.createElement(te,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},n?O.createElement(ni,{label:g.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&k(),o(s)}}):O.createElement(te,{color:"modalTextSecondary"},O.createElement(Lp,null))))))),O.createElement(te,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&_&&O.createElement(O.Fragment,null,O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},_.description),O.createElement(ni,{label:_.label,onClick:_.onClick,type:"secondary"}))))}var w1=({actionLabel:t,description:e,iconAccent:n,iconBackground:r,iconUrl:i,isCompact:o,onAction:s,title:a,url:l,variant:c})=>{const u=c==="browser",d=!u&&n&&dre(n);return O.createElement(te,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},O.createElement(te,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),u&&O.createElement(te,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},O.createElement(te,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},O.createElement(te,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},O.createElement(yr,{borderRadius:"full",height:"200",src:i,width:"200"})),O.createElement(te,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},O.createElement(yr,{borderRadius:"full",height:"200",src:i,width:"200"})))),!u&&d&&O.createElement(te,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},O.createElement(te,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[0]} 0%, ${d[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),O.createElement(te,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),O.createElement(te,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},O.createElement(te,null,O.createElement(yr,{height:"60",src:i,width:"60",...r?{background:r,borderColor:"generalBorder",borderRadius:"10"}:null})),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},a),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},e),O.createElement(te,{marginTop:"14",width:"max"},O.createElement(ni,{href:l,label:t,onClick:s,size:"medium"})))))};function Tre({changeWalletStep:t,wallet:e}){const n=TC(),r=IC(),o=j.useContext(Sw)==="compact",{desktop:s,desktopDownloadUrl:a,extension:l,extensionDownloadUrl:c,mobileDownloadUrl:u}=e,{i18n:d}=j.useContext(er);return j.useEffect(()=>{kD(),FD(),gre(),hre()},[]),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},c&&O.createElement(w1,{actionLabel:d.t("get_options.extension.download.label",{browser:n}),description:d.t("get_options.extension.description"),iconUrl:DD,isCompact:o,onAction:()=>t(l?.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:d.t("get_options.extension.title",{wallet:e.name,browser:n}),url:c,variant:"browser"}),a&&O.createElement(w1,{actionLabel:d.t("get_options.desktop.download.label",{platform:r}),description:d.t("get_options.desktop.description"),iconUrl:UD,isCompact:o,onAction:()=>t(s?.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:d.t("get_options.desktop.title",{wallet:e.name,platform:r}),url:a,variant:"desktop"}),u&&O.createElement(w1,{actionLabel:d.t("get_options.mobile.download.label",{wallet:e.name}),description:d.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{t("DOWNLOAD")},title:d.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function Mre({changeWalletStep:t,wallet:e}){const{downloadUrls:n,qrCode:r}=e,{i18n:i}=j.useContext(er);return j.useEffect(()=>{kD(),FD()},[]),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},O.createElement(te,{style:{maxWidth:220,textAlign:"center"}},O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),O.createElement(te,{height:"full"},n?.qrCode?O.createElement(LD,{logoSize:0,size:268,uri:n.qrCode}):null),O.createElement(te,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},O.createElement(ni,{label:i.t("get_mobile.continue.label"),onClick:()=>t(r?.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var kC={connect:()=>O.createElement(pre,null),create:()=>O.createElement(mre,null),install:t=>O.createElement(yr,{background:t.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:t.iconUrl,width:"48"}),refresh:()=>O.createElement(yre,null),scan:()=>O.createElement(vre,null)};function Ire({connectWallet:t,wallet:e}){const{i18n:n}=j.useContext(er);return O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},O.createElement(te,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.qrCode?.instructions?.steps.map((r,i)=>O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},O.createElement(te,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},kC[r.step]?.(e)),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},O.createElement(ni,{label:n.t("get_instructions.mobile.connect.label"),onClick:()=>t(e)}),O.createElement(te,{as:"a",className:Yn({active:"shrink",hover:"grow"}),display:"block",href:e?.qrCode?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(vt,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.mobile.learn_more.label")))))}function Rre({wallet:t}){const{i18n:e}=j.useContext(er);return O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},O.createElement(te,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.extension?.instructions?.steps.map((n,r)=>O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},O.createElement(te,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},kC[n.step]?.(t)),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},e.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},O.createElement(ni,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),O.createElement(te,{as:"a",className:Yn({active:"shrink",hover:"grow"}),display:"block",href:t?.extension?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(vt,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function Pre({connectWallet:t,wallet:e}){const{i18n:n}=j.useContext(er);return O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},O.createElement(te,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.desktop?.instructions?.steps.map((r,i)=>O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},O.createElement(te,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},kC[r.step]?.(e)),O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},O.createElement(vt,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},O.createElement(ni,{label:n.t("get_instructions.desktop.connect.label"),onClick:()=>t(e)}),O.createElement(te,{as:"a",className:Yn({active:"shrink",hover:"grow"}),display:"block",href:e?.desktop?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},O.createElement(vt,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.desktop.learn_more.label")))))}function Nre({onClose:t}){const e="rk_connect_title",[n,r]=j.useState(),[i,o]=j.useState(),[s,a]=j.useState(),l=!!i?.qrCode&&s,[c,u]=j.useState(!1),f=j.useContext(Sw)===Am.COMPACT,{disclaimer:h}=j.useContext(xm),{i18n:p}=j.useContext(er),m=CC(),y=j.useRef(!1),{connector:g}=j.useContext(Em),b=Dp(!g).filter(J=>J.ready||!!J.extensionDownloadUrl).sort((J,ie)=>J.groupIndex-ie.groupIndex),x=Dp(),R=rre(b,J=>J.groupName),k=["Recommended","Other","Popular","More","Others","Installed"];j.useEffect(()=>{g&&!y.current&&(B("CONNECT"),P(g),y.current=!0)},[g]);const _=J=>{u(!1),J.ready&&J?.connect?.()?.catch(()=>{u(!0)})},I=async J=>{const ie=b.find(de=>J.id===de.id);ie?.getDesktopUri&&setTimeout(async()=>{const de=await ie?.getDesktopUri?.();de&&window.open(de,m?"_blank":"_self")},0)},S=async J=>{const ie=b.find(ve=>J.id===ve.id),de=await ie?.getQrCodeUri?.();a(de),setTimeout(()=>{o(ie),B("CONNECT")},de?0:50)},P=async J=>{ure(J.id),J.ready&&(S(J),I(J)),_(J),r(J.id),J.ready||(o(J),B(J?.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},L=J=>{const ie=x.find(Ae=>J===Ae.id),de=ie?.downloadUrls?.qrCode,ve=!!ie?.desktopDownloadUrl,Pe=!!ie?.extensionDownloadUrl;o(ie),B(de&&(Pe||ve)?"DOWNLOAD_OPTIONS":de?"DOWNLOAD":ve?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},G=()=>{r(void 0),o(void 0),a(void 0)},B=(J,ie=!1)=>{ie&&J==="GET"&&w==="GET"?G():!ie&&J==="GET"?E("GET"):!ie&&J==="CONNECT"&&E("CONNECT"),D(J)},[w,E]=j.useState("NONE"),[C,D]=j.useState("NONE");let N=null,H=null,$=null,F;j.useEffect(()=>{u(!1)},[C,i]);const q=!!(!!i?.extensionDownloadUrl&&i?.mobileDownloadUrl);switch(C){case"NONE":N=O.createElement(oI,{getWallet:()=>B("GET")});break;case"LEARN_COMPACT":N=O.createElement(oI,{compactModeEnabled:f,getWallet:()=>B("GET")}),H=p.t("intro.title"),$="NONE";break;case"GET":N=O.createElement(Sre,{getWalletDownload:L,compactModeEnabled:f}),H=p.t("get.title"),$=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":N=i&&O.createElement(Cre,{changeWalletStep:B,compactModeEnabled:f,connectionError:c,onClose:t,qrCodeUri:s,reconnect:_,wallet:i}),H=l&&(i.name==="WalletConnect"?p.t("connect_scan.fallback_title"):p.t("connect_scan.title",{wallet:i.name})),$=f?g?null:"NONE":null,F=f?g?()=>{}:G:()=>{};break;case"DOWNLOAD_OPTIONS":N=i&&O.createElement(Tre,{changeWalletStep:B,wallet:i}),H=i&&p.t("get_options.short_title",{wallet:i.name}),$=g?"CONNECT":f?"NONE":w;break;case"DOWNLOAD":N=i&&O.createElement(Mre,{changeWalletStep:B,wallet:i}),H=i&&p.t("get_mobile.title",{wallet:i.name}),$=q?"DOWNLOAD_OPTIONS":w;break;case"INSTRUCTIONS_MOBILE":N=i&&O.createElement(Ire,{connectWallet:P,wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),$="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":N=i&&O.createElement(Rre,{wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),$="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":N=i&&O.createElement(Pre,{connectWallet:P,wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),$="DOWNLOAD_OPTIONS";break}return O.createElement(te,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?C==="NONE":!0)&&O.createElement(te,{className:f?Ere:xre,display:"flex",flexDirection:"column",marginTop:"16"},O.createElement(te,{display:"flex",justifyContent:"space-between"},f&&h&&O.createElement(te,{marginLeft:"16",width:"28"},O.createElement(ore,{onClick:()=>B("LEARN_COMPACT")})),f&&!h&&O.createElement(te,{marginLeft:"16",width:"28"}),O.createElement(te,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},O.createElement(vt,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},p.t("connect.title"))),f&&O.createElement(te,{marginRight:"16"},O.createElement(Kc,{onClose:t}))),O.createElement(te,{className:bre,paddingBottom:"18"},Object.entries(R).map(([J,ie],de)=>ie.length>0&&O.createElement(j.Fragment,{key:de},J?O.createElement(te,{marginBottom:"8",marginTop:"16",marginX:"6"},O.createElement(vt,{color:J==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},k.includes(J)?p.t(`connector_group.${J.toLowerCase()}`):J)):null,O.createElement(te,{display:"flex",flexDirection:"column",gap:"4"},ie.map(ve=>O.createElement(RD,{currentlySelected:ve.id===n,iconBackground:ve.iconBackground,iconUrl:ve.iconUrl,key:ve.id,name:ve.name,onClick:()=>P(ve),ready:ve.ready,recent:ve.recent,testId:`wallet-option-${ve.id}`,isRainbowKitConnector:ve.isRainbowKitConnector})))))),f&&O.createElement(O.Fragment,null,O.createElement(te,{background:"generalBorder",height:"1",marginTop:"-1"}),h?O.createElement(te,{paddingX:"24",paddingY:"16",textAlign:"center"},O.createElement(h,{Link:PC,Text:NC})):O.createElement(te,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},O.createElement(te,{paddingY:"4"},O.createElement(vt,{color:"modalTextSecondary",size:"14",weight:"medium"},p.t("connect.new_to_ethereum.description"))),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},O.createElement(te,{className:Yn({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>B("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},O.createElement(vt,{color:"accentColor",size:"14",weight:"bold"},p.t("connect.new_to_ethereum.learn_more.label"))))))),(f?C!=="NONE":!0)&&O.createElement(O.Fragment,null,!f&&O.createElement(te,{background:"generalBorder",minWidth:"1",width:"1"}),O.createElement(te,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},O.createElement(te,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},O.createElement(te,{width:"28"},$&&O.createElement(te,{as:"button",className:Yn({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{$&&B($,!0),F?.()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},O.createElement(MD,null))),O.createElement(te,{display:"flex",justifyContent:"center",style:{flexGrow:1}},H&&O.createElement(vt,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},H)),O.createElement(Kc,{onClose:t})),O.createElement(te,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},N)))))}var kre="_1am14412",Ore="_1am14410",Bre="_1am14413",Fre=({wallet:t})=>O.createElement("svg",{className:Bre,viewBox:"0 0 86 86",width:"86",height:"86"},O.createElement("title",null,"Loading"),O.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:kre,style:{stroke:t?.iconAccent||"#0D3887"}}));function zD({onClose:t,wallet:e,connecting:n}){const{connect:r,iconBackground:i,iconUrl:o,id:s,name:a,getMobileUri:l,ready:c,shortName:u,showWalletConnectModal:d}=e,f=ID(o),h=j.useRef(!1),{i18n:p}=j.useContext(er),m=j.useCallback(async()=>{if(s!=="walletConnect"&&(async()=>{const g=await l?.();if(g)if(g&&Ene({mobileUri:g,name:a}),g.startsWith("http")){const v=document.createElement("a");v.href=g,v.target="_blank",v.rel="noreferrer noopener",v.click()}else window.location.href=g})(),d){d(),t?.();return}try{await r?.()}catch{}},[r,l,d,t,a,s]);return j.useEffect(()=>{n&&!h.current&&(m(),h.current=!0)},[n,m]),O.createElement(te,{as:"button",color:c?"modalText":"modalTextSecondary",disabled:!c,fontFamily:"body",key:s,onClick:m,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${s}`,type:"button",width:"full"},O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},O.createElement(te,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},n?O.createElement(Fre,{wallet:e}):null,O.createElement(yr,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),n?null:O.createElement(te,{display:"flex",flexDirection:"column",textAlign:"center"},O.createElement(vt,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},O.createElement(te,{as:"span",position:"relative"},u??a,!e.ready&&" (unsupported)")),e.recent&&O.createElement(vt,{color:"accentColor",size:"12",weight:"medium"},p.t("connect.recent")))))}function Lre({onClose:t}){const e="rk_connect_title",n=Dp().filter(h=>h.isRainbowKitConnector),{disclaimer:r,learnMoreUrl:i}=j.useContext(xm);let o=null,s=null,a=!1,l=null;const[c,u]=j.useState("CONNECT"),{i18n:d}=j.useContext(er),f=fu();switch(c){case"CONNECT":{o=d.t("connect.title"),a=!0,s=O.createElement(te,null,O.createElement(te,{background:"profileForeground",className:Ore,display:"flex",paddingBottom:"20",paddingTop:"6"},O.createElement(te,{display:"flex",style:{margin:"0 auto"}},n.filter(h=>h.ready).map(h=>O.createElement(te,{key:h.id,paddingX:"20"},O.createElement(te,{width:"60"},O.createElement(zD,{onClose:t,wallet:h})))))),O.createElement(te,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},O.createElement(te,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},O.createElement(vt,{color:"modalText",size:"16",weight:"bold"},d.t("intro.title")),O.createElement(vt,{color:"modalTextSecondary",size:"16"},d.t("intro.description")))),O.createElement(te,{paddingTop:"32",paddingX:"20"},O.createElement(te,{display:"flex",gap:"14",justifyContent:"center"},O.createElement(ni,{label:d.t("intro.get.label"),onClick:()=>u("GET"),size:"large",type:"secondary"}),O.createElement(ni,{href:i,label:d.t("intro.learn_more.label"),size:"large",type:"secondary"}))),r&&O.createElement(te,{marginTop:"28",marginX:"32",textAlign:"center"},O.createElement(r,{Link:PC,Text:NC})));break}case"GET":{o=d.t("get.title"),l="CONNECT";const h=n?.filter(p=>p.downloadUrls?.ios||p.downloadUrls?.android||p.downloadUrls?.mobile)?.splice(0,3);s=O.createElement(te,null,O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},h.map((p,m)=>{const{downloadUrls:y,iconBackground:g,iconUrl:v,name:b}=p;return!y?.ios&&!y?.android&&!y?.mobile?null:O.createElement(te,{display:"flex",gap:"16",key:p.id,paddingX:"20",width:"full"},O.createElement(te,{style:{minHeight:48,minWidth:48}},O.createElement(yr,{background:g,borderColor:"generalBorder",borderRadius:"10",height:"48",src:v,width:"48"})),O.createElement(te,{display:"flex",flexDirection:"column",width:"full"},O.createElement(te,{alignItems:"center",display:"flex",height:"48"},O.createElement(te,{width:"full"},O.createElement(vt,{color:"modalText",size:"18",weight:"bold"},b)),O.createElement(ni,{href:(f?y?.ios:y?.android)||y?.mobile,label:d.t("get.action.label"),size:"small",type:"secondary"})),m<h.length-1&&O.createElement(te,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),O.createElement(te,{style:{marginBottom:"42px"}}),O.createElement(te,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},O.createElement(te,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},O.createElement(vt,{color:"modalText",size:"16",weight:"bold"},d.t("get.looking_for.title")),O.createElement(vt,{color:"modalTextSecondary",size:"16"},d.t("get.looking_for.mobile.description")))));break}}return O.createElement(te,{display:"flex",flexDirection:"column",paddingBottom:"36"},O.createElement(te,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},O.createElement(te,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},l&&O.createElement(te,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},O.createElement(te,{alignItems:"center",as:"button",className:Yn({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>u(l),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},O.createElement(MD,null))),O.createElement(te,{marginTop:"4",textAlign:"center",width:"full"},O.createElement(vt,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),O.createElement(te,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},O.createElement(te,{style:{marginBottom:-20,marginTop:-20}},O.createElement(Kc,{onClose:t}))))),O.createElement(te,{display:"flex",flexDirection:"column"},s))}var Dre=({onClose:t})=>{const{connector:e}=j.useContext(Em),{i18n:n}=j.useContext(er),r=e?.name||"";return O.createElement(te,null,O.createElement(te,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},O.createElement(te,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},O.createElement(Kc,{onClose:t})),O.createElement(te,{width:"60"},O.createElement(zD,{onClose:t,wallet:e,connecting:!0})),O.createElement(te,{marginTop:"20"},O.createElement(vt,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},n.t("connect.status.connect_mobile",{wallet:r}))),O.createElement(te,{maxWidth:"full",marginTop:"8"},O.createElement(vt,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},n.t("connect.status.confirm_mobile",{wallet:r})))))};function Ure({onClose:t}){const{connector:e}=j.useContext(Em);return wr()?e?O.createElement(Dre,{onClose:t}):O.createElement(Lre,{onClose:t}):O.createElement(Nre,{onClose:t})}function zre({onClose:t,open:e}){const n="rk_connect_title",r=xC(),{disconnect:i}=aC(),{isConnecting:o}=Rr(),s=O.useCallback(()=>{t(),i()},[t,i]),a=O.useCallback(()=>{o&&i(),t()},[t,i,o]);return r==="disconnected"?O.createElement(zy,{onClose:a,open:e,titleId:n},O.createElement(jy,{bottomSheetOnMobile:!0,padding:"0",wide:!0},O.createElement(Ure,{onClose:a}))):r==="unauthenticated"?O.createElement(zy,{onClose:s,open:e,titleId:n},O.createElement(jy,{bottomSheetOnMobile:!0,padding:"0"},O.createElement(bne,{onClose:s,onCloseModal:t}))):null}function b1(){const[t,e]=j.useState(!1);return{closeModal:j.useCallback(()=>e(!1),[]),isModalOpen:t,openModal:j.useCallback(()=>e(!0),[])}}var Sf=j.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function jre({children:t}){const{closeModal:e,isModalOpen:n,openModal:r}=b1(),{closeModal:i,isModalOpen:o,openModal:s}=b1(),{closeModal:a,isModalOpen:l,openModal:c}=b1(),[u,d]=j.useState(!1),f=xC(),{chainId:h}=Rr(),{chains:p}=ur(),m=p.some(v=>v.id===h),y=j.useCallback(({keepConnectModalOpen:v=!1}={})=>{v||e(),i(),a()},[e,i,a]),g=Aw()==="unauthenticated";return I4({onConnect:()=>y({keepConnectModalOpen:g}),onDisconnect:()=>y()}),j.useEffect(()=>{g&&y()},[g,y]),O.createElement(Sf.Provider,{value:j.useMemo(()=>({accountModalOpen:o,chainModalOpen:l,connectModalOpen:n,isWalletConnectModalOpen:u,openAccountModal:m&&f==="connected"?s:void 0,openChainModal:f==="connected"?c:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?r:void 0,setIsWalletConnectModalOpen:d}),[f,o,l,n,s,c,r,m,u])},t,O.createElement(zre,{onClose:e,open:n}),O.createElement(Kne,{onClose:i,open:o}),O.createElement(nre,{onClose:a,open:l}))}function Hre(){const{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}=j.useContext(Sf);return{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}}function Gre(){const{accountModalOpen:t,openAccountModal:e}=j.useContext(Sf);return{accountModalOpen:t,openAccountModal:e}}function Wre(){const{chainModalOpen:t,openChainModal:e}=j.useContext(Sf);return{chainModalOpen:t,openChainModal:e}}function jD(){const{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}=j.useContext(Sf);return{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}}function Vre(){const{connectModalOpen:t,openConnectModal:e}=j.useContext(Sf),{isWalletConnectModalOpen:n}=jD();return{connectModalOpen:t||n,openConnectModal:e}}var x1=()=>{};function OC({children:t}){const e=Cte(),{address:n}=Rr(),{chainId:r}=Rr(),{chains:i}=ur(),o=i.some(G=>G.id===r),s=_te(),a=Aw()??void 0,l=r?s[r]:void 0,c=l?.name??void 0,u=l?.iconUrl??void 0,d=l?.iconBackground??void 0,f=_w(u),h=j.useContext(SC),p=uD().some(({status:G})=>G==="pending")&&h,{showBalance:m}=iD(),g=typeof m=="boolean"?m:m?KL(m)[wr()?"smallScreen":"largeScreen"]:!0,{balance:v,ensAvatar:b,ensName:x}=sD({address:n,includeBalance:g}),R=v?`${AD(Number.parseFloat(v.formatted))} ${v.symbol}`:void 0,{openConnectModal:k}=Vre(),{openChainModal:_}=Wre(),{openAccountModal:I}=Gre(),{accountModalOpen:S,chainModalOpen:P,connectModalOpen:L}=Hre();return O.createElement(O.Fragment,null,t({account:n?{address:n,balanceDecimals:v?.decimals,balanceFormatted:v?.formatted,balanceSymbol:v?.symbol,displayBalance:R,displayName:x?SD(x):_D(n),ensAvatar:b??void 0,ensName:x??void 0,hasPendingTransactions:p}:void 0,accountModalOpen:S,authenticationStatus:a,chain:r?{hasIcon:!!u,iconBackground:d,iconUrl:f,id:r,name:c,unsupported:!o}:void 0,chainModalOpen:P,connectModalOpen:L,mounted:e(),openAccountModal:I??x1,openChainModal:_??x1,openConnectModal:k??x1}))}OC.displayName="ConnectButton.Custom";var yh={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};function _m({accountStatus:t=yh.accountStatus,chainStatus:e=yh.chainStatus,label:n=yh.label,showBalance:r=yh.showBalance}){const i=hu(),o=xC(),{setShowBalance:s}=iD(),[a,l]=j.useState(!1),{i18n:c}=j.useContext(er);return j.useEffect(()=>{s(r),a||l(!0)},[r,s]),a?O.createElement(OC,null,({account:u,chain:d,mounted:f,openAccountModal:h,openChainModal:p,openConnectModal:m})=>{const y=f&&o!=="loading",g=d?.unsupported??!1;return O.createElement(te,{display:"flex",gap:"12",...!y&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},y&&u&&o==="connected"?O.createElement(O.Fragment,null,d&&(i.length>1||g)&&O.createElement(te,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:g?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:Yn({active:"shrink",hover:"grow"}),color:g?"connectButtonTextError":"connectButtonText",display:Su(e,v=>v==="none"?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:g?"unsupported":"supported",onClick:p,paddingX:"10",paddingY:"8",testId:g?"wrong-network-button":"chain-button",transition:"default",type:"button"},g?O.createElement(te,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},c.t("connect_wallet.wrong_network.label")):O.createElement(te,{alignItems:"center",display:"flex",gap:"6"},d.hasIcon?O.createElement(te,{display:Su(e,v=>v==="full"||v==="icon"?"block":"none"),height:"24",width:"24"},O.createElement(yr,{alt:d.name??"Chain icon",background:d.iconBackground,borderRadius:"full",height:"24",src:d.iconUrl,width:"24"})):null,O.createElement(te,{display:Su(e,v=>v==="icon"&&!d.iconUrl||v==="full"||v==="name"?"block":"none")},d.name??d.id)),O.createElement(N5,null)),!g&&O.createElement(te,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:Yn({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:h,testId:"account-button",transition:"default",type:"button"},u.displayBalance&&O.createElement(te,{display:Su(r,v=>v?"block":"none"),padding:"8",paddingLeft:"12"},u.displayBalance),O.createElement(te,{background:KL(r)[wr()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},O.createElement(te,{alignItems:"center",display:"flex",gap:"6",height:"24"},O.createElement(te,{display:Su(t,v=>v==="full"||v==="avatar"?"block":"none")},O.createElement(tD,{address:u.address,imageUrl:u.ensAvatar,loading:u.hasPendingTransactions,size:24})),O.createElement(te,{alignItems:"center",display:"flex",gap:"6"},O.createElement(te,{display:Su(t,v=>v==="full"||v==="address"?"block":"none")},u.displayName),O.createElement(N5,null)))))):O.createElement(te,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:Yn({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:m,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},f&&n==="Connect Wallet"?c.t("connect_wallet.label"):n))}):O.createElement(O.Fragment,null)}_m.__defaultProps=yh;_m.Custom=OC;var HD=({appName:t,appDescription:e,appUrl:n,appIcon:r})=>({name:t,description:e??t,url:n??(typeof window<"u"?window.location.origin:""),icons:[...r?[r]:[]]});function $re(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0))}function qre(t,e){const n=[];for(const r of t)n.some(i=>i[e]===r[e])||n.push(r);return n}var GD=(t,{projectId:e,walletConnectParameters:n,appName:r,appDescription:i,appUrl:o,appIcon:s})=>{if(!t.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:p}of t)if(!h.length)throw new Error(`No wallets provided for group: ${p}`);let a=-1;const l=[],c=[],u=[],d=HD({appName:r,appDescription:i,appUrl:o,appIcon:s});for(const[h,{groupName:p,wallets:m}]of t.entries())for(const y of m){a++;const g=y({projectId:e,appName:r,appIcon:s,options:{metadata:d,...n},walletConnectParameters:{metadata:d,...n}});if(g?.iconAccent&&!fre(g?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${g.name}`);const v={...g,groupIndex:h+1,groupName:p,index:a};typeof g.hidden=="function"?u.push(v):c.push(v)}const f=qre([...c,...u],"id");for(const{createConnector:h,groupIndex:p,groupName:m,hidden:y,...g}of f){if(typeof y=="function"&&y())continue;const v=R=>({rkDetails:$re({...g,groupIndex:p,groupName:m,isRainbowKitConnector:!0,...R||{}})});g.id==="walletConnect"&&l.push(h(v({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=h(v());l.push(x)}return l},aI=new Map,Qre=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=aI.get(o);if(s)return s;const a=Ew(i);return aI.set(o,a),a};function Kre({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...Qre({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function BC({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>Kre({projectId:t,walletDetails:r,walletConnectParameters:e})}function WD(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function VD(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function $D({flag:t,namespace:e}){return!!(e&&typeof VD(e)<"u"||t&&typeof WD(t)<"u")}function Xre({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=VD(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=WD(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function Yre(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...vm(n)(r),...e})}}function qD({flag:t,namespace:e,target:n}){const r=n||Xre({flag:t,namespace:e});return Yre(r)}var QD=({appName:t,appIcon:e})=>{const n=i=>i,r=fu();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await je(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-DnGdeF1T.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=QD,s=bm({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};function Jre(t){return!(!t?.isMetaMask||t.isBraveWallet&&!t._events&&!t._state||t.isApexWallet||t.isAvalanche||t.isBackpack||t.isBifrost||t.isBitKeep||t.isBitski||t.isBlockWallet||t.isCoinbaseWallet||t.isDawn||t.isEnkrypt||t.isExodus||t.isFrame||t.isFrontier||t.isGamestop||t.isHyperPay||t.isImToken||t.isKuCoinWallet||t.isMathWallet||t.isNestWallet||t.isOkxWallet||t.isOKExWallet||t.isOneInchIOSWallet||t.isOneInchAndroidWallet||t.isOpera||t.isPhantom||t.isPortal||t.isRabby||t.isRainbow||t.isStatus||t.isTalisman||t.isTally||t.isTokenPocket||t.isTokenary||t.isTrust||t.isTrustWallet||t.isXDEFI||t.isZeal||t.isZerion||t.__seif)}var Zre=({projectId:t,walletConnectParameters:e})=>{const n=$D({flag:"isMetaMask"}),r=!n,i=o=>EC()?o:fu()?`metamask://wc?uri=${encodeURIComponent(o)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await je(async()=>{const{default:o}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:o}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:r?BC({projectId:t,walletConnectParameters:e}):qD({target:typeof window<"u"?window.ethereum?.providers?.find(Jre)??window.ethereum:void 0})}},eie=({projectId:t,walletConnectParameters:e})=>{const n=$D({flag:"isRainbow"}),r=!n,i=o=>EC()?o:fu()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await je(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?BC({projectId:t,walletConnectParameters:e}):qD({flag:"isRainbow"})}},tie=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:t}},[])).default,installed:!(typeof window>"u")&&window?.parent!==window,downloadUrls:{},createConnector:t=>e=>({...bC()(e),...t})}),nie=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await je(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:BC({projectId:t,walletConnectParameters:e})}),rie=t=>t.reduce((n,r)=>{const i=r.id;return n[i]=Qa(),n},{}),iie=({appName:t,appDescription:e,appUrl:n,appIcon:r,wallets:i,projectId:o,...s})=>{const{transports:a,chains:l,...c}=s,u=HD({appName:t,appDescription:e,appUrl:n,appIcon:r}),d=GD(i||[{groupName:"Popular",wallets:[tie,eie,QD,Zre,nie]}],{projectId:o,appName:t,appDescription:e,appUrl:n,appIcon:r,walletConnectParameters:{metadata:u}});return E4({connectors:d,chains:l,transports:a||rie(l),...c})};const KD=j.createContext(),Ma=()=>{const t=j.useContext(KD);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},oie=({children:t})=>{const[e,n]=j.useState([]),r=j.useRef(0),i=(l,c="info",u=3e3)=>{const d=`toast-${++r.current}-${Math.random().toString(36).substr(2,9)}-${Date.now()}`;n(f=>[...f,{id:d,message:l,type:c}]),setTimeout(()=>{n(f=>f.filter(h=>h.id!==d))},u)},o=l=>i(l,"success"),s=l=>i(l,"error"),a=l=>i(l,"info");return Z(KD.Provider,{value:{showToast:i,showSuccess:o,showError:s,showInfo:a},children:[t,U("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(l=>U("div",{className:`status-message status-${l.type} animate-slide-in`,role:"alert",children:l.message},l.id))})]})},sie="logger/5.8.0";let lI=!1,cI=!1;const Og={debug:1,default:2,info:2,warning:3,error:4,off:5};let uI=Og.default,E1=null;function aie(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const dI=aie();var NA;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(NA||(NA={}));var Ro;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ro||(Ro={}));const fI="0123456789abcdef";let gi=class nr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Og[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(uI>Og[r])&&console.log.apply(console,n)}debug(...e){this._log(nr.levels.DEBUG,e)}info(...e){this._log(nr.levels.INFO,e)}warn(...e){this._log(nr.levels.WARNING,e)}makeError(e,n,r){if(cI)return this.makeError("censored error",n,{});n||(n=nr.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=fI[c[d]>>4],u+=fI[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Ro.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Ro.CALL_EXCEPTION:case Ro.INSUFFICIENT_FUNDS:case Ro.MISSING_NEW:case Ro.NONCE_EXPIRED:case Ro.REPLACEMENT_UNDERPRICED:case Ro.TRANSACTION_REPLACED:case Ro.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,nr.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){dI&&this.throwError("platform missing String.prototype.normalize",nr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:dI})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,nr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,nr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,nr.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,nr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",nr.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",nr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",nr.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return E1||(E1=new nr(sie)),E1}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",nr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),lI){if(!e)return;this.globalLogger().throwError("error censorship permanent",nr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}cI=!!e,lI=!!n}static setLogLevel(e){const n=Og[e.toLowerCase()];if(n==null){nr.globalLogger().warn("invalid log level - "+e);return}uI=n}static from(e){return new nr(e)}};gi.errors=Ro;gi.levels=NA;const lie="bytes/5.8.0",Rn=new gi(lie);function XD(t){return!!t.toHexString}function wd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return wd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function cie(t){return Ei(t)&&!(t.length%2)||Cf(t)}function hI(t){return typeof t=="number"&&t==t&&t%1===0}function Cf(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!hI(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!hI(n)||n<0||n>=256)return!1}return!0}function Ic(t,e){if(e||(e={}),typeof t=="number"){Rn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),wd(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),XD(t)&&(t=t.toHexString()),Ei(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Rn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return wd(new Uint8Array(r))}return Cf(t)?wd(new Uint8Array(t)):Rn.throwArgumentError("invalid arrayify value","value",t)}function Z1e(t){const e=t.map(i=>Ic(i)),n=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);return e.reduce((i,o)=>(r.set(o,i),i+o.length),0),wd(r)}function exe(t){let e=Ic(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function uie(t,e){t=Ic(t),t.length>e&&Rn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),wd(n)}function Ei(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const A1="0123456789abcdef";function $r(t,e){if(e||(e={}),typeof t=="number"){Rn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=A1[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),XD(t))return t.toHexString();if(Ei(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Rn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Cf(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=A1[(i&240)>>4]+A1[i&15]}return n}return Rn.throwArgumentError("invalid hexlify value","value",t)}function txe(t){if(typeof t!="string")t=$r(t);else if(!Ei(t)||t.length%2)return null;return(t.length-2)/2}function nxe(t,e,n){return typeof t!="string"?t=$r(t):(!Ei(t)||t.length%2)&&Rn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function rxe(t){let e="0x";return t.forEach(n=>{e+=$r(n).substring(2)}),e}function die(t){const e=YD($r(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function YD(t){typeof t!="string"&&(t=$r(t)),Ei(t)||Rn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Dh(t,e){for(typeof t!="string"?t=$r(t):Ei(t)||Rn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Rn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ixe(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(cie(t)){let n=Ic(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=$r(n.slice(0,32)),e.s=$r(n.slice(32,64))):n.length===65?(e.r=$r(n.slice(0,32)),e.s=$r(n.slice(32,64)),e.v=n[64]):Rn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Rn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=$r(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=uie(Ic(e._vs),32);e._vs=$r(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Rn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=$r(i);e.s==null?e.s=s:e.s!==s&&Rn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Rn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Rn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ei(e.r)?Rn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Dh(e.r,32),e.s==null||!Ei(e.s)?Rn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Dh(e.s,32);const n=Ic(e.s);n[0]>=128&&Rn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=$r(n);e._vs&&(Ei(e._vs)||Rn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Dh(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Rn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var FC={exports:{}};FC.exports;(function(t){(function(e,n){function r(B,w){if(!B)throw new Error(w||"Assertion failed")}function i(B,w){B.super_=w;var E=function(){};E.prototype=w.prototype,B.prototype=new E,B.prototype.constructor=B}function o(B,w,E){if(o.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((w==="le"||w==="be")&&(E=w,w=10),this._init(B||0,w||10,E||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=x2.Buffer}catch{}o.isBN=function(w){return w instanceof o?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===o.wordSize&&Array.isArray(w.words)},o.max=function(w,E){return w.cmp(E)>0?w:E},o.min=function(w,E){return w.cmp(E)<0?w:E},o.prototype._init=function(w,E,C){if(typeof w=="number")return this._initNumber(w,E,C);if(typeof w=="object")return this._initArray(w,E,C);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),w=w.toString().replace(/\s+/g,"");var D=0;w[0]==="-"&&(D++,this.negative=1),D<w.length&&(E===16?this._parseHex(w,D,C):(this._parseBase(w,E,D),C==="le"&&this._initArray(this.toArray(),E,C)))},o.prototype._initNumber=function(w,E,C){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),E,C)},o.prototype._initArray=function(w,E,C){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var N,H,$=0;if(C==="be")for(D=w.length-1,N=0;D>=0;D-=3)H=w[D]|w[D-1]<<8|w[D-2]<<16,this.words[N]|=H<<$&67108863,this.words[N+1]=H>>>26-$&67108863,$+=24,$>=26&&($-=26,N++);else if(C==="le")for(D=0,N=0;D<w.length;D+=3)H=w[D]|w[D+1]<<8|w[D+2]<<16,this.words[N]|=H<<$&67108863,this.words[N+1]=H>>>26-$&67108863,$+=24,$>=26&&($-=26,N++);return this._strip()};function a(B,w){var E=B.charCodeAt(w);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;r(!1,"Invalid character in "+B)}function l(B,w,E){var C=a(B,E);return E-1>=w&&(C|=a(B,E-1)<<4),C}o.prototype._parseHex=function(w,E,C){this.length=Math.ceil((w.length-E)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var N=0,H=0,$;if(C==="be")for(D=w.length-1;D>=E;D-=2)$=l(w,E,D)<<N,this.words[H]|=$&67108863,N>=18?(N-=18,H+=1,this.words[H]|=$>>>26):N+=8;else{var F=w.length-E;for(D=F%2===0?E+1:E;D<w.length;D+=2)$=l(w,E,D)<<N,this.words[H]|=$&67108863,N>=18?(N-=18,H+=1,this.words[H]|=$>>>26):N+=8}this._strip()};function c(B,w,E,C){for(var D=0,N=0,H=Math.min(B.length,E),$=w;$<H;$++){var F=B.charCodeAt($)-48;D*=C,F>=49?N=F-49+10:F>=17?N=F-17+10:N=F,r(F>=0&&N<C,"Invalid character"),D+=N}return D}o.prototype._parseBase=function(w,E,C){this.words=[0],this.length=1;for(var D=0,N=1;N<=67108863;N*=E)D++;D--,N=N/E|0;for(var H=w.length-C,$=H%D,F=Math.min(H,H-$)+C,M=0,q=C;q<F;q+=D)M=c(w,q,q+D,E),this.imuln(N),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if($!==0){var J=1;for(M=c(w,q,w.length,E),q=0;q<$;q++)J*=E;this.imuln(J),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},o.prototype.copy=function(w){w.words=new Array(this.length);for(var E=0;E<this.length;E++)w.words[E]=this.words[E];w.length=this.length,w.negative=this.negative,w.red=this.red};function u(B,w){B.words=w.words,B.length=w.length,B.negative=w.negative,B.red=w.red}if(o.prototype._move=function(w){u(w,this)},o.prototype.clone=function(){var w=new o(null);return this.copy(w),w},o.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(w,E){w=w||10,E=E|0||1;var C;if(w===16||w==="hex"){C="";for(var D=0,N=0,H=0;H<this.length;H++){var $=this.words[H],F=(($<<D|N)&16777215).toString(16);N=$>>>24-D&16777215,D+=2,D>=26&&(D-=26,H--),N!==0||H!==this.length-1?C=f[6-F.length]+F+C:C=F+C}for(N!==0&&(C=N.toString(16)+C);C.length%E!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(w===(w|0)&&w>=2&&w<=36){var M=h[w],q=p[w];C="";var J=this.clone();for(J.negative=0;!J.isZero();){var ie=J.modrn(q).toString(w);J=J.idivn(q),J.isZero()?C=ie+C:C=f[M-ie.length]+ie+C}for(this.isZero()&&(C="0"+C);C.length%E!==0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(w,E){return this.toArrayLike(s,w,E)}),o.prototype.toArray=function(w,E){return this.toArrayLike(Array,w,E)};var m=function(w,E){return w.allocUnsafe?w.allocUnsafe(E):new w(E)};o.prototype.toArrayLike=function(w,E,C){this._strip();var D=this.byteLength(),N=C||Math.max(1,D);r(D<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0");var H=m(w,N),$=E==="le"?"LE":"BE";return this["_toArrayLike"+$](H,D),H},o.prototype._toArrayLikeLE=function(w,E){for(var C=0,D=0,N=0,H=0;N<this.length;N++){var $=this.words[N]<<H|D;w[C++]=$&255,C<w.length&&(w[C++]=$>>8&255),C<w.length&&(w[C++]=$>>16&255),H===6?(C<w.length&&(w[C++]=$>>24&255),D=0,H=0):(D=$>>>24,H+=2)}if(C<w.length)for(w[C++]=D;C<w.length;)w[C++]=0},o.prototype._toArrayLikeBE=function(w,E){for(var C=w.length-1,D=0,N=0,H=0;N<this.length;N++){var $=this.words[N]<<H|D;w[C--]=$&255,C>=0&&(w[C--]=$>>8&255),C>=0&&(w[C--]=$>>16&255),H===6?(C>=0&&(w[C--]=$>>24&255),D=0,H=0):(D=$>>>24,H+=2)}if(C>=0)for(w[C--]=D;C>=0;)w[C--]=0},Math.clz32?o.prototype._countBits=function(w){return 32-Math.clz32(w)}:o.prototype._countBits=function(w){var E=w,C=0;return E>=4096&&(C+=13,E>>>=13),E>=64&&(C+=7,E>>>=7),E>=8&&(C+=4,E>>>=4),E>=2&&(C+=2,E>>>=2),C+E},o.prototype._zeroBits=function(w){if(w===0)return 26;var E=w,C=0;return E&8191||(C+=13,E>>>=13),E&127||(C+=7,E>>>=7),E&15||(C+=4,E>>>=4),E&3||(C+=2,E>>>=2),E&1||C++,C},o.prototype.bitLength=function(){var w=this.words[this.length-1],E=this._countBits(w);return(this.length-1)*26+E};function y(B){for(var w=new Array(B.bitLength()),E=0;E<w.length;E++){var C=E/26|0,D=E%26;w[E]=B.words[C]>>>D&1}return w}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,E=0;E<this.length;E++){var C=this._zeroBits(this.words[E]);if(w+=C,C!==26)break}return w},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},o.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var E=0;E<w.length;E++)this.words[E]=this.words[E]|w.words[E];return this._strip()},o.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},o.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},o.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},o.prototype.iuand=function(w){var E;this.length>w.length?E=w:E=this;for(var C=0;C<E.length;C++)this.words[C]=this.words[C]&w.words[C];return this.length=E.length,this._strip()},o.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},o.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},o.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},o.prototype.iuxor=function(w){var E,C;this.length>w.length?(E=this,C=w):(E=w,C=this);for(var D=0;D<C.length;D++)this.words[D]=E.words[D]^C.words[D];if(this!==E)for(;D<E.length;D++)this.words[D]=E.words[D];return this.length=E.length,this._strip()},o.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},o.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},o.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},o.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var E=Math.ceil(w/26)|0,C=w%26;this._expand(E),C>0&&E--;for(var D=0;D<E;D++)this.words[D]=~this.words[D]&67108863;return C>0&&(this.words[D]=~this.words[D]&67108863>>26-C),this._strip()},o.prototype.notn=function(w){return this.clone().inotn(w)},o.prototype.setn=function(w,E){r(typeof w=="number"&&w>=0);var C=w/26|0,D=w%26;return this._expand(C+1),E?this.words[C]=this.words[C]|1<<D:this.words[C]=this.words[C]&~(1<<D),this._strip()},o.prototype.iadd=function(w){var E;if(this.negative!==0&&w.negative===0)return this.negative=0,E=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,E=this.isub(w),w.negative=1,E._normSign();var C,D;this.length>w.length?(C=this,D=w):(C=w,D=this);for(var N=0,H=0;H<D.length;H++)E=(C.words[H]|0)+(D.words[H]|0)+N,this.words[H]=E&67108863,N=E>>>26;for(;N!==0&&H<C.length;H++)E=(C.words[H]|0)+N,this.words[H]=E&67108863,N=E>>>26;if(this.length=C.length,N!==0)this.words[this.length]=N,this.length++;else if(C!==this)for(;H<C.length;H++)this.words[H]=C.words[H];return this},o.prototype.add=function(w){var E;return w.negative!==0&&this.negative===0?(w.negative=0,E=this.sub(w),w.negative^=1,E):w.negative===0&&this.negative!==0?(this.negative=0,E=w.sub(this),this.negative=1,E):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},o.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var E=this.iadd(w);return w.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var C=this.cmp(w);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,N;C>0?(D=this,N=w):(D=w,N=this);for(var H=0,$=0;$<N.length;$++)E=(D.words[$]|0)-(N.words[$]|0)+H,H=E>>26,this.words[$]=E&67108863;for(;H!==0&&$<D.length;$++)E=(D.words[$]|0)+H,H=E>>26,this.words[$]=E&67108863;if(H===0&&$<D.length&&D!==this)for(;$<D.length;$++)this.words[$]=D.words[$];return this.length=Math.max(this.length,$),D!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(w){return this.clone().isub(w)};function g(B,w,E){E.negative=w.negative^B.negative;var C=B.length+w.length|0;E.length=C,C=C-1|0;var D=B.words[0]|0,N=w.words[0]|0,H=D*N,$=H&67108863,F=H/67108864|0;E.words[0]=$;for(var M=1;M<C;M++){for(var q=F>>>26,J=F&67108863,ie=Math.min(M,w.length-1),de=Math.max(0,M-B.length+1);de<=ie;de++){var ve=M-de|0;D=B.words[ve]|0,N=w.words[de]|0,H=D*N+J,q+=H/67108864|0,J=H&67108863}E.words[M]=J|0,F=q|0}return F!==0?E.words[M]=F|0:E.length--,E._strip()}var v=function(w,E,C){var D=w.words,N=E.words,H=C.words,$=0,F,M,q,J=D[0]|0,ie=J&8191,de=J>>>13,ve=D[1]|0,Pe=ve&8191,Ae=ve>>>13,st=D[2]|0,yt=st&8191,We=st>>>13,xt=D[3]|0,oe=xt&8191,_t=xt>>>13,Et=D[4]|0,at=Et&8191,qe=Et>>>13,kt=D[5]|0,Qe=kt&8191,X=kt>>>13,V=D[6]|0,le=V&8191,we=V>>>13,Se=D[7]|0,he=Se&8191,z=Se>>>13,A=D[8]|0,T=A&8191,Q=A>>>13,K=D[9]|0,Y=K&8191,ee=K>>>13,ke=N[0]|0,Me=ke&8191,He=ke>>>13,rt=N[1]|0,Ke=rt&8191,se=rt>>>13,Xe=N[2]|0,ye=Xe&8191,Ee=Xe>>>13,Ze=N[3]|0,Ue=Ze&8191,ut=Ze>>>13,rn=N[4]|0,Rt=rn&8191,wt=rn>>>13,tr=N[5]|0,Ut=tr&8191,re=tr>>>13,pe=N[6]|0,ge=pe&8191,_e=pe>>>13,$e=N[7]|0,Ye=$e&8191,tt=$e>>>13,it=N[8]|0,Ge=it&8191,me=it>>>13,Oe=N[9]|0,Ce=Oe&8191,Je=Oe>>>13;C.negative=w.negative^E.negative,C.length=19,F=Math.imul(ie,Me),M=Math.imul(ie,He),M=M+Math.imul(de,Me)|0,q=Math.imul(de,He);var Tt=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,F=Math.imul(Pe,Me),M=Math.imul(Pe,He),M=M+Math.imul(Ae,Me)|0,q=Math.imul(Ae,He),F=F+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,se)|0,M=M+Math.imul(de,Ke)|0,q=q+Math.imul(de,se)|0;var W=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(W>>>26)|0,W&=67108863,F=Math.imul(yt,Me),M=Math.imul(yt,He),M=M+Math.imul(We,Me)|0,q=Math.imul(We,He),F=F+Math.imul(Pe,Ke)|0,M=M+Math.imul(Pe,se)|0,M=M+Math.imul(Ae,Ke)|0,q=q+Math.imul(Ae,se)|0,F=F+Math.imul(ie,ye)|0,M=M+Math.imul(ie,Ee)|0,M=M+Math.imul(de,ye)|0,q=q+Math.imul(de,Ee)|0;var ne=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(ne>>>26)|0,ne&=67108863,F=Math.imul(oe,Me),M=Math.imul(oe,He),M=M+Math.imul(_t,Me)|0,q=Math.imul(_t,He),F=F+Math.imul(yt,Ke)|0,M=M+Math.imul(yt,se)|0,M=M+Math.imul(We,Ke)|0,q=q+Math.imul(We,se)|0,F=F+Math.imul(Pe,ye)|0,M=M+Math.imul(Pe,Ee)|0,M=M+Math.imul(Ae,ye)|0,q=q+Math.imul(Ae,Ee)|0,F=F+Math.imul(ie,Ue)|0,M=M+Math.imul(ie,ut)|0,M=M+Math.imul(de,Ue)|0,q=q+Math.imul(de,ut)|0;var fe=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(fe>>>26)|0,fe&=67108863,F=Math.imul(at,Me),M=Math.imul(at,He),M=M+Math.imul(qe,Me)|0,q=Math.imul(qe,He),F=F+Math.imul(oe,Ke)|0,M=M+Math.imul(oe,se)|0,M=M+Math.imul(_t,Ke)|0,q=q+Math.imul(_t,se)|0,F=F+Math.imul(yt,ye)|0,M=M+Math.imul(yt,Ee)|0,M=M+Math.imul(We,ye)|0,q=q+Math.imul(We,Ee)|0,F=F+Math.imul(Pe,Ue)|0,M=M+Math.imul(Pe,ut)|0,M=M+Math.imul(Ae,Ue)|0,q=q+Math.imul(Ae,ut)|0,F=F+Math.imul(ie,Rt)|0,M=M+Math.imul(ie,wt)|0,M=M+Math.imul(de,Rt)|0,q=q+Math.imul(de,wt)|0;var ae=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(ae>>>26)|0,ae&=67108863,F=Math.imul(Qe,Me),M=Math.imul(Qe,He),M=M+Math.imul(X,Me)|0,q=Math.imul(X,He),F=F+Math.imul(at,Ke)|0,M=M+Math.imul(at,se)|0,M=M+Math.imul(qe,Ke)|0,q=q+Math.imul(qe,se)|0,F=F+Math.imul(oe,ye)|0,M=M+Math.imul(oe,Ee)|0,M=M+Math.imul(_t,ye)|0,q=q+Math.imul(_t,Ee)|0,F=F+Math.imul(yt,Ue)|0,M=M+Math.imul(yt,ut)|0,M=M+Math.imul(We,Ue)|0,q=q+Math.imul(We,ut)|0,F=F+Math.imul(Pe,Rt)|0,M=M+Math.imul(Pe,wt)|0,M=M+Math.imul(Ae,Rt)|0,q=q+Math.imul(Ae,wt)|0,F=F+Math.imul(ie,Ut)|0,M=M+Math.imul(ie,re)|0,M=M+Math.imul(de,Ut)|0,q=q+Math.imul(de,re)|0;var ce=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(ce>>>26)|0,ce&=67108863,F=Math.imul(le,Me),M=Math.imul(le,He),M=M+Math.imul(we,Me)|0,q=Math.imul(we,He),F=F+Math.imul(Qe,Ke)|0,M=M+Math.imul(Qe,se)|0,M=M+Math.imul(X,Ke)|0,q=q+Math.imul(X,se)|0,F=F+Math.imul(at,ye)|0,M=M+Math.imul(at,Ee)|0,M=M+Math.imul(qe,ye)|0,q=q+Math.imul(qe,Ee)|0,F=F+Math.imul(oe,Ue)|0,M=M+Math.imul(oe,ut)|0,M=M+Math.imul(_t,Ue)|0,q=q+Math.imul(_t,ut)|0,F=F+Math.imul(yt,Rt)|0,M=M+Math.imul(yt,wt)|0,M=M+Math.imul(We,Rt)|0,q=q+Math.imul(We,wt)|0,F=F+Math.imul(Pe,Ut)|0,M=M+Math.imul(Pe,re)|0,M=M+Math.imul(Ae,Ut)|0,q=q+Math.imul(Ae,re)|0,F=F+Math.imul(ie,ge)|0,M=M+Math.imul(ie,_e)|0,M=M+Math.imul(de,ge)|0,q=q+Math.imul(de,_e)|0;var Fe=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,F=Math.imul(he,Me),M=Math.imul(he,He),M=M+Math.imul(z,Me)|0,q=Math.imul(z,He),F=F+Math.imul(le,Ke)|0,M=M+Math.imul(le,se)|0,M=M+Math.imul(we,Ke)|0,q=q+Math.imul(we,se)|0,F=F+Math.imul(Qe,ye)|0,M=M+Math.imul(Qe,Ee)|0,M=M+Math.imul(X,ye)|0,q=q+Math.imul(X,Ee)|0,F=F+Math.imul(at,Ue)|0,M=M+Math.imul(at,ut)|0,M=M+Math.imul(qe,Ue)|0,q=q+Math.imul(qe,ut)|0,F=F+Math.imul(oe,Rt)|0,M=M+Math.imul(oe,wt)|0,M=M+Math.imul(_t,Rt)|0,q=q+Math.imul(_t,wt)|0,F=F+Math.imul(yt,Ut)|0,M=M+Math.imul(yt,re)|0,M=M+Math.imul(We,Ut)|0,q=q+Math.imul(We,re)|0,F=F+Math.imul(Pe,ge)|0,M=M+Math.imul(Pe,_e)|0,M=M+Math.imul(Ae,ge)|0,q=q+Math.imul(Ae,_e)|0,F=F+Math.imul(ie,Ye)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(de,Ye)|0,q=q+Math.imul(de,tt)|0;var Ve=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,F=Math.imul(T,Me),M=Math.imul(T,He),M=M+Math.imul(Q,Me)|0,q=Math.imul(Q,He),F=F+Math.imul(he,Ke)|0,M=M+Math.imul(he,se)|0,M=M+Math.imul(z,Ke)|0,q=q+Math.imul(z,se)|0,F=F+Math.imul(le,ye)|0,M=M+Math.imul(le,Ee)|0,M=M+Math.imul(we,ye)|0,q=q+Math.imul(we,Ee)|0,F=F+Math.imul(Qe,Ue)|0,M=M+Math.imul(Qe,ut)|0,M=M+Math.imul(X,Ue)|0,q=q+Math.imul(X,ut)|0,F=F+Math.imul(at,Rt)|0,M=M+Math.imul(at,wt)|0,M=M+Math.imul(qe,Rt)|0,q=q+Math.imul(qe,wt)|0,F=F+Math.imul(oe,Ut)|0,M=M+Math.imul(oe,re)|0,M=M+Math.imul(_t,Ut)|0,q=q+Math.imul(_t,re)|0,F=F+Math.imul(yt,ge)|0,M=M+Math.imul(yt,_e)|0,M=M+Math.imul(We,ge)|0,q=q+Math.imul(We,_e)|0,F=F+Math.imul(Pe,Ye)|0,M=M+Math.imul(Pe,tt)|0,M=M+Math.imul(Ae,Ye)|0,q=q+Math.imul(Ae,tt)|0,F=F+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(de,Ge)|0,q=q+Math.imul(de,me)|0;var ht=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(ht>>>26)|0,ht&=67108863,F=Math.imul(Y,Me),M=Math.imul(Y,He),M=M+Math.imul(ee,Me)|0,q=Math.imul(ee,He),F=F+Math.imul(T,Ke)|0,M=M+Math.imul(T,se)|0,M=M+Math.imul(Q,Ke)|0,q=q+Math.imul(Q,se)|0,F=F+Math.imul(he,ye)|0,M=M+Math.imul(he,Ee)|0,M=M+Math.imul(z,ye)|0,q=q+Math.imul(z,Ee)|0,F=F+Math.imul(le,Ue)|0,M=M+Math.imul(le,ut)|0,M=M+Math.imul(we,Ue)|0,q=q+Math.imul(we,ut)|0,F=F+Math.imul(Qe,Rt)|0,M=M+Math.imul(Qe,wt)|0,M=M+Math.imul(X,Rt)|0,q=q+Math.imul(X,wt)|0,F=F+Math.imul(at,Ut)|0,M=M+Math.imul(at,re)|0,M=M+Math.imul(qe,Ut)|0,q=q+Math.imul(qe,re)|0,F=F+Math.imul(oe,ge)|0,M=M+Math.imul(oe,_e)|0,M=M+Math.imul(_t,ge)|0,q=q+Math.imul(_t,_e)|0,F=F+Math.imul(yt,Ye)|0,M=M+Math.imul(yt,tt)|0,M=M+Math.imul(We,Ye)|0,q=q+Math.imul(We,tt)|0,F=F+Math.imul(Pe,Ge)|0,M=M+Math.imul(Pe,me)|0,M=M+Math.imul(Ae,Ge)|0,q=q+Math.imul(Ae,me)|0,F=F+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Je)|0,M=M+Math.imul(de,Ce)|0,q=q+Math.imul(de,Je)|0;var lt=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(lt>>>26)|0,lt&=67108863,F=Math.imul(Y,Ke),M=Math.imul(Y,se),M=M+Math.imul(ee,Ke)|0,q=Math.imul(ee,se),F=F+Math.imul(T,ye)|0,M=M+Math.imul(T,Ee)|0,M=M+Math.imul(Q,ye)|0,q=q+Math.imul(Q,Ee)|0,F=F+Math.imul(he,Ue)|0,M=M+Math.imul(he,ut)|0,M=M+Math.imul(z,Ue)|0,q=q+Math.imul(z,ut)|0,F=F+Math.imul(le,Rt)|0,M=M+Math.imul(le,wt)|0,M=M+Math.imul(we,Rt)|0,q=q+Math.imul(we,wt)|0,F=F+Math.imul(Qe,Ut)|0,M=M+Math.imul(Qe,re)|0,M=M+Math.imul(X,Ut)|0,q=q+Math.imul(X,re)|0,F=F+Math.imul(at,ge)|0,M=M+Math.imul(at,_e)|0,M=M+Math.imul(qe,ge)|0,q=q+Math.imul(qe,_e)|0,F=F+Math.imul(oe,Ye)|0,M=M+Math.imul(oe,tt)|0,M=M+Math.imul(_t,Ye)|0,q=q+Math.imul(_t,tt)|0,F=F+Math.imul(yt,Ge)|0,M=M+Math.imul(yt,me)|0,M=M+Math.imul(We,Ge)|0,q=q+Math.imul(We,me)|0,F=F+Math.imul(Pe,Ce)|0,M=M+Math.imul(Pe,Je)|0,M=M+Math.imul(Ae,Ce)|0,q=q+Math.imul(Ae,Je)|0;var bt=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(bt>>>26)|0,bt&=67108863,F=Math.imul(Y,ye),M=Math.imul(Y,Ee),M=M+Math.imul(ee,ye)|0,q=Math.imul(ee,Ee),F=F+Math.imul(T,Ue)|0,M=M+Math.imul(T,ut)|0,M=M+Math.imul(Q,Ue)|0,q=q+Math.imul(Q,ut)|0,F=F+Math.imul(he,Rt)|0,M=M+Math.imul(he,wt)|0,M=M+Math.imul(z,Rt)|0,q=q+Math.imul(z,wt)|0,F=F+Math.imul(le,Ut)|0,M=M+Math.imul(le,re)|0,M=M+Math.imul(we,Ut)|0,q=q+Math.imul(we,re)|0,F=F+Math.imul(Qe,ge)|0,M=M+Math.imul(Qe,_e)|0,M=M+Math.imul(X,ge)|0,q=q+Math.imul(X,_e)|0,F=F+Math.imul(at,Ye)|0,M=M+Math.imul(at,tt)|0,M=M+Math.imul(qe,Ye)|0,q=q+Math.imul(qe,tt)|0,F=F+Math.imul(oe,Ge)|0,M=M+Math.imul(oe,me)|0,M=M+Math.imul(_t,Ge)|0,q=q+Math.imul(_t,me)|0,F=F+Math.imul(yt,Ce)|0,M=M+Math.imul(yt,Je)|0,M=M+Math.imul(We,Ce)|0,q=q+Math.imul(We,Je)|0;var Mt=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,F=Math.imul(Y,Ue),M=Math.imul(Y,ut),M=M+Math.imul(ee,Ue)|0,q=Math.imul(ee,ut),F=F+Math.imul(T,Rt)|0,M=M+Math.imul(T,wt)|0,M=M+Math.imul(Q,Rt)|0,q=q+Math.imul(Q,wt)|0,F=F+Math.imul(he,Ut)|0,M=M+Math.imul(he,re)|0,M=M+Math.imul(z,Ut)|0,q=q+Math.imul(z,re)|0,F=F+Math.imul(le,ge)|0,M=M+Math.imul(le,_e)|0,M=M+Math.imul(we,ge)|0,q=q+Math.imul(we,_e)|0,F=F+Math.imul(Qe,Ye)|0,M=M+Math.imul(Qe,tt)|0,M=M+Math.imul(X,Ye)|0,q=q+Math.imul(X,tt)|0,F=F+Math.imul(at,Ge)|0,M=M+Math.imul(at,me)|0,M=M+Math.imul(qe,Ge)|0,q=q+Math.imul(qe,me)|0,F=F+Math.imul(oe,Ce)|0,M=M+Math.imul(oe,Je)|0,M=M+Math.imul(_t,Ce)|0,q=q+Math.imul(_t,Je)|0;var dt=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,F=Math.imul(Y,Rt),M=Math.imul(Y,wt),M=M+Math.imul(ee,Rt)|0,q=Math.imul(ee,wt),F=F+Math.imul(T,Ut)|0,M=M+Math.imul(T,re)|0,M=M+Math.imul(Q,Ut)|0,q=q+Math.imul(Q,re)|0,F=F+Math.imul(he,ge)|0,M=M+Math.imul(he,_e)|0,M=M+Math.imul(z,ge)|0,q=q+Math.imul(z,_e)|0,F=F+Math.imul(le,Ye)|0,M=M+Math.imul(le,tt)|0,M=M+Math.imul(we,Ye)|0,q=q+Math.imul(we,tt)|0,F=F+Math.imul(Qe,Ge)|0,M=M+Math.imul(Qe,me)|0,M=M+Math.imul(X,Ge)|0,q=q+Math.imul(X,me)|0,F=F+Math.imul(at,Ce)|0,M=M+Math.imul(at,Je)|0,M=M+Math.imul(qe,Ce)|0,q=q+Math.imul(qe,Je)|0;var ot=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(ot>>>26)|0,ot&=67108863,F=Math.imul(Y,Ut),M=Math.imul(Y,re),M=M+Math.imul(ee,Ut)|0,q=Math.imul(ee,re),F=F+Math.imul(T,ge)|0,M=M+Math.imul(T,_e)|0,M=M+Math.imul(Q,ge)|0,q=q+Math.imul(Q,_e)|0,F=F+Math.imul(he,Ye)|0,M=M+Math.imul(he,tt)|0,M=M+Math.imul(z,Ye)|0,q=q+Math.imul(z,tt)|0,F=F+Math.imul(le,Ge)|0,M=M+Math.imul(le,me)|0,M=M+Math.imul(we,Ge)|0,q=q+Math.imul(we,me)|0,F=F+Math.imul(Qe,Ce)|0,M=M+Math.imul(Qe,Je)|0,M=M+Math.imul(X,Ce)|0,q=q+Math.imul(X,Je)|0;var St=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(St>>>26)|0,St&=67108863,F=Math.imul(Y,ge),M=Math.imul(Y,_e),M=M+Math.imul(ee,ge)|0,q=Math.imul(ee,_e),F=F+Math.imul(T,Ye)|0,M=M+Math.imul(T,tt)|0,M=M+Math.imul(Q,Ye)|0,q=q+Math.imul(Q,tt)|0,F=F+Math.imul(he,Ge)|0,M=M+Math.imul(he,me)|0,M=M+Math.imul(z,Ge)|0,q=q+Math.imul(z,me)|0,F=F+Math.imul(le,Ce)|0,M=M+Math.imul(le,Je)|0,M=M+Math.imul(we,Ce)|0,q=q+Math.imul(we,Je)|0;var jt=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(jt>>>26)|0,jt&=67108863,F=Math.imul(Y,Ye),M=Math.imul(Y,tt),M=M+Math.imul(ee,Ye)|0,q=Math.imul(ee,tt),F=F+Math.imul(T,Ge)|0,M=M+Math.imul(T,me)|0,M=M+Math.imul(Q,Ge)|0,q=q+Math.imul(Q,me)|0,F=F+Math.imul(he,Ce)|0,M=M+Math.imul(he,Je)|0,M=M+Math.imul(z,Ce)|0,q=q+Math.imul(z,Je)|0;var bn=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(bn>>>26)|0,bn&=67108863,F=Math.imul(Y,Ge),M=Math.imul(Y,me),M=M+Math.imul(ee,Ge)|0,q=Math.imul(ee,me),F=F+Math.imul(T,Ce)|0,M=M+Math.imul(T,Je)|0,M=M+Math.imul(Q,Ce)|0,q=q+Math.imul(Q,Je)|0;var At=($+F|0)+((M&8191)<<13)|0;$=(q+(M>>>13)|0)+(At>>>26)|0,At&=67108863,F=Math.imul(Y,Ce),M=Math.imul(Y,Je),M=M+Math.imul(ee,Ce)|0,q=Math.imul(ee,Je);var ft=($+F|0)+((M&8191)<<13)|0;return $=(q+(M>>>13)|0)+(ft>>>26)|0,ft&=67108863,H[0]=Tt,H[1]=W,H[2]=ne,H[3]=fe,H[4]=ae,H[5]=ce,H[6]=Fe,H[7]=Ve,H[8]=ht,H[9]=lt,H[10]=bt,H[11]=Mt,H[12]=dt,H[13]=ot,H[14]=St,H[15]=jt,H[16]=bn,H[17]=At,H[18]=ft,$!==0&&(H[19]=$,C.length++),C};Math.imul||(v=g);function b(B,w,E){E.negative=w.negative^B.negative,E.length=B.length+w.length;for(var C=0,D=0,N=0;N<E.length-1;N++){var H=D;D=0;for(var $=C&67108863,F=Math.min(N,w.length-1),M=Math.max(0,N-B.length+1);M<=F;M++){var q=N-M,J=B.words[q]|0,ie=w.words[M]|0,de=J*ie,ve=de&67108863;H=H+(de/67108864|0)|0,ve=ve+$|0,$=ve&67108863,H=H+(ve>>>26)|0,D+=H>>>26,H&=67108863}E.words[N]=$,C=H,H=D}return C!==0?E.words[N]=C:E.length--,E._strip()}function x(B,w,E){return b(B,w,E)}o.prototype.mulTo=function(w,E){var C,D=this.length+w.length;return this.length===10&&w.length===10?C=v(this,w,E):D<63?C=g(this,w,E):D<1024?C=b(this,w,E):C=x(this,w,E),C},o.prototype.mul=function(w){var E=new o(null);return E.words=new Array(this.length+w.length),this.mulTo(w,E)},o.prototype.mulf=function(w){var E=new o(null);return E.words=new Array(this.length+w.length),x(this,w,E)},o.prototype.imul=function(w){return this.clone().mulTo(w,this)},o.prototype.imuln=function(w){var E=w<0;E&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var C=0,D=0;D<this.length;D++){var N=(this.words[D]|0)*w,H=(N&67108863)+(C&67108863);C>>=26,C+=N/67108864|0,C+=H>>>26,this.words[D]=H&67108863}return C!==0&&(this.words[D]=C,this.length++),this.length=w===0?1:this.length,E?this.ineg():this},o.prototype.muln=function(w){return this.clone().imuln(w)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(w){var E=y(w);if(E.length===0)return new o(1);for(var C=this,D=0;D<E.length&&E[D]===0;D++,C=C.sqr());if(++D<E.length)for(var N=C.sqr();D<E.length;D++,N=N.sqr())E[D]!==0&&(C=C.mul(N));return C},o.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var E=w%26,C=(w-E)/26,D=67108863>>>26-E<<26-E,N;if(E!==0){var H=0;for(N=0;N<this.length;N++){var $=this.words[N]&D,F=(this.words[N]|0)-$<<E;this.words[N]=F|H,H=$>>>26-E}H&&(this.words[N]=H,this.length++)}if(C!==0){for(N=this.length-1;N>=0;N--)this.words[N+C]=this.words[N];for(N=0;N<C;N++)this.words[N]=0;this.length+=C}return this._strip()},o.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},o.prototype.iushrn=function(w,E,C){r(typeof w=="number"&&w>=0);var D;E?D=(E-E%26)/26:D=0;var N=w%26,H=Math.min((w-N)/26,this.length),$=67108863^67108863>>>N<<N,F=C;if(D-=H,D=Math.max(0,D),F){for(var M=0;M<H;M++)F.words[M]=this.words[M];F.length=H}if(H!==0)if(this.length>H)for(this.length-=H,M=0;M<this.length;M++)this.words[M]=this.words[M+H];else this.words[0]=0,this.length=1;var q=0;for(M=this.length-1;M>=0&&(q!==0||M>=D);M--){var J=this.words[M]|0;this.words[M]=q<<26-N|J>>>N,q=J&$}return F&&q!==0&&(F.words[F.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(w,E,C){return r(this.negative===0),this.iushrn(w,E,C)},o.prototype.shln=function(w){return this.clone().ishln(w)},o.prototype.ushln=function(w){return this.clone().iushln(w)},o.prototype.shrn=function(w){return this.clone().ishrn(w)},o.prototype.ushrn=function(w){return this.clone().iushrn(w)},o.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var E=w%26,C=(w-E)/26,D=1<<E;if(this.length<=C)return!1;var N=this.words[C];return!!(N&D)},o.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var E=w%26,C=(w-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(E!==0&&C++,this.length=Math.min(C,this.length),E!==0){var D=67108863^67108863>>>E<<E;this.words[this.length-1]&=D}return this._strip()},o.prototype.maskn=function(w){return this.clone().imaskn(w)},o.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},o.prototype._iaddn=function(w){this.words[0]+=w;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(w){return this.clone().iaddn(w)},o.prototype.subn=function(w){return this.clone().isubn(w)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(w,E,C){var D=w.length+C,N;this._expand(D);var H,$=0;for(N=0;N<w.length;N++){H=(this.words[N+C]|0)+$;var F=(w.words[N]|0)*E;H-=F&67108863,$=(H>>26)-(F/67108864|0),this.words[N+C]=H&67108863}for(;N<this.length-C;N++)H=(this.words[N+C]|0)+$,$=H>>26,this.words[N+C]=H&67108863;if($===0)return this._strip();for(r($===-1),$=0,N=0;N<this.length;N++)H=-(this.words[N]|0)+$,$=H>>26,this.words[N]=H&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(w,E){var C=this.length-w.length,D=this.clone(),N=w,H=N.words[N.length-1]|0,$=this._countBits(H);C=26-$,C!==0&&(N=N.ushln(C),D.iushln(C),H=N.words[N.length-1]|0);var F=D.length-N.length,M;if(E!=="mod"){M=new o(null),M.length=F+1,M.words=new Array(M.length);for(var q=0;q<M.length;q++)M.words[q]=0}var J=D.clone()._ishlnsubmul(N,1,F);J.negative===0&&(D=J,M&&(M.words[F]=1));for(var ie=F-1;ie>=0;ie--){var de=(D.words[N.length+ie]|0)*67108864+(D.words[N.length+ie-1]|0);for(de=Math.min(de/H|0,67108863),D._ishlnsubmul(N,de,ie);D.negative!==0;)de--,D.negative=0,D._ishlnsubmul(N,1,ie),D.isZero()||(D.negative^=1);M&&(M.words[ie]=de)}return M&&M._strip(),D._strip(),E!=="div"&&C!==0&&D.iushrn(C),{div:M||null,mod:D}},o.prototype.divmod=function(w,E,C){if(r(!w.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var D,N,H;return this.negative!==0&&w.negative===0?(H=this.neg().divmod(w,E),E!=="mod"&&(D=H.div.neg()),E!=="div"&&(N=H.mod.neg(),C&&N.negative!==0&&N.iadd(w)),{div:D,mod:N}):this.negative===0&&w.negative!==0?(H=this.divmod(w.neg(),E),E!=="mod"&&(D=H.div.neg()),{div:D,mod:H.mod}):this.negative&w.negative?(H=this.neg().divmod(w.neg(),E),E!=="div"&&(N=H.mod.neg(),C&&N.negative!==0&&N.isub(w)),{div:H.div,mod:N}):w.length>this.length||this.cmp(w)<0?{div:new o(0),mod:this}:w.length===1?E==="div"?{div:this.divn(w.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new o(this.modrn(w.words[0]))}:this._wordDiv(w,E)},o.prototype.div=function(w){return this.divmod(w,"div",!1).div},o.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},o.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},o.prototype.divRound=function(w){var E=this.divmod(w);if(E.mod.isZero())return E.div;var C=E.div.negative!==0?E.mod.isub(w):E.mod,D=w.ushrn(1),N=w.andln(1),H=C.cmp(D);return H<0||N===1&&H===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(w){var E=w<0;E&&(w=-w),r(w<=67108863);for(var C=(1<<26)%w,D=0,N=this.length-1;N>=0;N--)D=(C*D+(this.words[N]|0))%w;return E?-D:D},o.prototype.modn=function(w){return this.modrn(w)},o.prototype.idivn=function(w){var E=w<0;E&&(w=-w),r(w<=67108863);for(var C=0,D=this.length-1;D>=0;D--){var N=(this.words[D]|0)+C*67108864;this.words[D]=N/w|0,C=N%w}return this._strip(),E?this.ineg():this},o.prototype.divn=function(w){return this.clone().idivn(w)},o.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var E=this,C=w.clone();E.negative!==0?E=E.umod(w):E=E.clone();for(var D=new o(1),N=new o(0),H=new o(0),$=new o(1),F=0;E.isEven()&&C.isEven();)E.iushrn(1),C.iushrn(1),++F;for(var M=C.clone(),q=E.clone();!E.isZero();){for(var J=0,ie=1;!(E.words[0]&ie)&&J<26;++J,ie<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(D.isOdd()||N.isOdd())&&(D.iadd(M),N.isub(q)),D.iushrn(1),N.iushrn(1);for(var de=0,ve=1;!(C.words[0]&ve)&&de<26;++de,ve<<=1);if(de>0)for(C.iushrn(de);de-- >0;)(H.isOdd()||$.isOdd())&&(H.iadd(M),$.isub(q)),H.iushrn(1),$.iushrn(1);E.cmp(C)>=0?(E.isub(C),D.isub(H),N.isub($)):(C.isub(E),H.isub(D),$.isub(N))}return{a:H,b:$,gcd:C.iushln(F)}},o.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var E=this,C=w.clone();E.negative!==0?E=E.umod(w):E=E.clone();for(var D=new o(1),N=new o(0),H=C.clone();E.cmpn(1)>0&&C.cmpn(1)>0;){for(var $=0,F=1;!(E.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(E.iushrn($);$-- >0;)D.isOdd()&&D.iadd(H),D.iushrn(1);for(var M=0,q=1;!(C.words[0]&q)&&M<26;++M,q<<=1);if(M>0)for(C.iushrn(M);M-- >0;)N.isOdd()&&N.iadd(H),N.iushrn(1);E.cmp(C)>=0?(E.isub(C),D.isub(N)):(C.isub(E),N.isub(D))}var J;return E.cmpn(1)===0?J=D:J=N,J.cmpn(0)<0&&J.iadd(w),J},o.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var E=this.clone(),C=w.clone();E.negative=0,C.negative=0;for(var D=0;E.isEven()&&C.isEven();D++)E.iushrn(1),C.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;C.isEven();)C.iushrn(1);var N=E.cmp(C);if(N<0){var H=E;E=C,C=H}else if(N===0||C.cmpn(1)===0)break;E.isub(C)}while(!0);return C.iushln(D)},o.prototype.invm=function(w){return this.egcd(w).a.umod(w)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(w){return this.words[0]&w},o.prototype.bincn=function(w){r(typeof w=="number");var E=w%26,C=(w-E)/26,D=1<<E;if(this.length<=C)return this._expand(C+1),this.words[C]|=D,this;for(var N=D,H=C;N!==0&&H<this.length;H++){var $=this.words[H]|0;$+=N,N=$>>>26,$&=67108863,this.words[H]=$}return N!==0&&(this.words[H]=N,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(w){var E=w<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var C;if(this.length>1)C=1;else{E&&(w=-w),r(w<=67108863,"Number is too big");var D=this.words[0]|0;C=D===w?0:D<w?-1:1}return this.negative!==0?-C|0:C},o.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var E=this.ucmp(w);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var E=0,C=this.length-1;C>=0;C--){var D=this.words[C]|0,N=w.words[C]|0;if(D!==N){D<N?E=-1:D>N&&(E=1);break}}return E},o.prototype.gtn=function(w){return this.cmpn(w)===1},o.prototype.gt=function(w){return this.cmp(w)===1},o.prototype.gten=function(w){return this.cmpn(w)>=0},o.prototype.gte=function(w){return this.cmp(w)>=0},o.prototype.ltn=function(w){return this.cmpn(w)===-1},o.prototype.lt=function(w){return this.cmp(w)===-1},o.prototype.lten=function(w){return this.cmpn(w)<=0},o.prototype.lte=function(w){return this.cmp(w)<=0},o.prototype.eqn=function(w){return this.cmpn(w)===0},o.prototype.eq=function(w){return this.cmp(w)===0},o.red=function(w){return new L(w)},o.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(w){return this.red=w,this},o.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},o.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},o.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},o.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},o.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},o.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},o.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},o.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var R={k256:null,p224:null,p192:null,p25519:null};function k(B,w){this.name=B,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var w=new o(null);return w.words=new Array(Math.ceil(this.n/13)),w},k.prototype.ireduce=function(w){var E=w,C;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),C=E.bitLength();while(C>this.n);var D=C<this.n?-1:E.ucmp(this.p);return D===0?(E.words[0]=0,E.length=1):D>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},k.prototype.split=function(w,E){w.iushrn(this.n,0,E)},k.prototype.imulK=function(w){return w.imul(this.k)};function _(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(_,k),_.prototype.split=function(w,E){for(var C=4194303,D=Math.min(w.length,9),N=0;N<D;N++)E.words[N]=w.words[N];if(E.length=D,w.length<=9){w.words[0]=0,w.length=1;return}var H=w.words[9];for(E.words[E.length++]=H&C,N=10;N<w.length;N++){var $=w.words[N]|0;w.words[N-10]=($&C)<<4|H>>>22,H=$}H>>>=22,w.words[N-10]=H,H===0&&w.length>10?w.length-=10:w.length-=9},_.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var E=0,C=0;C<w.length;C++){var D=w.words[C]|0;E+=D*977,w.words[C]=E&67108863,E=D*64+(E/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function I(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(I,k);function S(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(S,k);function P(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(P,k),P.prototype.imulK=function(w){for(var E=0,C=0;C<w.length;C++){var D=(w.words[C]|0)*19+E,N=D&67108863;D>>>=26,w.words[C]=N,E=D}return E!==0&&(w.words[w.length++]=E),w},o._prime=function(w){if(R[w])return R[w];var E;if(w==="k256")E=new _;else if(w==="p224")E=new I;else if(w==="p192")E=new S;else if(w==="p25519")E=new P;else throw new Error("Unknown prime "+w);return R[w]=E,E};function L(B){if(typeof B=="string"){var w=o._prime(B);this.m=w.p,this.prime=w}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}L.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},L.prototype._verify2=function(w,E){r((w.negative|E.negative)===0,"red works only with positives"),r(w.red&&w.red===E.red,"red works only with red numbers")},L.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(u(w,w.umod(this.m)._forceRed(this)),w)},L.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},L.prototype.add=function(w,E){this._verify2(w,E);var C=w.add(E);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},L.prototype.iadd=function(w,E){this._verify2(w,E);var C=w.iadd(E);return C.cmp(this.m)>=0&&C.isub(this.m),C},L.prototype.sub=function(w,E){this._verify2(w,E);var C=w.sub(E);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},L.prototype.isub=function(w,E){this._verify2(w,E);var C=w.isub(E);return C.cmpn(0)<0&&C.iadd(this.m),C},L.prototype.shl=function(w,E){return this._verify1(w),this.imod(w.ushln(E))},L.prototype.imul=function(w,E){return this._verify2(w,E),this.imod(w.imul(E))},L.prototype.mul=function(w,E){return this._verify2(w,E),this.imod(w.mul(E))},L.prototype.isqr=function(w){return this.imul(w,w.clone())},L.prototype.sqr=function(w){return this.mul(w,w)},L.prototype.sqrt=function(w){if(w.isZero())return w.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(w,C)}for(var D=this.m.subn(1),N=0;!D.isZero()&&D.andln(1)===0;)N++,D.iushrn(1);r(!D.isZero());var H=new o(1).toRed(this),$=H.redNeg(),F=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new o(2*M*M).toRed(this);this.pow(M,F).cmp($)!==0;)M.redIAdd($);for(var q=this.pow(M,D),J=this.pow(w,D.addn(1).iushrn(1)),ie=this.pow(w,D),de=N;ie.cmp(H)!==0;){for(var ve=ie,Pe=0;ve.cmp(H)!==0;Pe++)ve=ve.redSqr();r(Pe<de);var Ae=this.pow(q,new o(1).iushln(de-Pe-1));J=J.redMul(Ae),q=Ae.redSqr(),ie=ie.redMul(q),de=Pe}return J},L.prototype.invm=function(w){var E=w._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},L.prototype.pow=function(w,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return w.clone();var C=4,D=new Array(1<<C);D[0]=new o(1).toRed(this),D[1]=w;for(var N=2;N<D.length;N++)D[N]=this.mul(D[N-1],w);var H=D[0],$=0,F=0,M=E.bitLength()%26;for(M===0&&(M=26),N=E.length-1;N>=0;N--){for(var q=E.words[N],J=M-1;J>=0;J--){var ie=q>>J&1;if(H!==D[0]&&(H=this.sqr(H)),ie===0&&$===0){F=0;continue}$<<=1,$|=ie,F++,!(F!==C&&(N!==0||J!==0))&&(H=this.mul(H,D[$]),F=0,$=0)}M=26}return H},L.prototype.convertTo=function(w){var E=w.umod(this.m);return E===w?E.clone():E},L.prototype.convertFrom=function(w){var E=w.clone();return E.red=null,E},o.mont=function(w){return new G(w)};function G(B){L.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,L),G.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},G.prototype.convertFrom=function(w){var E=this.imod(w.mul(this.rinv));return E.red=null,E},G.prototype.imul=function(w,E){if(w.isZero()||E.isZero())return w.words[0]=0,w.length=1,w;var C=w.imul(E),D=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=C.isub(D).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},G.prototype.mul=function(w,E){if(w.isZero()||E.isZero())return new o(0)._forceRed(this);var C=w.mul(E),D=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=C.isub(D).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},G.prototype.invm=function(w){var E=this.imod(w._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,tN)})(FC);var fie=FC.exports;const hie=em(fie),JD="bignumber/5.8.0";var Hy=hie.BN;const Vs=new gi(JD),_1={},pI=9007199254740991;function pie(t){return t!=null&&(Gt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Ei(t)||typeof t=="bigint"||Cf(t))}let mI=!1;class Gt{constructor(e,n){e!==_1&&Vs.throwError("cannot call constructor directly; use BigNumber.from",gi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return si(Ht(this).fromTwos(e))}toTwos(e){return si(Ht(this).toTwos(e))}abs(){return this._hex[0]==="-"?Gt.from(this._hex.substring(1)):this}add(e){return si(Ht(this).add(Ht(e)))}sub(e){return si(Ht(this).sub(Ht(e)))}div(e){return Gt.from(e).isZero()&&Ji("division-by-zero","div"),si(Ht(this).div(Ht(e)))}mul(e){return si(Ht(this).mul(Ht(e)))}mod(e){const n=Ht(e);return n.isNeg()&&Ji("division-by-zero","mod"),si(Ht(this).umod(n))}pow(e){const n=Ht(e);return n.isNeg()&&Ji("negative-power","pow"),si(Ht(this).pow(n))}and(e){const n=Ht(e);return(this.isNegative()||n.isNeg())&&Ji("unbound-bitwise-result","and"),si(Ht(this).and(n))}or(e){const n=Ht(e);return(this.isNegative()||n.isNeg())&&Ji("unbound-bitwise-result","or"),si(Ht(this).or(n))}xor(e){const n=Ht(e);return(this.isNegative()||n.isNeg())&&Ji("unbound-bitwise-result","xor"),si(Ht(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Ji("negative-width","mask"),si(Ht(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ji("negative-width","shl"),si(Ht(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ji("negative-width","shr"),si(Ht(this).shrn(e))}eq(e){return Ht(this).eq(Ht(e))}lt(e){return Ht(this).lt(Ht(e))}lte(e){return Ht(this).lte(Ht(e))}gt(e){return Ht(this).gt(Ht(e))}gte(e){return Ht(this).gte(Ht(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Ht(this).isZero()}toNumber(){try{return Ht(this).toNumber()}catch{Ji("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Vs.throwError("this platform does not support BigInt",gi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?mI||(mI=!0,Vs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Vs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",gi.errors.UNEXPECTED_ARGUMENT,{}):Vs.throwError("BigNumber.toString does not accept parameters",gi.errors.UNEXPECTED_ARGUMENT,{})),Ht(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Gt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Gt(_1,Up(e)):e.match(/^-?[0-9]+$/)?new Gt(_1,Up(new Hy(e))):Vs.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ji("underflow","BigNumber.from",e),(e>=pI||e<=-pI)&&Ji("overflow","BigNumber.from",e),Gt.from(String(e));const n=e;if(typeof n=="bigint")return Gt.from(n.toString());if(Cf(n))return Gt.from($r(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return Gt.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Ei(r)||r[0]==="-"&&Ei(r.substring(1))))return Gt.from(r)}return Vs.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Up(t){if(typeof t!="string")return Up(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Vs.throwArgumentError("invalid hex","value",t),t=Up(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function si(t){return Gt.from(Up(t))}function Ht(t){const e=Gt.from(t).toHexString();return e[0]==="-"?new Hy("-"+e.substring(3),16):new Hy(e.substring(2),16)}function Ji(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),Vs.throwError(t,gi.errors.NUMERIC_FAULT,r)}function oxe(t){return new Hy(t,36).toString(16)}const Qr=new gi(JD),Uh={},ZD=Gt.from(0),eU=Gt.from(-1);function tU(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Qr.throwError(t,gi.errors.NUMERIC_FAULT,i)}let zh="0";for(;zh.length<256;)zh+=zh;function LC(t){if(typeof t!="number")try{t=Gt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+zh.substring(0,t):Qr.throwArgumentError("invalid decimal size","decimals",t)}function Bg(t,e){e==null&&(e=0);const n=LC(e);t=Gt.from(t);const r=t.lt(ZD);r&&(t=t.mul(eU));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+i,r&&(t="-"+t),t}function Ls(t,e){e==null&&(e=0);const n=LC(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Qr.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Qr.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Qr.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&tU("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const a=Gt.from(o),l=Gt.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(eU)),c}class bd{constructor(e,n,r,i){e!==Uh&&Qr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",gi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=LC(i),Object.freeze(this)}static from(e){if(e instanceof bd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Qr.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",r=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&Qr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);n=o("signed","boolean",n),r=o("width","number",r),i=o("decimals","number",i)}return r%8&&Qr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Qr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new bd(Uh,n,r,i)}}class br{constructor(e,n,r,i){e!==Uh&&Qr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",gi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Qr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Ls(this._value,this.format.decimals),r=Ls(e._value,e.format.decimals);return br.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Ls(this._value,this.format.decimals),r=Ls(e._value,e.format.decimals);return br.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Ls(this._value,this.format.decimals),r=Ls(e._value,e.format.decimals);return br.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Ls(this._value,this.format.decimals),r=Ls(e._value,e.format.decimals);return br.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=br.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(gI.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=br.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(gI.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Qr.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=br.from("1"+zh.substring(0,e),this.format),i=mie.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Qr.throwArgumentError("invalid byte width","width",e);const n=Gt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Dh(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return br.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!pie(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),br.fromString(Bg(e,n),bd.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=bd.from(n),i=Ls(e,r.decimals);!r.signed&&i.lt(ZD)&&tU("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=Dh(o,r.width/8));const s=Bg(i,r.decimals);return new br(Uh,o,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=bd.from(n);if(Ic(e).length>r.width/8)throw new Error("overflow");let i=Gt.from(e);r.signed&&(i=i.fromTwos(r.width));const o=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=Bg(i,r.decimals);return new br(Uh,o,s,r)}static from(e,n){if(typeof e=="string")return br.fromString(e,n);if(Cf(e))return br.fromBytes(e,n);try{return br.fromValue(e,0,n)}catch(r){if(r.code!==gi.errors.INVALID_ARGUMENT)throw r}return Qr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const gI=br.from(1),mie=br.from("0.5"),gie=["wei","kwei","mwei","gwei","szabo","finney","ether"];function yie(t,e){if(typeof e=="string"){const n=gie.indexOf(e);n!==-1&&(e=3*n)}return Bg(t,e??18)}function nU(t,e){return function(){return t.apply(e,arguments)}}const{toString:vie}=Object.prototype,{getPrototypeOf:DC}=Object,{iterator:Cw,toStringTag:rU}=Symbol,Tw=(t=>e=>{const n=vie.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jo=t=>(t=t.toLowerCase(),e=>Tw(e)===t),Mw=t=>e=>typeof e===t,{isArray:Tf}=Array,zp=Mw("undefined");function wie(t){return t!==null&&!zp(t)&&t.constructor!==null&&!zp(t.constructor)&&Ai(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iU=Jo("ArrayBuffer");function bie(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iU(t.buffer),e}const xie=Mw("string"),Ai=Mw("function"),oU=Mw("number"),Iw=t=>t!==null&&typeof t=="object",Eie=t=>t===!0||t===!1,Fg=t=>{if(Tw(t)!=="object")return!1;const e=DC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rU in t)&&!(Cw in t)},Aie=Jo("Date"),_ie=Jo("File"),Sie=Jo("Blob"),Cie=Jo("FileList"),Tie=t=>Iw(t)&&Ai(t.pipe),Mie=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ai(t.append)&&((e=Tw(t))==="formdata"||e==="object"&&Ai(t.toString)&&t.toString()==="[object FormData]"))},Iie=Jo("URLSearchParams"),[Rie,Pie,Nie,kie]=["ReadableStream","Request","Response","Headers"].map(Jo),Oie=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Tf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function sU(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,aU=t=>!zp(t)&&t!==wc;function kA(){const{caseless:t}=aU(this)&&this||{},e={},n=(r,i)=>{const o=t&&sU(e,i)||i;Fg(e[o])&&Fg(r)?e[o]=kA(e[o],r):Fg(r)?e[o]=kA({},r):Tf(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Sm(arguments[r],n);return e}const Bie=(t,e,n,{allOwnKeys:r}={})=>(Sm(e,(i,o)=>{n&&Ai(i)?t[o]=nU(i,n):t[o]=i},{allOwnKeys:r}),t),Fie=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Lie=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Die=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&DC(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Uie=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},zie=t=>{if(!t)return null;if(Tf(t))return t;let e=t.length;if(!oU(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jie=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&DC(Uint8Array)),Hie=(t,e)=>{const r=(t&&t[Cw]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Gie=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Wie=Jo("HTMLFormElement"),Vie=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),yI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),$ie=Jo("RegExp"),lU=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Sm(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},qie=t=>{lU(t,(e,n)=>{if(Ai(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ai(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Qie=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Tf(t)?r(t):r(String(t).split(e)),n},Kie=()=>{},Xie=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Yie(t){return!!(t&&Ai(t.append)&&t[rU]==="FormData"&&t[Cw])}const Jie=t=>{const e=new Array(10),n=(r,i)=>{if(Iw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Tf(r)?[]:{};return Sm(r,(s,a)=>{const l=n(s,i+1);!zp(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Zie=Jo("AsyncFunction"),eoe=t=>t&&(Iw(t)||Ai(t))&&Ai(t.then)&&Ai(t.catch),cU=((t,e)=>t?setImmediate:e?((n,r)=>(wc.addEventListener("message",({source:i,data:o})=>{i===wc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ai(wc.postMessage)),toe=typeof queueMicrotask<"u"?queueMicrotask.bind(wc):typeof process<"u"&&process.nextTick||cU,noe=t=>t!=null&&Ai(t[Cw]),xe={isArray:Tf,isArrayBuffer:iU,isBuffer:wie,isFormData:Mie,isArrayBufferView:bie,isString:xie,isNumber:oU,isBoolean:Eie,isObject:Iw,isPlainObject:Fg,isReadableStream:Rie,isRequest:Pie,isResponse:Nie,isHeaders:kie,isUndefined:zp,isDate:Aie,isFile:_ie,isBlob:Sie,isRegExp:$ie,isFunction:Ai,isStream:Tie,isURLSearchParams:Iie,isTypedArray:jie,isFileList:Cie,forEach:Sm,merge:kA,extend:Bie,trim:Oie,stripBOM:Fie,inherits:Lie,toFlatObject:Die,kindOf:Tw,kindOfTest:Jo,endsWith:Uie,toArray:zie,forEachEntry:Hie,matchAll:Gie,isHTMLForm:Wie,hasOwnProperty:yI,hasOwnProp:yI,reduceDescriptors:lU,freezeMethods:qie,toObjectSet:Qie,toCamelCase:Vie,noop:Kie,toFiniteNumber:Xie,findKey:sU,global:wc,isContextDefined:aU,isSpecCompliantForm:Yie,toJSONObject:Jie,isAsyncFn:Zie,isThenable:eoe,setImmediate:cU,asap:toe,isIterable:noe};function Pt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}xe.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const uU=Pt.prototype,dU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dU[t]={value:t}});Object.defineProperties(Pt,dU);Object.defineProperty(uU,"isAxiosError",{value:!0});Pt.from=(t,e,n,r,i,o)=>{const s=Object.create(uU);return xe.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const roe=null;function OA(t){return xe.isPlainObject(t)||xe.isArray(t)}function fU(t){return xe.endsWith(t,"[]")?t.slice(0,-2):t}function vI(t,e,n){return t?t.concat(e).map(function(i,o){return i=fU(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function ioe(t){return xe.isArray(t)&&!t.some(OA)}const ooe=xe.toFlatObject(xe,{},null,function(e){return/^is[A-Z]/.test(e)});function Rw(t,e,n){if(!xe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=xe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!xe.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(e);if(!xe.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(xe.isDate(p))return p.toISOString();if(xe.isBoolean(p))return p.toString();if(!l&&xe.isBlob(p))throw new Pt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(p)||xe.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let g=p;if(p&&!y&&typeof p=="object"){if(xe.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(xe.isArray(p)&&ioe(p)||(xe.isFileList(p)||xe.endsWith(m,"[]"))&&(g=xe.toArray(p)))return m=fU(m),g.forEach(function(b,x){!(xe.isUndefined(b)||b===null)&&e.append(s===!0?vI([m],x,o):s===null?m:m+"[]",c(b))}),!1}return OA(p)?!0:(e.append(vI(y,m,o),c(p)),!1)}const d=[],f=Object.assign(ooe,{defaultVisitor:u,convertValue:c,isVisitable:OA});function h(p,m){if(!xe.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),xe.forEach(p,function(g,v){(!(xe.isUndefined(g)||g===null)&&i.call(e,g,xe.isString(v)?v.trim():v,m,f))===!0&&h(g,m?m.concat(v):[v])}),d.pop()}}if(!xe.isObject(t))throw new TypeError("data must be an object");return h(t),e}function wI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function UC(t,e){this._pairs=[],t&&Rw(t,this,e)}const hU=UC.prototype;hU.append=function(e,n){this._pairs.push([e,n])};hU.toString=function(e){const n=e?function(r){return e.call(this,r,wI)}:wI;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function soe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pU(t,e,n){if(!e)return t;const r=n&&n.encode||soe;xe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=xe.isURLSearchParams(e)?e.toString():new UC(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class bI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){xe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aoe=typeof URLSearchParams<"u"?URLSearchParams:UC,loe=typeof FormData<"u"?FormData:null,coe=typeof Blob<"u"?Blob:null,uoe={isBrowser:!0,classes:{URLSearchParams:aoe,FormData:loe,Blob:coe},protocols:["http","https","file","blob","url","data"]},zC=typeof window<"u"&&typeof document<"u",BA=typeof navigator=="object"&&navigator||void 0,doe=zC&&(!BA||["ReactNative","NativeScript","NS"].indexOf(BA.product)<0),foe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hoe=zC&&window.location.href||"http://localhost",poe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zC,hasStandardBrowserEnv:doe,hasStandardBrowserWebWorkerEnv:foe,navigator:BA,origin:hoe},Symbol.toStringTag,{value:"Module"})),Dr={...poe,...uoe};function moe(t,e){return Rw(t,new Dr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Dr.isNode&&xe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function goe(t){return xe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yoe(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function gU(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&xe.isArray(i)?i.length:s,l?(xe.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!xe.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&xe.isArray(i[s])&&(i[s]=yoe(i[s])),!a)}if(xe.isFormData(t)&&xe.isFunction(t.entries)){const n={};return xe.forEachEntry(t,(r,i)=>{e(goe(r),i,n,0)}),n}return null}function voe(t,e,n){if(xe.isString(t))try{return(e||JSON.parse)(t),xe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Cm={transitional:mU,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=xe.isObject(e);if(o&&xe.isHTMLForm(e)&&(e=new FormData(e)),xe.isFormData(e))return i?JSON.stringify(gU(e)):e;if(xe.isArrayBuffer(e)||xe.isBuffer(e)||xe.isStream(e)||xe.isFile(e)||xe.isBlob(e)||xe.isReadableStream(e))return e;if(xe.isArrayBufferView(e))return e.buffer;if(xe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return moe(e,this.formSerializer).toString();if((a=xe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rw(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),voe(e)):e}],transformResponse:[function(e){const n=this.transitional||Cm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(xe.isResponse(e)||xe.isReadableStream(e))return e;if(e&&xe.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Pt.from(a,Pt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],t=>{Cm.headers[t]={}});const woe=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),boe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&woe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},xI=Symbol("internals");function Zf(t){return t&&String(t).trim().toLowerCase()}function Lg(t){return t===!1||t==null?t:xe.isArray(t)?t.map(Lg):String(t)}function xoe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Eoe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function S1(t,e,n,r,i){if(xe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!xe.isString(e)){if(xe.isString(r))return e.indexOf(r)!==-1;if(xe.isRegExp(r))return r.test(e)}}function Aoe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function _oe(t,e){const n=xe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let _i=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Zf(l);if(!u)throw new Error("header name must be a non-empty string");const d=xe.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Lg(a))}const s=(a,l)=>xe.forEach(a,(c,u)=>o(c,u,l));if(xe.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(xe.isString(e)&&(e=e.trim())&&!Eoe(e))s(boe(e),n);else if(xe.isObject(e)&&xe.isIterable(e)){let a={},l,c;for(const u of e){if(!xe.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?xe.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Zf(e),e){const r=xe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return xoe(i);if(xe.isFunction(n))return n.call(this,i,r);if(xe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Zf(e),e){const r=xe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||S1(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Zf(s),s){const a=xe.findKey(r,s);a&&(!n||S1(r,r[a],a,n))&&(delete r[a],i=!0)}}return xe.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||S1(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return xe.forEach(this,(i,o)=>{const s=xe.findKey(r,o);if(s){n[s]=Lg(i),delete n[o];return}const a=e?Aoe(o):String(o).trim();a!==o&&delete n[o],n[a]=Lg(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return xe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&xe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[xI]=this[xI]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Zf(s);r[a]||(_oe(i,s),r[a]=!0)}return xe.isArray(e)?e.forEach(o):o(e),this}};_i.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(_i.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});xe.freezeMethods(_i);function C1(t,e){const n=this||Cm,r=e||n,i=_i.from(r.headers);let o=r.data;return xe.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function yU(t){return!!(t&&t.__CANCEL__)}function Mf(t,e,n){Pt.call(this,t??"canceled",Pt.ERR_CANCELED,e,n),this.name="CanceledError"}xe.inherits(Mf,Pt,{__CANCEL__:!0});function vU(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pt("Request failed with status code "+n.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Soe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Coe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function Toe(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const Gy=(t,e,n=3)=>{let r=0;const i=Coe(50,250);return Toe(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},EI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},AI=t=>(...e)=>xe.asap(()=>t(...e)),Moe=Dr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Dr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Dr.origin),Dr.navigator&&/(msie|trident)/i.test(Dr.navigator.userAgent)):()=>!0,Ioe=Dr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];xe.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),xe.isString(r)&&s.push("path="+r),xe.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Roe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Poe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wU(t,e,n){let r=!Roe(e);return t&&(r||n==!1)?Poe(t,e):e}const _I=t=>t instanceof _i?{...t}:t;function Xc(t,e){e=e||{};const n={};function r(c,u,d,f){return xe.isPlainObject(c)&&xe.isPlainObject(u)?xe.merge.call({caseless:f},c,u):xe.isPlainObject(u)?xe.merge({},u):xe.isArray(u)?u.slice():u}function i(c,u,d,f){if(xe.isUndefined(u)){if(!xe.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!xe.isUndefined(u))return r(void 0,u)}function s(c,u){if(xe.isUndefined(u)){if(!xe.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(_I(c),_I(u),d,!0)};return xe.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);xe.isUndefined(f)&&d!==a||(n[u]=f)}),n}const bU=t=>{const e=Xc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=_i.from(s),e.url=pU(wU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(xe.isFormData(n)){if(Dr.hasStandardBrowserEnv||Dr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Dr.hasStandardBrowserEnv&&(r&&xe.isFunction(r)&&(r=r(e)),r||r!==!1&&Moe(e.url))){const c=i&&o&&Ioe.read(o);c&&s.set(i,c)}return e},Noe=typeof XMLHttpRequest<"u",koe=Noe&&function(t){return new Promise(function(n,r){const i=bU(t);let o=i.data;const s=_i.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function g(){if(!y)return;const b=_i.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};vU(function(_){n(_),m()},function(_){r(_),m()},R),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(r(new Pt("Request aborted",Pt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Pt("Network Error",Pt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||mU;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new Pt(x,R.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&xe.forEach(s.toJSON(),function(x,R){y.setRequestHeader(R,x)}),xe.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=Gy(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Gy(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new Mf(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=Soe(i.url);if(v&&Dr.protocols.indexOf(v)===-1){r(new Pt("Unsupported protocol "+v+":",Pt.ERR_BAD_REQUEST,t));return}y.send(o||null)})},Ooe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Pt?u:new Mf(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new Pt(`timeout ${e} of ms exceeded`,Pt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>xe.asap(a),l}},Boe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Foe=async function*(t,e){for await(const n of Loe(t))yield*Boe(n,e)},Loe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},SI=(t,e,n,r)=>{const i=Foe(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Pw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xU=Pw&&typeof ReadableStream=="function",Doe=Pw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),EU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Uoe=xU&&EU(()=>{let t=!1;const e=new Request(Dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),CI=64*1024,FA=xU&&EU(()=>xe.isReadableStream(new Response("").body)),Wy={stream:FA&&(t=>t.body)};Pw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wy[e]&&(Wy[e]=xe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Pt(`Response type '${e}' is not supported`,Pt.ERR_NOT_SUPPORT,r)})})})(new Response);const zoe=async t=>{if(t==null)return 0;if(xe.isBlob(t))return t.size;if(xe.isSpecCompliantForm(t))return(await new Request(Dr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(t)||xe.isArrayBuffer(t))return t.byteLength;if(xe.isURLSearchParams(t)&&(t=t+""),xe.isString(t))return(await Doe(t)).byteLength},joe=async(t,e)=>{const n=xe.toFiniteNumber(t.getContentLength());return n??zoe(e)},Hoe=Pw&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=bU(t);c=c?(c+"").toLowerCase():"text";let h=Ooe([i,o&&o.toAbortSignal()],s),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&Uoe&&n!=="get"&&n!=="head"&&(y=await joe(u,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(xe.isFormData(r)&&(k=R.headers.get("content-type"))&&u.setContentType(k),R.body){const[_,I]=EI(y,Gy(AI(l)));r=SI(R.body,CI,_,I)}}xe.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let v=await fetch(p,f);const b=FA&&(c==="stream"||c==="response");if(FA&&(a||b&&m)){const R={};["status","statusText","headers"].forEach(S=>{R[S]=v[S]});const k=xe.toFiniteNumber(v.headers.get("content-length")),[_,I]=a&&EI(k,Gy(AI(a),!0))||[];v=new Response(SI(v.body,CI,_,()=>{I&&I(),m&&m()}),R)}c=c||"text";let x=await Wy[xe.findKey(Wy,c)||"text"](v,t);return!b&&m&&m(),await new Promise((R,k)=>{vU(R,k,{data:x,headers:_i.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,t,p),{cause:g.cause||g}):Pt.from(g,g&&g.code,t,p)}}),LA={http:roe,xhr:koe,fetch:Hoe};xe.forEach(LA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TI=t=>`- ${t}`,Goe=t=>xe.isFunction(t)||t===null||t===!1,AU={getAdapter:t=>{t=xe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!Goe(n)&&(r=LA[(s=String(n)).toLowerCase()],r===void 0))throw new Pt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(TI).join(`
`):" "+TI(o[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:LA};function T1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mf(null,t)}function MI(t){return T1(t),t.headers=_i.from(t.headers),t.data=C1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),AU.getAdapter(t.adapter||Cm.adapter)(t).then(function(r){return T1(t),r.data=C1.call(t,t.transformResponse,r),r.headers=_i.from(r.headers),r},function(r){return yU(r)||(T1(t),r&&r.response&&(r.response.data=C1.call(t,t.transformResponse,r.response),r.response.headers=_i.from(r.response.headers))),Promise.reject(r)})}const _U="1.10.0",Nw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const II={};Nw.transitional=function(e,n,r){function i(o,s){return"[Axios v"+_U+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Pt(i(s," has been removed"+(n?" in "+n:"")),Pt.ERR_DEPRECATED);return n&&!II[s]&&(II[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Nw.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Woe(t,e,n){if(typeof t!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Pt("option "+o+" must be "+l,Pt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pt("Unknown option "+o,Pt.ERR_BAD_OPTION)}}const Dg={assertOptions:Woe,validators:Nw},os=Dg.validators;let Rc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new bI,response:new bI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Dg.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),i!=null&&(xe.isFunction(i)?n.paramsSerializer={serialize:i}:Dg.assertOptions(i,{encode:os.function,serialize:os.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Dg.assertOptions(n,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&xe.merge(o.common,o[n.method]);o&&xe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=_i.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[MI.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=MI.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Xc(this.defaults,e);const n=wU(e.baseURL,e.url,e.allowAbsoluteUrls);return pU(n,e.params,e.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(e){Rc.prototype[e]=function(n,r){return this.request(Xc(r||{},{method:e,url:n,data:(r||{}).data}))}});xe.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Xc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Rc.prototype[e]=n(),Rc.prototype[e+"Form"]=n(!0)});let Voe=class SU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Mf(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new SU(function(i){e=i}),cancel:e}}};function $oe(t){return function(n){return t.apply(null,n)}}function qoe(t){return xe.isObject(t)&&t.isAxiosError===!0}const DA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DA).forEach(([t,e])=>{DA[e]=t});function CU(t){const e=new Rc(t),n=nU(Rc.prototype.request,e);return xe.extend(n,Rc.prototype,e,{allOwnKeys:!0}),xe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return CU(Xc(t,i))},n}const Un=CU(Cm);Un.Axios=Rc;Un.CanceledError=Mf;Un.CancelToken=Voe;Un.isCancel=yU;Un.VERSION=_U;Un.toFormData=Rw;Un.AxiosError=Pt;Un.Cancel=Un.CanceledError;Un.all=function(e){return Promise.all(e)};Un.spread=$oe;Un.isAxiosError=qoe;Un.mergeConfig=Xc;Un.AxiosHeaders=_i;Un.formToJSON=t=>gU(xe.isHTMLForm(t)?new FormData(t):t);Un.getAdapter=AU.getAdapter;Un.HttpStatusCode=DA;Un.default=Un;const{Axios:lxe,AxiosError:cxe,CanceledError:uxe,isCancel:dxe,CancelToken:fxe,VERSION:hxe,all:pxe,Cancel:mxe,isAxiosError:gxe,spread:yxe,toFormData:vxe,AxiosHeaders:wxe,HttpStatusCode:bxe,formToJSON:xxe,getAdapter:Exe,mergeConfig:Axe}=Un;var Te;(function(t){t.ETH_MAINNET="eth-mainnet",t.ETH_GOERLI="eth-goerli",t.ETH_SEPOLIA="eth-sepolia",t.ETH_HOLESKY="eth-holesky",t.ETH_HOODI="eth-hoodi",t.OPT_MAINNET="opt-mainnet",t.OPT_GOERLI="opt-goerli",t.OPT_SEPOLIA="opt-sepolia",t.ARB_MAINNET="arb-mainnet",t.ARB_GOERLI="arb-goerli",t.ARB_SEPOLIA="arb-sepolia",t.MATIC_MAINNET="polygon-mainnet",t.MATIC_MUMBAI="polygon-mumbai",t.MATIC_AMOY="polygon-amoy",t.ASTAR_MAINNET="astar-mainnet",t.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",t.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",t.POLYGONZKEVM_CARDONA="polygonzkevm-cardona",t.BASE_MAINNET="base-mainnet",t.BASE_GOERLI="base-goerli",t.BASE_SEPOLIA="base-sepolia",t.ZKSYNC_MAINNET="zksync-mainnet",t.ZKSYNC_SEPOLIA="zksync-sepolia",t.SHAPE_MAINNET="shape-mainnet",t.SHAPE_SEPOLIA="shape-sepolia",t.LINEA_MAINNET="linea-mainnet",t.LINEA_SEPOLIA="linea-sepolia",t.FANTOM_MAINNET="fantom-mainnet",t.FANTOM_TESTNET="fantom-testnet",t.ZETACHAIN_MAINNET="zetachain-mainnet",t.ZETACHAIN_TESTNET="zetachain-testnet",t.ARBNOVA_MAINNET="arbnova-mainnet",t.BLAST_MAINNET="blast-mainnet",t.BLAST_SEPOLIA="blast-sepolia",t.MANTLE_MAINNET="mantle-mainnet",t.MANTLE_SEPOLIA="mantle-sepolia",t.SCROLL_MAINNET="scroll-mainnet",t.SCROLL_SEPOLIA="scroll-sepolia",t.GNOSIS_MAINNET="gnosis-mainnet",t.GNOSIS_CHIADO="gnosis-chiado",t.BNB_MAINNET="bnb-mainnet",t.BNB_TESTNET="bnb-testnet",t.AVAX_MAINNET="avax-mainnet",t.AVAX_FUJI="avax-fuji",t.CELO_MAINNET="celo-mainnet",t.CELO_ALFAJORES="celo-alfajores",t.CELO_BAKLAVA="celo-baklava",t.METIS_MAINNET="metis-mainnet",t.OPBNB_MAINNET="opbnb-mainnet",t.OPBNB_TESTNET="opbnb-testnet",t.BERACHAIN_BARTIO="berachain-bartio",t.BERACHAIN_MAINNET="berachain-mainnet",t.BERACHAIN_BEPOLIA="berachain-bepolia",t.SONEIUM_MAINNET="soneium-mainnet",t.SONEIUM_MINATO="soneium-minato",t.WORLDCHAIN_MAINNET="worldchain-mainnet",t.WORLDCHAIN_SEPOLIA="worldchain-sepolia",t.ROOTSTOCK_MAINNET="rootstock-mainnet",t.ROOTSTOCK_TESTNET="rootstock-testnet",t.FLOW_MAINNET="flow-mainnet",t.FLOW_TESTNET="flow-testnet",t.ZORA_MAINNET="zora-mainnet",t.ZORA_SEPOLIA="zora-sepolia",t.FRAX_MAINNET="frax-mainnet",t.FRAX_SEPOLIA="frax-sepolia",t.POLYNOMIAL_MAINNET="polynomial-mainnet",t.POLYNOMIAL_SEPOLIA="polynomial-sepolia",t.CROSSFI_MAINNET="crossfi-mainnet",t.CROSSFI_TESTNET="crossfi-testnet",t.APECHAIN_MAINNET="apechain-mainnet",t.APECHAIN_CURTIS="apechain-curtis",t.LENS_MAINNET="lens-mainnet",t.LENS_SEPOLIA="lens-sepolia",t.GEIST_MAINNET="geist-mainnet",t.GEIST_POLTER="geist-polter",t.LUMIA_PRISM="lumia-prism",t.LUMIA_TESTNET="lumia-testnet",t.UNICHAIN_MAINNET="unichain-mainnet",t.UNICHAIN_SEPOLIA="unichain-sepolia",t.SONIC_MAINNET="sonic-mainnet",t.SONIC_BLAZE="sonic-blaze",t.XMTP_TESTNET="xmtp-testnet",t.ABSTRACT_MAINNET="abstract-mainnet",t.ABSTRACT_TESTNET="abstract-testnet",t.DEGEN_MAINNET="degen-mainnet",t.INK_MAINNET="ink-mainnet",t.INK_SEPOLIA="ink-sepolia",t.SEI_MAINNET="sei-mainnet",t.SEI_TESTNET="sei-testnet",t.RONIN_MAINNET="ronin-mainnet",t.RONIN_SAIGON="ronin-saigon",t.MONAD_TESTNET="monad-testnet",t.SETTLUS_SEPTESTNET="settlus-septestnet",t.SETTLUS_MAINNET="settlus-mainnet",t.SOLANA_MAINNET="solana-mainnet",t.SOLANA_DEVNET="solana-devnet",t.GENSYN_TESTNET="gensyn-testnet",t.SUPERSEED_MAINNET="superseed-mainnet",t.SUPERSEED_SEPOLIA="superseed-sepolia",t.TEA_SEPOLIA="tea-sepolia",t.ANIME_MAINNET="anime-mainnet",t.ANIME_SEPOLIA="anime-sepolia",t.STORY_MAINNET="story-mainnet",t.STORY_AENEID="story-aeneid",t.MEGAETH_TESTNET="megaeth-testnet"})(Te||(Te={}));var jh;(function(t){t.DEFAULT_TOKENS="DEFAULT_TOKENS",t.ERC20="erc20"})(jh||(jh={}));var fo;(function(t){t.EXTERNAL="external",t.INTERNAL="internal",t.ERC20="erc20",t.ERC721="erc721",t.ERC1155="erc1155",t.SPECIALNFT="specialnft"})(fo||(fo={}));var UA;(function(t){t.TO="TO",t.FROM="FROM"})(UA||(UA={}));var RI;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})(RI||(RI={}));var zA;(function(t){t.VERIFIED="verified",t.APPROVED="approved",t.REQUESTED="requested",t.NOT_REQUESTED="not_requested"})(zA||(zA={}));var Ml;(function(t){t.PENDING_TRANSACTIONS="alchemy_pendingTransactions",t.MINED_TRANSACTIONS="alchemy_minedTransactions"})(Ml||(Ml={}));var PI;(function(t){t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SPECIAL_NFT="SPECIAL_NFT"})(PI||(PI={}));var NI;(function(t){t.APPROVE="APPROVE",t.TRANSFER="TRANSFER"})(NI||(NI={}));var kI;(function(t){t.ETHERSCAN="ETHERSCAN"})(kI||(kI={}));var OI;(function(t){t.CREATE="CREATE",t.CALL="CALL",t.STATICCALL="STATICCALL",t.DELEGATECALL="DELEGATECALL"})(OI||(OI={}));var BI;(function(t){t.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETE="COMPLETE",t.ABANDONED="ABANDONED"})(BI||(BI={}));var FI;(function(t){t.V1="V1",t.V2="V2"})(FI||(FI={}));var ls;(function(t){t.MINED_TRANSACTION="MINED_TRANSACTION",t.DROPPED_TRANSACTION="DROPPED_TRANSACTION",t.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",t.NFT_ACTIVITY="NFT_ACTIVITY",t.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",t.GRAPHQL="GRAPHQL"})(ls||(ls={}));var LI;(function(t){t.PENDING="pending",t.LATEST="latest",t.SAFE="safe",t.FINALIZED="finalized",t.EARLIEST="earliest"})(LI||(LI={}));var DI;(function(t){t.CALL_TRACER="callTracer",t.PRESTATE_TRACER="prestateTracer"})(DI||(DI={}));var Di;(function(t){t.ERC721="ERC721",t.ERC1155="ERC1155",t.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",t.NOT_A_CONTRACT="NOT_A_CONTRACT",t.UNKNOWN="UNKNOWN"})(Di||(Di={}));var Vy;(function(t){t.Erc721TooManyOwners="Erc721TooManyOwners",t.Erc721TooManyTokens="Erc721TooManyTokens",t.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",t.MostlyHoneyPotOwners="MostlyHoneyPotOwners",t.OwnedByMostHoneyPots="OwnedByMostHoneyPots",t.LowDistinctOwnersPercent="LowDistinctOwnersPercent",t.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",t.HighHoneyPotPercent="HighHoneyPotPercent",t.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",t.NoSalesActivity="NoSalesActivity",t.HighAirdropPercent="HighAirdropPercent",t.Unknown="Unknown"})(Vy||(Vy={}));var UI;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(UI||(UI={}));var zI;(function(t){t.TRANSFERTIME="TRANSFERTIME"})(zI||(zI={}));var $s;(function(t){t.SEAPORT="seaport",t.LOOKSRARE="looksrare",t.X2Y2="x2y2",t.WYVERN="wyvern",t.CRYPTOPUNKS="cryptopunks",t.BLUR="blur",t.UNKNOWN="unknown"})($s||($s={}));var $y;(function(t){t.BUYER="buyer",t.SELLER="seller"})($y||($y={}));var Za;(function(t){t.DOES_NOT_EXIST="does_not_exist",t.ALREADY_QUEUED="already_queued",t.IN_PROGRESS="in_progress",t.FINISHED="finished",t.QUEUED="queued",t.QUEUE_FAILED="queue_failed"})(Za||(Za={}));var jA;(function(t){t.OPENSEA="OpenSea"})(jA||(jA={}));var jI;(function(t){t.FIVE_MINUTE="5m",t.ONE_HOUR="1h",t.ONE_DAY="1d"})(jI||(jI={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ne(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function HI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $o(t){return this instanceof $o?(this.v=t,this):new $o(t)}function jC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(p){d(o[0][3],p)}}function l(f){f.value instanceof $o?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function TU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof HI=="function"?HI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}const Qoe="demo",Koe=Te.ETH_MAINNET,Xoe=5,Yoe=0;function Joe(t,e){return`https://${t}.g.alchemy.com/v2/${e}`}function Zoe(t,e){return`https://${t}.g.alchemy.com/nft/v3/${e}`}function _xe(t,e){return`wss://${t}.g.alchemy.com/v2/${e}`}function ese(){return"https://dashboard.alchemy.com/api"}function tse(t){return`https://api.g.alchemy.com/prices/v1/${t}`}function nse(t){return`https://api.g.alchemy.com/data/v1/${t}`}var Ft;(function(t){t[t.BASE=0]="BASE",t[t.NFT=1]="NFT",t[t.WEBHOOK=2]="WEBHOOK",t[t.PRICES=3]="PRICES",t[t.PORTFOLIO=4]="PORTFOLIO"})(Ft||(Ft={}));const Sxe={[Te.ETH_MAINNET]:"mainnet",[Te.ETH_GOERLI]:"goerli",[Te.ETH_SEPOLIA]:"sepolia",[Te.ETH_HOLESKY]:"holesky",[Te.ETH_HOODI]:"hoodi",[Te.OPT_MAINNET]:"opt-mainnet",[Te.OPT_GOERLI]:"optimism-goerli",[Te.OPT_SEPOLIA]:"optimism-sepolia",[Te.ARB_MAINNET]:"arbitrum",[Te.ARB_GOERLI]:"arbitrum-goerli",[Te.ARB_SEPOLIA]:"arbitrum-sepolia",[Te.MATIC_MAINNET]:"matic",[Te.MATIC_MUMBAI]:"maticmum",[Te.MATIC_AMOY]:"maticamoy",[Te.SOLANA_MAINNET]:null,[Te.SOLANA_DEVNET]:null,[Te.ASTAR_MAINNET]:"astar-mainnet",[Te.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[Te.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[Te.POLYGONZKEVM_CARDONA]:"polygonzkevm-cardona",[Te.BASE_MAINNET]:"base-mainnet",[Te.BASE_GOERLI]:"base-goerli",[Te.BASE_SEPOLIA]:"base-sepolia",[Te.ZKSYNC_MAINNET]:"zksync-mainnet",[Te.ZKSYNC_SEPOLIA]:"zksync-sepolia",[Te.SHAPE_MAINNET]:"shape-mainnet",[Te.SHAPE_SEPOLIA]:"shape-sepolia",[Te.LINEA_MAINNET]:"linea-mainnet",[Te.LINEA_SEPOLIA]:"linea-sepolia",[Te.FANTOM_MAINNET]:"fantom-mainnet",[Te.FANTOM_TESTNET]:"fantom-testnet",[Te.ZETACHAIN_MAINNET]:"zetachain-mainnet",[Te.ZETACHAIN_TESTNET]:"zetachain-testnet",[Te.ARBNOVA_MAINNET]:"arbnova-mainnet",[Te.BLAST_MAINNET]:"blast-mainnet",[Te.BLAST_SEPOLIA]:"blast-sepolia",[Te.MANTLE_MAINNET]:"mantle-mainnet",[Te.MANTLE_SEPOLIA]:"mantle-sepolia",[Te.SCROLL_MAINNET]:"scroll-mainnet",[Te.SCROLL_SEPOLIA]:"scroll-sepolia",[Te.GNOSIS_MAINNET]:"gnosis-mainnet",[Te.GNOSIS_CHIADO]:"gnosis-chiado",[Te.BNB_MAINNET]:"bnb-mainnet",[Te.BNB_TESTNET]:"bnb-testnet",[Te.AVAX_MAINNET]:"avax-mainnet",[Te.AVAX_FUJI]:"avax-fuji",[Te.CELO_MAINNET]:"celo-mainnet",[Te.CELO_ALFAJORES]:"celo-alfajores",[Te.CELO_BAKLAVA]:"celo-baklava",[Te.METIS_MAINNET]:"metis-mainnet",[Te.OPBNB_MAINNET]:"opbnb-mainnet",[Te.OPBNB_TESTNET]:"opbnb-testnet",[Te.BERACHAIN_BARTIO]:"berachain-bartio",[Te.BERACHAIN_MAINNET]:"berachain-mainnet",[Te.BERACHAIN_BEPOLIA]:"berachain-bepolia",[Te.SONEIUM_MAINNET]:"soneium-mainnet",[Te.SONEIUM_MINATO]:"soneium-minato",[Te.WORLDCHAIN_MAINNET]:"worldchain-mainnet",[Te.WORLDCHAIN_SEPOLIA]:"worldchain-sepolia",[Te.ROOTSTOCK_MAINNET]:"rootstock-mainnet",[Te.ROOTSTOCK_TESTNET]:"rootstock-testnet",[Te.FLOW_MAINNET]:"flow-mainnet",[Te.FLOW_TESTNET]:"flow-testnet",[Te.ZORA_MAINNET]:"zora-mainnet",[Te.ZORA_SEPOLIA]:"zora-sepolia",[Te.FRAX_MAINNET]:"frax-mainnet",[Te.FRAX_SEPOLIA]:"frax-sepolia",[Te.POLYNOMIAL_MAINNET]:"polynomial-mainnet",[Te.POLYNOMIAL_SEPOLIA]:"polynomial-sepolia",[Te.CROSSFI_MAINNET]:"crossfi-mainnet",[Te.CROSSFI_TESTNET]:"crossfi-testnet",[Te.APECHAIN_MAINNET]:"apechain-mainnet",[Te.APECHAIN_CURTIS]:"apechain-curtis",[Te.LENS_MAINNET]:"lens-mainnet",[Te.LENS_SEPOLIA]:"lens-sepolia",[Te.GEIST_MAINNET]:"geist-mainnet",[Te.GEIST_POLTER]:"geist-polter",[Te.LUMIA_PRISM]:"lumia-prism",[Te.LUMIA_TESTNET]:"lumia-testnet",[Te.UNICHAIN_MAINNET]:"unichain-mainnet",[Te.UNICHAIN_SEPOLIA]:"unichain-sepolia",[Te.SONIC_MAINNET]:"sonic-mainnet",[Te.SONIC_BLAZE]:"sonic-blaze",[Te.XMTP_TESTNET]:"xmtp-testnet",[Te.ABSTRACT_MAINNET]:"abstract-mainnet",[Te.ABSTRACT_TESTNET]:"abstract-testnet",[Te.DEGEN_MAINNET]:"degen-mainnet",[Te.INK_MAINNET]:"ink-mainnet",[Te.INK_SEPOLIA]:"ink-sepolia",[Te.SEI_MAINNET]:"sei-mainnet",[Te.SEI_TESTNET]:"sei-testnet",[Te.RONIN_MAINNET]:"ronin-mainnet",[Te.RONIN_SAIGON]:"ronin-saigon",[Te.MONAD_TESTNET]:"monad-testnet",[Te.SETTLUS_MAINNET]:"settlus-mainnet",[Te.SETTLUS_SEPTESTNET]:"settlus-septestnet",[Te.GENSYN_TESTNET]:"gensyn-testnet",[Te.SUPERSEED_MAINNET]:"superseed-mainnet",[Te.SUPERSEED_SEPOLIA]:"superseed-sepolia",[Te.TEA_SEPOLIA]:"tea-sepolia",[Te.ANIME_MAINNET]:"anime-mainnet",[Te.ANIME_SEPOLIA]:"anime-sepolia",[Te.STORY_MAINNET]:"story-mainnet",[Te.STORY_AENEID]:"story-aeneid",[Te.MEGAETH_TESTNET]:"megaeth-testnet"},Cxe={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},holesky:{chainId:17e3,name:"holesky"},hoodi:{chainId:560048,name:"hoodi"},"opt-mainnet":{chainId:10,name:"opt-mainnet"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"polygonzkevm-cardona":{chainId:2442,name:"polygonzkevm-cardona"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"},"shape-mainnet":{chainId:360,name:"shape-mainnet"},"shape-sepolia":{chainId:11011,name:"shape-sepolia"},"linea-mainnet":{chainId:59144,name:"linea-mainnet"},"linea-sepolia":{chainId:59141,name:"linea-sepolia"},"fantom-mainnet":{chainId:250,name:"fantom-mainnet"},"fantom-testnet":{chainId:4002,name:"fantom-testnet"},"zetachain-mainnet":{chainId:7e3,name:"zetachain-mainnet"},"zetachain-testnet":{chainId:7001,name:"zetachain-testnet"},"arbnova-mainnet":{chainId:42170,name:"arbnova-mainnet"},"blast-mainnet":{chainId:81457,name:"blast-mainnet"},"blast-sepolia":{chainId:168587773,name:"blast-sepolia"},"mantle-mainnet":{chainId:5e3,name:"mantle-mainnet"},"mantle-sepolia":{chainId:5003,name:"mantle-sepolia"},"scroll-mainnet":{chainId:534352,name:"scroll-mainnet"},"scroll-sepolia":{chainId:534351,name:"scroll-sepolia"},"gnosis-mainnet":{chainId:100,name:"gnosis-mainnet"},"gnosis-chiado":{chainId:10200,name:"gnosis-chiado"},"bnb-mainnet":{chainId:56,name:"bnb-mainnet"},"bnb-testnet":{chainId:97,name:"bnb-testnet"},"avax-mainnet":{chainId:43114,name:"avax-mainnet"},"avax-fuji":{chainId:43113,name:"avax-fuji"},"celo-mainnet":{chainId:42220,name:"celo-mainnet"},"celo-alfajores":{chainId:44787,name:"celo-alfajores"},"celo-baklava":{chainId:62320,name:"celo-baklava"},"metis-mainnet":{chainId:1088,name:"metis-mainnet"},"opbnb-mainnet":{chainId:204,name:"opbnb-mainnet"},"opbnb-testnet":{chainId:5611,name:"opbnb-testnet"},"berachain-bartio":{chainId:80084,name:"berachain-bartio"},"berachain-mainnet":{chainId:80094,name:"berachain-mainnet"},"berachain-bepolia":{chainId:80069,name:"berachain-bepolia"},"soneium-mainnet":{chainId:1868,name:"soneium-mainnet"},"soneium-minato":{chainId:1946,name:"soneium-minato"},"worldchain-mainnet":{chainId:480,name:"worldchain-mainnet"},"worldchain-sepolia":{chainId:4801,name:"worldchain-sepolia"},"rootstock-mainnet":{chainId:30,name:"rootstock-mainnet"},"rootstock-testnet":{chainId:31,name:"rootstock-testnet"},"flow-mainnet":{chainId:747,name:"flow-mainnet"},"flow-testnet":{chainId:545,name:"flow-testnet"},"zora-mainnet":{chainId:7777777,name:"zora-mainnet"},"zora-sepolia":{chainId:999999999,name:"zora-sepolia"},"frax-mainnet":{chainId:252,name:"frax-mainnet"},"frax-sepolia":{chainId:2522,name:"frax-sepolia"},"polynomial-mainnet":{chainId:8008,name:"polynomial-mainnet"},"polynomial-sepolia":{chainId:8009,name:"polynomial-sepolia"},"crossfi-mainnet":{chainId:4158,name:"crossfi-mainnet"},"crossfi-testnet":{chainId:4157,name:"crossfi-testnet"},"apechain-mainnet":{chainId:33139,name:"apechain-mainnet"},"apechain-curtis":{chainId:33111,name:"apechain-curtis"},"lens-mainnet":{chainId:232,name:"lens-mainnet"},"lens-sepolia":{chainId:37111,name:"lens-sepolia"},"geist-mainnet":{chainId:63157,name:"geist-mainnet"},"geist-polter":{chainId:631571,name:"geist-polter"},"lumia-prism":{chainId:994873017,name:"lumia-prism"},"lumia-testnet":{chainId:1952959480,name:"lumia-testnet"},"unichain-mainnet":{chainId:130,name:"unichain-mainnet"},"unichain-sepolia":{chainId:1301,name:"unichain-sepolia"},"sonic-mainnet":{chainId:146,name:"sonic-mainnet"},"sonic-blaze":{chainId:57054,name:"sonic-blaze"},"xmtp-testnet":{chainId:241320161,name:"xmtp-testnet"},"abstract-mainnet":{chainId:2741,name:"abstract-mainnet"},"abstract-testnet":{chainId:11124,name:"abstract-testnet"},"degen-mainnet":{chainId:666666666,name:"degen-mainnet"},"ink-mainnet":{chainId:57073,name:"ink-mainnet"},"ink-sepolia":{chainId:763373,name:"ink-sepolia"},"sei-mainnet":{chainId:1329,name:"sei-mainnet"},"sei-testnet":{chainId:1328,name:"sei-testnet"},"ronin-mainnet":{chainId:2020,name:"ronin-mainnet"},"ronin-saigon":{chainId:2021,name:"ronin-saigon"},"monad-testnet":{chainId:10143,name:"monad-testnet"},"settlus-mainnet":{chainId:5371,name:"settlus-mainnet"},"settlus-septestnet":{chainId:5373,name:"settlus-septestnet"},"gensyn-testnet":{chainId:685685,name:"gensyn-testnet"},"superseed-mainnet":{chainId:5330,name:"superseed-mainnet"},"superseed-sepolia":{chainId:53302,name:"superseed-sepolia"},"tea-sepolia":{chainId:10218,name:"tea-sepolia"},"anime-mainnet":{chainId:69e3,name:"anime-mainnet"},"anime-sepolia":{chainId:6900,name:"anime-sepolia"},"story-mainnet":{chainId:1514,name:"story-mainnet"},"story-aeneid":{chainId:1315,name:"story-aeneid"},"megaeth-testnet":{chainId:6342,name:"megaeth-testnet"}};function Txe(){}const MU="0x",rse="0x0000000000000000000000000000000000000000";class ise{constructor(e){this.apiKey=e?.apiKey||Qoe,this.network=e?.network||Koe,this.maxRetries=e?.maxRetries||Xoe,this.url=e?.url,this.authToken=e?.authToken,this.batchRequests=e?.batchRequests||!1,this.requestTimeout=e?.requestTimeout||Yoe,this.connectionInfoOverrides=e?.connectionInfoOverrides}_getRequestUrl(e){return this.url!==void 0?this.url:e===Ft.NFT?Zoe(this.network,this.apiKey):e===Ft.WEBHOOK?ese():e===Ft.PRICES?tse(this.apiKey):e===Ft.PORTFOLIO?nse(this.apiKey):Joe(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=Ne(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield je(()=>import("./alchemy-provider-0066b792-BalXAdUC.js").then(n=>n.a),__vite__mapDeps([8,3]));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=Ne(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield je(()=>import("./alchemy-websocket-provider-98da5bb0-4_aekB2T.js"),__vite__mapDeps([9,8,3]));return new e(this)})),this._baseAlchemyWssProvider}}const ose="logger/5.7.0";let GI=!1,WI=!1;const Ug={debug:1,default:2,info:2,warning:3,error:4,off:5};let VI=Ug.default,M1=null;function sse(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const $I=sse();var HA;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(HA||(HA={}));var Po;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Po||(Po={}));const qI="0123456789abcdef";class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Ug[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(VI>Ug[r])&&console.log.apply(console,n)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,n,r){if(WI)return this.makeError("censored error",n,{});n||(n=In.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=qI[c[d]>>4],u+=qI[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Po.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Po.CALL_EXCEPTION:case Po.INSUFFICIENT_FUNDS:case Po.MISSING_NEW:case Po.NONCE_EXPIRED:case Po.REPLACEMENT_UNDERPRICED:case Po.TRANSACTION_REPLACED:case Po.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){$I&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:$I})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return M1||(M1=new In(ose)),M1}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),GI){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}WI=!!e,GI=!!n}static setLogLevel(e){const n=Ug[e.toLowerCase()];if(n==null){In.globalLogger().warn("invalid log level - "+e);return}VI=n}static from(e){return new In(e)}}In.errors=Po;In.levels=HA;const ase="properties/5.7.0";var lse=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})};const IU=new In(ase);function cse(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function RU(t){return lse(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(o=>({key:r,value:o}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}const use={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function PU(t){if(t==null||use[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!PU(r))return!1}return!0}return IU.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function dse(t){if(PU(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>QI(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&cse(e,n,QI(r))}return e}return IU.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function QI(t){return dse(t)}function fse(t){return Gt.from(t).toNumber()}function kw(t){return Gt.from(t).toHexString()}function KI(t){return typeof t=="string"?t:Number.isInteger(t)?kw(t):t.toString()}function NU(t,e){return Object.values(e).includes(t)?t:null}function hse(t){return on(Object.assign(Object.assign({},Tm(t)),{spamClassifications:t.spamClassifications.map(bse)}))}function pse(t){return on(Object.assign(Object.assign({},Tm(t)),{displayNft:t.displayNft,image:t.image,totalBalance:t.totalBalance,numDistinctTokensOwned:t.numDistinctTokensOwned,isSpam:t.isSpam}))}function Tm(t){var e;return on(Object.assign(Object.assign({},t),{tokenType:kU(t.tokenType),openSeaMetadata:Object.assign(Object.assign({},t.openSeaMetadata),{safelistRequestStatus:!((e=t.openSeaMetadata)===null||e===void 0)&&e.safelistRequestStatus?NU(t.openSeaMetadata.safelistRequestStatus,zA):null})}))}function mse(t){return on(Object.assign(Object.assign({},t),{floorPrice:Object.assign(Object.assign({},t.floorPrice),{marketplace:vse(t.floorPrice.marketplace)})}))}function Ow(t,e){return{contractAddress:e||t.contractAddress,tokenId:t.tokenId}}function pu(t){return on(Object.assign(Object.assign({},t),{contract:hse(t.contract),tokenType:kU(t.tokenType),acquiredAt:t.acquiredAt,collection:t.collection,mint:t.mint}))}function gse(t){return on({nftSales:t.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:yse(e.marketplace),taker:wse(e.taker)})),validAt:t.validAt,pageKey:t.pageKey})}function yse(t){switch(t){case"looksrare":return $s.LOOKSRARE;case"seaport":return $s.SEAPORT;case"x2y2":return $s.X2Y2;case"wyvern":return $s.WYVERN;case"cryptopunks":return $s.CRYPTOPUNKS;case"blur":return $s.BLUR;default:return $s.UNKNOWN}}function vse(t){switch(t){case"OpenSea":return jA.OPENSEA;default:return}}function wse(t){switch(t.toLowerCase()){case"buyer":return $y.BUYER;case"seller":return $y.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${t}`)}}function bse(t){const e=NU(t,Vy);return e??Vy.Unknown}function kU(t){switch(t){case"erc721":case"ERC721":return Di.ERC721;case"erc1155":case"ERC1155":return Di.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return Di.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return Di.NOT_A_CONTRACT;default:return Di.UNKNOWN}}const xse=typeof window<"u"&&window!==null;function on(t){if(t!=null){if(t.constructor.name==="Object"||Array.isArray(t))for(const e in t)t[e]=on(t[e]);return t}}function Bw(t,e,n="getAssetTransfers"){return Ne(this,void 0,void 0,function*(){const r=yield t.getProvider();return e.fromAddress&&(e.fromAddress=yield r._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield r._getAddress(e.toAddress)),r._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?KI(e.fromBlock):void 0,toBlock:e.toBlock!=null?KI(e.toBlock):void 0,maxCount:e.maxCount!=null?kw(e.maxCount):void 0})],n)})}function XI(t,e,n="getTransactionReceipts"){return Ne(this,void 0,void 0,function*(){return(yield t.getProvider())._send("alchemy_getTransactionReceipts",[e],n)})}function Ese(t,e){return Ne(this,void 0,void 0,function*(){const n=yield t.getProvider();yield n.getNetwork();const r=yield RU({filter:Ase(t,e)}),i=yield n.send("eth_getLogs",[r.filter]);return i.forEach(o=>{o.removed==null&&(o.removed=!1)}),_se(n.formatter.filterLog.bind(n.formatter))(i)})}function Ase(t,e){return Ne(this,void 0,void 0,function*(){const n=yield t.getProvider(),r=yield e;let i={};return["blockHash","topics"].forEach(o=>{r[o]!=null&&(i[o]=r[o])}),["fromBlock","toBlock"].forEach(o=>{r[o]!=null&&(i[o]=n._getBlockTag(r[o]))}),i=n.formatter.filter(yield RU(i)),Array.isArray(r.address)?i.address=yield Promise.all(r.address.map(o=>Ne(this,void 0,void 0,function*(){return n._getAddress(o)}))):r.address!=null&&(i.address=yield n._getAddress(r.address)),i})}function _se(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(r=>{n.push(t(r))}),n}}class Sse{constructor(e){this.config=e}getBalance(e,n){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,n)})}isContractAddress(e){return Ne(this,void 0,void 0,function*(){return(yield(yield this.config.getProvider()).getCode(e))!=="0x"})}getCode(e,n){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,n)})}getStorageAt(e,n,r){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,n,r)})}getTransactionCount(e,n){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,n)})}getBlock(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,n){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,n)})}estimateGas(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,n,r){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}getLogs(e){return Ne(this,void 0,void 0,function*(){return Ese(this.config,e)})}send(e,n){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,n)})}findContractDeployer(e){var n;return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r.getBlockNumber();if((yield r.getCode(e,i))===MU)throw new Error(`Contract '${e}' does not exist`);const o=yield GA(0,i+1,e,this.config),a=(n=(yield XI(this.config,{blockNumber:kw(o)},"findContractDeployer")).receipts)===null||n===void 0?void 0:n.find(l=>l.contractAddress===e.toLowerCase());return{deployerAddress:a?.from,blockNumber:o}})}getTokenBalances(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r._getAddress(e);if(Array.isArray(n)){if(n.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(n.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[i,n],"getTokenBalances")}else{const o=n===void 0?jh.ERC20:n.type,s=[i,o];return n?.type===jh.ERC20&&n.pageKey&&s.push({pageKey:n.pageKey}),r._send("alchemy_getTokenBalances",s,"getTokenBalances")}})}getTokensForOwner(e,n){var r;return Ne(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[yield i._getAddress(e),(r=n?.contractAddresses)!==null&&r!==void 0?r:jh.ERC20];n?.pageKey&&s.push({pageKey:n.pageKey});const a=yield i._send("alchemy_getTokenBalances",s,"getTokensForOwner"),l=a.tokenBalances.map(f=>({contractAddress:f.contractAddress,rawBalance:Gt.from(f.tokenBalance).toString()})),u=(yield Promise.allSettled(a.tokenBalances.map(f=>i._send("alchemy_getTokenMetadata",[f.contractAddress],"getTokensForOwner")))).map(f=>f.status==="fulfilled"?f.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:l.map((f,h)=>Object.assign(Object.assign(Object.assign({},f),u[h]),{balance:u[h].decimals!==null?yie(f.rawBalance,u[h].decimals):void 0})).map(f=>on(f)),pageKey:a.pageKey}})}getTokenMetadata(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return Ne(this,void 0,void 0,function*(){return Bw(this.config,e)})}getTransactionReceipts(e){return Ne(this,void 0,void 0,function*(){return XI(this.config,e)})}resolveName(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function GA(t,e,n,r){return Ne(this,void 0,void 0,function*(){if(t>=e)return e;const i=Math.floor((t+e)/2);return(yield(yield r.getProvider()).getCode(n,i))===MU?GA(i+1,e,n,r):GA(t,i,n,r)})}class Cse{constructor(e){this.config=e}traceCall(e,n,r){return Ne(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,n,b0(r)];return i._send("debug_traceCall",o,"traceCall")})}traceTransaction(e,n,r){return Ne(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,b0(n,r)];return i._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider();let i,o;return Ei(e,32)?(i="debug_traceBlockByHash",o=[e,b0(n)]):(i="debug_traceBlockByNumber",o=[typeof e=="number"?YD(die(e)):e,b0(n)]),r._send(i,o,"traceBlock")})}}function b0(t,e){return Object.assign({tracer:t.type},t.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:t.onlyTopCall,timeout:e}})}function Tse(t){if(t===Di.ERC1155||t===Di.ERC721)return t}var _r;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.SILENT=4]="SILENT"})(_r||(_r={}));_r.DEBUG,_r.INFO,_r.WARN,_r.ERROR,_r.SILENT;const Mse={[_r.DEBUG]:"log",[_r.INFO]:"info",[_r.WARN]:"warn",[_r.ERROR]:"error"},Ise=_r.INFO;function OU(t,...e){HC.debug(t,e)}function YI(t,...e){HC.info(t,e)}function Mxe(t,...e){HC.warn(t,e)}class Rse{constructor(){this._logLevel=Ise}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _r))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(_r.DEBUG,...e)}info(...e){this._log(_r.INFO,...e)}warn(...e){this._log(_r.WARN,...e)}error(...e){this._log(_r.ERROR,...e)}_log(e,...n){if(e<this._logLevel)return;const r=new Date().toISOString(),i=Mse[e];if(i)console[i](`[${r}] Alchemy:`,...n.map(Pse));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function Pse(t){if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return t}}const HC=new Rse,Nse="3.6.0";function kse(t,e,n,r,i){var o;const s=t+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i?.headers),!xse&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":Nse,"Alchemy-Ethers-Sdk-Method":n}),method:(o=i?.method)!==null&&o!==void 0?o:"GET",url:s,params:r});return Un(a)}const Ose=1e3,Bse=1.5,Fse=30*1e3,Lse=5;class Dse{constructor(e=Lse){this.maxAttempts=e,this.initialDelayMs=Ose,this.backoffMultiplier=Bse,this.maxDelayMs=Fse,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&OU("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(n=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,n()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function Zt(t,e,n,r,i,o){return Ne(this,void 0,void 0,function*(){let s;const a=new Dse(t.maxRetries);for(let l=0;l<t.maxRetries+1;l++)try{s!==void 0&&YI("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch{break}const c=yield kse(t._getRequestUrl(e),n,r,i,Object.assign(Object.assign({},o),{timeout:t.requestTimeout}));if(c.status===200)return OU(n,`Successful request: ${n}`),c.data;YI(n,`Request failed: ${n}, ${c.status}, ${c.data}`),s=new Error(c.status+": "+c.data)}catch(c){if(!Un.isAxiosError(c)||c.response===void 0)throw c;if(s=new Error(c.response.status+": "+JSON.stringify(c.response.data)),!Use(c,e))break}return Promise.reject(s)})}function Use(t,e){const n=e===Ft.WEBHOOK?[429,500]:[429];return t.response!==void 0&&n.includes(t.response.status)}function BU(t,e,n,r,i,o,s){return jC(this,arguments,function*(){let l=!0;const c=Object.assign({},s);for(;l;){const u=yield $o(Zt(t,e,n,r,c));yield yield $o(u),u[o]!==null?c[i]=u[o]:l=!1}})}function FU(t,e,n,r,i="getNftMetadata"){return Ne(this,void 0,void 0,function*(){const o=yield Zt(t,Ft.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:Gt.from(n).toString(),tokenType:Tse(r?.tokenType),tokenUriTimeoutInMs:r?.tokenUriTimeoutInMs,refreshCache:r?.refreshCache});return pu(o)})}function LU(t,e,n){return Ne(this,void 0,void 0,function*(){const r={tokens:e,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,refreshCache:n?.refreshCache};return{nfts:(yield Zt(t,Ft.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:r})).nfts.map(o=>pu(o))}})}function zse(t,e,n="getContractMetadata"){return Ne(this,void 0,void 0,function*(){const r=yield Zt(t,Ft.NFT,"getContractMetadata",n,{contractAddress:e});return Tm(r)})}function jse(t,e){return Ne(this,void 0,void 0,function*(){return{contracts:(yield Zt(t,Ft.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).contracts.map(Tm)}})}function Hse(t,e,n="getCollectionMetadata"){return Ne(this,void 0,void 0,function*(){const r=yield Zt(t,Ft.NFT,"getCollectionMetadata",n,{collectionSlug:e});return mse(r)})}function Gse(t,e,n,r="getNftsForOwnerIterator"){return jC(this,arguments,function*(){var o,s;const a=Fw(n?.omitMetadata);try{for(var l=TU(BU(t,Ft.NFT,"getNFTsForOwner",r,"pageKey","pageKey",{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,withMetadata:a,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy})),c;c=yield $o(l.next()),!c.done;){const u=c.value;for(const d of u.ownedNfts)yield yield $o(Object.assign(Object.assign({},fae(d)),{balance:d.balance}))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield $o(s.call(l)))}finally{if(o)throw o.error}}})}function WA(t,e,n,r="getNftsForOwner"){return Ne(this,void 0,void 0,function*(){const i=Fw(n?.omitMetadata),o=yield Zt(t,Ft.NFT,"getNFTsForOwner",r,{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,pageSize:n?.pageSize,withMetadata:i,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy});return on(i?{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},pu(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}:{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},Ow(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function Wse(t,e,n,r="getNftsForContract"){var i;return Ne(this,void 0,void 0,function*(){const o=Fw(n?.omitMetadata),s=yield Zt(t,Ft.NFT,"getNFTsForContract",r,{contractAddress:e,pageKey:n?.pageKey,withMetadata:o,limit:(i=n?.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs});return on(o?{nfts:s.nfts.map(a=>pu(a)),pageKey:s.pageKey}:{nfts:s.nfts.map(a=>Ow(a,e)),pageKey:s.pageKey})})}function Vse(t,e,n,r="getNftsForContractIterator"){return jC(this,arguments,function*(){var o,s;const a=Fw(n?.omitMetadata);try{for(var l=TU(BU(t,Ft.NFT,"getNFTsForContract",r,"pageKey","pageKey",{contractAddress:e,pageKey:n?.pageKey,withMetadata:a})),c;c=yield $o(l.next()),!c.done;){const u=c.value;for(const d of u.nfts)yield yield $o(hae(d,e))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield $o(s.call(l)))}finally{if(o)throw o.error}}})}function $se(t,e,n,r="getOwnersForContract"){return Ne(this,void 0,void 0,function*(){const i=yield Zt(t,Ft.NFT,"getOwnersForContract",r,Object.assign(Object.assign({},n),{contractAddress:e}));return n?.withTokenBalances?on({owners:i.owners,pageKey:i.pageKey}):on({owners:i.owners,pageKey:i.pageKey})})}function qse(t,e,n,r="getContractsForOwner"){return Ne(this,void 0,void 0,function*(){const i=yield Zt(t,Ft.NFT,"getContractsForOwner",r,{owner:e,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,pageKey:n?.pageKey,pageSize:n?.pageSize,orderBy:n?.orderBy});return on({contracts:i.contracts.map(pse),pageKey:i.pageKey,totalCount:i.totalCount})})}function Qse(t,e,n,r,i="getOwnersForNft"){return Ne(this,void 0,void 0,function*(){return Zt(t,Ft.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:e,tokenId:Gt.from(n).toString()},r))})}function Kse(t,e,n){return Ne(this,void 0,void 0,function*(){const i=yield(yield t.getProvider())._getAddress(e),o=DU(n?.tokenType),s={fromBlock:"0x0",fromAddress:rse,toAddress:i,excludeZeroValue:!0,contractAddresses:n?.contractAddresses,category:o,maxCount:100,pageKey:n?.pageKey},a=yield Bw(t,s,"getMintedNfts");return GC(t,a)})}function Xse(t,e,n,r){return Ne(this,void 0,void 0,function*(){const o=yield(yield t.getProvider())._getAddress(e),s=DU(r?.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:r?.contractAddresses,category:s,maxCount:100,pageKey:r?.pageKey};n===UA.TO?a.toAddress=o:a.fromAddress=o;const l=yield Bw(t,a,"getTransfersForOwner");return GC(t,l)})}function Yse(t,e,n){return Ne(this,void 0,void 0,function*(){const r=[fo.ERC721,fo.ERC1155,fo.SPECIALNFT],i=yield t.getProvider(),o=n?.fromBlock?i.formatter.blockTag(yield i._getBlockTag(n.fromBlock)):"0x0",s=n?.toBlock?i.formatter.blockTag(yield i._getBlockTag(n.toBlock)):void 0,a={fromBlock:o,toBlock:s,excludeZeroValue:!0,contractAddresses:[e],order:n?.order,category:r,maxCount:100,pageKey:n?.pageKey},l=yield Bw(t,a,"getTransfersForContract");return GC(t,l)})}function DU(t){switch(t){case Di.ERC721:return[fo.ERC721];case Di.ERC1155:return[fo.ERC1155];default:return[fo.ERC721,fo.ERC1155,fo.SPECIALNFT]}}function Jse(t){return t.erc1155Metadata.map(e=>({contractAddress:t.rawContract.address,tokenId:e.tokenId,tokenType:Di.ERC1155}))}function Zse(t,e,n,r="verifyNftOwnership"){return Ne(this,void 0,void 0,function*(){if(typeof n=="string")return(yield WA(t,e,{contractAddresses:[n],omitMetadata:!0},r)).ownedNfts.length>0;{if(n.length===0)throw new Error("Must provide at least one contract address");const i=yield WA(t,e,{contractAddresses:n,omitMetadata:!0},r),o=n.reduce((s,a)=>(s[a]=!1,s),{});for(const s of i.ownedNfts)o[s.contractAddress]=!0;return o}})}function eae(t,e,n="isSpamContract"){return Ne(this,void 0,void 0,function*(){return Zt(t,Ft.NFT,"isSpamContract",n,{contractAddress:e})})}function tae(t,e="getSpamContracts"){return Ne(this,void 0,void 0,function*(){return Zt(t,Ft.NFT,"getSpamContracts",e,void 0)})}function nae(t,e,n="reportSpam"){return Ne(this,void 0,void 0,function*(){Zt(t,Ft.NFT,"reportSpam",n,{contractAddress:e})})}function rae(t,e,n,r="isAirdropNft"){return Ne(this,void 0,void 0,function*(){return Zt(t,Ft.NFT,"isAirdropNFT",r,{contractAddress:e,tokenId:n})})}function iae(t,e,n="getFloorPrice"){return Ne(this,void 0,void 0,function*(){const r=yield Zt(t,Ft.NFT,"getFloorPrice",n,{contractAddress:e});return on(r)})}function oae(t,e={},n="getNftSales"){return Ne(this,void 0,void 0,function*(){const r=Object.assign({},e),i=yield Zt(t,Ft.NFT,"getNFTSales",n,{fromBlock:r?.fromBlock,toBlock:r?.toBlock,order:r?.order,marketplace:r?.marketplace,contractAddress:r?.contractAddress,tokenId:r?.tokenId?Gt.from(r?.tokenId).toString():void 0,sellerAddress:r?.sellerAddress,buyerAddress:r?.buyerAddress,taker:r?.taker,limit:r?.limit,pageKey:r?.pageKey});return gse(i)})}function sae(t,e,n,r="computeRarity"){return Ne(this,void 0,void 0,function*(){const i=yield Zt(t,Ft.NFT,"computeRarity",r,{contractAddress:e,tokenId:Gt.from(n).toString()});return on(i)})}function aae(t,e,n="searchContractMetadata"){return Ne(this,void 0,void 0,function*(){return{contracts:(yield Zt(t,Ft.NFT,"searchContractMetadata",n,{query:e})).contracts.map(Tm)}})}function lae(t,e,n="summarizeNftAttributes"){return Ne(this,void 0,void 0,function*(){return Zt(t,Ft.NFT,"summarizeNFTAttributes",n,{contractAddress:e})})}function cae(t,e,n,r="refreshNftMetadata"){return Ne(this,void 0,void 0,function*(){const i=Gt.from(n).toString(),o=yield FU(t,e,i,void 0,r),s=yield dae(t,e,i,r);return o.timeLastUpdated!==s.timeLastUpdated})}function uae(t,e,n="refreshContract"){return Ne(this,void 0,void 0,function*(){const r=yield Zt(t,Ft.NFT,"reingestContract",n,{contractAddress:e});return{contractAddress:r.contractAddress,refreshState:mae(r.reingestionState),progress:r.progress}})}function dae(t,e,n,r){return Ne(this,void 0,void 0,function*(){const i=yield Zt(t,Ft.NFT,"getNFTMetadata",r,{contractAddress:e,tokenId:Gt.from(n).toString(),refreshCache:!0});return pu(i)})}function fae(t){return UU(t)?pu(t):Ow(t)}function hae(t,e){return UU(t)?pu(t):Ow(t,e)}function UU(t){return t.name!==void 0}function GC(t,e){return Ne(this,void 0,void 0,function*(){const n=e.transfers.filter(c=>c.rawContract.address!==null).flatMap(c=>{var u;const d=pae(c),f={from:c.from,to:(u=c.to)!==null&&u!==void 0?u:void 0,transactionHash:c.hash,blockNumber:c.blockNum};return d.map(h=>({metadata:f,token:h}))});if(n.length===0)return{nfts:[]};const r=100,i=[];for(let c=0;c<n.length;c+=r)i.push(n.slice(c,c+r));const s=(yield Promise.all(i.map(c=>LU(t,c.map(u=>u.token))))).map(c=>c.nfts).flat(),a=new Map;return s.forEach(c=>{const u=`${c.contract.address.toLowerCase()}-${Gt.from(c.tokenId).toString()}`;a.set(u,c)}),{nfts:n.map(c=>{const u=`${c.token.contractAddress.toLowerCase()}-${Gt.from(c.token.tokenId).toString()}`;return Object.assign(Object.assign({},a.get(u)),c.metadata)}),pageKey:e.pageKey}})}function pae(t){return t.category===fo.ERC1155?Jse(t):[{contractAddress:t.rawContract.address,tokenId:t.tokenId,tokenType:t.category===fo.ERC721?Di.ERC721:void 0}]}function Fw(t){return t===void 0?!0:!t}function mae(t){switch(t){case"does_not_exist":return Za.DOES_NOT_EXIST;case"already_queued":return Za.ALREADY_QUEUED;case"in_progress":return Za.IN_PROGRESS;case"finished":return Za.FINISHED;case"queued":return Za.QUEUED;case"queue_failed":return Za.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+t)}}class gae{constructor(e){this.config=e}getNftMetadata(e,n,r,i){let o;return typeof r=="object"?o={tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:o={tokenType:r,tokenUriTimeoutInMs:i},FU(this.config,e,n,o)}getNftMetadataBatch(e,n){return LU(this.config,e,n)}getContractMetadata(e){return zse(this.config,e)}getContractMetadataBatch(e){return jse(this.config,e)}getCollectionMetadata(e){return Hse(this.config,e)}getNftsForOwnerIterator(e,n){return Gse(this.config,e,n)}getNftsForOwner(e,n){return WA(this.config,e,n)}getNftsForContract(e,n){return Wse(this.config,e,n)}getNftsForContractIterator(e,n){return Vse(this.config,e,n)}getOwnersForContract(e,n){return $se(this.config,e,n)}getOwnersForNft(e,n,r){return Qse(this.config,e,n,r)}getContractsForOwner(e,n){return qse(this.config,e,n)}getTransfersForOwner(e,n,r){return Xse(this.config,e,n,r)}getTransfersForContract(e,n){return Yse(this.config,e,n)}getMintedNfts(e,n){return Ne(this,void 0,void 0,function*(){return Kse(this.config,e,n)})}verifyNftOwnership(e,n){return Zse(this.config,e,n)}isSpamContract(e){return eae(this.config,e)}getSpamContracts(){return tae(this.config)}reportSpam(e){return nae(this.config,e)}isAirdropNft(e,n){return rae(this.config,e,n)}getFloorPrice(e){return iae(this.config,e)}getNftSales(e){return oae(this.config,e)}computeRarity(e,n){return sae(this.config,e,n)}searchContractMetadata(e){return aae(this.config,e)}summarizeNftAttributes(e){return lae(this.config,e)}refreshNftMetadata(e,n){return cae(this.config,e,n)}refreshContract(e){return uae(this.config,e)}}class yae{constructor(e){this.config=e}getAllWebhooks(){return Ne(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:vae(e),totalCount:e.data.length}})}getAddresses(e,n){return Ne(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return wae(i)})}getGraphqlQuery(e){return Ne(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:n});return bae(r)})}getNftFilters(e,n){return Ne(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return xae(i)})}updateWebhook(e,n){return Ne(this,void 0,void 0,function*(){const r=typeof e=="string"?e:e.id;let i,o,s,a;if("isActive"in n)i="update-webhook",o="updateWebhook",s="PUT",a={webhook_id:r,is_active:n.isActive};else if("addFilters"in n||"removeFilters"in n)i="update-webhook-nft-filters",o="updateWebhookNftFilters",s="PATCH",a={webhook_id:r,nft_filters_to_add:n.addFilters?n.addFilters.map(E0):[],nft_filters_to_remove:n.removeFilters?n.removeFilters.map(E0):[]};else if("addMetadataFilters"in n||"removeMetadataFilters"in n)i="update-webhook-nft-metadata-filters",o="updateWebhookNftMetadataFilters",s="PATCH",a={webhook_id:r,nft_metadata_filters_to_add:n.addMetadataFilters?n.addMetadataFilters.map(E0):[],nft_metadata_filters_to_remove:n.removeMetadataFilters?n.removeMetadataFilters.map(E0):[]};else if("addAddresses"in n||"removeAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddresses",s="PATCH",a={webhook_id:r,addresses_to_add:yield this.resolveAddresses(n.addAddresses),addresses_to_remove:yield this.resolveAddresses(n.removeAddresses)};else if("newAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddress",s="PUT",a={webhook_id:r,addresses:yield this.resolveAddresses(n.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,o,{},{method:s,data:a})})}createWebhook(e,n,r){return Ne(this,void 0,void 0,function*(){let i;if(n===ls.MINED_TRANSACTION||n===ls.DROPPED_TRANSACTION||n===ls.GRAPHQL){if(!("appId"in r))throw new Error("Transaction and GraphQL Webhooks require an app id.");i=r.appId}let o=x0.get(this.config.network),s,a,l,c;if(n===ls.NFT_ACTIVITY||n===ls.NFT_METADATA_UPDATE){if(!("filters"in r)||r.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");o=r.network?x0.get(r.network):o;const f=r.filters.map(h=>h.tokenId?{contract_address:h.contractAddress,token_id:Gt.from(h.tokenId).toString()}:{contract_address:h.contractAddress});s=n===ls.NFT_ACTIVITY?{nft_filters:f}:{nft_metadata_filters:f}}else if(n===ls.ADDRESS_ACTIVITY){if(r===void 0||!("addresses"in r)||r.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");o=r.network?x0.get(r.network):o,a=yield this.resolveAddresses(r.addresses)}else if(n==ls.GRAPHQL){if(r===void 0||!("graphqlQuery"in r)||r.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");o=r.network?x0.get(r.network):o,l=r.graphqlQuery,c=r.skipEmptyMessages}const u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({network:o,webhook_type:n,webhook_url:e},i&&{app_id:i}),r.name&&{name:r.name}),s),a&&{addresses:a}),l&&{graphql_query:{query:l,skip_empty_messages:!!c}}),d=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:u});return zU(d.data)})}deleteWebhook(e){return Ne(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:n},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${n}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,n,r,i){return Zt(this.config,Ft.WEBHOOK,e,n,r,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i?.headers)}))}resolveAddresses(e){return Ne(this,void 0,void 0,function*(){if(e===void 0)return[];const n=[],r=yield this.config.getProvider();for(const i of e){const o=yield r.resolveName(i);if(o===null)throw new Error(`Unable to resolve the ENS address: ${i}`);n.push(o)}return n})}}const VA=Object.fromEntries(Object.entries(Te)),x0=Object.keys(Te).reduce((t,e)=>(e in VA&&t.set(VA[e],e),t),new Map);function vae(t){return t.data.map(zU)}function zU(t){return Object.assign(Object.assign({id:t.id,network:VA[t.network],type:t.webhook_type,url:t.webhook_url,isActive:t.is_active,timeCreated:new Date(t.time_created).toISOString(),signingKey:t.signing_key,version:t.version},t.app_id!==void 0&&{appId:t.app_id}),t.name!==void 0&&{name:t.name})}function wae(t){return{addresses:t.data,totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function bae(t){return{graphqlQuery:t.data.graphql_query}}function xae(t){return{filters:t.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:Gt.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function E0(t){return t.tokenId?{contract_address:t.contractAddress,token_id:Gt.from(t.tokenId).toString()}:{contract_address:t.contractAddress}}function Eae(t,e,n=!0,r=!0,i=!0,o="getTokensByWallet"){return Ne(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,withPrices:r,includeNativeTokens:i},a=yield Zt(t,Ft.PORTFOLIO,"assets/tokens/by-address",o,{},{data:s,method:"POST"});return on(a)})}function Aae(t,e,n=!0,r="getTokenBalancesByWallet"){return Ne(this,void 0,void 0,function*(){const i={addresses:e,includeNativeTokens:n},o=yield Zt(t,Ft.PORTFOLIO,"assets/tokens/balances/by-address",r,{},{method:"POST",data:i});return on(o)})}function _ae(t,e,n=!0,r=void 0,i=void 0,o="getNftsByWallet"){return Ne(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,pageKey:r,pageSize:i},a=yield Zt(t,Ft.PORTFOLIO,"assets/nfts/by-address",o,{},{method:"POST",data:s});return on(a)})}function Sae(t,e,n=!0,r=void 0,i=void 0,o="getNftCollectionsByWallet"){return Ne(this,void 0,void 0,function*(){const s={addresses:e,pageKey:r,pageSize:i,withMetadata:n},a=yield Zt(t,Ft.PORTFOLIO,"assets/nfts/contracts/by-address",o,{},{method:"POST",data:s});return on(a)})}function Cae(t,e,n=void 0,r=void 0,i=void 0,o="getTransactionsByWallet"){return Ne(this,void 0,void 0,function*(){const s={addresses:e,before:n,after:r,limit:i},a=yield Zt(t,Ft.PORTFOLIO,"transactions/history/by-address",o,{},{method:"POST",data:s});return on(a)})}class Tae{constructor(e){this.config=e}getTokensByWallet(e,n=!0,r=!0,i=!0){return Eae(this.config,e,n,r,i)}getTokenBalancesByWallet(e,n=!0){return Aae(this.config,e,n)}getNftsByWallet(e,n=!0,r,i){return _ae(this.config,e,n,r,i)}getNftCollectionsByWallet(e,n=!0,r,i){return Sae(this.config,e,n,r,i)}getTransactionsByWallet(e,n,r,i){return Cae(this.config,e,n,r,i)}}function Mae(t,e,n="getTokenPriceByAddress"){return Ne(this,void 0,void 0,function*(){const r=yield Zt(t,Ft.PRICES,"tokens/by-address",n,{},{method:"POST",data:{addresses:e}});return on(r)})}function Iae(t,e,n="getTokenPriceBySymbol"){return Ne(this,void 0,void 0,function*(){const r=yield Zt(t,Ft.PRICES,"tokens/by-symbol",n,{symbols:e},{paramsSerializer:i=>{const o=new URLSearchParams;return Object.entries(i).forEach(([s,a])=>{a.forEach(l=>o.append(s,l))}),o.toString()}});return on(r)})}function Rae(t,e,n,r,i,o="getHistoricalPriceBySymbol"){return Ne(this,void 0,void 0,function*(){const s=yield Zt(t,Ft.PRICES,"tokens/historical",o,{},{method:"POST",data:{symbol:e,startTime:n,endTime:r,interval:i}});return on(s)})}function Pae(t,e,n,r,i,o,s="getHistoricalPriceByAddress"){return Ne(this,void 0,void 0,function*(){const a=yield Zt(t,Ft.PRICES,"tokens/historical",s,{},{method:"POST",data:{network:e,address:n,startTime:r,endTime:i,interval:o}});return on(a)})}class Nae{constructor(e){this.config=e}getTokenPriceByAddress(e){return Mae(this.config,e)}getTokenPriceBySymbol(e){return Iae(this.config,e)}getHistoricalPriceBySymbol(e,n,r,i){return Rae(this.config,e,n,r,i)}getHistoricalPriceByAddress(e,n,r,i,o){return Pae(this.config,e,n,r,i,o)}}const kae=[.9,1,1.1,1.2,1.3];class Oae{constructor(e){this.config=e}sendPrivateTransaction(e,n,r){return Ne(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=n?kw(n):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:o,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return on(o)})}simulateAssetChanges(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return on(o)})}simulateExecutionBundle(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return on(o)})}simulateExecution(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecution",i,"simulateExecution");return on(o)})}getTransaction(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return Ne(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return fse(n)})}waitForTransaction(e,n,r){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}sendGasOptimizedTransaction(e,n){return Ne(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let r,i,o;const s=yield this.config.getProvider();try{r=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),o=(yield s.getBlock("latest")).baseFeePerGas.toNumber()}catch(c){throw new Error(`Failed to estimate gas for transaction: ${c}`)}const a=Bae(e,r.toNumber(),o,i),l=yield Promise.all(a.map(c=>n.signTransaction(c)));return this._sendGasOptimizedTransaction(l,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,n){return Ne(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],n)})}}function Bae(t,e,n,r){return kae.map(i=>Object.assign(Object.assign({},t),{gasLimit:e,maxFeePerGas:Math.round(n*i+r*i),maxPriorityFeePerGas:Math.round(i*r)}))}const qy="alchemy-pending-transactions",Qy="alchemy-mined-transactions",Fae=[qy,Qy];let Lae=class{constructor(e,n,r){this.listener=n,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const n=e[1],r=jae(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}};class Rxe extends Lae{get fromAddress(){const e=this.tag.split(":");if(e[0]===qy&&e[1]&&e[1]!=="*")return JI(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===qy&&e[2]&&e[2]!=="*")return JI(e[2])}get hashesOnly(){const e=this.tag.split(":");if(Fae.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===Qy&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===Qy&&e[1]&&e[1]!=="*")return Hae(e[1])}}function jU(t){return typeof t=="object"&&"method"in t}function Pxe(t){if(!jU(t))throw new Error("Event tag requires AlchemyEventType");if(t.method===Ml.PENDING_TRANSACTIONS)return Dae(t);if(t.method===Ml.MINED_TRANSACTIONS)return Uae(t);throw new Error(`Unrecognized AlchemyFilterEvent: ${t}`)}function Nxe(t){if(!Object.values(Ml).includes(t.method))throw new Error(`Invalid method name ${t.method}. Accepted method names: ${Object.values(Ml)}`)}function Dae(t){const e=Ky(t.fromAddress),n=Ky(t.toAddress),r=$A(t.hashesOnly);return qy+":"+e+":"+n+":"+r}function Uae(t){const e=zae(t.addresses),n=$A(t.includeRemoved),r=$A(t.hashesOnly);return Qy+":"+e+":"+n+":"+r}function zae(t){return t===void 0?"*":t.map(e=>Ky(e.to)+","+Ky(e.from)).join("|")}function Ky(t){return t===void 0?"*":Array.isArray(t)?t.join("|"):t}function $A(t){return t===void 0?"*":t.toString()}function jae(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function JI(t){if(t==="")return;const e=t.split("|");return e.length===1?e[0]:e}function Hae(t){if(t!=="")return t.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class Gae{constructor(e){this.config=e}on(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.on(i,n)}),this}once(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.once(i,n)}),this}off(e,n){return Ne(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return r.off(i,n)}),this}removeAllListeners(e){return Ne(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;n.removeAllListeners(r)}),this}listenerCount(e){return Ne(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listenerCount(r)})}listeners(e){return Ne(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listeners(r)})}_resolveEnsAlchemyEvent(e){return Ne(this,void 0,void 0,function*(){if(!jU(e))return e;if(e.method===Ml.MINED_TRANSACTIONS&&e.addresses){const n=[];for(const r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),n.push(r);e.addresses=n}else e.method===Ml.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(n=>this._resolveNameOrError(n)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(n=>this._resolveNameOrError(n)))));return e})}_resolveNameOrError(e){return Ne(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider()).resolveName(e);if(r===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return r})}}class Wae{constructor(e){this.config=new ise(e),this.core=new Sse(this.config),this.nft=new gae(this.config),this.ws=new Gae(this.config),this.transact=new Oae(this.config),this.notify=new yae(this.config),this.debug=new Cse(this.config),this.prices=new Nae(this.config),this.portfolio=new Tae(this.config)}}const Vae="6.14.4";function $ae(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Wr(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function It(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&$ae(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function od(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>od(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return od(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${od(r,e)}: ${od(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Sr(t,e){return t&&t.code===e}function WC(t){return Sr(t,"CALL_EXCEPTION")}function xn(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${od(n)}`);for(const s in n){if(s==="shortMessage")continue;const a=n[s];o.push(s+"="+od(a))}}o.push(`code=${e}`),o.push(`version=${Vae}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return It(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&It(i,{shortMessage:r}),i}function Be(t,e,n,r){if(!t)throw xn(e,n,r)}function ue(t,e,n,r){Be(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function HU(t,e,n){n==null&&(n=""),n&&(n=": "+n),Be(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Be(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Lw(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Be(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function GU(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}ue(!1,"invalid BytesLike value",e||"value",t)}function Lt(t,e){return GU(t,e,!1)}function Kr(t,e){return GU(t,e,!0)}function mn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function VC(t){return mn(t,!0)||t instanceof Uint8Array}const ZI="0123456789abcdef";function nt(t){const e=Lt(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=ZI[(i&240)>>4]+ZI[i&15]}return n}function Fn(t){return"0x"+t.map(e=>nt(e).substring(2)).join("")}function xd(t){return mn(t,!0)?(t.length-2)/2:Lt(t).length}function Pn(t,e,n){const r=Lt(t);return n!=null&&n>r.length&&Be(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),nt(r.slice(e??0,n??r.length))}function WU(t,e,n){const r=Lt(t);Be(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),nt(i)}function ba(t,e){return WU(t,e,!0)}function qae(t,e){return WU(t,e,!1)}const Dw=BigInt(0),zo=BigInt(1),sd=9007199254740991;function Qae(t,e){const n=Uw(t,"value"),r=BigInt(Dt(e,"width"));if(Be(n>>r===Dw,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-zo){const i=(zo<<r)-zo;return-((~n&i)+zo)}return n}function VU(t,e){let n=gt(t,"value");const r=BigInt(Dt(e,"width")),i=zo<<r-zo;if(n<Dw){n=-n,Be(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(zo<<r)-zo;return(~n&o)+zo}else Be(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function vh(t,e){const n=Uw(t,"value"),r=BigInt(Dt(e,"bits"));return n&(zo<<r)-zo}function gt(t,e){switch(typeof t){case"bigint":return t;case"number":return ue(Number.isInteger(t),"underflow",e||"value",t),ue(t>=-sd&&t<=sd,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ue(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ue(!1,"invalid BigNumberish value",e||"value",t)}function Uw(t,e){const n=gt(t,e);return Be(n>=Dw,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const eR="0123456789abcdef";function $C(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=eR[n>>4],e+=eR[n&15];return BigInt(e)}return gt(t)}function Dt(t,e){switch(typeof t){case"bigint":return ue(t>=-sd&&t<=sd,"overflow",e||"value",t),Number(t);case"number":return ue(Number.isInteger(t),"underflow",e||"value",t),ue(t>=-sd&&t<=sd,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Dt(BigInt(t),e)}catch(n){ue(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ue(!1,"invalid numeric value",e||"value",t)}function Kae(t){return Dt($C(t))}function Il(t,e){let r=Uw(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Dt(e,"width");for(Be(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function sr(t){const e=Uw(t,"value");if(e===Dw)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function Do(t){let e=nt(VC(t)?t:sr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const tR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const nR=BigInt(58);function Xae(t){const e=Lt(t);let n=$C(e),r="";for(;n;)r=tR[Number(n%nR)]+r,n/=nR;for(let i=0;i<e.length&&!e[i];i++)r=tR[0]+r;return r}function Yae(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Lt(e)}function Jae(t){const e=Lt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class $U{filter;emitter;#e;constructor(e,n,r){this.#e=n,It(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Zae(t,e,n,r,i){ue(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function qU(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function ele(t,e,n,r,i){return t==="OVERLONG"?(ue(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),qU(t,e,n))}const tle=Object.freeze({error:Zae,ignore:qU,replace:ele});function nle(t,e){e==null&&(e=tle.error);const n=Lt(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(!(o>>7)){r.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+s>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=o&(1<<8-s-1)-1;for(let c=0;c<s;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-s,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-s,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-s,n,r,l);continue}r.push(l)}}return r}function ua(t,e){ue(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);ue(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(o&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function rle(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Xy(t,e){return rle(nle(t,e))}function QU(t){async function e(n,r){Be(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();Be(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Be(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const s=new AbortController,a=setTimeout(()=>{o=xn("request timeout","TIMEOUT"),s.abort()},n.timeout);r&&r.addListener(()=>{o=xn("request cancelled","CANCELLED"),s.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s.signal});let c;try{c=await fetch(n.url,l)}catch(h){throw clearTimeout(a),o||h}clearTimeout(a);const u={};c.headers.forEach((h,p)=>{u[p.toLowerCase()]=h});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const ile=12,ole=250;let rR=QU();const sle=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ale=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let I1=!1;async function KU(t,e){try{const n=t.match(sle);if(!n)throw new Error("invalid data");return new wl(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Yae(n[3]):cle(n[3]))}catch{return new wl(599,"BAD REQUEST (invalid data: URI)",{},null,new xa(t))}}function XU(t){async function e(n,r){try{const i=n.match(ale);if(!i)throw new Error("invalid link");return new xa(`${t}${i[2]}`)}catch{return new wl(599,"BAD REQUEST (invalid IPFS URI)",{},null,new xa(n))}}return e}const A0={data:KU,ipfs:XU("https://gateway.ipfs.io/ipfs/")},YU=new WeakMap;class lle{#e;#t;constructor(e){this.#e=[],this.#t=!1,YU.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){Be(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Be(!this.cancelled,"cancelled","CANCELLED",{})}}function _0(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class xa{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=ua(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=ua(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#p&&(e.authorization=`Basic ${Jae(ua(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,n){ue(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){ue(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#m||null}set processFunc(e){this.#m=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#d||rR}set getUrlFunc(e){this.#d=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#c={slotInterval:ole,maxAttempts:ile},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?nt(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#c.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#c.maxAttempts=e.maxAttempts)}async#f(e,n,r,i,o){if(e>=this.#c.maxAttempts)return o.makeServerError("exceeded maximum retry limit");Be(iR()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await ule(r);let s=this.clone();const a=(s.url.split(":")[0]||"").toLowerCase();if(a in A0){const u=await A0[a](s.url,_0(i.#l));if(u instanceof wl){let d=u;if(this.processFunc){_0(i.#l);try{d=await this.processFunc(s,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));const l=await this.getUrlFunc(s,_0(i.#l));let c=new wl(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const u=c.headers.location||"";return s.redirect(u).#f(e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,c,e))){const u=c.headers["retry-after"];let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#f(e+1,n,d,i,c)}if(this.processFunc){_0(i.#l);try{c=await this.processFunc(s,c)}catch(u){(u.throttle==null||typeof u.stall!="number")&&c.makeServerError("error in post-processing function",u).assertOk();let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#f(e+1,n,d,i,c)}}return c}send(){return Be(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new lle(this),this.#f(0,iR()+this.timeout,0,this,new wl(0,"",{},null,this))}cancel(){Be(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=YU.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Be(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new xa(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#a=this.#a,i}clone(){const e=new xa(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#m=this.#m,e.#h=this.#h,e.#c=Object.assign({},this.#c),e.#d=this.#d,e}static lockConfig(){I1=!0}static getGateway(e){return A0[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(I1)throw new Error("gateways locked");A0[e]=n}static registerGetUrl(e){if(I1)throw new Error("gateways locked");rR=e}static createGetUrlFunc(e){return QU(e)}static createDataGateway(){return KU}static createIpfsGatewayFunc(e){return XU(e)}}class wl{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?nt(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Xy(this.#r)}catch{Be(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Be(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,o){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=o||null,this.#s={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new wl(599,r,this.headers,this.body,this.#i||void 0);return i.#s={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:ue(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw It(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Xy(this.#r))}catch{}Be(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function iR(){return new Date().getTime()}function cle(t){return ua(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function ule(t){return new Promise(e=>setTimeout(e,t))}function dle(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function oR(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function sR(t,e,n,r){const i=[];for(;n<e+1+r;){const o=JU(t,n);i.push(o.result),n+=o.consumed,Be(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function JU(t,e){Be(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Be(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=oR(t,e+1,r);return n(e+1+r+i),sR(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),sR(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=oR(t,e+1,r);n(e+1+r+i);const o=nt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=nt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:dle(t[e])}}function Mm(t){const e=Lt(t,"data"),n=JU(e,0);return ue(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function aR(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ZU(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(ZU(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=aR(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Lt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=aR(e.length);return n.unshift(183+n.length),n.concat(e)}const lR="0123456789abcdef";function Rl(t){let e="0x";for(const n of ZU(t))e+=lR[n>>4],e+=lR[n&15];return e}const Xr=32,qA=new Uint8Array(Xr),fle=["then"],S0={},e8=new WeakMap;function nc(t){return e8.get(t)}function cR(t,e){e8.set(t,e)}function eh(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function QA(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof ia?QA(nc(r),r,n):r):t.reduce((r,i,o)=>{let s=e.getValue(i);return i in r||(n&&s instanceof ia&&(s=QA(nc(s),s,n)),r[i]=s),r},{})}class ia extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==S0&&(r=e,i=[],o=!1),super(r.length),r.forEach((l,c)=>{this[c]=l});const s=i.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(cR(this,Object.freeze(r.map((l,c)=>{const u=i[c];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);const a=new Proxy(this,{get:(l,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const f=Dt(c,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const h=l[f];return h instanceof Error&&eh(`index ${f}`,h),h}if(fle.indexOf(c)>=0)return Reflect.get(l,c,u);const d=l[c];if(d instanceof Function)return function(...f){return d.apply(this===u?l:this,f)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}});return cR(a,nc(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&eh(`index ${i}`,r),e&&r instanceof ia&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=nc(this);return n.reduce((r,i,o)=>(Be(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),QA(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=nc(this),i=[],o=[];for(let s=e;s<n;s++)i.push(this[s]),o.push(r[s]);return new ia(S0,i,o)}filter(e,n){const r=nc(this),i=[],o=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&eh(`index ${s}`,a),e.call(n,a,s,this)&&(i.push(a),o.push(r[s]))}return new ia(S0,i,o)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&eh(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=nc(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&eh(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new ia(S0,e,n)}}function uR(t){let e=sr(t);return Be(e.length<=Xr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Xr,offset:e.length}),e.length!==Xr&&(e=Kr(Fn([qA.slice(e.length%Xr),e]))),e}class Ia{name;type;localName;dynamic;constructor(e,n,r,i){It(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ue(!1,e,this.localName,n)}}class KA{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Fn(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(Kr(e.data))}writeBytes(e){let n=Kr(e);const r=n.length%Xr;return r&&(n=Kr(Fn([n,qA.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(uR(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(qA),this.#t+=Xr,n=>{this.#e[e]=uR(n)}}}class qC{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){It(this,{allowLoose:!!n}),this.#e=Kr(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return nt(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,Be(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Kr(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,n,r){let i=Math.ceil(n/Xr)*Xr;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:Be(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Kr(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new qC(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#o(0,e,!!n);return this.#s(e),this.#t+=r.length,r.slice(0,e)}readValue(){return $C(this.readBytes(Xr))}readIndex(){return Kae(this.readBytes(Xr))}}function Yy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function QC(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hle(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yy(t.outputLen),Yy(t.blockLen)}function Kd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function t8(t,e){QC(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const R1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=t=>t instanceof Uint8Array,ple=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),P1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ss=(t,e)=>t<<32-e|t>>>e,mle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mle)throw new Error("Non little-endian hardware is not supported");function gle(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function zw(t){if(typeof t=="string"&&(t=gle(t)),!n8(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function yle(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!n8(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class KC{clone(){return this._cloneInto()}}function XC(t){const e=r=>t().update(zw(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function vle(t=32){if(R1&&typeof R1.getRandomValues=="function")return R1.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class r8 extends KC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,hle(e);const r=zw(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return Kd(this),this.iHash.update(e),this}digestInto(e){Kd(this),QC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i8=(t,e,n)=>new r8(t,e).update(n).digest();i8.create=(t,e)=>new r8(t,e);function wle(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}class o8 extends KC{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=P1(this.buffer)}update(e){Kd(this);const{view:n,buffer:r,blockLen:i}=this;e=zw(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=P1(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kd(this),t8(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;wle(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=P1(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const ble=(t,e,n)=>t&e^~t&n,xle=(t,e,n)=>t&e^t&n^e&n,Ele=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Da=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ua=new Uint32Array(64);class Ale extends o8{constructor(){super(64,32,8,!1),this.A=Da[0]|0,this.B=Da[1]|0,this.C=Da[2]|0,this.D=Da[3]|0,this.E=Da[4]|0,this.F=Da[5]|0,this.G=Da[6]|0,this.H=Da[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Ua[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Ua[d-15],h=Ua[d-2],p=ss(f,7)^ss(f,18)^f>>>3,m=ss(h,17)^ss(h,19)^h>>>10;Ua[d]=m+Ua[d-7]+p+Ua[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=ss(a,6)^ss(a,11)^ss(a,25),h=u+f+ble(a,l,c)+Ele[d]+Ua[d]|0,m=(ss(r,2)^ss(r,13)^ss(r,22))+xle(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){Ua.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const s8=XC(()=>new Ale),C0=BigInt(2**32-1),XA=BigInt(32);function a8(t,e=!1){return e?{h:Number(t&C0),l:Number(t>>XA&C0)}:{h:Number(t>>XA&C0)|0,l:Number(t&C0)|0}}function l8(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=a8(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const _le=(t,e)=>BigInt(t>>>0)<<XA|BigInt(e>>>0),Sle=(t,e,n)=>t>>>n,Cle=(t,e,n)=>t<<32-n|e>>>n,Tle=(t,e,n)=>t>>>n|e<<32-n,Mle=(t,e,n)=>t<<32-n|e>>>n,Ile=(t,e,n)=>t<<64-n|e>>>n-32,Rle=(t,e,n)=>t>>>n-32|e<<64-n,Ple=(t,e)=>e,Nle=(t,e)=>t,c8=(t,e,n)=>t<<n|e>>>32-n,u8=(t,e,n)=>e<<n|t>>>32-n,d8=(t,e,n)=>e<<n-32|t>>>64-n,f8=(t,e,n)=>t<<n-32|e>>>64-n;function kle(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Ole=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ble=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Fle=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Lle=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Dle=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ule=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Ot={fromBig:a8,split:l8,toBig:_le,shrSH:Sle,shrSL:Cle,rotrSH:Tle,rotrSL:Mle,rotrBH:Ile,rotrBL:Rle,rotr32H:Ple,rotr32L:Nle,rotlSH:c8,rotlSL:u8,rotlBH:d8,rotlBL:f8,add:kle,add3L:Ole,add3H:Ble,add4L:Fle,add4H:Lle,add5H:Ule,add5L:Dle},[zle,jle]=Ot.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),za=new Uint32Array(80),ja=new Uint32Array(80);class Hle extends o8{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y]}set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)za[b]=e.getUint32(n),ja[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=za[b-15]|0,R=ja[b-15]|0,k=Ot.rotrSH(x,R,1)^Ot.rotrSH(x,R,8)^Ot.shrSH(x,R,7),_=Ot.rotrSL(x,R,1)^Ot.rotrSL(x,R,8)^Ot.shrSL(x,R,7),I=za[b-2]|0,S=ja[b-2]|0,P=Ot.rotrSH(I,S,19)^Ot.rotrBH(I,S,61)^Ot.shrSH(I,S,6),L=Ot.rotrSL(I,S,19)^Ot.rotrBL(I,S,61)^Ot.shrSL(I,S,6),G=Ot.add4L(_,L,ja[b-7],ja[b-16]),B=Ot.add4H(G,k,P,za[b-7],za[b-16]);za[b]=B|0,ja[b]=G|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:g,Hl:v}=this;for(let b=0;b<80;b++){const x=Ot.rotrSH(d,f,14)^Ot.rotrSH(d,f,18)^Ot.rotrBH(d,f,41),R=Ot.rotrSL(d,f,14)^Ot.rotrSL(d,f,18)^Ot.rotrBL(d,f,41),k=d&h^~d&m,_=f&p^~f&y,I=Ot.add5L(v,R,_,jle[b],ja[b]),S=Ot.add5H(I,g,x,k,zle[b],za[b]),P=I|0,L=Ot.rotrSH(r,i,28)^Ot.rotrBH(r,i,34)^Ot.rotrBH(r,i,39),G=Ot.rotrSL(r,i,28)^Ot.rotrBL(r,i,34)^Ot.rotrBL(r,i,39),B=r&o^r&a^o&a,w=i&s^i&l^s&l;g=m|0,v=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Ot.add(c|0,u|0,S|0,P|0),c=a|0,u=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=Ot.add3L(P,G,w);r=Ot.add3H(E,S,L,B),i=E|0}({h:r,l:i}=Ot.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Ot.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Ot.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Ot.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Ot.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ot.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Ot.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:g,l:v}=Ot.add(this.Hh|0,this.Hl|0,g|0,v|0),this.set(r,i,o,s,a,l,c,u,d,f,h,p,m,y,g,v)}roundClean(){za.fill(0),ja.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gle=XC(()=>new Hle);function Wle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const dR=Wle();dR.crypto||dR.msCrypto;function Vle(t){switch(t){case"sha256":return s8.create();case"sha512":return Gle.create()}ue(!1,"invalid hashing algorithm name","algorithm",t)}const[h8,p8,m8]=[[],[],[]],$le=BigInt(0),th=BigInt(1),qle=BigInt(2),Qle=BigInt(7),Kle=BigInt(256),Xle=BigInt(113);for(let t=0,e=th,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],h8.push(2*(5*r+n)),p8.push((t+1)*(t+2)/2%64);let i=$le;for(let o=0;o<7;o++)e=(e<<th^(e>>Qle)*Xle)%Kle,e&qle&&(i^=th<<(th<<BigInt(o))-th);m8.push(i)}const[Yle,Jle]=l8(m8,!0),fR=(t,e,n)=>n>32?d8(t,e,n):c8(t,e,n),hR=(t,e,n)=>n>32?f8(t,e,n):u8(t,e,n);function Zle(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=fR(c,u,1)^n[a],f=hR(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=p8[s],l=fR(i,o,a),c=hR(i,o,a),u=h8[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Yle[r],t[1]^=Jle[r]}n.fill(0)}class YC extends KC{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Yy(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ple(this.state)}keccak(){Zle(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Kd(this);const{blockLen:n,state:r}=this;e=zw(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Kd(this,!1),QC(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Yy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(t8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new YC(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const ece=(t,e,n)=>XC(()=>new YC(e,t,n)),tce=ece(1,136,256/8);let g8=!1;const y8=function(t){return tce(t)};let v8=y8;function Xn(t){const e=Lt(t,"data");return nt(v8(e))}Xn._=y8;Xn.lock=function(){g8=!0};Xn.register=function(t){if(g8)throw new TypeError("keccak256 is locked");v8=t};Object.freeze(Xn);const w8=function(t){return Vle("sha256").update(t).digest()};let b8=w8,x8=!1;function If(t){const e=Lt(t,"data");return nt(b8(e))}If._=w8;If.lock=function(){x8=!0};If.register=function(t){if(x8)throw new Error("sha256 is locked");b8=t};Object.freeze(If);Object.freeze(If);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E8=BigInt(0),jw=BigInt(1),nce=BigInt(2),Hw=t=>t instanceof Uint8Array,rce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xd(t){if(!Hw(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=rce[t[n]];return e}function A8(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function JC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Yd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Pc(t){return JC(Xd(t))}function ZC(t){if(!Hw(t))throw new Error("Uint8Array expected");return JC(Xd(Uint8Array.from(t).reverse()))}function Jd(t,e){return Yd(t.toString(16).padStart(e*2,"0"))}function eT(t,e){return Jd(t,e).reverse()}function ice(t){return Yd(A8(t))}function No(t,e,n){let r;if(typeof e=="string")try{r=Yd(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Hw(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function jp(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Hw(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function oce(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function sce(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ace(t){let e;for(e=0;t>E8;t>>=jw,e+=1);return e}function lce(t,e){return t>>BigInt(e)&jw}const cce=(t,e,n)=>t|(n?jw:E8)<<BigInt(e),tT=t=>(nce<<BigInt(t-1))-jw,N1=t=>new Uint8Array(t),pR=t=>Uint8Array.from(t);function _8(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=N1(t),i=N1(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),l=(d=N1())=>{i=a(pR([0]),d),r=a(),d.length!==0&&(i=a(pR([1]),d),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return jp(...f)};return(d,f)=>{s(),l(d);let h;for(;!(h=f(c()));)l();return s(),h}}const uce={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Im(t,e,n={}){const r=(i,o,s)=>{const a=uce[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const dce=Object.freeze(Object.defineProperty({__proto__:null,bitGet:lce,bitLen:ace,bitMask:tT,bitSet:cce,bytesToHex:Xd,bytesToNumberBE:Pc,bytesToNumberLE:ZC,concatBytes:jp,createHmacDrbg:_8,ensureBytes:No,equalBytes:oce,hexToBytes:Yd,hexToNumber:JC,numberToBytesBE:Jd,numberToBytesLE:eT,numberToHexUnpadded:A8,numberToVarBytesBE:ice,utf8ToBytes:sce,validateObject:Im},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mr=BigInt(0),Gn=BigInt(1),rc=BigInt(2),fce=BigInt(3),YA=BigInt(4),mR=BigInt(5),gR=BigInt(8);BigInt(9);BigInt(16);function ci(t,e){const n=t%e;return n>=mr?n:e+n}function hce(t,e,n){if(n<=mr||e<mr)throw new Error("Expected power/modulo > 0");if(n===Gn)return mr;let r=Gn;for(;e>mr;)e&Gn&&(r=r*t%n),t=t*t%n,e>>=Gn;return r}function Zi(t,e,n){let r=t;for(;e-- >mr;)r*=r,r%=n;return r}function JA(t,e){if(t===mr||e<=mr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ci(t,e),r=e,i=mr,o=Gn;for(;n!==mr;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Gn)throw new Error("invert: does not exist");return ci(i,e)}function pce(t){const e=(t-Gn)/rc;let n,r,i;for(n=t-Gn,r=0;n%rc===mr;n/=rc,r++);for(i=rc;i<t&&hce(i,e,t)!==t-Gn;i++);if(r===1){const s=(t+Gn)/YA;return function(l,c){const u=l.pow(c,s);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Gn)/rc;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,o),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<c&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const p=a.pow(u,Gn<<BigInt(c-h-1));u=a.sqr(p),d=a.mul(d,p),f=a.mul(f,u),c=h}return d}}function mce(t){if(t%YA===fce){const e=(t+Gn)/YA;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%gR===mR){const e=(t-mR)/gR;return function(r,i){const o=r.mul(i,rc),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,rc),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return pce(t)}const gce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yce(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gce.reduce((r,i)=>(r[i]="function",r),e);return Im(t,n)}function vce(t,e,n){if(n<mr)throw new Error("Expected power > 0");if(n===mr)return t.ONE;if(n===Gn)return e;let r=t.ONE,i=e;for(;n>mr;)n&Gn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Gn;return r}function wce(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function S8(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function bce(t,e,n=!1,r={}){if(t<=mr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=S8(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=mce(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:tT(i),ZERO:mr,ONE:Gn,create:l=>ci(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return mr<=l&&l<t},is0:l=>l===mr,isOdd:l=>(l&Gn)===Gn,neg:l=>ci(-l,t),eql:(l,c)=>l===c,sqr:l=>ci(l*l,t),add:(l,c)=>ci(l+c,t),sub:(l,c)=>ci(l-c,t),mul:(l,c)=>ci(l*c,t),pow:(l,c)=>vce(a,l,c),div:(l,c)=>ci(l*JA(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>JA(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>wce(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?eT(l,o):Jd(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?ZC(l):Pc(l)}});return Object.freeze(a)}function C8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function T8(t){const e=C8(t);return e+Math.ceil(e/2)}function xce(t,e,n=!1){const r=t.length,i=C8(e),o=T8(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?Pc(t):ZC(t),a=ci(s,e-Gn)+Gn;return n?eT(a,i):Jd(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ece=BigInt(0),k1=BigInt(1);function Ace(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>Ece;)o&k1&&(s=s.add(a)),a=a.double(),o>>=k1;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let c=i,u=c;for(let d=0;d<s;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let p=0;p<a;p++){const m=p*l;let y=Number(s&d);s>>=h,y>l&&(y-=f,s+=k1);const g=m,v=m+Math.abs(y)-1,b=p%2!==0,x=y<0;y===0?u=u.add(n(b,o[g])):c=c.add(n(x,o[v]))}return{p:c,f:u}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,a(c))),this.wNAF(l,c,s)}}}function M8(t){return yce(t.Fp),Im(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S8(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _ce(t){const e=M8(t);Im(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Sce,hexToBytes:Cce}=dce,bc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=bc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Sce(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=bc,n=typeof t=="string"?Cce(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=bc._parseInt(n.subarray(2)),{d:s,l:a}=bc._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},Js=BigInt(0),ro=BigInt(1);BigInt(2);const yR=BigInt(3);BigInt(4);function Tce(t){const e=_ce(t),{Fp:n}=e,r=e.toBytes||((p,m,y)=>{const g=m.toAffine();return jp(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(p=>{const m=p.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),g=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:g}});function o(p){const{a:m,b:y}=e,g=n.sqr(p),v=n.mul(g,p);return n.add(n.add(v,n.mul(p,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(p){return typeof p=="bigint"&&Js<p&&p<e.n}function a(p){if(!s(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:g,n:v}=e;if(m&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=Xd(p)),typeof p!="string"||!m.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let b;try{b=typeof p=="bigint"?p:Pc(No("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return g&&(b=ci(b,v)),a(b),b}const c=new Map;function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,g){if(this.px=m,this.py=y,this.pz=g,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(m){const{x:y,y:g}=m||{};if(!m||!n.isValid(y)||!n.isValid(g))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(g)?d.ZERO:new d(y,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(g=>g.pz));return m.map((g,v)=>g.toAffine(y[v])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(i(No("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const g=n.sqr(y),v=o(m);if(!n.eql(g,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:y,py:g,pz:v}=this,{px:b,py:x,pz:R}=m,k=n.eql(n.mul(y,R),n.mul(b,v)),_=n.eql(n.mul(g,R),n.mul(x,v));return k&&_}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,g=n.mul(y,yR),{px:v,py:b,pz:x}=this;let R=n.ZERO,k=n.ZERO,_=n.ZERO,I=n.mul(v,v),S=n.mul(b,b),P=n.mul(x,x),L=n.mul(v,b);return L=n.add(L,L),_=n.mul(v,x),_=n.add(_,_),R=n.mul(m,_),k=n.mul(g,P),k=n.add(R,k),R=n.sub(S,k),k=n.add(S,k),k=n.mul(R,k),R=n.mul(L,R),_=n.mul(g,_),P=n.mul(m,P),L=n.sub(I,P),L=n.mul(m,L),L=n.add(L,_),_=n.add(I,I),I=n.add(_,I),I=n.add(I,P),I=n.mul(I,L),k=n.add(k,I),P=n.mul(b,x),P=n.add(P,P),I=n.mul(P,L),R=n.sub(R,I),_=n.mul(P,S),_=n.add(_,_),_=n.add(_,_),new d(R,k,_)}add(m){u(m);const{px:y,py:g,pz:v}=this,{px:b,py:x,pz:R}=m;let k=n.ZERO,_=n.ZERO,I=n.ZERO;const S=e.a,P=n.mul(e.b,yR);let L=n.mul(y,b),G=n.mul(g,x),B=n.mul(v,R),w=n.add(y,g),E=n.add(b,x);w=n.mul(w,E),E=n.add(L,G),w=n.sub(w,E),E=n.add(y,v);let C=n.add(b,R);return E=n.mul(E,C),C=n.add(L,B),E=n.sub(E,C),C=n.add(g,v),k=n.add(x,R),C=n.mul(C,k),k=n.add(G,B),C=n.sub(C,k),I=n.mul(S,E),k=n.mul(P,B),I=n.add(k,I),k=n.sub(G,I),I=n.add(G,I),_=n.mul(k,I),G=n.add(L,L),G=n.add(G,L),B=n.mul(S,B),E=n.mul(P,E),G=n.add(G,B),B=n.sub(L,B),B=n.mul(S,B),E=n.add(E,B),L=n.mul(G,E),_=n.add(_,L),L=n.mul(C,E),k=n.mul(w,k),k=n.sub(k,L),L=n.mul(w,G),I=n.mul(C,I),I=n.add(I,L),new d(k,_,I)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,c,m,y=>{const g=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(g[b])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===Js)return y;if(a(m),m===ro)return this;const{endo:g}=e;if(!g)return h.unsafeLadder(this,m);let{k1neg:v,k1:b,k2neg:x,k2:R}=g.splitScalar(m),k=y,_=y,I=this;for(;b>Js||R>Js;)b&ro&&(k=k.add(I)),R&ro&&(_=_.add(I)),I=I.double(),b>>=ro,R>>=ro;return v&&(k=k.negate()),x&&(_=_.negate()),_=new d(n.mul(_.px,g.beta),_.py,_.pz),k.add(_)}multiply(m){a(m);let y=m,g,v;const{endo:b}=e;if(b){const{k1neg:x,k1:R,k2neg:k,k2:_}=b.splitScalar(y);let{p:I,f:S}=this.wNAF(R),{p:P,f:L}=this.wNAF(_);I=h.constTimeNegate(x,I),P=h.constTimeNegate(k,P),P=new d(n.mul(P.px,b.beta),P.py,P.pz),g=I.add(P),v=S.add(L)}else{const{p:x,f:R}=this.wNAF(y);g=x,v=R}return d.normalizeZ([g,v])[0]}multiplyAndAddUnsafe(m,y,g){const v=d.BASE,b=(R,k)=>k===Js||k===ro||!R.equals(v)?R.multiplyUnsafe(k):R.multiply(k),x=b(this,y).add(b(m,g));return x.is0()?void 0:x}toAffine(m){const{px:y,py:g,pz:v}=this,b=this.is0();m==null&&(m=b?n.ONE:n.inv(v));const x=n.mul(y,m),R=n.mul(g,m),k=n.mul(v,m);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x,y:R}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===ro)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===ro?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return Xd(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,h=Ace(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function Mce(t){const e=M8(t);return Im(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ice(t){const e=Mce(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(E){return Js<E&&E<n.ORDER}function a(E){return ci(E,r)}function l(E){return JA(E,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=Tce({...e,toBytes(E,C,D){const N=C.toAffine(),H=n.toBytes(N.x),$=jp;return D?$(Uint8Array.from([C.hasEvenY()?2:3]),H):$(Uint8Array.from([4]),H,n.toBytes(N.y))},fromBytes(E){const C=E.length,D=E[0],N=E.subarray(1);if(C===i&&(D===2||D===3)){const H=Pc(N);if(!s(H))throw new Error("Point is not on curve");const $=d(H);let F=n.sqrt($);const M=(F&ro)===ro;return(D&1)===1!==M&&(F=n.neg(F)),{x:H,y:F}}else if(C===o&&D===4){const H=n.fromBytes(N.subarray(0,n.BYTES)),$=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:H,y:$}}else throw new Error(`Point of length ${C} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=E=>Xd(Jd(E,e.nByteLength));function p(E){const C=r>>ro;return E>C}function m(E){return p(E)?a(-E):E}const y=(E,C,D)=>Pc(E.slice(C,D));class g{constructor(C,D,N){this.r=C,this.s=D,this.recovery=N,this.assertValidity()}static fromCompact(C){const D=e.nByteLength;return C=No("compactSignature",C,D*2),new g(y(C,0,D),y(C,D,2*D))}static fromDER(C){const{r:D,s:N}=bc.toSig(No("DER",C));return new g(D,N)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new g(this.r,this.s,C)}recoverPublicKey(C){const{r:D,s:N,recovery:H}=this,$=_(No("msgHash",C));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const F=H===2||H===3?D+e.n:D;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=H&1?"03":"02",q=c.fromHex(M+h(F)),J=l(F),ie=a(-$*J),de=a(N*J),ve=c.BASE.multiplyAndAddUnsafe(q,ie,de);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Yd(this.toDERHex())}toDERHex(){return bc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yd(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(E){try{return u(E),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const E=T8(e.n);return xce(e.randomBytes(E),e.n)},precompute(E=8,C=c.BASE){return C._setWindowSize(E),C.multiply(BigInt(3)),C}};function b(E,C=!0){return c.fromPrivateKey(E).toRawBytes(C)}function x(E){const C=E instanceof Uint8Array,D=typeof E=="string",N=(C||D)&&E.length;return C?N===i||N===o:D?N===2*i||N===2*o:E instanceof c}function R(E,C,D=!0){if(x(E))throw new Error("first arg must be private key");if(!x(C))throw new Error("second arg must be public key");return c.fromHex(C).multiply(u(E)).toRawBytes(D)}const k=e.bits2int||function(E){const C=Pc(E),D=E.length*8-e.nBitLength;return D>0?C>>BigInt(D):C},_=e.bits2int_modN||function(E){return a(k(E))},I=tT(e.nBitLength);function S(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(Js<=E&&E<I))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Jd(E,e.nByteLength)}function P(E,C,D=L){if(["recovered","canonical"].some(Ae=>Ae in D))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:H}=e;let{lowS:$,prehash:F,extraEntropy:M}=D;$==null&&($=!0),E=No("msgHash",E),F&&(E=No("prehashed msgHash",N(E)));const q=_(E),J=u(C),ie=[S(J),S(q)];if(M!=null){const Ae=M===!0?H(n.BYTES):M;ie.push(No("extraEntropy",Ae))}const de=jp(...ie),ve=q;function Pe(Ae){const st=k(Ae);if(!f(st))return;const yt=l(st),We=c.BASE.multiply(st).toAffine(),xt=a(We.x);if(xt===Js)return;const oe=a(yt*a(ve+xt*J));if(oe===Js)return;let _t=(We.x===xt?0:2)|Number(We.y&ro),Et=oe;return $&&p(oe)&&(Et=m(oe),_t^=1),new g(xt,Et,_t)}return{seed:de,k2sig:Pe}}const L={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function B(E,C,D=L){const{seed:N,k2sig:H}=P(E,C,D),$=e;return _8($.hash.outputLen,$.nByteLength,$.hmac)(N,H)}c.BASE._setWindowSize(8);function w(E,C,D,N=G){const H=E;if(C=No("msgHash",C),D=No("publicKey",D),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:F}=N;let M,q;try{if(typeof H=="string"||H instanceof Uint8Array)try{M=g.fromDER(H)}catch(We){if(!(We instanceof bc.Err))throw We;M=g.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:We,s:xt}=H;M=new g(We,xt)}else throw new Error("PARSE");q=c.fromHex(D)}catch(We){if(We.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&M.hasHighS())return!1;F&&(C=e.hash(C));const{r:J,s:ie}=M,de=_(C),ve=l(ie),Pe=a(de*ve),Ae=a(J*ve),st=c.BASE.multiplyAndAddUnsafe(q,Pe,Ae)?.toAffine();return st?a(st.x)===J:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:R,sign:B,verify:w,ProjectivePoint:c,Signature:g,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rce(t){return{hash:t,hmac:(e,...n)=>i8(t,e,yle(...n)),randomBytes:vle}}function Pce(t,e){const n=r=>Ice({...t,...Rce(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const I8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nce=BigInt(1),ZA=BigInt(2),wR=(t,e)=>(t+e/ZA)/e;function kce(t){const e=I8,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=Zi(u,n,e)*u%e,f=Zi(d,n,e)*u%e,h=Zi(f,ZA,e)*c%e,p=Zi(h,i,e)*h%e,m=Zi(p,o,e)*p%e,y=Zi(m,a,e)*m%e,g=Zi(y,l,e)*y%e,v=Zi(g,a,e)*m%e,b=Zi(v,n,e)*u%e,x=Zi(b,s,e)*p%e,R=Zi(x,r,e)*c%e,k=Zi(R,ZA,e);if(!e_.eql(e_.sqr(k),t))throw new Error("Cannot find square root");return k}const e_=bce(I8,void 0,void 0,{sqrt:kce}),Ka=Pce({a:BigInt(0),b:BigInt(7),Fp:e_,n:vR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Nce*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=wR(o*t,e),l=wR(-r*t,e);let c=ci(t-a*n-l*i,e),u=ci(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},s8);BigInt(0);Ka.ProjectivePoint;const Hp="0x0000000000000000000000000000000000000000",bR="0x0000000000000000000000000000000000000000000000000000000000000000",xR=BigInt(0),ER=BigInt(1),AR=BigInt(2),_R=BigInt(27),SR=BigInt(28),T0=BigInt(35),Cu={};function CR(t){return ba(sr(t),32)}class kn{#e;#t;#n;#r;get r(){return this.#e}set r(e){ue(xd(e)===32,"invalid r","value",e),this.#e=nt(e)}get s(){return this.#t}set s(e){ue(xd(e)===32,"invalid s","value",e);const n=nt(e);ue(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),this.#t=n}get v(){return this.#n}set v(e){const n=Dt(e,"value");ue(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:kn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Lt(this.s);return this.yParity&&(e[0]|=128),nt(e)}get compactSerialized(){return Fn([this.r,this.yParityAndS])}get serialized(){return Fn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){Lw(e,Cu,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new kn(Cu,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=gt(e,"v");return n==_R||n==SR?xR:(ue(n>=T0,"invalid EIP-155 v","v",e),(n-T0)/AR)}static getChainIdV(e,n){return gt(e)*AR+BigInt(35+n-27)}static getNormalizedV(e){const n=gt(e);return n===xR||n===_R?27:n===ER||n===SR?28:(ue(n>=T0,"invalid v","v",e),n&ER?27:28)}static from(e){function n(c,u){ue(c,u,"signature",e)}if(e==null)return new kn(Cu,bR,bR,27);if(typeof e=="string"){const c=Lt(e,"signature");if(c.length===64){const u=nt(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new kn(Cu,u,nt(d),f)}if(c.length===65){const u=nt(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const f=kn.getNormalizedV(c[64]);return new kn(Cu,u,nt(d),f)}n(!1,"invalid raw signature length")}if(e instanceof kn)return e.clone();const r=e.r;n(r!=null,"missing r");const i=CR(r),o=function(c,u){if(c!=null)return CR(c);if(u!=null){n(mn(u,32),"invalid yParityAndS");const d=Lt(u);return d[0]&=127,nt(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Lt(o)[0]&128)==0,"non-canonical s");const{networkV:s,v:a}=function(c,u,d){if(c!=null){const f=gt(c);return{networkV:f>=T0?f:void 0,v:kn.getNormalizedV(f)}}if(u!=null)return n(mn(u,32),"invalid yParityAndS"),{v:Lt(u)[0]&128?28:27};if(d!=null){switch(Dt(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new kn(Cu,i,o,a);return s&&(l.#r=s),n(e.yParity==null||Dt(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class Zs{#e;constructor(e){ue(xd(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=nt(e)}get privateKey(){return this.#e}get publicKey(){return Zs.computePublicKey(this.#e)}get compressedPublicKey(){return Zs.computePublicKey(this.#e,!0)}sign(e){ue(xd(e)===32,"invalid digest length","digest",e);const n=Ka.sign(Kr(e),Kr(this.#e),{lowS:!0});return kn.from({r:Il(n.r,32),s:Il(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Zs.computePublicKey(e);return nt(Ka.getSharedSecret(Kr(this.#e),Lt(n),!1))}static computePublicKey(e,n){let r=Lt(e,"key");if(r.length===32){const o=Ka.getPublicKey(r,!!n);return nt(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=Ka.ProjectivePoint.fromHex(r);return nt(i.toRawBytes(n))}static recoverPublicKey(e,n){ue(xd(e)===32,"invalid digest length","digest",e);const r=kn.from(n);let i=Ka.Signature.fromCompact(Kr(Fn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(Kr(e));return ue(o!=null,"invalid signature for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=Ka.ProjectivePoint.fromHex(Zs.computePublicKey(e).substring(2)),o=Ka.ProjectivePoint.fromHex(Zs.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}}const Oce=BigInt(0),Bce=BigInt(36);function TR(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Lt(Xn(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const nT={};for(let t=0;t<10;t++)nT[String(t)]=String(t);for(let t=0;t<26;t++)nT[String.fromCharCode(65+t)]=String(10+t);const MR=15;function Fce(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>nT[r]).join("");for(;e.length>=MR;){let r=e.substring(0,MR);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const Lce=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function Dce(t){t=t.toLowerCase();let e=Oce;for(let n=0;n<t.length;n++)e=e*Bce+Lce[t[n]];return e}function sn(t){if(ue(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=TR(t);return ue(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ue(t.substring(2,4)===Fce(t),"bad icap checksum","address",t);let e=Dce(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return TR("0x"+e)}ue(!1,"invalid address","address",t)}function Uce(t){const e=sn(t.from);let r=gt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,sn(Pn(Xn(Rl([e,r])),12))}function R8(t){return t&&typeof t.getAddress=="function"}async function O1(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Be(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ue(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),sn(n)}function Yr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?sn(t):(Be(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),O1(t,e.resolveName(t)));if(R8(t))return O1(t,t.getAddress());if(t&&typeof t.then=="function")return O1(t,t);ue(!1,"unsupported addressable value","target",t)}const qs={};function pt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new On(qs,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Yt(t,e){return new On(qs,`bytes${e||""}`,t,{size:e})}const IR=Symbol.for("_ethers_typed");class On{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),Lw(qs,e,"Typed"),It(this,{_typedSymbol:IR,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new On(qs,e,n)}static uint8(e){return pt(e,8)}static uint16(e){return pt(e,16)}static uint24(e){return pt(e,24)}static uint32(e){return pt(e,32)}static uint40(e){return pt(e,40)}static uint48(e){return pt(e,48)}static uint56(e){return pt(e,56)}static uint64(e){return pt(e,64)}static uint72(e){return pt(e,72)}static uint80(e){return pt(e,80)}static uint88(e){return pt(e,88)}static uint96(e){return pt(e,96)}static uint104(e){return pt(e,104)}static uint112(e){return pt(e,112)}static uint120(e){return pt(e,120)}static uint128(e){return pt(e,128)}static uint136(e){return pt(e,136)}static uint144(e){return pt(e,144)}static uint152(e){return pt(e,152)}static uint160(e){return pt(e,160)}static uint168(e){return pt(e,168)}static uint176(e){return pt(e,176)}static uint184(e){return pt(e,184)}static uint192(e){return pt(e,192)}static uint200(e){return pt(e,200)}static uint208(e){return pt(e,208)}static uint216(e){return pt(e,216)}static uint224(e){return pt(e,224)}static uint232(e){return pt(e,232)}static uint240(e){return pt(e,240)}static uint248(e){return pt(e,248)}static uint256(e){return pt(e,256)}static uint(e){return pt(e,256)}static int8(e){return pt(e,-8)}static int16(e){return pt(e,-16)}static int24(e){return pt(e,-24)}static int32(e){return pt(e,-32)}static int40(e){return pt(e,-40)}static int48(e){return pt(e,-48)}static int56(e){return pt(e,-56)}static int64(e){return pt(e,-64)}static int72(e){return pt(e,-72)}static int80(e){return pt(e,-80)}static int88(e){return pt(e,-88)}static int96(e){return pt(e,-96)}static int104(e){return pt(e,-104)}static int112(e){return pt(e,-112)}static int120(e){return pt(e,-120)}static int128(e){return pt(e,-128)}static int136(e){return pt(e,-136)}static int144(e){return pt(e,-144)}static int152(e){return pt(e,-152)}static int160(e){return pt(e,-160)}static int168(e){return pt(e,-168)}static int176(e){return pt(e,-176)}static int184(e){return pt(e,-184)}static int192(e){return pt(e,-192)}static int200(e){return pt(e,-200)}static int208(e){return pt(e,-208)}static int216(e){return pt(e,-216)}static int224(e){return pt(e,-224)}static int232(e){return pt(e,-232)}static int240(e){return pt(e,-240)}static int248(e){return pt(e,-248)}static int256(e){return pt(e,-256)}static int(e){return pt(e,-256)}static bytes1(e){return Yt(e,1)}static bytes2(e){return Yt(e,2)}static bytes3(e){return Yt(e,3)}static bytes4(e){return Yt(e,4)}static bytes5(e){return Yt(e,5)}static bytes6(e){return Yt(e,6)}static bytes7(e){return Yt(e,7)}static bytes8(e){return Yt(e,8)}static bytes9(e){return Yt(e,9)}static bytes10(e){return Yt(e,10)}static bytes11(e){return Yt(e,11)}static bytes12(e){return Yt(e,12)}static bytes13(e){return Yt(e,13)}static bytes14(e){return Yt(e,14)}static bytes15(e){return Yt(e,15)}static bytes16(e){return Yt(e,16)}static bytes17(e){return Yt(e,17)}static bytes18(e){return Yt(e,18)}static bytes19(e){return Yt(e,19)}static bytes20(e){return Yt(e,20)}static bytes21(e){return Yt(e,21)}static bytes22(e){return Yt(e,22)}static bytes23(e){return Yt(e,23)}static bytes24(e){return Yt(e,24)}static bytes25(e){return Yt(e,25)}static bytes26(e){return Yt(e,26)}static bytes27(e){return Yt(e,27)}static bytes28(e){return Yt(e,28)}static bytes29(e){return Yt(e,29)}static bytes30(e){return Yt(e,30)}static bytes31(e){return Yt(e,31)}static bytes32(e){return Yt(e,32)}static address(e){return new On(qs,"address",e)}static bool(e){return new On(qs,"bool",!!e)}static bytes(e){return new On(qs,"bytes",e)}static string(e){return new On(qs,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new On(qs,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===IR}static dereference(e,n){if(On.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class zce extends Ia{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=On.dereference(n,"string");try{r=sn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return sn(Il(e.readValue(),20))}}class jce extends Ia{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function P8(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return Be(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),Be(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else ue(!1,"invalid tuple value","tuple",n);ue(e.length===r.length,"types/value length mismatch","tuple",n);let i=new KA,o=new KA,s=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let d=o.length;l.encode(o,u);let f=i.writeUpdatableValue();s.push(h=>{f(h+d)})}else l.encode(i,u)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function N8(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),l=i.subReader(a);try{s=o.decode(l)}catch(c){if(Sr(c,"BUFFER_OVERRUN"))throw c;s=c,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(Sr(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");n.push(s),r.push(o.localName||null)}),ia.fromItems(n,r)}class Hce extends Ia{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o),It(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=On.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),HU(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<r.length;s++)o.push(this.coder);return P8(e,o,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Be(n*Xr<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*Xr,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new jce(this.coder));return N8(e,r)}}class Gce extends Ia{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=On.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class k8 extends Ia{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Kr(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Wce extends k8{constructor(e){super("bytes",e)}decode(e){return nt(super.decode(e))}}class Vce extends Ia{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),It(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Kr(On.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return nt(e.readBytes(this.size))}}const $ce=new Uint8Array([]);class qce extends Ia{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes($ce)}decode(e){return e.readBytes(0),null}}const Qce=BigInt(0),Kce=BigInt(1),Xce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Yce extends Ia{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),It(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=gt(On.dereference(n,this.type)),i=vh(Xce,Xr*8);if(this.signed){let o=vh(i,this.size*8-1);(r>o||r<-(o+Kce))&&this._throwError("value out-of-bounds",n),r=VU(r,8*Xr)}else(r<Qce||r>vh(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=vh(e.readValue(),this.size*8);return this.signed&&(n=Qae(n,this.size*8)),n}}class Jce extends k8{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ua(On.dereference(n,"string")))}decode(e){return Xy(super.decode(e))}}class M0 extends Ia{coders;constructor(e,n){let r=!1;const i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r),It(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=On.dereference(n,"tuple");return P8(e,this.coders,r)}decode(e){return N8(e,this.coders)}}function B1(t,e){return{address:sn(t),storageKeys:e.map((n,r)=>(ue(mn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function mu(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ue(n.length===2,"invalid slot set",`value[${r}]`,n),B1(n[0],n[1])):(ue(n!=null&&typeof n=="object","invalid address-slot set","value",t),B1(n.address,n.storageKeys)));ue(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return B1(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function O8(t){return{address:sn(t.address),nonce:gt(t.nonce!=null?t.nonce:0),chainId:gt(t.chainId!=null?t.chainId:0),signature:kn.from(t.signature)}}function Zce(t){let e;return typeof t=="string"?e=Zs.computePublicKey(t,!1):e=t.publicKey,sn(Xn("0x"+e.substring(4)).substring(26))}function eue(t,e){return Zce(Zs.recoverPublicKey(t,e))}const hr=BigInt(0),tue=BigInt(2),nue=BigInt(27),rue=BigInt(28),iue=BigInt(35),oue=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),F1=4096*32;function sue(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Lt(t.blobToKzgCommitment(nt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Lt(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Lt(t.blobToKZGCommitment(nt(r)));ue(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Lt(t.computeBlobProof(nt(r),nt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Lt(t.computeBlobKZGProof(nt(r),nt(i)));ue(!1,"unsupported KZG library","kzg",t)}}}function RR(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=If(e).substring(4),"0x"+n}function Rf(t){return t==="0x"?null:sn(t)}function Gw(t,e){try{return mu(t)}catch(n){ue(!1,n.message,e,t)}}function aue(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Rf(i[1]),nonce:dn(i[2],"nonce"),chainId:dn(i[0],"chainId"),signature:kn.from({yParity:gu(i[3],"yParity"),r:ba(i[4],32),s:ba(i[5],32)})})}return n}catch(n){ue(!1,n.message,e,t)}}function gu(t,e){return t==="0x"?0:Dt(t,e)}function dn(t,e){if(t==="0x")return hr;const n=gt(t,e);return ue(n<=oue,"value exceeds uint size",e,n),n}function qt(t,e){const n=gt(t,"value"),r=sr(n);return ue(r.length<=32,"value too large",`tx.${e}`,n),r}function Ww(t){return mu(t).map(e=>[e.address,e.storageKeys])}function lue(t){return t.map(e=>[qt(e.chainId,"chainId"),e.address,qt(e.nonce,"nonce"),qt(e.signature.yParity,"yParity"),sr(e.signature.r),sr(e.signature.s)])}function cue(t,e){ue(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ue(mn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function uue(t){const e=Mm(t);ue(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:gu(e[0],"nonce"),gasPrice:dn(e[1],"gasPrice"),gasLimit:dn(e[2],"gasLimit"),to:Rf(e[3]),value:dn(e[4],"value"),data:nt(e[5]),chainId:hr};if(e.length===6)return n;const r=dn(e[6],"v"),i=dn(e[7],"r"),o=dn(e[8],"s");if(i===hr&&o===hr)n.chainId=r;else{let s=(r-iue)/tue;s<hr&&(s=hr),n.chainId=s,ue(s!==hr||r===nue||r===rue,"non-canonical legacy v","v",e[6]),n.signature=kn.from({r:ba(e[7],32),s:ba(e[8],32),v:r})}return n}function due(t,e){const n=[qt(t.nonce,"nonce"),qt(t.gasPrice||0,"gasPrice"),qt(t.gasLimit,"gasLimit"),t.to||"0x",qt(t.value,"value"),t.data];let r=hr;if(t.chainId!=hr)r=gt(t.chainId,"tx.chainId"),ue(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==hr&&(n.push(sr(r)),n.push("0x"),n.push("0x")),Rl(n);let i=BigInt(27+e.yParity);return r!==hr?i=kn.getChainIdV(r,e.v):BigInt(e.v)!==i&&ue(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(sr(i)),n.push(sr(e.r)),n.push(sr(e.s)),Rl(n)}function Vw(t,e){let n;try{if(n=gu(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ue(!1,"invalid yParity","yParity",e[0])}const r=ba(e[1],32),i=ba(e[2],32),o=kn.from({r,s:i,yParity:n});t.signature=o}function fue(t){const e=Mm(Lt(t).slice(1));ue(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",nt(t));const n={type:2,chainId:dn(e[0],"chainId"),nonce:gu(e[1],"nonce"),maxPriorityFeePerGas:dn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dn(e[4],"gasLimit"),to:Rf(e[5]),value:dn(e[6],"value"),data:nt(e[7]),accessList:Gw(e[8],"accessList")};return e.length===9||Vw(n,e.slice(9)),n}function hue(t,e){const n=[qt(t.chainId,"chainId"),qt(t.nonce,"nonce"),qt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),qt(t.maxFeePerGas||0,"maxFeePerGas"),qt(t.gasLimit,"gasLimit"),t.to||"0x",qt(t.value,"value"),t.data,Ww(t.accessList||[])];return e&&(n.push(qt(e.yParity,"yParity")),n.push(sr(e.r)),n.push(sr(e.s))),Fn(["0x02",Rl(n)])}function pue(t){const e=Mm(Lt(t).slice(1));ue(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",nt(t));const n={type:1,chainId:dn(e[0],"chainId"),nonce:gu(e[1],"nonce"),gasPrice:dn(e[2],"gasPrice"),gasLimit:dn(e[3],"gasLimit"),to:Rf(e[4]),value:dn(e[5],"value"),data:nt(e[6]),accessList:Gw(e[7],"accessList")};return e.length===8||Vw(n,e.slice(8)),n}function mue(t,e){const n=[qt(t.chainId,"chainId"),qt(t.nonce,"nonce"),qt(t.gasPrice||0,"gasPrice"),qt(t.gasLimit,"gasLimit"),t.to||"0x",qt(t.value,"value"),t.data,Ww(t.accessList||[])];return e&&(n.push(qt(e.yParity,"recoveryParam")),n.push(sr(e.r)),n.push(sr(e.s))),Fn(["0x01",Rl(n)])}function gue(t){let e=Mm(Lt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],s=e[2],a=e[3];ue(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),ue(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),ue(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),ue(o.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),ue(o.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:o[l],commitment:s[l],proof:a[l]});e=e[0]}ue(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",nt(t));const i={type:3,chainId:dn(e[0],"chainId"),nonce:gu(e[1],"nonce"),maxPriorityFeePerGas:dn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dn(e[4],"gasLimit"),to:Rf(e[5]),value:dn(e[6],"value"),data:nt(e[7]),accessList:Gw(e[8],"accessList"),maxFeePerBlobGas:dn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),ue(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),ue(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)ue(mn(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||Vw(i,e.slice(11)),i}function yue(t,e,n){const r=[qt(t.chainId,"chainId"),qt(t.nonce,"nonce"),qt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),qt(t.maxFeePerGas||0,"maxFeePerGas"),qt(t.gasLimit,"gasLimit"),t.to||Hp,qt(t.value,"value"),t.data,Ww(t.accessList||[]),qt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),cue(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(qt(e.yParity,"yParity")),r.push(sr(e.r)),r.push(sr(e.s)),n)?Fn(["0x03",Rl([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):Fn(["0x03",Rl(r)])}function vue(t){const e=Mm(Lt(t).slice(1));ue(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",nt(t));const n={type:4,chainId:dn(e[0],"chainId"),nonce:gu(e[1],"nonce"),maxPriorityFeePerGas:dn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:dn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:dn(e[4],"gasLimit"),to:Rf(e[5]),value:dn(e[6],"value"),data:nt(e[7]),accessList:Gw(e[8],"accessList"),authorizationList:aue(e[9],"authorizationList")};return e.length===10||Vw(n,e.slice(10)),n}function wue(t,e){const n=[qt(t.chainId,"chainId"),qt(t.nonce,"nonce"),qt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),qt(t.maxFeePerGas||0,"maxFeePerGas"),qt(t.gasLimit,"gasLimit"),t.to||"0x",qt(t.value,"value"),t.data,Ww(t.accessList||[]),lue(t.authorizationList||[])];return e&&(n.push(qt(e.yParity,"yParity")),n.push(sr(e.r)),n.push(sr(e.s))),Fn(["0x04",Rl(n)])}class ko{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;#f;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:ue(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Hp:e}set to(e){this.#t=e==null?null:sn(e)}get nonce(){return this.#r}set nonce(e){this.#r=Dt(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=gt(e)}get gasPrice(){const e=this.#s;return e==null&&(this.type===0||this.type===1)?hr:e}set gasPrice(e){this.#s=e==null?null:gt(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?hr:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:gt(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?hr:null)}set maxFeePerGas(e){this.#a=e==null?null:gt(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=nt(e)}get value(){return this.#p}set value(e){this.#p=gt(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=gt(e)}get signature(){return this.#m||null}set signature(e){this.#m=e==null?null:kn.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:mu(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>O8(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?hr:e}set maxFeePerBlobGas(e){this.#l=e==null?null:gt(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#c;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ue(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ue(mn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#c=e}get blobs(){return this.#f==null?null:this.#f.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#f=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(VC(o)){Be(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Lt(o);if(ue(s.length<=F1,"blob is too large",`blobs[${i}]`,o),s.length!==F1){const c=new Uint8Array(F1);c.set(s),s=c}const a=this.#d.blobToKzgCommitment(s),l=nt(this.#d.computeBlobKzgProof(s,a));n.push({data:nt(s),commitment:nt(a),proof:l}),r.push(RR(1,a))}else{const s=nt(o.commitment);n.push({data:nt(o.data),commitment:s,proof:nt(o.proof)}),r.push(RR(1,s))}}this.#f=n,this.#c=r}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=sue(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=hr,this.#s=null,this.#o=null,this.#a=null,this.#n="0x",this.#p=hr,this.#u=hr,this.#m=null,this.#h=null,this.#l=null,this.#c=null,this.#d=null,this.#f=null,this.#y=null}get hash(){return this.signature==null?null:Xn(this.#g(!0,!1))}get unsignedHash(){return Xn(this.unsignedSerialized)}get from(){return this.signature==null?null:eue(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Zs.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,n){Be(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return due(this,r);case 1:return mue(this,r);case 2:return hue(this,r);case 3:return yue(this,r,n?this.blobs:null);case 4:return wue(this,r)}Be(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Be(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Be(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Be(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):n?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ko.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ko;if(typeof e=="string"){const r=Lt(e);if(r[0]>=127)return ko.from(uue(r));switch(r[0]){case 1:return ko.from(pue(r));case 2:return ko.from(fue(r));case 3:return ko.from(gue(r));case 4:return ko.from(vue(r))}Be(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new ko;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=kn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ue(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ue(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ue(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ue(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function Yc(t){return Xn(ua(t))}var bue="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const PR=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NR=4;function xue(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let R=1;R<r;R++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let R=0;R<d;R++)y=y<<1|u();let g=[],v=0,b=f;for(;;){let R=Math.floor(((y-v+1)*i-1)/b),k=0,_=r;for(;_-k>1;){let P=k+_>>>1;R<o[P]?_=P:k=P}if(k==0)break;g.push(k);let I=v+Math.floor(b*o[k]/i),S=v+Math.floor(b*o[k+1]/i)-1;for(;!((I^S)&h);)y=y<<1&m|u(),I=I<<1&m,S=S<<1&m|1;for(;I&~S&p;)y=y&h|y<<1&m>>>1|u(),I=I<<1^h,S=(S^h)<<1|h|1;v=I,b=1+S-I}let x=r-4;return g.map(R=>{switch(R-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return R-1}})}function Eue(t){let e=0;return()=>t[e++]}function B8(t){return Eue(xue(Aue(t)))}function Aue(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function _ue(t){return t&1?~t>>1:t>>1}function Sue(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=_ue(e());return n}function Gp(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function F8(t){return Wp(()=>{let e=Gp(t);if(e.length)return e})}function L8(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Cue(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Tue(n,t))}return e.flat()}function Wp(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function D8(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Sue(t,n).forEach((o,s)=>r[s].push(o));return r}function Cue(t,e){let n=1+e(),r=e(),i=Wp(e);return D8(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function Tue(t,e){let n=1+e();return D8(n,1+t,e).map(i=>[i[0],i.slice(1)])}function Mue(t){let e=[],n=Gp(t);return i(r([]),[]),e;function r(o){let s=t(),a=Wp(()=>{let l=Gp(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function Iue(t){return t.toString(16).toUpperCase().padStart(2,"0")}function U8(t){return`{${Iue(t)}}`}function Rue(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Zd(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Pue(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var Nue="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Vp=44032,Jy=4352,Zy=4449,ev=4519,z8=19,j8=21,ef=28,tv=j8*ef,kue=z8*tv,Oue=Vp+kue,Bue=Jy+z8,Fue=Zy+j8,Lue=ev+ef;function wh(t){return t>>24&255}function H8(t){return t&16777215}let t_,kR,n_,zg;function Due(){let t=B8(Nue);t_=new Map(F8(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),kR=new Set(Gp(t)),n_=new Map,zg=new Map;for(let[e,n]of L8(t)){if(!kR.has(e)&&n.length==2){let[r,i]=n,o=zg.get(r);o||(o=new Map,zg.set(r,o)),o.set(i,e)}n_.set(e,n.reverse())}}function G8(t){return t>=Vp&&t<Oue}function Uue(t,e){if(t>=Jy&&t<Bue&&e>=Zy&&e<Fue)return Vp+(t-Jy)*tv+(e-Zy)*ef;if(G8(t)&&e>ev&&e<Lue&&(t-Vp)%ef==0)return t+(e-ev);{let n=zg.get(t);return n&&(n=n.get(e),n)?n:-1}}function W8(t){t_||Due();let e=[],n=[],r=!1;function i(o){let s=t_.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(G8(o)){let s=o-Vp,a=s/tv|0,l=s%tv/ef|0,c=s%ef;i(Jy+a),i(Zy+l),c>0&&i(ev+c)}else{let s=n_.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=wh(e[0]);for(let s=1;s<e.length;s++){let a=wh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=wh(e[--l]),o<=a))break}o=wh(e[s])}}return e}function zue(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=wh(o),a=H8(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=Uue(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function V8(t){return W8(t).map(H8)}function jue(t){return zue(W8(t))}const OR=45,$8=".",q8=65039,Q8=1,nv=t=>Array.from(t);function $p(t,e){return t.P.has(e)||t.Q.has(e)}class Hue extends Array{get is_emoji(){return!0}}let r_,K8,xc,i_,X8,Ed,L1,Wu,Zl,BR,o_;function rT(){if(r_)return;let t=B8(bue);const e=()=>Gp(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));r_=new Map(L8(t)),K8=n(),xc=e(),i_=new Set(e().map(u=>xc[u])),xc=new Set(xc),X8=n(),n();let i=F8(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};Ed=Wp(u=>{let d=Wp(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=Zd(d),f&&(d=`Restricted[${d}]`);let h=s(),p=s(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),L1=n(),Wu=new Map;let a=e().concat(nv(L1)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),L1.has(u)||Wu.set(u,h)});for(let{V:u,M:d}of new Set(Wu.values())){let f=[];for(let p of u){let m=Ed.filter(g=>$p(g,p)),y=f.find(({G:g})=>m.some(v=>g.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),r(y.G,m)}let h=f.flatMap(p=>nv(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(g=>!p.has(g)));for(let g of m)d.set(g,y)}}Zl=new Set;let l=new Set;const c=u=>Zl.has(u)?l.add(u):Zl.add(u);for(let u of Ed){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of Zl)!Wu.has(u)&&!l.has(u)&&Wu.set(u,Q8);r(Zl,V8(Zl)),BR=Mue(t).map(u=>Hue.from(u)).sort(Pue),o_=new Map;for(let u of BR){let d=[o_];for(let f of u){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===q8?d.push(...h):d=h}for(let f of d)f.V=u}}function iT(t){return(Y8(t)?"":`${oT($w([t]))} `)+U8(t)}function oT(t){return`"${t}"‎`}function Gue(t){if(t.length>=4&&t[2]==OR&&t[3]==OR)throw new Error(`invalid label extension: "${Zd(t.slice(0,4))}"`)}function Wue(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Vue(t){let e=t[0],n=PR.get(e);if(n)throw Hh(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=PR.get(e);if(s){if(i==o)throw Hh(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw Hh(`trailing ${n}`)}function $w(t,e=1/0,n=U8){let r=[];$ue(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];Y8(a)&&(r.push(Zd(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(Zd(t.slice(i,o))),r.join("")}function $ue(t){return rT(),xc.has(t)}function Y8(t){return rT(),X8.has(t)}function que(t){return Yue(Que(t,jue,ede))}function Que(t,e,n){if(!t)return[];rT();let r=0;return t.split($8).map(i=>{let o=Rue(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Zue(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(Wue(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))Gue(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(xc.has(u[0]))throw Hh("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&xc.has(y[0]))throw Hh(`emoji + combining mark: "${Zd(a[m-1])} + ${$w([y[0]])}"`)}Vue(u);let h=nv(new Set(f)),[p]=Xue(h);Jue(p,f),Kue(p,h),c=p.N}}s.type=c}catch(a){s.error=a}return s})}function Kue(t,e){let n,r=[];for(let i of e){let o=Wu.get(i);if(o===Q8)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):nv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>$p(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Xue(t){let e=Ed;for(let n of t){let r=e.filter(i=>$p(i,n));if(!r.length)throw Ed.some(i=>$p(i,n))?Z8(e[0],n):J8(n);if(e=r,r.length==1)break}return e}function Yue(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${oT($w(e,63))}: ${i}`)}return Zd(r)}).join($8)}function J8(t){return new Error(`disallowed character: ${iT(t)}`)}function Z8(t,e){let n=iT(e),r=Ed.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Hh(t){return new Error(`illegal placement: ${t}`)}function Jue(t,e){for(let n of e)if(!$p(t,n))throw Z8(t,n);if(t.M){let n=V8(e);for(let r=1,i=n.length;r<i;r++)if(i_.has(n[r])){let o=r+1;for(let s;o<i&&i_.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${iT(s)}`);if(o-r>NR)throw new Error(`excessive non-spacing marks: ${oT($w(n.slice(r-1,o)))} (${o-r}/${NR})`);r=o}}}function Zue(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=tde(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(Zl.has(s))i.push(s);else{let a=r_.get(s);if(a)i.push(...a);else if(!K8.has(s))throw J8(s)}}}return i.length&&r.push(e(i)),r}function ede(t){return t.filter(e=>e!=q8)}function tde(t,e){let n=o_,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const e7=new Uint8Array(32);e7.fill(0);function FR(t){return ue(t.length!==0,"invalid ENS name; empty component","comp",t),t}function t7(t){const e=ua(nde(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(FR(e.slice(r,i))),r=i+1);return ue(r<e.length,"invalid ENS name; empty component","name",t),n.push(FR(e.slice(r))),n}function nde(t){try{if(t.length===0)throw new Error("empty label");return que(t)}catch(e){ue(!1,`invalid ENS name (${e.message})`,"name",t)}}function s_(t){ue(typeof t=="string","invalid ENS name; not a string","name",t),ue(t.length,"invalid ENS name (empty label)","name",t);let e=e7;const n=t7(t);for(;n.length;)e=Xn(Fn([e,Xn(n.pop())]));return nt(e)}function rde(t,e){const n=e;return ue(n<=255,"DNS encoded label cannot exceed 255","length",n),nt(Fn(t7(t).map(r=>{ue(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const n7=new Uint8Array(32);n7.fill(0);const ide=BigInt(-1),r7=BigInt(0),i7=BigInt(1),ode=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function sde(t){const e=Lt(t),n=e.length%32;return n?Fn([e,n7.slice(n)]):nt(e)}const ade=Il(i7,32),lde=Il(r7,32),LR={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},D1=["name","version","chainId","verifyingContract","salt"];function DR(t){return function(e){return ue(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const cde={name:DR("name"),version:DR("version"),chainId:function(t){const e=gt(t,"domain.chainId");return ue(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Do(e)},verifyingContract:function(t){try{return sn(t).toLowerCase()}catch{}ue(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Lt(t,"domain.salt");return ue(e.length===32,'invalid domain value "salt"',"domain.salt",t),nt(e)}};function U1(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ue(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=vh(ode,n?r-1:r),o=n?(i+i7)*ide:r7;return function(s){const a=gt(s,"value");return ue(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),Il(n?VU(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ue(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Lt(r);return ue(i.length===n,`invalid length for ${t}`,"value",r),sde(r)}}}switch(t){case"address":return function(e){return ba(sn(e),32)};case"bool":return function(e){return e?ade:lde};case"bytes":return function(e){return Xn(e)};case"string":return function(e){return Yc(e)}}return null}function UR(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function I0(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Ni{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(l=>{o[l]=e[l].map(({name:c,type:u})=>{let{base:d,index:f}=I0(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),this.#e=JSON.stringify(o);for(const l in o){const c=new Set;for(const u of o[l]){ue(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const d=I0(u.type).base;ue(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!U1(d)&&(ue(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const s=Array.from(r.keys()).filter(l=>r.get(l).length===0);ue(s.length!==0,"missing primary type","types",e),ue(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),It(this,{primaryType:s[0]});function a(l,c){ue(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const d of c)i.get(d).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),this.#t.set(l,UR(l,o[l])+u.map(d=>UR(d,o[d])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=U1(e);if(i)return i}const n=I0(e).array;if(n){const i=n.prefix,o=this.getEncoder(i);return s=>{ue(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(Xn)),Xn(Fn(a))}}const r=this.types[e];if(r){const i=Yc(this.#t.get(e));return o=>{const s=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(o[a]);return this.#t.has(l)?Xn(c):c});return s.unshift(i),Fn(s)}}ue(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return ue(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Xn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(U1(e))return r(e,n);const i=I0(e).array;if(i)return ue(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(s=>this._visit(i.prefix,s,r));const o=this.types[e];if(o)return o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,n[a],r),s),{});ue(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ni(e)}static getPrimaryType(e){return Ni.from(e).primaryType}static hashStruct(e,n,r){return Ni.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=LR[r];ue(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>D1.indexOf(r.name)-D1.indexOf(i.name)),Ni.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Fn(["0x1901",Ni.hashDomain(e),Ni.from(n).hash(r)])}static hash(e,n,r){return Xn(Ni.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!mn(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=Ni.from(n);s.visit(r,(a,l)=>(a==="address"&&!mn(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Ni.hashDomain(e);const i={},o=[];D1.forEach(l=>{const c=e[l];c!=null&&(i[l]=cde[l](c),o.push({name:l,type:LR[l]}))});const s=Ni.from(n);n=s.types;const a=Object.assign({},n);return ue(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return nt(Lt(c));if(l.match(/^u?int/))return gt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return ue(typeof c=="string","invalid string","value",c),c}ue(!1,"unsupported type","type",l)})}}}function Jr(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const ude="external public payable override",dde=Jr(ude.split(" ")),o7="constant external internal payable private public pure view override",fde=Jr(o7.split(" ")),s7="constructor error event fallback function receive struct",a7=Jr(s7.split(" ")),l7="calldata memory storage payable indexed",hde=Jr(l7.split(" ")),pde="tuple returns",mde=[s7,l7,pde,o7].join(" "),gde=Jr(mde.split(" ")),yde={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},vde=new RegExp("^(\\s*)"),wde=new RegExp("^([0-9]+)"),bde=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),c7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),u7=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class xo{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new xo(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new xo(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function Dl(t){const e=[],n=s=>{const a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)};let r=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match(vde);a&&(o+=a[1].length,s=t.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let c=yde[s[0]]||"";if(c){if(l.type=c,l.text=s[0],o++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=Dt(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(bde),a){if(l.text=a[1],o+=l.text.length,gde.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(u7)){l.type="TYPE";continue}l.type="ID";continue}if(a=s.match(wde),a){l.text=a[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new xo(e.map(s=>Object.freeze(s)))}function zR(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function qw(t,e){if(e.peekKeyword(a7)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ea(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function d7(t){let e=Ea(t,fde);return zR(e,Jr("constant payable nonpayable".split(" "))),zR(e,Jr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function da(t,e){return t.popParams().map(n=>hn.from(n,e))}function f7(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return gt(t.pop().text);throw new Error("invalid gas")}return null}function Jc(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const xde=new RegExp(/^(.*)\[([0-9]*)\]$/);function jR(t){const e=t.match(u7);if(ue(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ue(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ue(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Sn={},Ti=Symbol.for("_ethers_internal"),HR="_ParamTypeInternal",GR="_ErrorInternal",WR="_EventInternal",VR="_ConstructorInternal",$R="_FallbackInternal",qR="_FunctionInternal",QR="_StructInternal";class hn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,o,s,a,l){if(Lw(e,Sn,"ParamType"),Object.defineProperty(this,Ti,{value:HR}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");It(this,{name:n,type:r,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{s.#e(e,l,r,u=>{a[c]=u})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=s.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{s[c].#e(e,l,r,u=>{a[c]=u})}),i(a);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(hn.isParamType(e))return e;if(typeof e=="string")try{return hn.from(Dl(e),n)}catch{ue(!1,"invalid param type","obj",e)}else if(e instanceof xo){let a="",l="",c=null;Ea(e,Jr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(m=>hn.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=jR(e.popType("TYPE")),l=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new hn(Sn,"",a,l,null,c,d,u),d=m.value,a+=m.text,l="array",c=null}let f=null;if(Ea(e,hde).has("indexed")){if(!n)throw new Error("");f=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new hn(Sn,p,a,l,f,c,d,u)}const r=e.name;ue(!r||typeof r=="string"&&r.match(c7),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(ue(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(xde);if(s){const a=parseInt(s[2]||"-1"),l=hn.from({type:s[1],components:e.components});return new hn(Sn,r||"",o,"array",i,null,a,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(c=>hn.from(c)):null;return new hn(Sn,r||"",o,"tuple",i,a,null,null)}return o=jR(e.type),new hn(Sn,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Ti]===HR}}class Zc{type;inputs;constructor(e,n,r){Lw(e,Sn,"Fragment"),r=Object.freeze(r.slice()),It(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Zc.from(JSON.parse(e))}catch{}return Zc.from(Dl(e))}if(e instanceof xo)switch(e.peekKeyword(a7)){case"constructor":return oa.from(e);case"error":return fi.from(e);case"event":return gs.from(e);case"fallback":case"receive":return Xs.from(e);case"function":return ys.from(e);case"struct":return Nc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return oa.from(e);case"error":return fi.from(e);case"event":return gs.from(e);case"fallback":case"receive":return Xs.from(e);case"function":return ys.from(e);case"struct":return Nc.from(e)}Be(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ue(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return oa.isFragment(e)}static isError(e){return fi.isFragment(e)}static isEvent(e){return gs.isFragment(e)}static isFunction(e){return ys.isFragment(e)}static isStruct(e){return Nc.isFragment(e)}}class Qw extends Zc{name;constructor(e,n,r,i){super(e,n,i),ue(typeof r=="string"&&r.match(c7),"invalid identifier","name",r),i=Object.freeze(i.slice()),It(this,{name:r})}}function qp(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class fi extends Qw{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Ti,{value:GR})}get selector(){return Yc(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+qp(e,this.inputs)),n.join(" ")}static from(e){if(fi.isFragment(e))return e;if(typeof e=="string")return fi.from(Dl(e));if(e instanceof xo){const n=qw("error",e),r=da(e);return Jc(e),new fi(Sn,n,r)}return new fi(Sn,e.name,e.inputs?e.inputs.map(hn.from):[])}static isFragment(e){return e&&e[Ti]===GR}}class gs extends Qw{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,Ti,{value:WR}),It(this,{anonymous:i})}get topicHash(){return Yc(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+qp(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>hn.from(i)),new gs(Sn,e,n,!1).topicHash}static from(e){if(gs.isFragment(e))return e;if(typeof e=="string")try{return gs.from(Dl(e))}catch{ue(!1,"invalid event fragment","obj",e)}else if(e instanceof xo){const n=qw("event",e),r=da(e,!0),i=!!Ea(e,Jr(["anonymous"])).has("anonymous");return Jc(e),new gs(Sn,n,r,i)}return new gs(Sn,e.name,e.inputs?e.inputs.map(n=>hn.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Ti]===WR}}class oa extends Zc{payable;gas;constructor(e,n,r,i,o){super(e,n,r),Object.defineProperty(this,Ti,{value:VR}),It(this,{payable:i,gas:o})}format(e){if(Be(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${qp(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(oa.isFragment(e))return e;if(typeof e=="string")try{return oa.from(Dl(e))}catch{ue(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof xo){Ea(e,Jr(["constructor"]));const n=da(e),r=!!Ea(e,dde).has("payable"),i=f7(e);return Jc(e),new oa(Sn,"constructor",n,r,i)}return new oa(Sn,"constructor",e.inputs?e.inputs.map(hn.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ti]===VR}}class Xs extends Zc{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,Ti,{value:$R}),It(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(Xs.isFragment(e))return e;if(typeof e=="string")try{return Xs.from(Dl(e))}catch{ue(!1,"invalid fallback fragment","obj",e)}else if(e instanceof xo){const n=e.toString(),r=e.peekKeyword(Jr(["fallback","receive"]));if(ue(r,"type must be fallback or receive","obj",n),e.popKeyword(Jr(["fallback","receive"]))==="receive"){const a=da(e);return ue(a.length===0,"receive cannot have arguments","obj.inputs",a),Ea(e,Jr(["payable"])),Jc(e),new Xs(Sn,[],!0)}let o=da(e);o.length?ue(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[hn.from("bytes")];const s=d7(e);if(ue(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),Ea(e,Jr(["returns"])).has("returns")){const a=da(e);ue(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return Jc(e),new Xs(Sn,o,s==="payable")}if(e.type==="receive")return new Xs(Sn,[],!0);if(e.type==="fallback"){const n=[hn.from("bytes")],r=e.stateMutability==="payable";return new Xs(Sn,n,r)}ue(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Ti]===$R}}class ys extends Qw{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,o,s){super(e,"function",n,i),Object.defineProperty(this,Ti,{value:qR}),o=Object.freeze(o.slice()),It(this,{constant:r==="view"||r==="pure",gas:s,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return Yc(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+qp(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(qp(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>hn.from(i)),new ys(Sn,e,"view",n,[],null).selector}static from(e){if(ys.isFragment(e))return e;if(typeof e=="string")try{return ys.from(Dl(e))}catch{ue(!1,"invalid function fragment","obj",e)}else if(e instanceof xo){const r=qw("function",e),i=da(e),o=d7(e);let s=[];Ea(e,Jr(["returns"])).has("returns")&&(s=da(e));const a=f7(e);return Jc(e),new ys(Sn,r,o,i,s,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new ys(Sn,e.name,n,e.inputs?e.inputs.map(hn.from):[],e.outputs?e.outputs.map(hn.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ti]===qR}}class Nc extends Qw{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Ti,{value:QR})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Nc.from(Dl(e))}catch{ue(!1,"invalid struct fragment","obj",e)}else if(e instanceof xo){const n=qw("struct",e),r=da(e);return Jc(e),new Nc(Sn,n,r)}return new Nc(Sn,e.name,e.inputs?e.inputs.map(hn.from):[])}static isFragment(e){return e&&e[Ti]===QR}}const Zo=new Map;Zo.set(0,"GENERIC_PANIC");Zo.set(1,"ASSERT_FALSE");Zo.set(17,"OVERFLOW");Zo.set(18,"DIVIDE_BY_ZERO");Zo.set(33,"ENUM_RANGE_ERROR");Zo.set(34,"BAD_STORAGE_DATA");Zo.set(49,"STACK_UNDERFLOW");Zo.set(50,"ARRAY_RANGE_ERROR");Zo.set(65,"OUT_OF_MEMORY");Zo.set(81,"UNINITIALIZED_FUNCTION_CALL");const Ede=new RegExp(/^bytes([0-9]*)$/),Ade=new RegExp(/^(u?int)([0-9]*)$/);let z1=null,KR=1024;function _de(t,e,n,r){let i="missing revert data",o=null;const s=null;let a=null;if(n){i="execution reverted";const c=Lt(n);if(n=nt(n),c.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(nt(c.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(nt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${Zo.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?sn(e.to):null,data:e.data||"0x"};return e.from&&(l.from=sn(e.from)),xn(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:l,invocation:s,revert:a})}class tf{#e(e){if(e.isArray())return new Hce(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new M0(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new zce(e.name);case"bool":return new Gce(e.name);case"string":return new Jce(e.name);case"bytes":return new Wce(e.name);case"":return new qce(e.name)}let n=e.type.match(Ade);if(n){let r=parseInt(n[2]||"256");return ue(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new Yce(r/8,n[1]==="int",e.name)}if(n=e.type.match(Ede),n){let r=parseInt(n[1]);return ue(r!==0&&r<=32,"invalid bytes length","param",e),new Vce(r,e.name)}ue(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(hn.from(i)));return new M0(n,"_").defaultValue()}encode(e,n){HU(n.length,e.length,"types/values length mismatch");const r=e.map(s=>this.#e(hn.from(s))),i=new M0(r,"_"),o=new KA;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(s=>this.#e(hn.from(s)));return new M0(i,"_").decode(new qC(n,r,KR))}static _setDefaultMaxInflation(e){ue(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),KR=e}static defaultAbiCoder(){return z1==null&&(z1=new tf),z1}static getBuiltinCallException(e,n,r){return _de(e,n,r,tf.defaultAbiCoder())}}class Sde{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,o=e.format();It(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class Cde{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const o=e.name,s=e.format();It(this,{fragment:e,name:o,args:r,signature:s,selector:n,value:i})}}class Tde{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,o=e.format();It(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class XR{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){It(this,{hash:e,_isIndexed:!0})}}const YR={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},JR={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&YR[t.toString()]&&(e=YR[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class ic{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const s of n)try{r.push(Zc.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}It(this,{fragments:Object.freeze(r)});let i=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let l;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}It(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(ue(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const c=s.format();l.has(c)||l.set(c,s)}),this.deploy||It(this,{deploy:oa.from("constructor()")}),It(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return tf.defaultAbiCoder()}#i(e,n,r){if(mn(e)){const o=e.toLowerCase();for(const s of this.#n.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#n)s.split("(")[0]===e&&o.push(a);if(n){const s=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;On.isTyped(s)&&s.type==="overrides"&&(l=!1,a--);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs.length;u!==a&&(!l||u!==a-1)&&o.splice(c,1)}for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let d=0;d<n.length;d++)if(On.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;o.splice(c,1);break}if(n[d].type!==u[d].baseType){o.splice(c,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const s=n[n.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");ue(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#n.get(ys.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return ue(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#s(e,n,r){if(mn(e)){const o=e.toLowerCase();for(const s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(n){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<n.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){const a=o[s].inputs;for(let l=0;l<n.length;l++)if(On.isTyped(n[l])&&n[l].type!==a[l].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");ue(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#t.get(gs.from(e).format());return i||null}getEventName(e){const n=this.#s(e,null,!1);return ue(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,n){return this.#s(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(mn(e)){const i=e.toLowerCase();if(JR[i])return fi.from(JR[i].signature);for(const o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?fi.from("error Error(string)"):e==="Panic"?fi.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(s=>JSON.stringify(s.format())).join(", ");ue(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=fi.from(e).format(),e==="Error(string)")return fi.from("error Error(string)");if(e==="Panic(uint256)")return fi.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ue(r,"unknown error","fragment",e),e=r}return ue(Pn(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Pn(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ue(r,"unknown error","fragment",e),e=r}return Fn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ue(r,"unknown function","fragment",e),e=r}return ue(Pn(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Pn(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ue(r,"unknown function","fragment",e),e=r}return Fn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);ue(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=Kr(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}Be(!1,r,"BAD_DATA",{value:nt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Lt(e,"data"),i=tf.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=nt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=this.#r.decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(n);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ue(r,"unknown function","fragment",e),e=r}return nt(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);ue(o,"unknown event","eventFragment",e),e=o}Be(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,s)=>o.type==="string"?Yc(s):o.type==="bytes"?Xn(nt(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=Il(s):o.type.match(/^bytes/)?s=qae(s,32):o.type==="address"&&this.#r.encode(["address"],[s]),ba(nt(s),32));for(n.forEach((o,s)=>{const a=e.inputs[s];if(!a.indexed){ue(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?ue(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(l=>i(a,l))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const s=this.getEvent(e);ue(s,"unknown event","eventFragment",e),e=s}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),ue(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{const l=n[a];if(s.indexed)if(s.type==="string")r.push(Yc(l));else if(s.type==="bytes")r.push(Xn(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this.#r.encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const h=this.getEvent(e);ue(h,"unknown event","eventFragment",e),e=h}if(r!=null&&!e.anonymous){const h=e.topicHash;ue(mn(r[0],32)&&r[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],s=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(hn.from({type:"bytes32",name:h.name})),s.push(!0)):(i.push(h),s.push(!1)):(o.push(h),s.push(!1))});const a=r!=null?this.#r.decode(i,Fn(r)):null,l=this.#r.decode(o,n,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((h,p)=>{let m=null;if(h.indexed)if(a==null)m=new XR(null);else if(s[p])m=new XR(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=l[d++]}catch(y){m=y}c.push(m),u.push(h.name||null)}),ia.fromItems(c,u)}parseTransaction(e){const n=Lt(e.data,"tx.data"),r=gt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(nt(n.slice(0,4)));if(!i)return null;const o=this.#r.decode(i.inputs,n.slice(4));return new Cde(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Sde(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=nt(e),r=this.getError(Pn(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Pn(n,4));return new Tde(r,r.selector,i)}static from(e){return e instanceof ic?e:typeof e=="string"?new ic(JSON.parse(e)):typeof e.formatJson=="function"?new ic(e.formatJson()):typeof e.format=="function"?new ic(e.format("json")):new ic(e)}}const h7=BigInt(0);function Ad(t){return t??null}function jn(t){return t==null?null:t.toString()}class ZR{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){It(this,{gasPrice:Ad(e),maxFeePerGas:Ad(n),maxPriorityFeePerGas:Ad(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:jn(e),maxFeePerGas:jn(n),maxPriorityFeePerGas:jn(r)}}}function rv(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=nt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=gt(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Dt(t[i],`request.${i}`));return t.accessList&&(e.accessList=mu(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>VC(i)?nt(i):Object.assign({},i))),e}class Mde{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new Pm(r,n):r),It(this,{provider:n,hash:Ad(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ad(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ad(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(Be(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:jn(e),difficulty:jn(n),extraData:r,gasLimit:jn(i),gasUsed:jn(o),blobGasUsed:jn(this.blobGasUsed),excessBlobGas:jn(this.excessBlobGas),hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ue(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Ide(this)}}class Rm{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());It(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Be(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Be(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Be(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Rde(this)}}class p7{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new Rm(i,n)));let r=h7;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),It(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:jn(this.cumulativeGasUsed),from:n,gasPrice:jn(this.gasPrice),blobGasUsed:jn(this.blobGasUsed),blobGasPrice:jn(this.blobGasPrice),gasUsed:jn(this.gasUsed),hash:i,index:o,logs:c,logsBloom:l,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return g7(this)}reorderedEvent(e){return Be(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),m7(this,e)}}class Pm{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:s,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:jn(this.chainId),data:c,from:a,gasLimit:jn(this.gasLimit),gasPrice:jn(this.gasPrice),hash:i,maxFeePerGas:jn(this.maxFeePerGas),maxPriorityFeePerGas:jn(this.maxPriorityFeePerGas),maxFeePerBlobGas:jn(this.maxFeePerBlobGas),nonce:l,signature:u,to:s,index:r,type:o,value:jn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Wr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=this.#e,s=-1,a=o===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await Wr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){o=f;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=f;){if(a)return null;const m=await this.provider.getBlock(s,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const g=await m.getTransaction(y);if(g.from===this.from&&g.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(g.hash);if(v==null||f-v.blockNumber+1<r)return;let b="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?b="repriced":g.data==="0x"&&g.from===g.to&&g.value===h7&&(b="cancelled"),Be(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:g.replaceableTransaction(o),hash:g.hash,receipt:v})}}s++}},c=f=>{if(f==null||f.status!==0)return f;Be(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,h)=>{const p=[],m=()=>{p.forEach(g=>g())};if(p.push(()=>{a=!0}),i>0){const g=setTimeout(()=>{m(),h(xn("wait for transaction timeout","TIMEOUT"))},i);p.push(()=>{clearTimeout(g)})}const y=async g=>{if(await g.confirmations()>=r){m();try{f(c(g))}catch(v){h(v)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){const g=async()=>{try{await l()}catch(v){if(Sr(v,"TRANSACTION_REPLACED")){m(),h(v);return}}a||this.provider.once("block",g)};p.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Be(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),g7(this)}reorderedEvent(e){return Be(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Be(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),m7(this,e)}replaceableTransaction(e){ue(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Pm(this,this.provider);return n.#e=e,n}}function Ide(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function m7(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function g7(t){return{orphan:"drop-transaction",tx:t}}function Rde(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class sT extends Rm{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);It(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class y7 extends Rm{error;constructor(e,n){super(e,e.provider),It(this,{error:n})}}class Pde extends p7{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new sT(e,this.#e,n)}catch(r){return new y7(e,r)}return e})}}class aT extends Pm{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new Pde(this.#e,this.provider,r)}}class v7 extends $U{log;constructor(e,n,r,i){super(e,n,r),It(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Nde extends v7{constructor(e,n,r,i,o){super(e,n,r,new sT(o,e.interface,i));const s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);It(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const eP=BigInt(0);function w7(t){return t&&typeof t.call=="function"}function b7(t){return t&&typeof t.estimateGas=="function"}function Kw(t){return t&&typeof t.resolveName=="function"}function x7(t){return t&&typeof t.sendTransaction=="function"}function E7(t){if(t!=null){if(Kw(t))return t;if(t.provider)return t.provider}}class kde{#e;fragment;constructor(e,n,r){if(It(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=eu(e.runner,"resolveName"),o=Kw(i)?i:null;this.#e=async function(){const s=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>Yr(f,o))):Yr(d,o):d)));return e.interface.encodeFilterTopics(n,s)}()}getTopicFilter(){return this.#e}}function eu(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Ec(t){return t==null?null:t.provider||null}async function A7(t,e){const n=On.dereference(t,"overrides");ue(typeof n=="object","invalid overrides parameter","overrides",t);const r=rv(n);return ue(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ue(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Ode(t,e,n){const r=eu(t,"resolveName"),i=Kw(r)?r:null;return await Promise.all(e.map((o,s)=>o.walkAsync(n[s],(a,l)=>(l=On.dereference(l,a),a==="address"?Yr(l,i):l))))}function Bde(t){const e=async function(s){const a=await A7(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Yr(a.from,E7(t.runner)));const l=t.interface,c=gt(a.value||eP,"overrides.value")===eP,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&ue(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),ue(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return ue(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),ue(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(s){const a=eu(t.runner,"call");Be(w7(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(s);try{return await a.call(l)}catch(c){throw WC(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(s){const a=t.runner;Be(x7(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(s)),c=Ec(t.runner);return new aT(t.interface,c,l)},i=async function(s){const a=eu(t.runner,"estimateGas");return Be(b7(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await r(s);return It(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function Fde(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return Be(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let d={};if(u.inputs.length+1===c.length&&(d=await A7(c.pop()),d.from&&(d.from=await Yr(d.from,E7(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await Ode(t.runner,u.inputs,c);return Object.assign({},d,await Wr({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},o=async function(...c){const u=t.runner;Be(x7(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=Ec(t.runner);return new aT(t.interface,f,d)},s=async function(...c){const u=eu(t.runner,"estimateGas");return Be(b7(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=eu(t.runner,"call");Be(w7(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(p){throw WC(p)&&p.data?t.interface.makeError(p.data,d):p}const h=n(...c);return t.interface.decodeFunctionResult(h,f)},l=async(...c)=>n(...c).constant?await i(...c):await o(...c);return It(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:s,populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return Be(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function Lde(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return Be(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new kde(t,n(...i),i)};return It(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Be(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const iv=Symbol.for("_ethersInternal_contract"),_7=new WeakMap;function Dde(t,e){_7.set(t[iv],e)}function ki(t){return _7.get(t[iv])}function Ude(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function lT(t,e){let n,r=null;if(Array.isArray(e)){const o=function(s){if(mn(s,32))return s;const a=t.interface.getEvent(s);return ue(a,"unknown fragment","name",s),a.topicHash};n=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?n=[null]:typeof e=="string"?mn(e,32)?n=[e]:(r=t.interface.getEvent(e),ue(r,"unknown fragment","event",e),n=[r.topicHash]):Ude(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ue(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function bh(t,e){const{subs:n}=ki(t);return n.get((await lT(t,e)).tag)||null}async function tP(t,e,n){const r=Ec(t.runner);Be(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:s}=await lT(t,n),{addr:a,subs:l}=ki(t);let c=l.get(o);if(!c){const d={address:a||t,topics:s},f=y=>{let g=i;if(g==null)try{g=t.interface.getEvent(y.topics[0])}catch{}if(g){const v=g,b=i?t.interface.decodeEventLog(i,y.data,y.topics):[];l_(t,n,b,x=>new Nde(t,x,n,v,y))}else l_(t,n,[],v=>new v7(t,v,n,y))};let h=[];c={tag:o,listeners:[],start:()=>{h.length||h.push(r.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),r.off(d,f)}},l.set(o,c)}return c}let a_=Promise.resolve();async function zde(t,e,n,r){await a_;const i=await bh(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:s));try{s.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),ki(t).subs.delete(i.tag)),o>0}async function l_(t,e,n,r){try{await a_}catch{}const i=zde(t,e,n,r);return a_=i,await i}const R0=["then"];class Gh{target;interface;runner;filters;[iv];fallback;constructor(e,n,r,i){ue(typeof e=="string"||R8(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=ic.from(n);It(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,iv,{value:{}});let s,a=null,l=null;if(i){const d=Ec(r);l=new aT(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(mn(e))a=e,s=Promise.resolve(e);else{const d=eu(r,"resolveName");if(!Kw(d))throw xn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(f=>{if(f==null)throw xn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ki(this).addr=f,f})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return ki(this).addr=d,d});Dde(this,{addrPromise:s,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||R0.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(p){if(!Sr(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>R0.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return It(this,{filters:u}),It(this,{fallback:o.receive||o.fallback?Bde(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||R0.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(p){if(!Sr(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>typeof f=="symbol"||f in d||R0.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new Gh(this.target,this.interface,e)}attach(e){return new Gh(e,this.interface,this.runner)}async getAddress(){return await ki(this).addrPromise}async getDeployedCode(){const e=Ec(this.runner);Be(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Ec(this.runner);return Be(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return ki(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Fde(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Lde(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=ki(this),s=i||await o,{fragment:a,topics:l}=await lT(this,e),c={address:s,topics:l,fromBlock:n,toBlock:r},u=Ec(this.runner);return Be(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new sT(d,this.interface,f)}catch(h){return new y7(d,h)}return new Rm(d,u)})}async on(e,n){const r=await tP(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await tP(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await l_(this,e,n,null)}async listenerCount(e){if(e){const i=await bh(this,e);return i?i.listeners.length:0}const{subs:n}=ki(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await bh(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=ki(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await bh(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),ki(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await bh(this,e);if(!n)return this;n.stop(),ki(this).subs.delete(n.tag)}else{const{subs:n}=ki(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Gh{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function jde(){return Gh}class Wh extends jde(){}function j1(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ue(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Hde{name;constructor(e){It(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const S7=new RegExp("^(ipfs)://(.*)$","i"),nP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),S7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class _d{provider;address;name;#e;#t;constructor(e,n,r){It(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new Wh(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Sr(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(s_(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),Be(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[rde(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await this.#t[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Sr(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===Hp?null:o}catch(o){if(Sr(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const s=await this.#n("addr(bytes32,uint)",[o]);if(mn(s,20))return sn(s)}let n=null;for(const o of this.provider.plugins)if(o instanceof Hde&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;Be(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${Xae("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Be(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<nP.length;r++){const i=n.match(nP[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const s=j1(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new Wh(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(c);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(a,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",Il(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=j1(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new xa(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const g=h.body;return g&&e.push({type:"!metadata",value:nt(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(S7)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=j1(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Be(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await _d.getEnsAddress(e);try{const o=await new Wh(r,["function resolver(bytes32) view returns (address)"],e).resolver(s_(n),{enableCcipRead:!0});return o===Hp?null:o}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await _d.#r(e,r);if(i!=null){const o=new _d(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const rP=BigInt(0);function $t(t,e){return function(n){return n==null?e:t(n)}}function Qp(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function Nm(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const s of e[i])if(s in n){o=s;break}}try{const s=t[i](n[o]);s!==void 0&&(r[i]=s)}catch(s){const a=s instanceof Error?s.message:"not-an-error";Be(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function Gde(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ue(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function nf(t){return ue(mn(t,!0),"invalid data","value",t),t}function Ar(t){return ue(mn(t,32),"invalid hash","value",t),t}const Wde=Nm({address:sn,blockHash:Ar,blockNumber:Dt,data:nf,index:Dt,removed:$t(Gde,!1),topics:Qp(Ar),transactionHash:Ar,transactionIndex:Dt},{index:["logIndex"]});function Vde(t){return Wde(t)}const $de=Nm({hash:$t(Ar),parentHash:Ar,parentBeaconBlockRoot:$t(Ar,null),number:Dt,timestamp:Dt,nonce:$t(nf),difficulty:gt,gasLimit:gt,gasUsed:gt,stateRoot:$t(Ar,null),receiptsRoot:$t(Ar,null),blobGasUsed:$t(gt,null),excessBlobGas:$t(gt,null),miner:$t(sn),prevRandao:$t(Ar,null),extraData:nf,baseFeePerGas:$t(gt)},{prevRandao:["mixHash"]});function qde(t){const e=$de(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:C7(n)),e}const Qde=Nm({transactionIndex:Dt,blockNumber:Dt,transactionHash:Ar,address:sn,topics:Qp(Ar),data:nf,index:Dt,blockHash:Ar},{index:["logIndex"]});function Kde(t){return Qde(t)}const Xde=Nm({to:$t(sn,null),from:$t(sn,null),contractAddress:$t(sn,null),index:Dt,root:$t(nt),gasUsed:gt,blobGasUsed:$t(gt,null),logsBloom:$t(nf),blockHash:Ar,hash:Ar,logs:Qp(Kde),blockNumber:Dt,cumulativeGasUsed:gt,effectiveGasPrice:$t(gt),blobGasPrice:$t(gt,null),status:$t(Dt),type:$t(Dt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Yde(t){return Xde(t)}function C7(t){t.to&&gt(t.to)===rP&&(t.to="0x0000000000000000000000000000000000000000");const e=Nm({hash:Ar,index:$t(Dt,void 0),type:n=>n==="0x"||n==null?0:Dt(n),accessList:$t(mu,null),blobVersionedHashes:$t(Qp(Ar,!0),null),authorizationList:$t(Qp(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:sn(n.address),chainId:gt(n.chainId),nonce:gt(n.nonce),signature:kn.from(r)}},!1),null),blockHash:$t(Ar,null),blockNumber:$t(Dt,null),transactionIndex:$t(Dt,null),from:sn,gasPrice:$t(gt),maxPriorityFeePerGas:$t(gt),maxFeePerGas:$t(gt),maxFeePerBlobGas:$t(gt,null),gasLimit:gt,to:$t(sn,null),value:gt,nonce:Dt,data:nf,creates:$t(sn,null),chainId:$t(gt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Uce(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=kn.from(t.signature):e.signature=kn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&gt(e.blockHash)===rP&&(e.blockHash=null),e}const Jde="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class km{name;constructor(e){It(this,{name:e})}clone(){return new km(this.name)}}class Xw extends km{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(o,s){let a=(n||{})[o];a==null&&(a=s),ue(typeof a=="number",`invalud value for ${o}`,"costs",n),r[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),It(this,r)}clone(){return new Xw(this.effectiveBlock,this)}}class Yw extends km{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),It(this,{address:e||Jde,targetNetwork:n??1})}clone(){return new Yw(this.address,this.targetNetwork)}}class Zde extends km{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const H1=new Map;class zi{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=gt(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=gt(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===gt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===gt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===gt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new zi(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Xw;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=mu(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(efe(),e==null)return zi.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=H1.get(e);if(n)return n();if(typeof e=="bigint")return new zi("unknown",e);ue(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ue(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new zi(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Yw(e.ensAddress,e.ensNetwork)),n}ue(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=H1.get(e);r&&ue(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),H1.set(e,n)}}function iP(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function oP(t){return new Zde(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,s]=await Promise.all([r.send(),e()]);i=o;const a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:iP(a.maxFee,9),maxPriorityFeePerGas:iP(a.maxPriorityFee,9)}}catch(o){Be(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}let sP=!1;function efe(){if(sP)return;sP=!0;function t(e,n,r){const i=function(){const o=new zi(e,n);return r.ensNetwork!=null&&o.attachPlugin(new Yw(null,r.ensNetwork)),o.attachPlugin(new Xw),(r.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};zi.register(e,i),zi.register(n,i),r.altNames&&r.altNames.forEach(o=>{zi.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[oP("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[oP("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function c_(t){return JSON.parse(JSON.stringify(t))}class tfe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class cT{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class nfe extends cT{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class rfe extends cT{#e;constructor(e,n){super(e),this.#e=c_(n)}async _poll(e,n){throw new Error("@TODO")}}class ife extends cT{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class uT{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=c_(n),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}async#s(e){if(this.#i===-2)return;const n=c_(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const ofe=BigInt(2),sfe=10;function P0(t){return t&&typeof t.then=="function"}function jg(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,s)=>(o[s]=r[s],o),{})}return r})}class T7{name;constructor(e){It(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function afe(t){return JSON.parse(JSON.stringify(t))}function u_(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function G1(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(mn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:jg("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:jg("orphan",n),filter:afe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?u_(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],s=a=>{mn(a)?i.push(a):o.push((async()=>{i.push(await Yr(a,e))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),o.length&&await Promise.all(o),r.address=u_(i.map(a=>a.toLowerCase()))}return{filter:r,tag:jg("event",r),type:"event"}}ue(!1,"unknown ProviderEvent","event",t)}function W1(){return new Date().getTime()}const lfe={cacheTimeout:250,pollingInterval:4e3};class cfe{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;constructor(e,n){if(this.#h=Object.assign({},lfe,n||{}),e==="any")this.#s=!0,this.#i=null;else if(e){const r=zi.from(e);this.#s=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#p=1,this.#u=new Map,this.#m=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#m}set disableCcipRead(e){this.#m=!!e}async#l(e){const n=this.#h.cacheTimeout;if(n<0)return await this._perform(e);const r=jg(e.method,e);let i=this.#o.get(r);return i||(i=this._perform(e),this.#o.set(r,i),setTimeout(()=>{this.#o.get(r)===i&&this.#o.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",o),u=new xa(c);l.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=await u.send()}catch(h){s.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:h})}catch{}Be(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),s.push(d)}Be(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,n){return new Mde(qde(e),this)}_wrapLog(e,n){return new Rm(Vde(e),this)}_wrapTransactionReceipt(e,n){return new p7(Yde(e),this)}_wrapTransactionResponse(e,n){return new Pm(C7(e),this)}_detectNetwork(){Be(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Be(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Dt(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return Yr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(mn(e))return mn(e,32)?e:Do(e);if(typeof e=="bigint"&&(e=Dt(e,"blockTag")),typeof e=="number")return e>=0?Do(e):this.#a>=0?Do(this.#a+e):this.getBlockNumber().then(n=>Do(n+e));ue(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?u_(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(l=>i(l[0],l[1],l[2])):i(o,s,a)}_getTransactionRequest(e){const n=rv(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=Yr(n[i],this);P0(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);P0(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#s?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):Be(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o,priorityFee:s}=await Wr({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const u=await this.#l({method:"getGasPrice"});return gt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#l({method:"getPriorityFee"});return gt(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=s??BigInt("1000000000"),a=c.baseFeePerGas*ofe+l),new ZR(o,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new xa(r.url),o=await r.processFunc(n,this,i);return new ZR(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return P0(n)&&(n=await n),gt(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#c(e,n,r){Be(r<sfe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=rv(e);try{return nt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&WC(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Pn(o.data,0,4)==="0x556f1830"){const s=o.data,a=await Yr(i.to,this);let l;try{l=pfe(Pn(o.data,4))}catch(d){Be(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}Be(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);Be(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const u={to:a,data:Fn([l.selector,hfe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await this.#c(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#d(e){const{value:n}=await Wr({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await Wr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#c(n,r,e.enableCcipRead?0:-1))}async#f(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#d(this.#l(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,n){return gt(await this.#f({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Dt(await this.#f({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return nt(await this.#f({method:"getCode"},e,n))}async getStorage(e,n,r){const i=gt(n,"position");return nt(await this.#f({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Wr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=ko.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async#y(e,n){if(mn(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await Wr({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Wr({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Wr({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Wr({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:nt(n)}async getLogs(e){let n=this._getFilter(e);P0(n)&&(n=await n);const{network:r,params:i}=await Wr({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){Be(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await _d.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=sn(e);const n=s_(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await _d.getEnsAddress(this),o=await new Wh(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===Hp)return null;const a=await new Wh(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Sr(r,"BAD_DATA")&&r.value==="0x"||Sr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),s(xn("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){Be(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#u.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#u.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#p++,i=()=>{this.#u.delete(r),e()};if(this.paused)this.#u.set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);this.#u.set(r,{timer:o,func:i,time:W1()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new T7(e.type);case"block":{const n=new tfe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new nfe(this,e.type);case"event":return new uT(this,e.filter);case"transaction":return new ife(this,e.hash);case"orphan":return new rfe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await G1(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await G1({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await G1(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:s})=>{const a=new $U(this,s?null:o,e);try{o.call(this,...n,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#g(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;Be(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#u.values())n.timer&&clearTimeout(n.timer),n.time=W1()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#u.values()){let n=e.time;n<0&&(n=0),e.time=W1(),setTimeout(e.func,n)}}}}function ufe(t,e){try{const n=d_(t,e);if(n)return Xy(n)}catch{}return null}function d_(t,e){if(t==="0x")return null;try{const n=Dt(Pn(t,e,e+32)),r=Dt(Pn(t,n,n+32));return Pn(t,n+32,n+32+r)}catch{}return null}function aP(t){const e=sr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function dfe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const ffe=new Uint8Array([]);function hfe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(ffe),n+=32;for(let r=0;r<t.length;r++){const i=Lt(t[r]);e[r]=aP(n),e.push(aP(i.length)),e.push(dfe(i)),n+=32+Math.ceil(i.length/32)*32}return Fn(e)}const lP="0x0000000000000000000000000000000000000000000000000000000000000000";function pfe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Be(xd(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Pn(t,0,32);Be(Pn(n,0,12)===Pn(lP,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Pn(n,12);try{const r=[],i=Dt(Pn(t,32,64)),o=Dt(Pn(t,i,i+32)),s=Pn(t,i+32);for(let a=0;a<o;a++){const l=ufe(s,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{Be(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=d_(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Be(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Be(Pn(t,100,128)===Pn(lP,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Pn(t,96,100);try{const r=d_(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Be(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Gl(t,e){if(t.provider)return t.provider;Be(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function cP(t,e){let n=rv(e);if(n.to!=null&&(n.to=Yr(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Yr(r,t)]).then(([i,o])=>(ue(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await Wr(n)}class mfe{provider;constructor(e){It(this,{provider:e||null})}async getNonce(e){return Gl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await cP(this,e)}async populateTransaction(e){const n=Gl(this,"populateTransaction"),r=await cP(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=gt(r.chainId);ue(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?ue(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&ue(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await n.getFeeData();Be(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(Be(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):Be(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await Wr(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Gl(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Gl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Gl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Gl(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Gl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=ko.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){Be(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function gfe(t){return JSON.parse(JSON.stringify(t))}class M7{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(o){if(!Sr(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#s)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class yfe extends M7{#e;constructor(e,n){super(e),this.#e=gfe(n)}_recover(e){return new uT(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class vfe extends M7{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const wfe="bigint,boolean,function,number,string,symbol".split(/,/g);function Hg(t){if(t==null||wfe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Hg);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function bfe(t){return new Promise(e=>{setTimeout(e,t)})}function Tu(t){return t&&t.toLowerCase()}function uP(t){return t&&typeof t.pollingInterval=="number"}const I7={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class V1 extends mfe{address;constructor(e,n){super(e),n=sn(n),It(this,{address:n})}connect(e){Be(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Hg(e),r=[];if(n.from){const o=n.from;r.push((async()=>{const s=await Yr(o,this.provider);ue(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=>{n.to=await Yr(o,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const s=[1e3,100];let a=0;const l=async()=>{try{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(Sr(c,"CANCELLED")||Sr(c,"BAD_DATA")||Sr(c,"NETWORK_ERROR")||Sr(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=r,o(c);return}if(Sr(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=r,a>10)){o(c);return}this.provider.emit("error",xn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},s.pop()||4e3)};l()})}async signTransaction(e){const n=Hg(e);if(n.from){const i=await Yr(n.from,this.provider);ue(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?ua(e):e;return await this.provider.send("personal_sign",[nt(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Hg(r),o=await Ni.resolveNames(e,n,i,async s=>{const a=await Yr(s);return ue(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ni.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?ua(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),nt(n)])}}class xfe extends cfe{#e;#t;#n;#r;#i;#s;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:s,reject:a,payload:l}of r){if(this.destroyed){a(xn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=o.filter(u=>u.id===l.id)[0];if(c==null){const u=xn("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",u),a(u);continue}if("error"in c){a(this.getRpcError(l,c));continue}s(c.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:s}of r)s(o)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},I7,n||{}),this.#n=[],this.#r=null,this.#s=null,this.#o=null;{let i=null;const o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(ue(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#s=zi.from(e))):r&&(ue(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#s=r)}_getOption(e){return this.#e[e]}get _network(){return Be(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&gt(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const n=zi.from(gt(await this.send("eth_chainId",[])));return this.#o=null,n}catch(n){throw this.#o=null,n}})(),await this.#o):(this.#o=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return zi.from(gt(r.result));throw this.getRpcError(n,r)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",xn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await bfe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new vfe(this):e.type==="event"?this._getOption("polling")?new uT(this,e.filter):new yfe(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new T7("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=Do(gt(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=nt(e[r]))}),e.accessList&&(n.accessList=mu(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=O8(r);return{address:i.address,nonce:Do(i.nonce),chainId:Do(i.chainId),yParity:Do(i.signature.yParity),r:Do(i.signature.r),s:Do(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Tu(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Tu(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Tu(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Tu(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Tu):e.filter.address=Tu(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return xn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return xn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=f_(i),l=tf.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify(Afe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return xn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return xn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return xn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return xn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return xn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?xn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):xn("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(xn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((o,s)=>{this.#n.push({resolve:o,reject:s,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new V1(this,i[e])}const{accounts:r}=await Wr({network:this.getNetwork(),accounts:n});e=sn(e);for(const i of r)if(sn(i)===e)return new V1(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new V1(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(xn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class Efe extends xfe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=I7.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return uP(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{uP(n)&&(n.pollingInterval=this.#e)})}}function f_(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&mn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=f_(t[e]);if(n)return n}return null}if(typeof t=="string")try{return f_(JSON.parse(t))}catch{}return null}function h_(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)h_(t[n],e);if(typeof t=="string")try{return h_(JSON.parse(t),e)}catch{}}}function Afe(t){const e=[];return h_(t,e),e}class oc extends Efe{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});ue(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(o,s)=>{const a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){ue(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new oc(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new oc(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[];const l=d=>{a.push(d.detail),r&&c()},c=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){const d=e.filter(a.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof oc)o(d);else{let f=null;if(d.uuid&&(f=a.filter(p=>d.uuid===p.info.uuid)[0]),f){const{provider:h,info:p}=f;o(new oc(h,void 0,{providerInfo:p}))}else s(xn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{const{provider:d,info:f}=a[0];o(new oc(d,void 0,{providerInfo:f}))}else o(null);n.removeEventListener("eip6963:announceProvider",l)},u=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const R7=j.createContext(),es=()=>{const t=j.useContext(R7);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},_fe=({children:t})=>{const{showSuccess:e,showError:n,showInfo:r}=Ma(),{address:i,isConnected:o,isConnecting:s}=Rr(),a=wm(),{switchChain:l}=V4(),{data:c}=$4(),u=W4(),[d,f]=j.useState([]),[h,p]=j.useState(!1),m={1:{name:"Ethereum",symbol:"ETH",network:Te.ETH_MAINNET},137:{name:"Polygon",symbol:"MATIC",network:Te.MATIC_MAINNET},8453:{name:"Base",symbol:"ETH",network:Te.BASE_MAINNET},42161:{name:"Arbitrum",symbol:"ETH",network:Te.ARB_MAINNET},10:{name:"Optimism",symbol:"ETH",network:Te.OPT_MAINNET},56:{name:"BSC",symbol:"BNB",network:Te.BSC_MAINNET},43114:{name:"Avalanche",symbol:"AVAX",network:Te.AVAX_MAINNET}},y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),g=async()=>{try{await l({chainId:8453}),e("Switched to Base network")}catch(R){console.error("Network switch error:",R),n("Failed to switch to Base network")}},v=async()=>{if(i){p(!0);try{const R=m[a];if(!R)throw new Error("Unsupported network");const k="hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3";console.log("Using Alchemy API key:",k);const _=new Wae({apiKey:k,network:R.network});console.log("🔍 Loading NFTs for:",{address:i,chain:R.name,network:R.network});let I=[],S=null;do{const L=await _.nft.getNftsForOwner(i,{omitMetadata:!1,pageKey:S});console.log("📦 Raw NFTs from Alchemy:",{count:L.ownedNfts.length,pageKey:L.pageKey,totalCount:L.totalCount}),I=[...I,...L.ownedNfts],S=L.pageKey}while(S);console.log("🎨 Total NFTs found:",I.length);const P=await Promise.all(I.map(async L=>({contractAddress:L.contract.address,tokenId:L.tokenId,name:L.title||L.name||`#${L.tokenId}`,collection:L.contract.name||"Unknown Collection",image:L.media?.[0]?.gateway||L.media?.[0]?.raw||L.image?.originalUrl||L.image?.cachedUrl||"",chain:R.name,description:L.description||"",animationUrl:L.media?.[0]?.format==="mp4"?L.media[0].gateway:L.animation_url||""})));console.log("✅ Loaded NFTs:",{count:P.length,nfts:P}),f(P)}catch(R){console.error("❌ Error loading NFTs:",R),n("Failed to load NFTs: "+R.message)}finally{p(!1)}}};j.useEffect(()=>{i?v():f([])},[i,a]),j.useEffect(()=>{o&&i&&e(`Connected to ${i.slice(0,6)}...${i.slice(-4)}`)},[o,i]),j.useEffect(()=>{console.log("🔍 WalletContext state:",{isConnected:o,address:i,chainId:a,hasWalletClient:!!c,hasPublicClient:!!u,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)})},[o,i,a,c,u]);const b=()=>{if(c&&c.transport)try{return{getSigner:()=>(console.warn("getSigner() is deprecated. Use walletClient directly for transactions."),null)}}catch(R){console.error("Failed to create provider wrapper:",R)}if(window.ethereum)try{return new oc(window.ethereum)}catch(R){console.error("Failed to create ethers provider:",R)}return null},x={isConnected:o,isConnecting:s,loading:h,address:i,chainId:a,chain:m[a]||{name:"Unknown",symbol:"ETH"},chains:m,switchChain:l,switchToBase:g,nfts:d,loadNFTs:v,isMobile:y,walletClient:c,publicClient:u,provider:b()};return U(R7.Provider,{value:x,children:t})},P7=j.createContext(),Jw=()=>{const t=j.useContext(P7);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},Sfe=({children:t})=>{const{address:e}=es(),[n,r]=j.useState({});j.useEffect(()=>{const h=localStorage.getItem("userProfiles");h&&r(JSON.parse(h))},[]),j.useEffect(()=>{localStorage.setItem("userProfiles",JSON.stringify(n))},[n]);const f={getPlayerName:async h=>n[h]?.name||"",setPlayerName:async(h,p)=>{r(m=>({...m,[h]:{...m[h],name:p}}))},getProfilePicture:async h=>n[h]?.image||"",setProfilePicture:async(h,p)=>{r(m=>({...m,[h]:{...m[h],image:p}}))},getCoinHeadsImage:async h=>n[h]?.coinHeadsImage||null,setCoinHeadsImage:async(h,p)=>{r(m=>({...m,[h]:{...m[h],coinHeadsImage:p}}))},getCoinTailsImage:async h=>n[h]?.coinTailsImage||null,setCoinTailsImage:async(h,p)=>{r(m=>({...m,[h]:{...m[h],coinTailsImage:p}}))}};return U(P7.Provider,{value:f,children:t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function En(){return En=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},En.apply(this,arguments)}var qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qn||(qn={}));const dP="popstate";function Cfe(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Kp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tu(i)}return Mfe(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tfe(){return Math.random().toString(36).substr(2,8)}function fP(t,e){return{usr:t.state,key:t.key,idx:e}}function Kp(t,e,n,r){return n===void 0&&(n=null),En({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ul(e):e,{state:n,key:e&&e.key||r||Tfe()})}function tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Mfe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=qn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(En({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=qn.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:g})}function f(y,g){a=qn.Push;let v=Kp(m.location,y,g);c=u()+1;let b=fP(v,c),x=m.createHref(v);try{s.pushState(b,"",x)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(x)}o&&l&&l({action:a,location:m.location,delta:1})}function h(y,g){a=qn.Replace;let v=Kp(m.location,y,g);c=u();let b=fP(v,c),x=m.createHref(v);s.replaceState(b,"",x),o&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:tu(y);return v=v.replace(/ $/,"%20"),Wt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dP,d),l=y,()=>{i.removeEventListener(dP,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(y){return s.go(y)}};return m}var an;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(an||(an={}));const Ife=new Set(["lazy","caseSensitive","path","id","index","children"]);function Rfe(t){return t.index===!0}function ov(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(Wt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Wt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Rfe(i)){let l=En({},i,e(i),{id:a});return r[a]=l,l}else{let l=En({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=ov(i.children,e,s,r)),l}})}function sc(t,e,n){return n===void 0&&(n="/"),Gg(t,e,n,!1)}function Gg(t,e,n,r){let i=typeof e=="string"?Ul(e):e,o=Pf(i.pathname||"/",n);if(o==null)return null;let s=N7(t);Nfe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Gfe(o);a=jfe(s[l],c,r)}return a}function Pfe(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function N7(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fa([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),N7(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Ufe(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of k7(o.path))i(o,s,l)}),e}function k7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=k7(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Nfe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zfe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kfe=/^:[\w-]+$/,Ofe=3,Bfe=2,Ffe=1,Lfe=10,Dfe=-2,hP=t=>t==="*";function Ufe(t,e){let n=t.split("/"),r=n.length;return n.some(hP)&&(r+=Dfe),e&&(r+=Bfe),n.filter(i=>!hP(i)).reduce((i,o)=>i+(kfe.test(o)?Ofe:o===""?Ffe:Lfe),r)}function zfe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jfe(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=pP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=pP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:fa([o,d.pathname]),pathnameBase:$fe(fa([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=fa([o,d.pathnameBase]))}return s}function pP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Hfe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Hfe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Gfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Wfe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ul(t):t;return{pathname:n?n.startsWith("/")?n:Vfe(n,e):e,search:qfe(r),hash:Qfe(i)}}function Vfe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dT(t,e){let n=O7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ul(t):(i=En({},t),Wt(!i.pathname||!i.pathname.includes("?"),$1("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),$1("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),$1("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Wfe(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fa=t=>t.join("/").replace(/\/\/+/g,"/"),$fe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class sv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Xp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B7=["post","put","patch","delete"],Kfe=new Set(B7),Xfe=["get",...B7],Yfe=new Set(Xfe),Jfe=new Set([301,302,303,307,308]),Zfe=new Set([307,308]),q1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ehe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,the=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),F7="remix-router-transitions";function nhe(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Wt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let re=t.detectErrorBoundary;i=pe=>({hasErrorBoundary:re(pe)})}else i=the;let o={},s=ov(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.dataStrategy||she,u=t.patchRoutesOnNavigation,d=En({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=null,m=null,y=null,g=t.hydrationData!=null,v=sc(s,t.history.location,l),b=!1,x=null;if(v==null&&!u){let re=li(404,{pathname:t.history.location.pathname}),{matches:pe,route:ge}=SP(s);v=pe,x={[ge.id]:re}}v&&!t.hydrationData&&Rt(v,s,t.history.location.pathname).active&&(v=null);let R;if(v)if(v.some(re=>re.route.lazy))R=!1;else if(!v.some(re=>re.route.loader))R=!0;else if(d.v7_partialHydration){let re=t.hydrationData?t.hydrationData.loaderData:null,pe=t.hydrationData?t.hydrationData.errors:null;if(pe){let ge=v.findIndex(_e=>pe[_e.route.id]!==void 0);R=v.slice(0,ge+1).every(_e=>!m_(_e.route,re,pe))}else R=v.every(ge=>!m_(ge.route,re,pe))}else R=t.hydrationData!=null;else if(R=!1,v=[],d.v7_partialHydration){let re=Rt(null,s,t.history.location.pathname);re.active&&re.matches&&(b=!0,v=re.matches)}let k,_={historyAction:t.history.action,location:t.history.location,matches:v,initialized:R,navigation:q1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},I=qn.Pop,S=!1,P,L=!1,G=new Map,B=null,w=!1,E=!1,C=[],D=new Set,N=new Map,H=0,$=-1,F=new Map,M=new Set,q=new Map,J=new Map,ie=new Set,de=new Map,ve=new Map,Pe;function Ae(){if(f=t.history.listen(re=>{let{action:pe,location:ge,delta:_e}=re;if(Pe){Pe(),Pe=void 0;return}rf(ve.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $e=Xe({currentLocation:_.location,nextLocation:ge,historyAction:pe});if($e&&_e!=null){let Ye=new Promise(tt=>{Pe=tt});t.history.go(_e*-1),se($e,{state:"blocked",location:ge,proceed(){se($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Ye.then(()=>t.history.go(_e))},reset(){let tt=new Map(_.blockers);tt.set($e,nh),We({blockers:tt})}});return}return Et(pe,ge)}),n){bhe(e,G);let re=()=>xhe(e,G);e.addEventListener("pagehide",re),B=()=>e.removeEventListener("pagehide",re)}return _.initialized||Et(qn.Pop,_.location,{initialHydration:!0}),k}function st(){f&&f(),B&&B(),h.clear(),P&&P.abort(),_.fetchers.forEach((re,pe)=>K(pe)),_.blockers.forEach((re,pe)=>Ke(pe))}function yt(re){return h.add(re),()=>h.delete(re)}function We(re,pe){pe===void 0&&(pe={}),_=En({},_,re);let ge=[],_e=[];d.v7_fetcherPersist&&_.fetchers.forEach(($e,Ye)=>{$e.state==="idle"&&(ie.has(Ye)?_e.push(Ye):ge.push(Ye))}),ie.forEach($e=>{!_.fetchers.has($e)&&!N.has($e)&&_e.push($e)}),[...h].forEach($e=>$e(_,{deletedFetchers:_e,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),d.v7_fetcherPersist?(ge.forEach($e=>_.fetchers.delete($e)),_e.forEach($e=>K($e))):_e.forEach($e=>ie.delete($e))}function xt(re,pe,ge){var _e,$e;let{flushSync:Ye}=ge===void 0?{}:ge,tt=_.actionData!=null&&_.navigation.formMethod!=null&&Bo(_.navigation.formMethod)&&_.navigation.state==="loading"&&((_e=re.state)==null?void 0:_e._isRedirect)!==!0,it;pe.actionData?Object.keys(pe.actionData).length>0?it=pe.actionData:it=null:tt?it=_.actionData:it=null;let Ge=pe.loaderData?AP(_.loaderData,pe.loaderData,pe.matches||[],pe.errors):_.loaderData,me=_.blockers;me.size>0&&(me=new Map(me),me.forEach((Je,Tt)=>me.set(Tt,nh)));let Oe=S===!0||_.navigation.formMethod!=null&&Bo(_.navigation.formMethod)&&(($e=re.state)==null?void 0:$e._isRedirect)!==!0;a&&(s=a,a=void 0),w||I===qn.Pop||(I===qn.Push?t.history.push(re,re.state):I===qn.Replace&&t.history.replace(re,re.state));let Ce;if(I===qn.Pop){let Je=G.get(_.location.pathname);Je&&Je.has(re.pathname)?Ce={currentLocation:_.location,nextLocation:re}:G.has(re.pathname)&&(Ce={currentLocation:re,nextLocation:_.location})}else if(L){let Je=G.get(_.location.pathname);Je?Je.add(re.pathname):(Je=new Set([re.pathname]),G.set(_.location.pathname,Je)),Ce={currentLocation:_.location,nextLocation:re}}We(En({},pe,{actionData:it,loaderData:Ge,historyAction:I,location:re,initialized:!0,navigation:q1,revalidation:"idle",restoreScrollPosition:rn(re,pe.matches||_.matches),preventScrollReset:Oe,blockers:me}),{viewTransitionOpts:Ce,flushSync:Ye===!0}),I=qn.Pop,S=!1,L=!1,w=!1,E=!1,C=[]}async function oe(re,pe){if(typeof re=="number"){t.history.go(re);return}let ge=p_(_.location,_.matches,l,d.v7_prependBasename,re,d.v7_relativeSplatPath,pe?.fromRouteId,pe?.relative),{path:_e,submission:$e,error:Ye}=mP(d.v7_normalizeFormMethod,!1,ge,pe),tt=_.location,it=Kp(_.location,_e,pe&&pe.state);it=En({},it,t.history.encodeLocation(it));let Ge=pe&&pe.replace!=null?pe.replace:void 0,me=qn.Push;Ge===!0?me=qn.Replace:Ge===!1||$e!=null&&Bo($e.formMethod)&&$e.formAction===_.location.pathname+_.location.search&&(me=qn.Replace);let Oe=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,Ce=(pe&&pe.flushSync)===!0,Je=Xe({currentLocation:tt,nextLocation:it,historyAction:me});if(Je){se(Je,{state:"blocked",location:it,proceed(){se(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),oe(re,pe)},reset(){let Tt=new Map(_.blockers);Tt.set(Je,nh),We({blockers:Tt})}});return}return await Et(me,it,{submission:$e,pendingError:Ye,preventScrollReset:Oe,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:Ce})}function _t(){if(z(),We({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Et(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Et(I||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:L===!0})}}async function Et(re,pe,ge){P&&P.abort(),P=null,I=re,w=(ge&&ge.startUninterruptedRevalidation)===!0,ut(_.location,_.matches),S=(ge&&ge.preventScrollReset)===!0,L=(ge&&ge.enableViewTransition)===!0;let _e=a||s,$e=ge&&ge.overrideNavigation,Ye=ge!=null&&ge.initialHydration&&_.matches&&_.matches.length>0&&!b?_.matches:sc(_e,pe,l),tt=(ge&&ge.flushSync)===!0;if(Ye&&_.initialized&&!E&&fhe(_.location,pe)&&!(ge&&ge.submission&&Bo(ge.submission.formMethod))){xt(pe,{matches:Ye},{flushSync:tt});return}let it=Rt(Ye,_e,pe.pathname);if(it.active&&it.matches&&(Ye=it.matches),!Ye){let{error:W,notFoundMatches:ne,route:fe}=ye(pe.pathname);xt(pe,{matches:ne,loaderData:{},errors:{[fe.id]:W}},{flushSync:tt});return}P=new AbortController;let Ge=Mu(t.history,pe,P.signal,ge&&ge.submission),me;if(ge&&ge.pendingError)me=[ac(Ye).route.id,{type:an.error,error:ge.pendingError}];else if(ge&&ge.submission&&Bo(ge.submission.formMethod)){let W=await at(Ge,pe,ge.submission,Ye,it.active,{replace:ge.replace,flushSync:tt});if(W.shortCircuited)return;if(W.pendingActionResult){let[ne,fe]=W.pendingActionResult;if(Li(fe)&&Xp(fe.error)&&fe.error.status===404){P=null,xt(pe,{matches:W.matches,loaderData:{},errors:{[ne]:fe.error}});return}}Ye=W.matches||Ye,me=W.pendingActionResult,$e=Q1(pe,ge.submission),tt=!1,it.active=!1,Ge=Mu(t.history,Ge.url,Ge.signal)}let{shortCircuited:Oe,matches:Ce,loaderData:Je,errors:Tt}=await qe(Ge,pe,Ye,it.active,$e,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,tt,me);Oe||(P=null,xt(pe,En({matches:Ce||Ye},_P(me),{loaderData:Je,errors:Tt})))}async function at(re,pe,ge,_e,$e,Ye){Ye===void 0&&(Ye={}),z();let tt=vhe(pe,ge);if(We({navigation:tt},{flushSync:Ye.flushSync===!0}),$e){let me=await wt(_e,pe.pathname,re.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let Oe=ac(me.partialMatches).route.id;return{matches:me.partialMatches,pendingActionResult:[Oe,{type:an.error,error:me.error}]}}else if(me.matches)_e=me.matches;else{let{notFoundMatches:Oe,error:Ce,route:Je}=ye(pe.pathname);return{matches:Oe,pendingActionResult:[Je.id,{type:an.error,error:Ce}]}}}let it,Ge=xh(_e,pe);if(!Ge.route.action&&!Ge.route.lazy)it={type:an.error,error:li(405,{method:re.method,pathname:pe.pathname,routeId:Ge.route.id})};else if(it=(await Se("action",_,re,[Ge],_e,null))[Ge.route.id],re.signal.aborted)return{shortCircuited:!0};if(Ac(it)){let me;return Ye&&Ye.replace!=null?me=Ye.replace:me=bP(it.response.headers.get("Location"),new URL(re.url),l)===_.location.pathname+_.location.search,await we(re,it,!0,{submission:ge,replace:me}),{shortCircuited:!0}}if(ol(it))throw li(400,{type:"defer-action"});if(Li(it)){let me=ac(_e,Ge.route.id);return(Ye&&Ye.replace)!==!0&&(I=qn.Push),{matches:_e,pendingActionResult:[me.route.id,it]}}return{matches:_e,pendingActionResult:[Ge.route.id,it]}}async function qe(re,pe,ge,_e,$e,Ye,tt,it,Ge,me,Oe){let Ce=$e||Q1(pe,Ye),Je=Ye||tt||TP(Ce),Tt=!w&&(!d.v7_partialHydration||!Ge);if(_e){if(Tt){let St=kt(Oe);We(En({navigation:Ce},St!==void 0?{actionData:St}:{}),{flushSync:me})}let ot=await wt(ge,pe.pathname,re.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let St=ac(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[St]:ot.error}}}else if(ot.matches)ge=ot.matches;else{let{error:St,notFoundMatches:jt,route:bn}=ye(pe.pathname);return{matches:jt,loaderData:{},errors:{[bn.id]:St}}}}let W=a||s,[ne,fe]=yP(t.history,_,ge,Je,pe,d.v7_partialHydration&&Ge===!0,d.v7_skipActionErrorRevalidation,E,C,D,ie,q,M,W,l,Oe);if(Ee(ot=>!(ge&&ge.some(St=>St.route.id===ot))||ne&&ne.some(St=>St.route.id===ot)),$=++H,ne.length===0&&fe.length===0){let ot=Me();return xt(pe,En({matches:ge,loaderData:{},errors:Oe&&Li(Oe[1])?{[Oe[0]]:Oe[1].error}:null},_P(Oe),ot?{fetchers:new Map(_.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(Tt){let ot={};if(!_e){ot.navigation=Ce;let St=kt(Oe);St!==void 0&&(ot.actionData=St)}fe.length>0&&(ot.fetchers=Qe(fe)),We(ot,{flushSync:me})}fe.forEach(ot=>{ee(ot.key),ot.controller&&N.set(ot.key,ot.controller)});let ae=()=>fe.forEach(ot=>ee(ot.key));P&&P.signal.addEventListener("abort",ae);let{loaderResults:ce,fetcherResults:Fe}=await he(_,ge,ne,fe,re);if(re.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",ae),fe.forEach(ot=>N.delete(ot.key));let Ve=N0(ce);if(Ve)return await we(re,Ve.result,!0,{replace:it}),{shortCircuited:!0};if(Ve=N0(Fe),Ve)return M.add(Ve.key),await we(re,Ve.result,!0,{replace:it}),{shortCircuited:!0};let{loaderData:ht,errors:lt}=EP(_,ge,ce,Oe,fe,Fe,de);de.forEach((ot,St)=>{ot.subscribe(jt=>{(jt||ot.done)&&de.delete(St)})}),d.v7_partialHydration&&Ge&&_.errors&&(lt=En({},_.errors,lt));let bt=Me(),Mt=He($),dt=bt||Mt||fe.length>0;return En({matches:ge,loaderData:ht,errors:lt},dt?{fetchers:new Map(_.fetchers)}:{})}function kt(re){if(re&&!Li(re[1]))return{[re[0]]:re[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Qe(re){return re.forEach(pe=>{let ge=_.fetchers.get(pe.key),_e=rh(void 0,ge?ge.data:void 0);_.fetchers.set(pe.key,_e)}),new Map(_.fetchers)}function X(re,pe,ge,_e){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee(re);let $e=(_e&&_e.flushSync)===!0,Ye=a||s,tt=p_(_.location,_.matches,l,d.v7_prependBasename,ge,d.v7_relativeSplatPath,pe,_e?.relative),it=sc(Ye,tt,l),Ge=Rt(it,Ye,tt);if(Ge.active&&Ge.matches&&(it=Ge.matches),!it){T(re,pe,li(404,{pathname:tt}),{flushSync:$e});return}let{path:me,submission:Oe,error:Ce}=mP(d.v7_normalizeFormMethod,!0,tt,_e);if(Ce){T(re,pe,Ce,{flushSync:$e});return}let Je=xh(it,me),Tt=(_e&&_e.preventScrollReset)===!0;if(Oe&&Bo(Oe.formMethod)){V(re,pe,me,Je,it,Ge.active,$e,Tt,Oe);return}q.set(re,{routeId:pe,path:me}),le(re,pe,me,Je,it,Ge.active,$e,Tt,Oe)}async function V(re,pe,ge,_e,$e,Ye,tt,it,Ge){z(),q.delete(re);function me(At){if(!At.route.action&&!At.route.lazy){let ft=li(405,{method:Ge.formMethod,pathname:ge,routeId:pe});return T(re,pe,ft,{flushSync:tt}),!0}return!1}if(!Ye&&me(_e))return;let Oe=_.fetchers.get(re);A(re,whe(Ge,Oe),{flushSync:tt});let Ce=new AbortController,Je=Mu(t.history,ge,Ce.signal,Ge);if(Ye){let At=await wt($e,new URL(Je.url).pathname,Je.signal,re);if(At.type==="aborted")return;if(At.type==="error"){T(re,pe,At.error,{flushSync:tt});return}else if(At.matches){if($e=At.matches,_e=xh($e,ge),me(_e))return}else{T(re,pe,li(404,{pathname:ge}),{flushSync:tt});return}}N.set(re,Ce);let Tt=H,ne=(await Se("action",_,Je,[_e],$e,re))[_e.route.id];if(Je.signal.aborted){N.get(re)===Ce&&N.delete(re);return}if(d.v7_fetcherPersist&&ie.has(re)){if(Ac(ne)||Li(ne)){A(re,Xa(void 0));return}}else{if(Ac(ne))if(N.delete(re),$>Tt){A(re,Xa(void 0));return}else return M.add(re),A(re,rh(Ge)),we(Je,ne,!1,{fetcherSubmission:Ge,preventScrollReset:it});if(Li(ne)){T(re,pe,ne.error);return}}if(ol(ne))throw li(400,{type:"defer-action"});let fe=_.navigation.location||_.location,ae=Mu(t.history,fe,Ce.signal),ce=a||s,Fe=_.navigation.state!=="idle"?sc(ce,_.navigation.location,l):_.matches;Wt(Fe,"Didn't find any matches after fetcher action");let Ve=++H;F.set(re,Ve);let ht=rh(Ge,ne.data);_.fetchers.set(re,ht);let[lt,bt]=yP(t.history,_,Fe,Ge,fe,!1,d.v7_skipActionErrorRevalidation,E,C,D,ie,q,M,ce,l,[_e.route.id,ne]);bt.filter(At=>At.key!==re).forEach(At=>{let ft=At.key,Ki=_.fetchers.get(ft),Xt=rh(void 0,Ki?Ki.data:void 0);_.fetchers.set(ft,Xt),ee(ft),At.controller&&N.set(ft,At.controller)}),We({fetchers:new Map(_.fetchers)});let Mt=()=>bt.forEach(At=>ee(At.key));Ce.signal.addEventListener("abort",Mt);let{loaderResults:dt,fetcherResults:ot}=await he(_,Fe,lt,bt,ae);if(Ce.signal.aborted)return;Ce.signal.removeEventListener("abort",Mt),F.delete(re),N.delete(re),bt.forEach(At=>N.delete(At.key));let St=N0(dt);if(St)return we(ae,St.result,!1,{preventScrollReset:it});if(St=N0(ot),St)return M.add(St.key),we(ae,St.result,!1,{preventScrollReset:it});let{loaderData:jt,errors:bn}=EP(_,Fe,dt,void 0,bt,ot,de);if(_.fetchers.has(re)){let At=Xa(ne.data);_.fetchers.set(re,At)}He(Ve),_.navigation.state==="loading"&&Ve>$?(Wt(I,"Expected pending action"),P&&P.abort(),xt(_.navigation.location,{matches:Fe,loaderData:jt,errors:bn,fetchers:new Map(_.fetchers)})):(We({errors:bn,loaderData:AP(_.loaderData,jt,Fe,bn),fetchers:new Map(_.fetchers)}),E=!1)}async function le(re,pe,ge,_e,$e,Ye,tt,it,Ge){let me=_.fetchers.get(re);A(re,rh(Ge,me?me.data:void 0),{flushSync:tt});let Oe=new AbortController,Ce=Mu(t.history,ge,Oe.signal);if(Ye){let ne=await wt($e,new URL(Ce.url).pathname,Ce.signal,re);if(ne.type==="aborted")return;if(ne.type==="error"){T(re,pe,ne.error,{flushSync:tt});return}else if(ne.matches)$e=ne.matches,_e=xh($e,ge);else{T(re,pe,li(404,{pathname:ge}),{flushSync:tt});return}}N.set(re,Oe);let Je=H,W=(await Se("loader",_,Ce,[_e],$e,re))[_e.route.id];if(ol(W)&&(W=await pT(W,Ce.signal,!0)||W),N.get(re)===Oe&&N.delete(re),!Ce.signal.aborted){if(ie.has(re)){A(re,Xa(void 0));return}if(Ac(W))if($>Je){A(re,Xa(void 0));return}else{M.add(re),await we(Ce,W,!1,{preventScrollReset:it});return}if(Li(W)){T(re,pe,W.error);return}Wt(!ol(W),"Unhandled fetcher deferred data"),A(re,Xa(W.data))}}async function we(re,pe,ge,_e){let{submission:$e,fetcherSubmission:Ye,preventScrollReset:tt,replace:it}=_e===void 0?{}:_e;pe.response.headers.has("X-Remix-Revalidate")&&(E=!0);let Ge=pe.response.headers.get("Location");Wt(Ge,"Expected a Location header on the redirect Response"),Ge=bP(Ge,new URL(re.url),l);let me=Kp(_.location,Ge,{_isRedirect:!0});if(n){let ne=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))ne=!0;else if(hT.test(Ge)){const fe=t.history.createURL(Ge);ne=fe.origin!==e.location.origin||Pf(fe.pathname,l)==null}if(ne){it?e.location.replace(Ge):e.location.assign(Ge);return}}P=null;let Oe=it===!0||pe.response.headers.has("X-Remix-Replace")?qn.Replace:qn.Push,{formMethod:Ce,formAction:Je,formEncType:Tt}=_.navigation;!$e&&!Ye&&Ce&&Je&&Tt&&($e=TP(_.navigation));let W=$e||Ye;if(Zfe.has(pe.response.status)&&W&&Bo(W.formMethod))await Et(Oe,me,{submission:En({},W,{formAction:Ge}),preventScrollReset:tt||S,enableViewTransition:ge?L:void 0});else{let ne=Q1(me,$e);await Et(Oe,me,{overrideNavigation:ne,fetcherSubmission:Ye,preventScrollReset:tt||S,enableViewTransition:ge?L:void 0})}}async function Se(re,pe,ge,_e,$e,Ye){let tt,it={};try{tt=await ahe(c,re,pe,ge,_e,$e,Ye,o,i)}catch(Ge){return _e.forEach(me=>{it[me.route.id]={type:an.error,error:Ge}}),it}for(let[Ge,me]of Object.entries(tt))if(hhe(me)){let Oe=me.result;it[Ge]={type:an.redirect,response:uhe(Oe,ge,Ge,$e,l,d.v7_relativeSplatPath)}}else it[Ge]=await che(me);return it}async function he(re,pe,ge,_e,$e){let Ye=re.matches,tt=Se("loader",re,$e,ge,pe,null),it=Promise.all(_e.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.controller){let Je=(await Se("loader",re,Mu(t.history,Oe.path,Oe.controller.signal),[Oe.match],Oe.matches,Oe.key))[Oe.match.route.id];return{[Oe.key]:Je}}else return Promise.resolve({[Oe.key]:{type:an.error,error:li(404,{pathname:Oe.path})}})})),Ge=await tt,me=(await it).reduce((Oe,Ce)=>Object.assign(Oe,Ce),{});return await Promise.all([ghe(pe,Ge,$e.signal,Ye,re.loaderData),yhe(pe,me,_e)]),{loaderResults:Ge,fetcherResults:me}}function z(){E=!0,C.push(...Ee()),q.forEach((re,pe)=>{N.has(pe)&&D.add(pe),ee(pe)})}function A(re,pe,ge){ge===void 0&&(ge={}),_.fetchers.set(re,pe),We({fetchers:new Map(_.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function T(re,pe,ge,_e){_e===void 0&&(_e={});let $e=ac(_.matches,pe);K(re),We({errors:{[$e.route.id]:ge},fetchers:new Map(_.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Q(re){return J.set(re,(J.get(re)||0)+1),ie.has(re)&&ie.delete(re),_.fetchers.get(re)||ehe}function K(re){let pe=_.fetchers.get(re);N.has(re)&&!(pe&&pe.state==="loading"&&F.has(re))&&ee(re),q.delete(re),F.delete(re),M.delete(re),d.v7_fetcherPersist&&ie.delete(re),D.delete(re),_.fetchers.delete(re)}function Y(re){let pe=(J.get(re)||0)-1;pe<=0?(J.delete(re),ie.add(re),d.v7_fetcherPersist||K(re)):J.set(re,pe),We({fetchers:new Map(_.fetchers)})}function ee(re){let pe=N.get(re);pe&&(pe.abort(),N.delete(re))}function ke(re){for(let pe of re){let ge=Q(pe),_e=Xa(ge.data);_.fetchers.set(pe,_e)}}function Me(){let re=[],pe=!1;for(let ge of M){let _e=_.fetchers.get(ge);Wt(_e,"Expected fetcher: "+ge),_e.state==="loading"&&(M.delete(ge),re.push(ge),pe=!0)}return ke(re),pe}function He(re){let pe=[];for(let[ge,_e]of F)if(_e<re){let $e=_.fetchers.get(ge);Wt($e,"Expected fetcher: "+ge),$e.state==="loading"&&(ee(ge),F.delete(ge),pe.push(ge))}return ke(pe),pe.length>0}function rt(re,pe){let ge=_.blockers.get(re)||nh;return ve.get(re)!==pe&&ve.set(re,pe),ge}function Ke(re){_.blockers.delete(re),ve.delete(re)}function se(re,pe){let ge=_.blockers.get(re)||nh;Wt(ge.state==="unblocked"&&pe.state==="blocked"||ge.state==="blocked"&&pe.state==="blocked"||ge.state==="blocked"&&pe.state==="proceeding"||ge.state==="blocked"&&pe.state==="unblocked"||ge.state==="proceeding"&&pe.state==="unblocked","Invalid blocker state transition: "+ge.state+" -> "+pe.state);let _e=new Map(_.blockers);_e.set(re,pe),We({blockers:_e})}function Xe(re){let{currentLocation:pe,nextLocation:ge,historyAction:_e}=re;if(ve.size===0)return;ve.size>1&&rf(!1,"A router only supports one blocker at a time");let $e=Array.from(ve.entries()),[Ye,tt]=$e[$e.length-1],it=_.blockers.get(Ye);if(!(it&&it.state==="proceeding")&&tt({currentLocation:pe,nextLocation:ge,historyAction:_e}))return Ye}function ye(re){let pe=li(404,{pathname:re}),ge=a||s,{matches:_e,route:$e}=SP(ge);return Ee(),{notFoundMatches:_e,route:$e,error:pe}}function Ee(re){let pe=[];return de.forEach((ge,_e)=>{(!re||re(_e))&&(ge.cancel(),pe.push(_e),de.delete(_e))}),pe}function Ze(re,pe,ge){if(p=re,y=pe,m=ge||null,!g&&_.navigation===q1){g=!0;let _e=rn(_.location,_.matches);_e!=null&&We({restoreScrollPosition:_e})}return()=>{p=null,y=null,m=null}}function Ue(re,pe){return m&&m(re,pe.map(_e=>Pfe(_e,_.loaderData)))||re.key}function ut(re,pe){if(p&&y){let ge=Ue(re,pe);p[ge]=y()}}function rn(re,pe){if(p){let ge=Ue(re,pe),_e=p[ge];if(typeof _e=="number")return _e}return null}function Rt(re,pe,ge){if(u)if(re){if(Object.keys(re[0].params).length>0)return{active:!0,matches:Gg(pe,ge,l,!0)}}else return{active:!0,matches:Gg(pe,ge,l,!0)||[]};return{active:!1,matches:null}}async function wt(re,pe,ge,_e){if(!u)return{type:"success",matches:re};let $e=re;for(;;){let Ye=a==null,tt=a||s,it=o;try{await u({signal:ge,path:pe,matches:$e,fetcherKey:_e,patch:(Oe,Ce)=>{ge.aborted||wP(Oe,Ce,tt,it,i)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:$e}}finally{Ye&&!ge.aborted&&(s=[...s])}if(ge.aborted)return{type:"aborted"};let Ge=sc(tt,pe,l);if(Ge)return{type:"success",matches:Ge};let me=Gg(tt,pe,l,!0);if(!me||$e.length===me.length&&$e.every((Oe,Ce)=>Oe.route.id===me[Ce].route.id))return{type:"success",matches:null};$e=me}}function tr(re){o={},a=ov(re,i,void 0,o)}function Ut(re,pe){let ge=a==null;wP(re,pe,a||s,o,i),ge&&(s=[...s],We({}))}return k={get basename(){return l},get future(){return d},get state(){return _},get routes(){return s},get window(){return e},initialize:Ae,subscribe:yt,enableScrollRestoration:Ze,navigate:oe,fetch:X,revalidate:_t,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:Q,deleteFetcher:Y,dispose:st,getBlocker:rt,deleteBlocker:Ke,patchRoutes:Ut,_internalFetchControllers:N,_internalActiveDeferreds:de,_internalSetRoutes:tr},k}function rhe(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function p_(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=fT(i||".",dT(l,o),Pf(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=mT(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:fa([n,u.pathname])),tu(u)}function mP(t,e,n,r){if(!r||!rhe(r))return{path:n};if(r.formMethod&&!mhe(r.formMethod))return{path:n,error:li(405,{method:r.formMethod})};let i=()=>({path:n,error:li(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=U7(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Bo(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[m,y]=p;return""+h+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Bo(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Wt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=g_(r.formData),c=r.formData;else if(r.body instanceof FormData)l=g_(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=xP(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=xP(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Bo(u.formMethod))return{path:n,submission:u};let d=Ul(n);return e&&d.search&&mT(d.search)&&l.append("index",""),d.search="?"+l,{path:tu(d),submission:u}}function gP(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function yP(t,e,n,r,i,o,s,a,l,c,u,d,f,h,p,m){let y=m?Li(m[1])?m[1].error:m[1].data:void 0,g=t.createURL(e.location),v=t.createURL(i),b=n;o&&e.errors?b=gP(n,Object.keys(e.errors)[0],!0):m&&Li(m[1])&&(b=gP(n,m[0]));let x=m?m[1].statusCode:void 0,R=s&&x&&x>=400,k=b.filter((I,S)=>{let{route:P}=I;if(P.lazy)return!0;if(P.loader==null)return!1;if(o)return m_(P,e.loaderData,e.errors);if(ihe(e.loaderData,e.matches[S],I)||l.some(B=>B===I.route.id))return!0;let L=e.matches[S],G=I;return vP(I,En({currentUrl:g,currentParams:L.params,nextUrl:v,nextParams:G.params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:R?!1:a||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||L7(L,G)}))}),_=[];return d.forEach((I,S)=>{if(o||!n.some(w=>w.route.id===I.routeId)||u.has(S))return;let P=sc(h,I.path,p);if(!P){_.push({key:S,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(S),G=xh(P,I.path),B=!1;f.has(S)?B=!1:c.has(S)?(c.delete(S),B=!0):L&&L.state!=="idle"&&L.data===void 0?B=a:B=vP(G,En({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:R?!1:a})),B&&_.push({key:S,routeId:I.routeId,path:I.path,matches:P,match:G,controller:new AbortController})}),[k,_]}function m_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function ihe(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function L7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function vP(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function wP(t,e,n,r,i){var o;let s;if(t){let c=r[t];Wt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>D7(c,u))),l=ov(a,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function D7(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>D7(n,o))}):!1}async function ohe(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Wt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";rf(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Ife.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,En({},e(i),{lazy:void 0}))}async function she(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function ahe(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?ohe(h.route,l,a):void 0),d=o.map((h,p)=>{let m=u[p],y=i.some(v=>v.route.id===h.route.id);return En({},h,{shouldLoad:y,resolve:async v=>(v&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(y=!0),y?lhe(e,r,h,m,v,c):Promise.resolve({type:an.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function lhe(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw li(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:an.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw li(404,{pathname:d})}Wt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:an.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function che(t){let{result:e,type:n}=t;if(z7(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:an.error,error:f}}return n===an.error?{type:an.error,error:new sv(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:an.data,data:d,statusCode:e.status,headers:e.headers}}if(n===an.error){if(CP(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:an.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:an.error,error:new sv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Xp(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:an.error,error:e,statusCode:Xp(e)?e.status:void 0}}if(phe(e)){var a,l;return{type:an.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(CP(e)){var c,u;return{type:an.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:an.data,data:e}}function uhe(t,e,n,r,i,o){let s=t.headers.get("Location");if(Wt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!hT.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=p_(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function bP(t,e,n){if(hT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Pf(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Mu(t,e,n,r){let i=t.createURL(U7(e)).toString(),o={signal:n};if(r&&Bo(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=g_(r.formData):o.body=r.formData}return new Request(i,o)}function g_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function xP(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function dhe(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Li(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(Wt(!Ac(h),"Cannot handle redirect results in processLoaderData"),Li(h)){let p=h.error;u!==void 0&&(p=u,u=void 0),s=s||{};{let m=ac(t,f);s[m.route.id]==null&&(s[m.route.id]=p)}o[f]=void 0,l||(l=!0,a=Xp(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else ol(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function EP(t,e,n,r,i,o,s){let{loaderData:a,errors:l}=dhe(e,n,r,s);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=o[u];if(Wt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Li(h)){let p=ac(t.matches,d?.route.id);l&&l[p.route.id]||(l=En({},l,{[p.route.id]:h.error})),t.fetchers.delete(u)}else if(Ac(h))Wt(!1,"Unhandled fetcher revalidation redirect");else if(ol(h))Wt(!1,"Unhandled fetcher deferred data");else{let p=Xa(h.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function AP(t,e,n,r){let i=En({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function _P(t){return t?Li(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ac(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function SP(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function li(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new sv(t||500,a,new Error(l),!0)}function N0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ac(i))return{key:r,result:i}}}function U7(t){let e=typeof t=="string"?Ul(t):t;return tu(En({},e,{hash:""}))}function fhe(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function hhe(t){return z7(t.result)&&Jfe.has(t.result.status)}function ol(t){return t.type===an.deferred}function Li(t){return t.type===an.error}function Ac(t){return(t&&t.type)===an.redirect}function CP(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function phe(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function z7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function mhe(t){return Yfe.has(t.toLowerCase())}function Bo(t){return Kfe.has(t.toLowerCase())}async function ghe(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>f?.route.id===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!L7(u,c)&&(i&&i[c.route.id])!==void 0;ol(l)&&d&&await pT(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function yhe(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>c?.route.id===o)&&ol(a)&&(Wt(s,"Expected an AbortController for revalidating fetcher deferred result"),await pT(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function pT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:an.data,data:t.deferredData.unwrappedData}}catch(i){return{type:an.error,error:i}}return{type:an.data,data:t.deferredData.data}}}function mT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xh(t,e){let n=typeof e=="string"?Ul(e).search:e.search;if(t[t.length-1].route.index&&mT(n||""))return t[t.length-1];let r=O7(t);return r[r.length-1]}function TP(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Q1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vhe(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function whe(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function bhe(t,e){try{let n=t.sessionStorage.getItem(F7);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function xhe(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(F7,JSON.stringify(n))}catch(r){rf(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}const Zw=j.createContext(null),j7=j.createContext(null),yu=j.createContext(null),gT=j.createContext(null),Ra=j.createContext({outlet:null,matches:[],isDataRoute:!1}),H7=j.createContext(null);function Ehe(t,e){let{relative:n}=e===void 0?{}:e;Om()||Wt(!1);let{basename:r,navigator:i}=j.useContext(yu),{hash:o,pathname:s,search:a}=W7(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:fa([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Om(){return j.useContext(gT)!=null}function eb(){return Om()||Wt(!1),j.useContext(gT).location}function G7(t){j.useContext(yu).static||j.useLayoutEffect(t)}function Bm(){let{isDataRoute:t}=j.useContext(Ra);return t?Lhe():Ahe()}function Ahe(){Om()||Wt(!1);let t=j.useContext(Zw),{basename:e,future:n,navigator:r}=j.useContext(yu),{matches:i}=j.useContext(Ra),{pathname:o}=eb(),s=JSON.stringify(dT(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return G7(()=>{a.current=!0}),j.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=fT(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fa([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const _he=j.createContext(null);function She(t){let e=j.useContext(Ra).outlet;return e&&j.createElement(_he.Provider,{value:t},e)}function Che(){let{matches:t}=j.useContext(Ra),e=t[t.length-1];return e?e.params:{}}function W7(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(yu),{matches:i}=j.useContext(Ra),{pathname:o}=eb(),s=JSON.stringify(dT(i,r.v7_relativeSplatPath));return j.useMemo(()=>fT(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function The(t,e,n,r){Om()||Wt(!1);let{navigator:i}=j.useContext(yu),{matches:o}=j.useContext(Ra),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=eb(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let h=sc(t,{pathname:f});return Nhe(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:fa([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:fa([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function Mhe(){let t=Fhe(),e=Xp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const Ihe=j.createElement(Mhe,null);class Rhe extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Ra.Provider,{value:this.props.routeContext},j.createElement(H7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Phe(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Zw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Ra.Provider,{value:e},r)}function Nhe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);u>=0||Wt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,p=!1,m=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Ihe,l&&(c<0&&f===0?(Dhe("route-fallback"),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),v=()=>{let b;return h?b=m:p?b=y:d.route.Component?b=j.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,j.createElement(Phe,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(Rhe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var V7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V7||{}),$7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($7||{});function khe(t){let e=j.useContext(Zw);return e||Wt(!1),e}function Ohe(t){let e=j.useContext(j7);return e||Wt(!1),e}function Bhe(t){let e=j.useContext(Ra);return e||Wt(!1),e}function q7(t){let e=Bhe(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function Fhe(){var t;let e=j.useContext(H7),n=Ohe($7.UseRouteError),r=q7();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Lhe(){let{router:t}=khe(V7.UseNavigateStable),e=q7(),n=j.useRef(!1);return G7(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,av({fromRouteId:e},o)))},[t,e])}const MP={};function Dhe(t,e,n){MP[t]||(MP[t]=!0)}function Uhe(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function zhe(t){return She(t.context)}function jhe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qn.Pop,navigator:o,static:s=!1,future:a}=t;Om()&&Wt(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:o,static:s,future:av({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ul(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=j.useMemo(()=>{let y=Pf(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return m==null?null:j.createElement(yu.Provider,{value:c},j.createElement(gT.Provider,{children:n,value:m}))}new Promise(()=>{});function Hhe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function Ghe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Whe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vhe(t,e){return t.button===0&&(!e||e==="_self")&&!Whe(t)}const $he=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qhe="6";try{window.__reactRouterVersion=qhe}catch{}function Qhe(t,e){return nhe({basename:void 0,future:Yp({},void 0,{v7_prependBasename:!0}),history:Cfe({window:void 0}),hydrationData:Khe(),routes:t,mapRouteProperties:Hhe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Khe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Yp({},e,{errors:Xhe(e.errors)})),e}function Xhe(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new sv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const Yhe=j.createContext({isTransitioning:!1}),Jhe=j.createContext(new Map),Zhe="startTransition",IP=kx[Zhe],epe="flushSync",RP=hG[epe];function tpe(t){IP?IP(t):t()}function ih(t){RP?RP(t):t()}class npe{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function rpe(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=j.useState(n.state),[s,a]=j.useState(),[l,c]=j.useState({isTransitioning:!1}),[u,d]=j.useState(),[f,h]=j.useState(),[p,m]=j.useState(),y=j.useRef(new Map),{v7_startTransition:g}=r||{},v=j.useCallback(I=>{g?tpe(I):I()},[g]),b=j.useCallback((I,S)=>{let{deletedFetchers:P,flushSync:L,viewTransitionOpts:G}=S;I.fetchers.forEach((w,E)=>{w.data!==void 0&&y.current.set(E,w.data)}),P.forEach(w=>y.current.delete(w));let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!G||B){L?ih(()=>o(I)):v(()=>o(I));return}if(L){ih(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let w=n.window.document.startViewTransition(()=>{ih(()=>o(I))});w.finished.finally(()=>{ih(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),ih(()=>h(w));return}f?(u&&u.resolve(),f.skipTransition(),m({state:I,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(a(I),c({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,f,u,y,v]);j.useLayoutEffect(()=>n.subscribe(b),[n,b]),j.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new npe)},[l]),j.useEffect(()=>{if(u&&s&&n.window){let I=s,S=u.promise,P=n.window.document.startViewTransition(async()=>{v(()=>o(I)),await S});P.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(P)}},[v,s,u,n.window]),j.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),j.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),j.useEffect(()=>{},[]);let x=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,S,P)=>n.navigate(I,{state:S,preventScrollReset:P?.preventScrollReset}),replace:(I,S,P)=>n.navigate(I,{replace:!0,state:S,preventScrollReset:P?.preventScrollReset})}),[n]),R=n.basename||"/",k=j.useMemo(()=>({router:n,navigator:x,static:!1,basename:R}),[n,x,R]),_=j.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return j.useEffect(()=>Uhe(r,n.future),[r,n.future]),j.createElement(j.Fragment,null,j.createElement(Zw.Provider,{value:k},j.createElement(j7.Provider,{value:i},j.createElement(Jhe.Provider,{value:y.current},j.createElement(Yhe.Provider,{value:l},j.createElement(jhe,{basename:R,location:i.location,navigationType:i.historyAction,navigator:x,future:_},i.initialized||n.future.v7_partialHydration?j.createElement(ipe,{routes:n.routes,future:n.future,state:i}):e))))),null)}const ipe=j.memo(ope);function ope(t){let{routes:e,future:n,state:r}=t;return The(e,void 0,r,n)}const spe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ape=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tb=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=Ghe(e,$he),{basename:h}=j.useContext(yu),p,m=!1;if(typeof c=="string"&&ape.test(c)&&(p=c,spe))try{let b=new URL(window.location.href),x=c.startsWith("//")?new URL(b.protocol+c):new URL(c),R=Pf(x.pathname,h);x.origin===b.origin&&R!=null?c=R+x.search+x.hash:m=!0}catch{}let y=Ehe(c,{relative:i}),g=lpe(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||g(b)}return j.createElement("a",Yp({},f,{href:p||y,onClick:m||o?r:v,ref:n,target:l}))});var PP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PP||(PP={}));var NP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(NP||(NP={}));function lpe(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=Bm(),c=eb(),u=W7(t,{relative:s});return j.useCallback(d=>{if(Vhe(d,n)){d.preventDefault();let f=r!==void 0?r:tu(c)===tu(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var kP=function(e,n){var r=arguments;if(n==null||!rm.call(n,"css"))return j.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=b2,o[1]=w2(e,n);for(var s=2;s<i;s++)o[s]=r[s];return j.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(kP||(kP={}));function cpe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return v2(e)}function upe(){var t=cpe.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var dpe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fpe=wN(function(t){return dpe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),hpe=fpe,ppe=function(e){return e!=="theme"},OP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?hpe:ppe},BP=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},mpe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return y2(n,r,i),MN(function(){return CN(n,r,i)}),null},Re=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=BP(e,n,r),l=a||OP(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],f[p])}var m=RN(function(y,g,v){var b=c&&y.as||i,x="",R=[],k=y;if(y.theme==null){k={};for(var _ in y)k[_]=y[_];k.theme=j.useContext(Zg)}typeof y.className=="string"?x=SN(g.registered,R,y.className):y.className!=null&&(x=y.className+" ");var I=v2(d.concat(R),g.registered,k);x+=g.key+"-"+I.name,s!==void 0&&(x+=" "+s);var S=c&&a===void 0?OP(b):l,P={};for(var L in y)c&&L==="as"||S(L)&&(P[L]=y[L]);return P.className=x,v&&(P.ref=v),j.createElement(j.Fragment,null,j.createElement(mpe,{cache:g,serialized:I,isStringTag:typeof b=="string"}),j.createElement(b,P))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,g){var v=t(y,Jg({},n,g,{shouldForwardProp:BP(m,g,!0)}));return v.apply(void 0,d)},m}};const Le={colors:{bgDark:"#0a0a1a",neonPink:"#00ff9d",neonGreen:"#00FF41",neonBlue:"#00bfff",neonPurple:"#b026ff",neonYellow:"#ffde03",neonOrange:"#ff6b00",textPrimary:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",textTertiary:"rgba(255, 255, 255, 0.5)",statusSuccess:"#00FF41",statusWarning:"#ffde03",statusError:"#ff1493"},shadows:{neon:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonGreen:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonBlue:"0 0 5px #00bfff, 0 0 10px #00bfff, 0 0 20px #00bfff, 0 0 40px #00bfff",neonPurple:"0 0 5px #b026ff, 0 0 10px #b026ff, 0 0 20px #b026ff, 0 0 40px #b026ff",glass:"0 8px 32px rgba(0, 0, 0, 0.2)"},animations:{neonPulse:`
      @keyframes neonPulse {
        0%, 100% {
          text-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          text-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonBorder:`
      @keyframes neonBorder {
        0%, 100% {
          box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonRotate:`
      @keyframes neonRotate {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
      }
    `,neonFloat:`
      @keyframes neonFloat {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
    `,neonGlow:`
      @keyframes neonGlow {
        0%, 100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.8;
          filter: brightness(1.5);
        }
      }
    `,psychedelicBg:`
      @keyframes psychedelicBg {
        0% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        25% {
          background: radial-gradient(circle at 75% 25%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        50% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.2) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        75% {
          background: radial-gradient(circle at 25% 75%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        100% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
      }
    `},transitions:{default:"200ms cubic-bezier(0.4, 0, 0.2, 1)",fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",slow:"300ms cubic-bezier(0.4, 0, 0.2, 1)"}},Wg="/assets/haze-z9wVEcTU.webm";class Ys{static ETH_PRICE_USD=2500;static FEE_RECIPIENT="0xE1E3dFa98C39Ba5b6C643348420420aBC3556416";static LISTING_FEE_USD=.1;static async calculateETHAmount(e,n=this.ETH_PRICE_USD){try{const r=e/n,i=Math.round(r*1e8)/1e8,o=Math.max(i,1e-6);return console.log(`💰 Payment calculation: $${e} USD = ${o} ETH (price: $${n}/ETH)`),{success:!0,ethAmount:parseFloat(o.toFixed(8)),weiAmount:Fa(o.toFixed(18))}}catch(r){return console.error("Payment calculation error:",r),{success:!1,error:r.message,ethAmount:0,weiAmount:0n}}}static async buildTransaction(e,n,r){try{console.log("🔧 Building transaction for Base network...");const o=await r.estimateGas({to:e,value:n})*120n/100n;return console.log("✅ Transaction config ready:",{to:e,value:Qv(n),gasLimit:o.toString()}),{success:!0,txConfig:{to:e,value:n,gas:o}}}catch(i){return console.error("❌ Error building transaction:",i),{success:!1,error:i.message}}}static getListingFeeUSD(){return this.LISTING_FEE_USD}static getFeeRecipient(){return this.FEE_RECIPIENT}static calculateETHFee(e){try{const n=e/this.ETH_PRICE_USD,r=Math.round(n*1e8)/1e8,i=Math.max(r,1e-6);return{success:!0,ethAmount:parseFloat(i.toFixed(8)),usdAmount:e,ethPriceUsed:this.ETH_PRICE_USD}}catch(n){return console.error("Error calculating ETH fee:",n),{success:!1,error:n.message,ethAmount:1e-6}}}static async sendTransaction(e,n,r){if(!e)throw new Error("Wallet client not available");try{console.log("📤 Sending transaction:",{to:n,value:r.toString(),valueInWei:Fa(r.toString()).toString(),from:e.account.address});let i;try{i=await e.estimateFeesPerGas(),console.log("📡 Raw fee estimation from network:",i)}catch(u){console.warn("⚠️ Failed to estimate fees, using fallback:",u),i={maxFeePerGas:Fa("0.000000002"),maxPriorityFeePerGas:Fa("0.000000001")}}const o=Fa("0.000000002"),s=Fa("0.000000001"),a=i.maxFeePerGas&&i.maxFeePerGas>o?i.maxFeePerGas:o,l=i.maxPriorityFeePerGas&&i.maxPriorityFeePerGas>s?i.maxPriorityFeePerGas:s;console.log("💰 Final gas fees being used:",{maxFeePerGas:a.toString()+" wei ("+(Number(a)/1e9).toFixed(2)+" gwei)",maxPriorityFeePerGas:l.toString()+" wei ("+(Number(l)/1e9).toFixed(2)+" gwei)",originalEstimation:i});let c;try{console.log("🎯 Attempting direct transaction..."),c=await e.sendTransaction({to:n,value:Fa(r.toString()),gas:21000n,maxFeePerGas:a,maxPriorityFeePerGas:l}),console.log("✅ Direct transaction succeeded!")}catch(u){console.warn("⚠️ Direct transaction failed, trying with prepareTransactionRequest:",u.message);const d=await e.prepareTransactionRequest({to:n,value:Fa(r.toString()),chain:e.chain,account:e.account,maxFeePerGas:a,maxPriorityFeePerGas:l});c=await e.sendTransaction(d)}return console.log("✅ Transaction sent:",c),{success:!0,hash:c}}catch(i){return console.error("Transaction failed:",i),{success:!1,error:i.message}}}}const bl=Re("div",{target:"eyxi51555"})("min-height:100vh;background-color:transparent;color:",t=>t.theme.colors.textPrimary,";padding:2rem;"),xl=Re("div",{target:"eyxi51554"})({name:"tyoysd",styles:"max-width:1200px;margin:0 auto;padding:1rem;@media (max-width: 768px){padding:0.5rem;}"}),nu=Re("div",{target:"eyxi51553"})("background:rgba(255, 255, 0, 0.1);backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 0, 0.2);border-radius:1rem;padding:1.5rem;transition:",t=>t.theme.transitions.default,";&:hover{transform:translateY(-4px);box-shadow:",t=>t.theme.shadows.glass,";border-color:rgba(255, 255, 0, 0.3);}"),vs=Re("h3",{target:"eyxi51552"})("color:",t=>t.theme.colors.neonPink,";animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,";"),zn=Re("button",{target:"eyxi51550"})("background:linear-gradient(45deg, ",t=>t.theme.colors.neonPink,", ",t=>t.theme.colors.neonBlue,");color:white;border:none;border-radius:0.75rem;padding:0.75rem 1.5rem;font-weight:500;cursor:pointer;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);box-shadow:",t=>t.theme.shadows.neon,";&::before{transform:translateX(100%);}}"),gpe=Re("div",{target:"eyxi51549"})({name:"2ojh76",styles:"display:grid;grid-template-columns:repeat(5, 1fr);gap:1rem;padding:1rem;@media (max-width: 1400px){grid-template-columns:repeat(4, 1fr);}@media (max-width: 1200px){grid-template-columns:repeat(3, 1fr);}@media (max-width: 768px){grid-template-columns:repeat(1, 1fr);gap:0.75rem;padding:0.5rem;}"}),ype=Re("div",{target:"eyxi51548"})({name:"zp4fuo",styles:"background:rgba(0, 0, 0, 0.3);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;overflow:hidden;transition:all 0.3s ease;position:relative;@media (max-width: 768px){margin-bottom:0.75rem;border-radius:0.75rem;}&:hover{transform:translateY(-2px);box-shadow:0 0 20px rgba(0, 255, 65, 0.2);}"}),y_=Re("img",{target:"eyxi51547"})({name:"18zqpt0",styles:"width:100%;height:100%;object-fit:cover;object-position:center;@media (max-width: 768px){height:180px;}"}),yT=Re("div",{target:"eyxi51539"})("display:inline-block;width:2rem;height:2rem;border:3px solid ",t=>t.theme.colors.neonPink,";border-radius:50%;border-top-color:transparent;animation:spin 1s linear infinite;@keyframes spin{to{transform:rotate(360deg);}}"),vpe=Re("div",{target:"eyxi51538"})({name:"1ict2wg",styles:"max-width:2xl;margin:0 auto;padding:2rem"}),wpe=Re(vs,{target:"eyxi51537"})({name:"1e9obx1",styles:"font-size:2rem;margin-bottom:2rem"}),k0=Re(nu,{target:"eyxi51536"})({name:"1da3ewm",styles:"padding:1.5rem;margin-bottom:1.5rem"}),O0=Re("h2",{target:"eyxi51535"})("color:",t=>t.theme.colors.neonPink,";font-size:1.25rem;font-weight:600;margin-bottom:1rem;"),bpe=Re("div",{target:"eyxi51534"})({name:"w5cb7o",styles:"display:flex;align-items:center;gap:1rem;padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:0.75rem;border:1px solid rgba(255, 255, 255, 0.1)"}),xpe=Re("img",{target:"eyxi51533"})({name:"1bmg8cs",styles:"width:5rem;height:5rem;border-radius:0.5rem;object-fit:cover"}),Epe=Re("div",{target:"eyxi51532"})({name:"82a6rk",styles:"flex:1"}),Ape=Re("h3",{target:"eyxi51531"})("color:",t=>t.theme.colors.textPrimary,";font-weight:600;margin-bottom:0.25rem;"),_pe=Re("p",{target:"eyxi51530"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),Spe=Re("button",{target:"eyxi51529"})("width:100%;padding:1.5rem;border:2px dashed rgba(255, 255, 255, 0.2);border-radius:0.75rem;background:transparent;color:",t=>t.theme.colors.textSecondary,";font-size:1rem;cursor:pointer;transition:",t=>t.theme.transitions.default,";&:hover{border-color:",t=>t.theme.colors.neonPink,";color:",t=>t.theme.colors.neonPink,";background:rgba(255, 255, 255, 0.05);}"),Cpe=Re("div",{target:"eyxi51528"})({name:"bjn8wh",styles:"position:relative"}),Tpe=Re("input",{target:"eyxi51527"})("width:100%;padding:0.75rem 1rem;background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:",t=>t.theme.colors.textPrimary,";font-size:1rem;transition:",t=>t.theme.transitions.default,";&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:",t=>t.theme.shadows.neon,";}&::placeholder{color:",t=>t.theme.colors.textTertiary,";}"),Mpe=Re("div",{target:"eyxi51526"})("position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),Ipe=Re(zn,{target:"eyxi51523"})({name:"bz05c1",styles:"width:100%;padding:1rem;font-size:1.125rem;&:disabled{opacity:0.5;cursor:not-allowed;}"}),Rpe=Re("div",{target:"eyxi51522"})({name:"1e06wu4",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;text-align:center;background:rgba(0, 0, 0, 0.3);border-radius:1rem;margin:2rem 0;[data-rk]{width:100%;max-width:300px;}"}),Ppe=Re(vs,{target:"eyxi51521"})({name:"s9j5gk",styles:"font-size:2rem;margin-bottom:1rem"}),Npe=Re("p",{target:"eyxi51520"})("color:",t=>t.theme.colors.textSecondary,";margin-bottom:2rem;"),kpe=Re("div",{target:"eyxi51519"})({name:"1iwin9z",styles:"background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.2);color:#ff4444;padding:1rem;border-radius:0.5rem;margin-bottom:1.5rem;font-size:0.875rem;animation:fadeIn 0.3s ease-in-out;@keyframes fadeIn{from{opacity:0;transform:translateY(-10px);}to{opacity:1;transform:translateY(0);}}"}),Ope=Re("div",{target:"eyxi51510"})({name:"1qj36wb",styles:"padding:0.75rem;display:flex;flex-direction:column;gap:0.5rem"}),Bpe=Re("h3",{target:"eyxi5159"})({name:"1w69tks",styles:"font-size:1rem;font-weight:700;color:white;margin:0"}),Fpe=Re("p",{target:"eyxi5158"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.75rem;margin:0;"),Lpe=Re("div",{target:"eyxi5157"})({name:"1fq4wdl",styles:"display:flex;flex-wrap:wrap;gap:0.25rem;margin-top:0.25rem"}),oh=Re("div",{target:"eyxi5156"})("background:rgba(255, 255, 255, 0.1);padding:0.15rem 0.5rem;border-radius:1rem;font-size:0.75rem;color:",t=>t.theme.colors.textSecondary,";"),Dpe=Re("div",{target:"eyxi5153"})("background:transparent;backdrop-filter:blur(10px);border:1px solid ",t=>t.theme.colors.neonGreen,";border-radius:1rem;padding:1rem;transition:",t=>t.theme.transitions.default,";margin-bottom:2rem;"),Upe=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",zpe=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",K1=Re("video",{target:"e1tha5qy5"})({name:"nal8u7",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7"}),jpe=Re("div",{target:"e1tha5qy4"})({name:"1av86fp",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center;@media (max-width: 768px){flex-wrap:nowrap;gap:0.25rem;}"}),Hpe=Re("div",{target:"e1tha5qy3"})({name:"1fxxqiq",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;@media (max-width: 768px){display:none;}"}),Gpe=Re(zn,{target:"e1tha5qy2"})("background:",t=>t.active?t.theme.colors.neonGreen:"transparent",";border:1px solid ",t=>t.theme.colors.neonGreen,";padding:0.5rem 1rem;color:",t=>t.active?"#000B1A":t.theme.colors.textPrimary,";white-space:nowrap;@media (max-width: 768px){padding:0.5rem;font-size:0.9rem;}"),Wpe=Re("select",{target:"e1tha5qy1"})("display:none;background:transparent;border:1px solid ",t=>t.theme.colors.neonGreen,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem;border-radius:0.5rem;cursor:pointer;font-size:0.9rem;width:100%;max-width:200px;@media (max-width: 768px){display:block;}option{background:",t=>t.theme.colors.bgDark,";color:",t=>t.theme.colors.textPrimary,";}"),Vpe=Re("input",{target:"e1tha5qy0"})("background:rgba(255, 255, 255, 0.05);border:1px solid ",t=>t.theme.colors.neonBlue,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem 1rem;border-radius:0.5rem;font-size:0.9rem;width:100%;max-width:300px;transition:all 0.3s ease;&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:0 0 10px ",t=>t.theme.colors.neonPink,";}&::placeholder{color:",t=>t.theme.colors.textSecondary,";}@media (max-width: 768px){max-width:100%;margin-bottom:0.5rem;}"),$pe=()=>{const t=Bm(),{showSuccess:e,showError:n,showInfo:r}=Ma(),{isConnected:i,address:o,chain:s,walletClient:a,publicClient:l}=es(),[c,u]=j.useState("all"),[d,f]=j.useState(""),[h,p]=j.useState([]),[m,y]=j.useState(!1),[g,v]=j.useState(null),[b,x]=j.useState(""),R="https://cryptoflipz2-production.up.railway.app";j.useEffect(()=>{console.log("🔍 Home Debug:",{isConnected:i,address:o,chain:s,hasWalletClient:!!a,hasPublicClient:!!l})},[i,o,s,a,l]);const k=async()=>{try{y(!0),x(null);const S=await fetch(`${R}/api/games`);if(!S.ok)throw new Error("Failed to fetch games");const P=await S.json();console.log("📊 Fetched games from database:",P);const L=P.map(G=>({id:G.id,nft:{name:G.nft_name||"Unknown NFT",image:G.nft_image||"https://picsum.photos/300/300?random="+G.id,collection:G.nft_collection||"Unknown Collection",contractAddress:G.nft_contract,tokenId:G.nft_token_id,chain:G.nft_chain||"base"},gameType:G.game_type||"nft-vs-crypto",price:G.price_usd,priceUSD:G.price_usd,currency:G.game_type==="nft-vs-nft"?"NFT":"USD",chain:G.nft_chain||"base",creator:G.creator,joiner:G.joiner,rounds:G.rounds,status:G.status,createdAt:G.created_at,winner:G.winner,creatorWins:G.creator_wins||0,joinerWins:G.joiner_wins||0,spectators:G.total_spectators||0,challengerNFT:G.challenger_nft_name?{name:G.challenger_nft_name,image:G.challenger_nft_image,collection:G.challenger_nft_collection,contractAddress:G.challenger_nft_contract,tokenId:G.challenger_nft_token_id}:null,description:G.game_type==="nft-vs-nft"?`NFT Battle: ${G.nft_name} vs ${G.challenger_nft_name||"Waiting for challenger"}`:`${G.nft_name} from ${G.nft_collection} - Ready for battle!`}));console.log("✅ Processed flips:",L),p(L),L.length>0&&v(L[0])}catch(S){console.error("❌ Error fetching games:",S),x("Failed to load games. Please try again.")}finally{y(!1)}};j.useEffect(()=>{k();const S=setInterval(k,1e4);return()=>clearInterval(S)},[]);const _=h.filter(S=>{const P=c==="all"||(c==="nft-vs-crypto"||c==="nft-vs-nft"?S.gameType===c:S.chain===c),L=d.toLowerCase(),G=!d||S.nft.name.toLowerCase().includes(L)||S.nft.collection.toLowerCase().includes(L)||S.description.toLowerCase().includes(L);return P&&G}),I=[{key:"all",name:"ALL",icon:"🌐"},{key:"nft-vs-crypto",name:"NFT VS CRYPTO",icon:"💎💰"},{key:"nft-vs-nft",name:"NFT VS NFT",icon:"⚔️"},{key:"ethereum",name:"ETH",icon:"💎"},{key:"base",name:"BASE",icon:"🔵"},{key:"bnb",name:"BNB",icon:"🟡"},{key:"avalanche",name:"AVAX",icon:"🔴"},{key:"polygon",name:"POLY",icon:"🟣"},{key:"arbitrum",name:"ARB",icon:"🔷"},{key:"optimism",name:"OPT",icon:"🔶"}];return m?Z(Go,{theme:Le,children:[U(K1,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:U("source",{src:Wg,type:"video/webm"})}),U(bl,{children:U(xl,{children:Z("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:[U(yT,{}),U("span",{style:{marginLeft:"1rem",color:Le.colors.textSecondary},children:"Loading games from database..."})]})})})]}):b?Z(Go,{theme:Le,children:[U(K1,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:U("source",{src:Wg,type:"video/webm"})}),U(bl,{children:U(xl,{children:Z(nu,{style:{textAlign:"center",padding:"3rem"},children:[U(vs,{style:{fontSize:"2rem",marginBottom:"1rem",color:Le.colors.statusError},children:"Error Loading Games"}),U("p",{style:{color:Le.colors.textSecondary,marginBottom:"2rem"},children:b}),U(zn,{onClick:k,style:{background:Le.colors.neonPink},children:"Retry"})]})})})]}):Z(Go,{theme:Le,children:[U(K1,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:U("source",{src:Wg,type:"video/webm"})}),U(bl,{children:Z(xl,{children:[U(Dpe,{style:{background:Le.colors.bgDark},children:Z(jpe,{children:[U(Hpe,{children:I.map(S=>Z(Gpe,{onClick:()=>u(S.key),active:c===S.key,children:[S.icon," ",S.name]},S.key))}),U(Wpe,{value:c,onChange:S=>u(S.target.value),children:I.map(S=>Z("option",{value:S.key,children:[S.icon," ",S.name]},S.key))})]})}),_.length===0?Z(nu,{style:{textAlign:"center",padding:"3rem",border:`2px solid ${Le.colors.neonPink}`},children:[U(vs,{style:{fontSize:"2rem",marginBottom:"1rem"},children:"No Active Flips"}),U("p",{style:{color:Le.colors.textSecondary,marginBottom:"2rem"},children:"Be the first to create a flip game!"}),U(zn,{as:tb,to:"/create",style:{background:Le.colors.neonPink},children:"Create Flip"})]}):Z("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"240px 1fr",gap:"1.5rem",marginTop:"2rem"},children:[U("div",{style:{order:window.innerWidth<=768?1:0,width:window.innerWidth<=768?"100%":"240px"},children:g&&Z("div",{style:{background:"rgba(0, 0, 0, 0.8)",borderRadius:"1rem",padding:window.innerWidth<=768?"1.25rem":"1.5rem",border:`2px solid ${g.gameType==="nft-vs-nft"?Le.colors.neonGreen:Le.colors.neonPink}`,maxWidth:window.innerWidth<=768?"100%":"240px"},children:[U("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Le.colors.neonBlue,borderBottom:`2px solid ${Le.colors.neonBlue}`,paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:`0 0 10px ${Le.colors.neonBlue}`},children:"Current Flip"}),Z("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"row":"column",gap:(window.innerWidth<=768,"1rem"),alignItems:window.innerWidth<=768?"flex-start":"stretch"},children:[Z("div",{style:{position:"relative",aspectRatio:"1",borderRadius:"0.75rem",overflow:"hidden",width:window.innerWidth<=768?"60%":"100%",flexShrink:0},children:[U(y_,{src:g.nft.image,alt:g.nft.name}),U("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.5rem",background:g.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:g.gameType==="nft-vs-nft"?"#000":"#fff",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",fontWeight:"bold"},children:g.gameType==="nft-vs-nft"?"⚔️ NFT BATTLE":"💰 CRYPTO"})]}),window.innerWidth<=768&&Z("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[Z("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[U("div",{style:{fontSize:"0.7rem",color:Le.colors.textSecondary},children:"Price"}),Z("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:["$",g.priceUSD.toFixed(2)]})]}),Z("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[U("div",{style:{fontSize:"0.7rem",color:Le.colors.textSecondary},children:"Type"}),U("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:g.gameType==="nft-vs-nft"?Le.colors.neonGreen:Le.colors.neonPink},children:g.gameType==="nft-vs-nft"?"NFT Battle":"NFT vs Crypto"})]})]})]}),Z(Ope,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Z("div",{children:[U(Bpe,{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:g.nft.name}),U(Fpe,{style:{fontSize:"0.9rem"},children:g.nft.collection})]}),window.innerWidth>768&&U(Lpe,{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.75rem"},children:g.gameType==="nft-vs-nft"?Z(Id,{children:[Z(oh,{children:[U("span",{children:"Type"}),U("div",{style:{color:Le.colors.neonGreen},children:"NFT Battle"})]}),Z(oh,{children:[U("span",{children:"Stakes"}),U("div",{children:"Winner Takes All"})]}),g.challengerNFT&&Z(oh,{children:[U("span",{children:"VS"}),U("div",{style:{color:Le.colors.neonYellow},children:g.challengerNFT.name})]})]}):Z(Id,{children:[Z(oh,{children:[U("span",{children:"Price"}),Z("div",{children:["$",g.priceUSD.toFixed(2)]})]}),Z(oh,{children:[U("span",{children:"Type"}),U("div",{style:{color:Le.colors.neonPink},children:"NFT vs Crypto"})]})]})}),Z("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[U("a",{href:`${Upe(g.nft.chain)}/token/${g.nft.contractAddress}?a=${g.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:"🔍 Explorer"}),Z("a",{href:`${zpe(g.nft.chain)}/${g.nft.contractAddress}/${g.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[U("img",{src:"images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),Z("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[U(zn,{onClick:()=>t(`/game/${g.id}`),style:{flex:2,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:"View Flip"}),g.gameType==="nft-vs-nft"&&!g.challengerNFT&&Z(zn,{onClick:()=>t(`/flip/${g.id}/join`),style:{flex:1,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:[U("span",{children:"⚔️"})," Join Battle"]})]})]})]})}),Z("div",{style:{background:"rgba(0, 0, 20, 0.95)",borderRadius:"1rem",padding:"1rem",border:`1px solid ${Le.colors.neonBlue}`,maxHeight:window.innerWidth<=768?"none":"600px",overflowY:"auto",order:window.innerWidth<=768?2:0},children:[Z("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Le.colors.neonBlue,marginBottom:"1rem",padding:"0.5rem",borderBottom:`1px solid ${Le.colors.neonBlue}`,textShadow:"0 0 10px rgba(0, 150, 255, 0.5)"},children:["Available Flips (",_.filter(S=>S.status==="waiting").length,")"]}),U("div",{style:{marginBottom:"1rem"},children:U(Vpe,{type:"text",placeholder:"Search NFTs or collections...",value:d,onChange:S=>f(S.target.value)})}),U("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(2, 1fr)":"repeat(8, 1fr)",gap:window.innerWidth<=768?"0.5rem":"0.75rem",margin:"1rem 0",width:"100%",overflowX:"hidden"},children:_.map(S=>Z("div",{onClick:()=>v(S),style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:window.innerWidth<=768?"0.5rem":"0.75rem",padding:window.innerWidth<=768?"0.25rem":"0.5rem",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.15rem":"0.25rem",height:window.innerWidth<=768?"auto":"210px",width:"100%"},onMouseEnter:P=>{P.currentTarget.style.transform="scale(1.02)",P.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},onMouseLeave:P=>{P.currentTarget.style.transform="scale(1)",P.currentTarget.style.background="rgba(255, 255, 255, 0.05)"},children:[Z("div",{style:{position:"relative",aspectRatio:"1",borderRadius:window.innerWidth<=768?"0.25rem":"0.5rem",overflow:"hidden",width:"100%",height:window.innerWidth<=768?"auto":"135px"},children:[U(y_,{src:S.nft.image,alt:S.nft.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),U("div",{style:{position:"absolute",bottom:"0.25rem",right:"0.25rem",background:S.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:S.gameType==="nft-vs-nft"?"#000":"#fff",padding:window.innerWidth<=768?"0.1rem 0.25rem":"0.15rem 0.35rem",borderRadius:window.innerWidth<=768?"0.15rem":"0.25rem",fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",fontWeight:"bold"},children:S.gameType==="nft-vs-nft"?"⚔️ NFT BATTLE":"💰 CRYPTO"})]}),Z("div",{style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.1rem":"0.25rem",padding:window.innerWidth<=768?"0.1rem":"0.25rem",height:window.innerWidth<=768?"auto":"60px",justifyContent:"space-between"},children:[U("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.name}),U("div",{style:{fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",color:Le.colors.textSecondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.collection}),Z("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",color:Le.colors.neonBlue},children:["$",S.priceUSD.toFixed(2)]})]})]},S.id))})]})]})]})})]})},Q7=()=>{const{address:t,isConnected:e,connector:n}=Rr(),{data:r}=$4(),{showError:i}=Ma(),[o,s]=j.useState(!1),[a,l]=j.useState(null);return j.useEffect(()=>{const c=async()=>{try{l(null);const u=!!t,d=!!r,f=e;if(console.log("🔍 Wallet connection check:",{hasAddress:u,hasWalletClient:d,isWagmiConnected:f,connector:n?.name,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),f&&u&&!d){console.log("⏳ Waiting for wallet client to initialize..."),setTimeout(()=>{c()},1e3);return}const h=u&&d&&f;s(h),!h&&f&&(l("Wallet connection incomplete. Please reconnect your wallet."),console.error("❌ Incomplete wallet connection:",{hasAddress:u,hasWalletClient:d,isWagmiConnected:f}))}catch(u){console.error("❌ Error checking wallet connection:",u),l(u.message),s(!1)}};c()},[t,r,e,n]),{isFullyConnected:o,connectionError:a,address:t,walletClient:r,connector:n}},qpe=({isOpen:t,onClose:e,onSelect:n,nfts:r=[],loading:i=!1})=>{const{chain:o,chains:s}=es();return t?U(Go,{theme:Le,children:U("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:Z(nu,{style:{width:"100%",maxWidth:"1200px",maxHeight:"90vh",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[Z("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Z("div",{children:[U(vs,{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Select NFT"}),Z("p",{style:{color:Le.colors.textSecondary},children:["Choose an NFT from your ",s[o]?.name||"wallet"]})]}),U(zn,{onClick:e,style:{padding:"0.5rem"},children:"✕"})]}),U("div",{style:{flex:1,overflowY:"auto",paddingRight:"0.5rem"},children:i?U("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:[...Array(6)].map((a,l)=>Z(nu,{style:{padding:"1rem"},children:[U("div",{style:{width:"100%",height:"200px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"1rem"}}),Z("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[U("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"75%"}}),U("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"50%"}})]})]},l))}):!r||r.length===0?U("div",{style:{textAlign:"center",padding:"3rem 0",color:Le.colors.textSecondary},children:Z("p",{style:{fontSize:"1.125rem"},children:["No NFTs found in your ",s[o]?.name||"wallet"]})}):U(gpe,{children:r.map(a=>Z(ype,{onClick:()=>{n(a),e()},style:{cursor:"pointer"},children:[U(y_,{src:a.image,alt:a.name,onError:l=>{console.error("❌ Image failed to load:",a.image),l.target.src="/placeholder-nft.svg"},onLoad:()=>{console.log("✅ Image loaded successfully:",a.image)}}),Z("div",{style:{padding:"1rem"},children:[U("h3",{style:{color:Le.colors.textPrimary,fontWeight:600,marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),U("p",{style:{color:Le.colors.textSecondary,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.collection}),Z("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:Le.colors.textSecondary},children:[U("span",{children:"Token ID:"}),Z("span",{style:{color:Le.colors.textPrimary},children:["#",a.tokenId]})]})]})]},`${a.contractAddress}-${a.tokenId}`))})})]})})}):null},Qpe=()=>{const t=Bm(),{nfts:e,loading:n,publicClient:r,chain:i}=es(),{showSuccess:o,showError:s,showInfo:a}=Ma(),{isFullyConnected:l,connectionError:c,address:u,walletClient:d}=Q7(),[f,h]=j.useState(null),[p,m]=j.useState(!1),[y,g]=j.useState(""),[v,b]=j.useState(""),[x,R]=j.useState(""),[k,_]=j.useState(!1);if(j.useEffect(()=>{console.log("🔍 CreateFlip - Wallet state:",{isFullyConnected:l,connectionError:c,address:u,hasWalletClient:!!d,chain:i?.name})},[l,c,u,d,i]),j.useEffect(()=>{c&&R(c)},[c]),!l||!u)return U(Go,{theme:Le,children:U(bl,{children:U(xl,{children:Z(Rpe,{children:[U(Ppe,{children:"Connect Your Wallet"}),U(Npe,{children:c||"Please connect your wallet to create a new flip game."}),U(_m,{}),c&&U("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:c})]})})})});const I=async P=>{try{const L=Math.random().toString(36).substring(2,15),G={...P,id:L};console.log("🎮 Creating game with database:",G);const w=await fetch("https://cryptoflipz2-production.up.railway.app/api/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!w.ok)throw new Error("Failed to create game");const E=await w.json();return console.log("✅ Game created successfully:",E),{success:!0,gameId:L}}catch(L){return console.error("❌ Error creating game:",L),{success:!1,error:L.message}}};return U(Go,{theme:Le,children:Z(bl,{children:[U(xl,{children:Z(vpe,{children:[U(wpe,{children:"Create New Flip"}),x&&U(kpe,{children:x}),Z("form",{onSubmit:async P=>{P.preventDefault(),R(""),_(!0);try{if(!f)throw new Error("Please select an NFT");if(!v)throw new Error("Please select a game type");if(v==="nft-vs-crypto"&&(!y||isNaN(y)||parseFloat(y)<=0))throw new Error("Please enter a valid price in USD");if(!d||!u)throw new Error("Wallet not connected properly. Please reconnect your wallet.");a("Processing listing fee payment...");const L=v==="nft-vs-nft"?.5:.1;console.log("Listing fee USD:",L);const G=await Ys.calculateETHFee(L);if(console.log("Fee calculation result:",G),!G.success)throw console.error("Fee calculation failed:",G.error),new Error("Failed to calculate listing fee: "+G.error);const B=G.ethAmount;console.log(`Listing fee: $${L} = ${B} ETH`);const w=Ys.getFeeRecipient(),E=await Ys.sendTransaction(d,w,B.toString());if(!E.success)throw new Error("Transaction failed: "+E.error);a("Confirming transaction...");let C=null,D=0;const N=60;for(;!C&&D<N;){await new Promise(F=>setTimeout(F,2e3));try{if(C=await r.getTransactionReceipt({hash:E.hash}),C&&C.status==="success"){o("Listing fee paid successfully!");break}else if(C&&C.status==="reverted")throw new Error("Transaction reverted")}catch{console.log(`⏳ Waiting for confirmation... (${D+1}/${N})`)}D++}if(!C)throw new Error("Transaction confirmation timeout. Please check your wallet.");const H={creator:u,joiner:null,gameType:v,nft:{contractAddress:f.contractAddress,tokenId:f.tokenId,name:f.name,image:f.image,collection:f.collection,chain:f.chain},price:v==="nft-vs-crypto"?parseFloat(y):0,priceUSD:v==="nft-vs-crypto"?parseFloat(y):0,currency:v==="nft-vs-crypto"?"USD":"NFT",rounds:5,status:"waiting",offeredNFTs:[],listingFee:{amountUSD:L,amountETH:B,transactionHash:E.hash,paidAt:new Date().toISOString()}},$=await I(H);if(!$.success)throw new Error("Failed to create game");o(`${v==="nft-vs-nft"?"NFT vs NFT":"NFT vs Crypto"} game created! Game ID: ${$.gameId}`),t(`/game/${$.gameId}`)}catch(L){console.error("Failed to create flip:",L),R(L.message),s(L.message)}finally{_(!1)}},children:[Z(k0,{children:[U(O0,{children:"Choose Game Type"}),Z("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Z("button",{type:"button",onClick:()=>b("nft-vs-crypto"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-crypto"?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-crypto"?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:"white",cursor:"pointer",transition:"all 0.3s ease"},children:[U("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"💎 vs 💰"}),U("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs Crypto"}),U("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's crypto bet"}),U("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.10"})]}),Z("button",{type:"button",onClick:()=>b("nft-vs-nft"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-nft"?"#00FF41":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:v==="nft-vs-nft"?"#000":"white",cursor:"pointer",transition:"all 0.3s ease"},children:[U("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"💎 vs 💎"}),U("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs NFT"}),U("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's NFT - Winner takes both!"}),U("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.50"})]})]})]}),Z(k0,{children:[U(O0,{children:"Select Your NFT"}),f?Z(bpe,{children:[U(xpe,{src:f.image,alt:f.name}),Z(Epe,{children:[U(Ape,{children:f.name}),U(_pe,{children:f.collection})]}),U(zn,{type:"button",onClick:()=>h(null),children:"Change"})]}):U(Spe,{type:"button",onClick:()=>m(!0),children:"Select NFT to Flip"})]}),v==="nft-vs-crypto"&&Z(k0,{children:[U(O0,{children:"Set Price"}),Z(Cpe,{children:[U(Tpe,{type:"number",step:"0.01",min:"0",placeholder:"Enter price in USD",value:y,onChange:P=>g(P.target.value),required:!0}),U(Mpe,{children:"USD"})]})]}),v==="nft-vs-nft"&&Z(k0,{children:[U(O0,{children:"NFT vs NFT Battle"}),Z("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem"},children:[Z("p",{style:{margin:0,color:"white"},children:["🔥 ",U("strong",{children:"Ultimate NFT Battle!"})]}),Z("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",opacity:.8},children:["• Other players can offer their NFTs to challenge you",U("br",{}),"• You choose which NFT to battle against",U("br",{}),"• Winner takes both NFTs!",U("br",{}),"• Best of 5 rounds determines the victor"]})]})]}),U(Ipe,{type:"submit",disabled:k||!v,style:{color:"#000",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",fontWeight:"bold"},children:k?Z(Id,{children:[U(yT,{})," Creating ",v==="nft-vs-nft"?"NFT Battle":"Flip","..."]}):`Create ${v==="nft-vs-nft"?"NFT Battle":"Flip"}`})]})]})}),U(qpe,{isOpen:p,onClose:()=>m(!1),onSelect:h,nfts:e||[],loading:n,selectedNFT:f})]})})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const vT="170",Kpe=0,FP=1,Xpe=2,K7=1,Ype=2,Gs=3,Pl=0,Si=1,ea=2,El=0,Sd=1,LP=2,DP=3,UP=4,Jpe=5,lc=100,Zpe=101,eme=102,tme=103,nme=104,rme=200,ime=201,ome=202,sme=203,v_=204,w_=205,ame=206,lme=207,cme=208,ume=209,dme=210,fme=211,hme=212,pme=213,mme=214,b_=0,x_=1,E_=2,of=3,A_=4,__=5,S_=6,C_=7,wT=0,gme=1,yme=2,Al=0,vme=1,wme=2,bme=3,xme=4,Eme=5,Ame=6,_me=7,X7=300,sf=301,af=302,T_=303,M_=304,nb=306,I_=1e3,_c=1001,R_=1002,qo=1003,Sme=1004,B0=1005,xs=1006,X1=1007,Sc=1008,Aa=1009,Y7=1010,J7=1011,Jp=1012,bT=1013,ru=1014,sa=1015,Fm=1016,xT=1017,ET=1018,lf=1020,Z7=35902,e9=1021,t9=1022,Ho=1023,n9=1024,r9=1025,Cd=1026,cf=1027,i9=1028,AT=1029,o9=1030,_T=1031,ST=1033,Vg=33776,$g=33777,qg=33778,Qg=33779,P_=35840,N_=35841,k_=35842,O_=35843,B_=36196,F_=37492,L_=37496,D_=37808,U_=37809,z_=37810,j_=37811,H_=37812,G_=37813,W_=37814,V_=37815,$_=37816,q_=37817,Q_=37818,K_=37819,X_=37820,Y_=37821,Kg=36492,J_=36494,Z_=36495,s9=36283,e2=36284,t2=36285,n2=36286,Cme=3200,Tme=3201,a9=0,Mme=1,nl="",ui="srgb",Nf="srgb-linear",rb="linear",un="srgb",Iu=7680,zP=519,Ime=512,Rme=513,Pme=514,l9=515,Nme=516,kme=517,Ome=518,Bme=519,jP=35044,HP="300 es",aa=2e3,lv=2001;class kf{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const kr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Y1=Math.PI/180,r2=180/Math.PI;function Lm(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(kr[t&255]+kr[t>>8&255]+kr[t>>16&255]+kr[t>>24&255]+"-"+kr[e&255]+kr[e>>8&255]+"-"+kr[e>>16&15|64]+kr[e>>24&255]+"-"+kr[n&63|128]+kr[n>>8&255]+"-"+kr[n>>16&255]+kr[n>>24&255]+kr[r&255]+kr[r>>8&255]+kr[r>>16&255]+kr[r>>24&255]).toLowerCase()}function hi(t,e,n){return Math.max(e,Math.min(n,t))}function Fme(t,e){return(t%e+e)%e}function J1(t,e,n){return(1-n)*t+n*e}function sh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ai(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class nn{constructor(e=0,n=0){nn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(hi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Nt{constructor(e,n,r,i,o,s,a,l,c){Nt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],y=i[3],g=i[6],v=i[1],b=i[4],x=i[7],R=i[2],k=i[5],_=i[8];return o[0]=s*m+a*v+l*R,o[3]=s*y+a*b+l*k,o[6]=s*g+a*x+l*_,o[1]=c*m+u*v+d*R,o[4]=c*y+u*b+d*k,o[7]=c*g+u*x+d*_,o[2]=f*m+h*v+p*R,o[5]=f*y+h*b+p*k,o[8]=f*g+h*x+p*_,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,h=c*o-s*l,p=n*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(a*r-i*s)*m,e[3]=f*m,e[4]=(u*n-i*l)*m,e[5]=(i*o-a*n)*m,e[6]=h*m,e[7]=(r*l-c*n)*m,e[8]=(s*n-r*o)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(Z1.makeScale(e,n)),this}rotate(e){return this.premultiply(Z1.makeRotation(-e)),this}translate(e,n){return this.premultiply(Z1.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Z1=new Nt;function c9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Zp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Lme(){const t=Zp("canvas");return t.style.display="block",t}const GP={};function Eh(t){t in GP||(GP[t]=!0,console.warn(t))}function Dme(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function Ume(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function zme(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Qt={enabled:!0,workingColorSpace:Nf,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===un&&(t.r=ha(t.r),t.g=ha(t.g),t.b=ha(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===un&&(t.r=Td(t.r),t.g=Td(t.g),t.b=Td(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===nl?rb:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function ha(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Td(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const WP=[.64,.33,.3,.6,.15,.06],VP=[.2126,.7152,.0722],$P=[.3127,.329],qP=new Nt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),QP=new Nt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Qt.define({[Nf]:{primaries:WP,whitePoint:$P,transfer:rb,toXYZ:qP,fromXYZ:QP,luminanceCoefficients:VP,workingColorSpaceConfig:{unpackColorSpace:ui},outputColorSpaceConfig:{drawingBufferColorSpace:ui}},[ui]:{primaries:WP,whitePoint:$P,transfer:un,toXYZ:qP,fromXYZ:QP,luminanceCoefficients:VP,outputColorSpaceConfig:{drawingBufferColorSpace:ui}}});let Ru;class jme{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ru===void 0&&(Ru=Zp("canvas")),Ru.width=e.width,Ru.height=e.height;const r=Ru.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ru}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Zp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=ha(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ha(n[r]/255)*255):n[r]=ha(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Hme=0;class u9{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Hme++}),this.uuid=Lm(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(ex(i[s].image)):o.push(ex(i[s]))}else o=ex(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function ex(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?jme.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Gme=0;class Ur extends kf{constructor(e=Ur.DEFAULT_IMAGE,n=Ur.DEFAULT_MAPPING,r=_c,i=_c,o=xs,s=Sc,a=Ho,l=Aa,c=Ur.DEFAULT_ANISOTROPY,u=nl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Gme++}),this.uuid=Lm(),this.name="",this.source=new u9(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new nn(0,0),this.repeat=new nn(1,1),this.center=new nn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==X7)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case I_:e.x=e.x-Math.floor(e.x);break;case _c:e.x=e.x<0?0:1;break;case R_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case I_:e.y=e.y-Math.floor(e.y);break;case _c:e.y=e.y<0?0:1;break;case R_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ur.DEFAULT_IMAGE=null;Ur.DEFAULT_MAPPING=X7;Ur.DEFAULT_ANISOTROPY=1;class Bn{constructor(e=0,n=0,r=0,i=1){Bn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],y=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+y)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,x=(h+1)/2,R=(g+1)/2,k=(u+f)/4,_=(d+m)/4,I=(p+y)/4;return b>x&&b>R?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=k/r,o=_/r):x>R?x<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=k/i,o=I/i):R<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(R),r=_/o,i=I/o),this.set(r,i,o,n),this}let v=Math.sqrt((y-p)*(y-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(v)<.001&&(v=1),this.x=(y-p)/v,this.y=(d-m)/v,this.z=(f-u)/v,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Wme extends kf{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Bn(0,0,e,n),this.scissorTest=!1,this.viewport=new Bn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:xs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Ur(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new u9(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class iu extends Wme{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class d9 extends Ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qo,this.minFilter=qo,this.wrapR=_c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Vme extends Ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qo,this.minFilter=qo,this.wrapR=_c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Dm{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],p=o[s+2],m=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let y=1-a;const g=l*f+c*h+u*p+d*m,v=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const R=Math.sqrt(b),k=Math.atan2(R,g*v);y=Math.sin(y*k)/R,a=Math.sin(a*k)/R}const x=a*v;if(l=l*y+f*x,c=c*y+h*x,u=u*y+p*x,d=d*y+m*x,y===1-a){const R=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=R,c*=R,u*=R,d*=R}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],h=o[s+2],p=o[s+3];return e[n]=a*p+u*d+l*h-c*f,e[n+1]=l*p+u*f+c*d-a*h,e[n+2]=c*p+u*h+a*f-l*d,e[n+3]=u*p-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),p=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class be{constructor(e=0,n=0,r=0){be.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(KP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(KP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return tx.copy(this).projectOnVector(e),this.sub(tx)}reflect(e){return this.sub(tx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(hi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const tx=new be,KP=new Dm;class Um{constructor(e=new be(1/0,1/0,1/0),n=new be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Co.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Co.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Co.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,Co):Co.fromBufferAttribute(o,s),Co.applyMatrix4(e.matrixWorld),this.expandByPoint(Co);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),F0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),F0.copy(r.boundingBox)),F0.applyMatrix4(e.matrixWorld),this.union(F0)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Co),Co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ah),L0.subVectors(this.max,ah),Pu.subVectors(e.a,ah),Nu.subVectors(e.b,ah),ku.subVectors(e.c,ah),Ha.subVectors(Nu,Pu),Ga.subVectors(ku,Nu),Wl.subVectors(Pu,ku);let n=[0,-Ha.z,Ha.y,0,-Ga.z,Ga.y,0,-Wl.z,Wl.y,Ha.z,0,-Ha.x,Ga.z,0,-Ga.x,Wl.z,0,-Wl.x,-Ha.y,Ha.x,0,-Ga.y,Ga.x,0,-Wl.y,Wl.x,0];return!nx(n,Pu,Nu,ku,L0)||(n=[1,0,0,0,1,0,0,0,1],!nx(n,Pu,Nu,ku,L0))?!1:(D0.crossVectors(Ha,Ga),n=[D0.x,D0.y,D0.z],nx(n,Pu,Nu,ku,L0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ds=[new be,new be,new be,new be,new be,new be,new be,new be],Co=new be,F0=new Um,Pu=new be,Nu=new be,ku=new be,Ha=new be,Ga=new be,Wl=new be,ah=new be,L0=new be,D0=new be,Vl=new be;function nx(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Vl.fromArray(t,o);const a=i.x*Math.abs(Vl.x)+i.y*Math.abs(Vl.y)+i.z*Math.abs(Vl.z),l=e.dot(Vl),c=n.dot(Vl),u=r.dot(Vl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const $me=new Um,lh=new be,rx=new be;class CT{constructor(e=new be,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):$me.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lh.subVectors(e,this.center);const n=lh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(lh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(rx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lh.copy(e.center).add(rx)),this.expandByPoint(lh.copy(e.center).sub(rx))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Us=new be,ix=new be,U0=new be,Wa=new be,ox=new be,z0=new be,sx=new be;class qme{constructor(e=new be,n=new be(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Us)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Us.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Us.copy(this.origin).addScaledVector(this.direction,n),Us.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){ix.copy(e).add(n).multiplyScalar(.5),U0.copy(n).sub(e).normalize(),Wa.copy(this.origin).sub(ix);const o=e.distanceTo(n)*.5,s=-this.direction.dot(U0),a=Wa.dot(this.direction),l=-Wa.dot(U0),c=Wa.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-a,f=s*a-l,p=o*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(ix).addScaledVector(U0,f),h}intersectSphere(e,n){Us.subVectors(e.center,this.origin);const r=Us.dot(this.direction),i=Us.dot(Us)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Us)!==null}intersectTriangle(e,n,r,i,o){ox.subVectors(n,e),z0.subVectors(r,e),sx.crossVectors(ox,z0);let s=this.direction.dot(sx),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Wa.subVectors(this.origin,e);const l=a*this.direction.dot(z0.crossVectors(Wa,z0));if(l<0)return null;const c=a*this.direction.dot(ox.cross(Wa));if(c<0||l+c>s)return null;const u=-a*Wa.dot(sx);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ln{constructor(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){Ln.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y)}set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ln().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ou.setFromMatrixColumn(e,0).length(),o=1/Ou.setFromMatrixColumn(e,1).length(),s=1/Ou.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,h=s*d,p=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+p*c,n[5]=f-m*c,n[9]=-a*l,n[2]=m-f*c,n[6]=p+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;n[0]=f+m*a,n[4]=p*a-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=h*a-p,n[6]=m+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;n[0]=f-m*a,n[4]=-s*d,n[8]=p+h*a,n[1]=h+p*a,n[5]=s*u,n[9]=m-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=a*u,m=a*d;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+m,n[1]=l*d,n[5]=m*c+f,n[9]=h*c-p,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=a*l,m=a*c;n[0]=l*u,n[4]=m-f*d,n[8]=p*d+h,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+p,n[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+m,n[5]=s*u,n[9]=h*d-p,n[2]=p*d-h,n[6]=a*u,n[10]=m*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Qme,e,Kme)}lookAt(e,n,r){const i=this.elements;return Ri.subVectors(e,n),Ri.lengthSq()===0&&(Ri.z=1),Ri.normalize(),Va.crossVectors(r,Ri),Va.lengthSq()===0&&(Math.abs(r.z)===1?Ri.x+=1e-4:Ri.z+=1e-4,Ri.normalize(),Va.crossVectors(r,Ri)),Va.normalize(),j0.crossVectors(Ri,Va),i[0]=Va.x,i[4]=j0.x,i[8]=Ri.x,i[1]=Va.y,i[5]=j0.y,i[9]=Ri.y,i[2]=Va.z,i[6]=j0.z,i[10]=Ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],y=r[10],g=r[14],v=r[3],b=r[7],x=r[11],R=r[15],k=i[0],_=i[4],I=i[8],S=i[12],P=i[1],L=i[5],G=i[9],B=i[13],w=i[2],E=i[6],C=i[10],D=i[14],N=i[3],H=i[7],$=i[11],F=i[15];return o[0]=s*k+a*P+l*w+c*N,o[4]=s*_+a*L+l*E+c*H,o[8]=s*I+a*G+l*C+c*$,o[12]=s*S+a*B+l*D+c*F,o[1]=u*k+d*P+f*w+h*N,o[5]=u*_+d*L+f*E+h*H,o[9]=u*I+d*G+f*C+h*$,o[13]=u*S+d*B+f*D+h*F,o[2]=p*k+m*P+y*w+g*N,o[6]=p*_+m*L+y*E+g*H,o[10]=p*I+m*G+y*C+g*$,o[14]=p*S+m*B+y*D+g*F,o[3]=v*k+b*P+x*w+R*N,o[7]=v*_+b*L+x*E+R*H,o[11]=v*I+b*G+x*C+R*$,o[15]=v*S+b*B+x*D+R*F,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],y=e[11],g=e[15];return p*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*h-r*l*h)+m*(+n*l*h-n*c*f+o*s*f-i*s*h+i*c*u-o*l*u)+y*(+n*c*d-n*a*h-o*s*d+r*s*h+o*a*u-r*c*u)+g*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],y=e[14],g=e[15],v=d*y*c-m*f*c+m*l*h-a*y*h-d*l*g+a*f*g,b=p*f*c-u*y*c-p*l*h+s*y*h+u*l*g-s*f*g,x=u*m*c-p*d*c+p*a*h-s*m*h-u*a*g+s*d*g,R=p*d*l-u*m*l-p*a*f+s*m*f+u*a*y-s*d*y,k=n*v+r*b+i*x+o*R;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/k;return e[0]=v*_,e[1]=(m*f*o-d*y*o-m*i*h+r*y*h+d*i*g-r*f*g)*_,e[2]=(a*y*o-m*l*o+m*i*c-r*y*c-a*i*g+r*l*g)*_,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*h-r*l*h)*_,e[4]=b*_,e[5]=(u*y*o-p*f*o+p*i*h-n*y*h-u*i*g+n*f*g)*_,e[6]=(p*l*o-s*y*o-p*i*c+n*y*c+s*i*g-n*l*g)*_,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*h+n*l*h)*_,e[8]=x*_,e[9]=(p*d*o-u*m*o-p*r*h+n*m*h+u*r*g-n*d*g)*_,e[10]=(s*m*o-p*a*o+p*r*c-n*m*c-s*r*g+n*a*g)*_,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*h-n*a*h)*_,e[12]=R*_,e[13]=(u*m*i-p*d*i+p*r*f-n*m*f-u*r*y+n*d*y)*_,e[14]=(p*a*i-s*m*i-p*r*l+n*m*l+s*r*y-n*a*y)*_,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*_,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,h=o*u,p=o*d,m=s*u,y=s*d,g=a*d,v=l*c,b=l*u,x=l*d,R=r.x,k=r.y,_=r.z;return i[0]=(1-(m+g))*R,i[1]=(h+x)*R,i[2]=(p-b)*R,i[3]=0,i[4]=(h-x)*k,i[5]=(1-(f+g))*k,i[6]=(y+v)*k,i[7]=0,i[8]=(p+b)*_,i[9]=(y-v)*_,i[10]=(1-(f+m))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Ou.set(i[0],i[1],i[2]).length();const s=Ou.set(i[4],i[5],i[6]).length(),a=Ou.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],To.copy(this);const c=1/o,u=1/s,d=1/a;return To.elements[0]*=c,To.elements[1]*=c,To.elements[2]*=c,To.elements[4]*=u,To.elements[5]*=u,To.elements[6]*=u,To.elements[8]*=d,To.elements[9]*=d,To.elements[10]*=d,n.setFromRotationMatrix(To),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=aa){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let h,p;if(a===aa)h=-(s+o)/(s-o),p=-2*s*o/(s-o);else if(a===lv)h=-s/(s-o),p=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=aa){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,h=(r+i)*u;let p,m;if(a===aa)p=(s+o)*d,m=-2*d;else if(a===lv)p=o*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ou=new be,To=new Ln,Qme=new be(0,0,0),Kme=new be(1,1,1),Va=new be,j0=new be,Ri=new be,XP=new Ln,YP=new Dm;class ks{constructor(e=0,n=0,r=0,i=ks.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(hi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-hi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(hi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-hi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(hi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-hi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return XP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XP,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return YP.setFromEuler(this),this.setFromQuaternion(YP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ks.DEFAULT_ORDER="XYZ";class f9{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Xme=0;const JP=new be,Bu=new Dm,zs=new Ln,H0=new be,ch=new be,Yme=new be,Jme=new Dm,ZP=new be(1,0,0),e6=new be(0,1,0),t6=new be(0,0,1),n6={type:"added"},Zme={type:"removed"},Fu={type:"childadded",child:null},ax={type:"childremoved",child:null};class zr extends kf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xme++}),this.uuid=Lm(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zr.DEFAULT_UP.clone();const e=new be,n=new ks,r=new Dm,i=new be(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ln},normalMatrix:{value:new Nt}}),this.matrix=new Ln,this.matrixWorld=new Ln,this.matrixAutoUpdate=zr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new f9,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Bu.setFromAxisAngle(e,n),this.quaternion.multiply(Bu),this}rotateOnWorldAxis(e,n){return Bu.setFromAxisAngle(e,n),this.quaternion.premultiply(Bu),this}rotateX(e){return this.rotateOnAxis(ZP,e)}rotateY(e){return this.rotateOnAxis(e6,e)}rotateZ(e){return this.rotateOnAxis(t6,e)}translateOnAxis(e,n){return JP.copy(e).applyQuaternion(this.quaternion),this.position.add(JP.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ZP,e)}translateY(e){return this.translateOnAxis(e6,e)}translateZ(e){return this.translateOnAxis(t6,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(zs.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?H0.copy(e):H0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ch.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zs.lookAt(ch,H0,this.up):zs.lookAt(H0,ch,this.up),this.quaternion.setFromRotationMatrix(zs),i&&(zs.extractRotation(i.matrixWorld),Bu.setFromRotationMatrix(zs),this.quaternion.premultiply(Bu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(n6),Fu.child=e,this.dispatchEvent(Fu),Fu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Zme),ax.child=e,this.dispatchEvent(ax),ax.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),zs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zs.multiply(e.parent.matrixWorld)),e.applyMatrix4(zs),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(n6),Fu.child=e,this.dispatchEvent(Fu),Fu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,e,Yme),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ch,Jme,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}zr.DEFAULT_UP=new be(0,1,0);zr.DEFAULT_MATRIX_AUTO_UPDATE=!0;zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mo=new be,js=new be,lx=new be,Hs=new be,Lu=new be,Du=new be,r6=new be,cx=new be,ux=new be,dx=new be,fx=new Bn,hx=new Bn,px=new Bn;class jo{constructor(e=new be,n=new be,r=new be){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Mo.subVectors(e,n),i.cross(Mo);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Mo.subVectors(i,n),js.subVectors(r,n),lx.subVectors(e,n);const s=Mo.dot(Mo),a=Mo.dot(js),l=Mo.dot(lx),c=js.dot(js),u=js.dot(lx),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,p=(s*u-a*l)*f;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Hs)===null?!1:Hs.x>=0&&Hs.y>=0&&Hs.x+Hs.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,Hs)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Hs.x),l.addScaledVector(s,Hs.y),l.addScaledVector(a,Hs.z),l)}static getInterpolatedAttribute(e,n,r,i,o,s){return fx.setScalar(0),hx.setScalar(0),px.setScalar(0),fx.fromBufferAttribute(e,n),hx.fromBufferAttribute(e,r),px.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(fx,o.x),s.addScaledVector(hx,o.y),s.addScaledVector(px,o.z),s}static isFrontFacing(e,n,r,i){return Mo.subVectors(r,n),js.subVectors(e,n),Mo.cross(js).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mo.subVectors(this.c,this.b),js.subVectors(this.a,this.b),Mo.cross(js).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return jo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return jo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return jo.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return jo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return jo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;Lu.subVectors(i,r),Du.subVectors(o,r),cx.subVectors(e,r);const l=Lu.dot(cx),c=Du.dot(cx);if(l<=0&&c<=0)return n.copy(r);ux.subVectors(e,i);const u=Lu.dot(ux),d=Du.dot(ux);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(Lu,s);dx.subVectors(e,o);const h=Lu.dot(dx),p=Du.dot(dx);if(p>=0&&h<=p)return n.copy(o);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),n.copy(r).addScaledVector(Du,a);const y=u*p-h*d;if(y<=0&&d-u>=0&&h-p>=0)return r6.subVectors(o,i),a=(d-u)/(d-u+(h-p)),n.copy(i).addScaledVector(r6,a);const g=1/(y+m+f);return s=m*g,a=f*g,n.copy(r).addScaledVector(Lu,s).addScaledVector(Du,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const h9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$a={h:0,s:0,l:0},G0={h:0,s:0,l:0};function mx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Jt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ui){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Qt.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Qt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Qt.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Qt.workingColorSpace){if(e=Fme(e,1),n=hi(n,0,1),r=hi(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=mx(s,o,e+1/3),this.g=mx(s,o,e),this.b=mx(s,o,e-1/3)}return Qt.toWorkingColorSpace(this,i),this}setStyle(e,n=ui){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ui){const r=h9[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ha(e.r),this.g=ha(e.g),this.b=ha(e.b),this}copyLinearToSRGB(e){return this.r=Td(e.r),this.g=Td(e.g),this.b=Td(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ui){return Qt.fromWorkingColorSpace(Or.copy(this),e),Math.round(hi(Or.r*255,0,255))*65536+Math.round(hi(Or.g*255,0,255))*256+Math.round(hi(Or.b*255,0,255))}getHexString(e=ui){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Qt.workingColorSpace){Qt.fromWorkingColorSpace(Or.copy(this),n);const r=Or.r,i=Or.g,o=Or.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Qt.workingColorSpace){return Qt.fromWorkingColorSpace(Or.copy(this),n),e.r=Or.r,e.g=Or.g,e.b=Or.b,e}getStyle(e=ui){Qt.fromWorkingColorSpace(Or.copy(this),e);const n=Or.r,r=Or.g,i=Or.b;return e!==ui?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL($a),this.setHSL($a.h+e,$a.s+n,$a.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL($a),e.getHSL(G0);const r=J1($a.h,G0.h,n),i=J1($a.s,G0.s,n),o=J1($a.l,G0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Or=new Jt;Jt.NAMES=h9;let e0e=0;class zm extends kf{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:e0e++}),this.uuid=Lm(),this.name="",this.blending=Sd,this.side=Pl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=v_,this.blendDst=w_,this.blendEquation=lc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jt(0,0,0),this.blendAlpha=0,this.depthFunc=of,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Iu,this.stencilZFail=Iu,this.stencilZPass=Iu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Sd&&(r.blending=this.blending),this.side!==Pl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==v_&&(r.blendSrc=this.blendSrc),this.blendDst!==w_&&(r.blendDst=this.blendDst),this.blendEquation!==lc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==of&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==zP&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Iu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Iu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Iu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class p9 extends zm{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ks,this.combine=wT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $n=new be,W0=new nn;class Cs{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=jP,this.updateRanges=[],this.gpuType=sa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)W0.fromBufferAttribute(this,n),W0.applyMatrix3(e),this.setXY(n,W0.x,W0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)$n.fromBufferAttribute(this,n),$n.applyMatrix3(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)$n.fromBufferAttribute(this,n),$n.applyMatrix4(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$n.fromBufferAttribute(this,n),$n.applyNormalMatrix(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$n.fromBufferAttribute(this,n),$n.transformDirection(e),this.setXYZ(n,$n.x,$n.y,$n.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=sh(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ai(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=sh(n,this.array)),n}setX(e,n){return this.normalized&&(n=ai(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=sh(n,this.array)),n}setY(e,n){return this.normalized&&(n=ai(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=sh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ai(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=sh(n,this.array)),n}setW(e,n){return this.normalized&&(n=ai(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ai(n,this.array),r=ai(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ai(n,this.array),r=ai(r,this.array),i=ai(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=ai(n,this.array),r=ai(r,this.array),i=ai(i,this.array),o=ai(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==jP&&(e.usage=this.usage),e}}class m9 extends Cs{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class g9 extends Cs{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Ts extends Cs{constructor(e,n,r){super(new Float32Array(e),n,r)}}let t0e=0;const eo=new Ln,gx=new zr,Uu=new be,Pi=new Um,uh=new Um,dr=new be;class zl extends kf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:t0e++}),this.uuid=Lm(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(c9(e)?g9:m9)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Nt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return eo.makeRotationFromQuaternion(e),this.applyMatrix4(eo),this}rotateX(e){return eo.makeRotationX(e),this.applyMatrix4(eo),this}rotateY(e){return eo.makeRotationY(e),this.applyMatrix4(eo),this}rotateZ(e){return eo.makeRotationZ(e),this.applyMatrix4(eo),this}translate(e,n,r){return eo.makeTranslation(e,n,r),this.applyMatrix4(eo),this}scale(e,n,r){return eo.makeScale(e,n,r),this.applyMatrix4(eo),this}lookAt(e){return gx.lookAt(e),gx.updateMatrix(),this.applyMatrix4(gx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Uu).negate(),this.translate(Uu.x,Uu.y,Uu.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Ts(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Um);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new be(-1/0,-1/0,-1/0),new be(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Pi.setFromBufferAttribute(o),this.morphTargetsRelative?(dr.addVectors(this.boundingBox.min,Pi.min),this.boundingBox.expandByPoint(dr),dr.addVectors(this.boundingBox.max,Pi.max),this.boundingBox.expandByPoint(dr)):(this.boundingBox.expandByPoint(Pi.min),this.boundingBox.expandByPoint(Pi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new CT);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new be,1/0);return}if(e){const r=this.boundingSphere.center;if(Pi.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];uh.setFromBufferAttribute(a),this.morphTargetsRelative?(dr.addVectors(Pi.min,uh.min),Pi.expandByPoint(dr),dr.addVectors(Pi.max,uh.max),Pi.expandByPoint(dr)):(Pi.expandByPoint(uh.min),Pi.expandByPoint(uh.max))}Pi.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)dr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(dr));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)dr.fromBufferAttribute(a,c),l&&(Uu.fromBufferAttribute(e,c),dr.add(Uu)),i=Math.max(i,r.distanceToSquared(dr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Cs(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let I=0;I<r.count;I++)a[I]=new be,l[I]=new be;const c=new be,u=new be,d=new be,f=new nn,h=new nn,p=new nn,m=new be,y=new be;function g(I,S,P){c.fromBufferAttribute(r,I),u.fromBufferAttribute(r,S),d.fromBufferAttribute(r,P),f.fromBufferAttribute(o,I),h.fromBufferAttribute(o,S),p.fromBufferAttribute(o,P),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const L=1/(h.x*p.y-p.x*h.y);isFinite(L)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(L),y.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(L),a[I].add(m),a[S].add(m),a[P].add(m),l[I].add(y),l[S].add(y),l[P].add(y))}let v=this.groups;v.length===0&&(v=[{start:0,count:e.count}]);for(let I=0,S=v.length;I<S;++I){const P=v[I],L=P.start,G=P.count;for(let B=L,w=L+G;B<w;B+=3)g(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const b=new be,x=new be,R=new be,k=new be;function _(I){R.fromBufferAttribute(i,I),k.copy(R);const S=a[I];b.copy(S),b.sub(R.multiplyScalar(R.dot(S))).normalize(),x.crossVectors(k,S);const L=x.dot(l[I])<0?-1:1;s.setXYZW(I,b.x,b.y,b.z,L)}for(let I=0,S=v.length;I<S;++I){const P=v[I],L=P.start,G=P.count;for(let B=L,w=L+G;B<w;B+=3)_(e.getX(B+0)),_(e.getX(B+1)),_(e.getX(B+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Cs(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new be,o=new be,s=new be,a=new be,l=new be,c=new be,u=new be,d=new be;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,y),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)dr.fromBufferAttribute(e,n),dr.normalize(),e.setXYZ(n,dr.x,dr.y,dr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,y=l.length;m<y;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new Cs(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new zl,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const i6=new Ln,$l=new qme,V0=new CT,o6=new be,$0=new be,q0=new be,Q0=new be,yx=new be,K0=new be,s6=new be,X0=new be;class Es extends zr{constructor(e=new zl,n=new p9){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){K0.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(yx.fromBufferAttribute(d,e),s?K0.addScaledVector(yx,u):K0.addScaledVector(yx.sub(n),u))}n.add(K0)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),V0.copy(r.boundingSphere),V0.applyMatrix4(o),$l.copy(e.ray).recast(e.near),!(V0.containsPoint($l.origin)===!1&&($l.intersectSphere(V0,o6)===null||$l.origin.distanceToSquared(o6)>(e.far-e.near)**2))&&(i6.copy(o).invert(),$l.copy(e.ray).applyMatrix4(i6),!(r.boundingBox!==null&&$l.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,$l)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(a!==null)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const y=f[p],g=s[y.materialIndex],v=Math.max(y.start,h.start),b=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,R=b;x<R;x+=3){const k=a.getX(x),_=a.getX(x+1),I=a.getX(x+2);i=Y0(this,g,e,r,c,u,d,k,_,I),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let y=p,g=m;y<g;y+=3){const v=a.getX(y),b=a.getX(y+1),x=a.getX(y+2);i=Y0(this,s,e,r,c,u,d,v,b,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const y=f[p],g=s[y.materialIndex],v=Math.max(y.start,h.start),b=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,R=b;x<R;x+=3){const k=x,_=x+1,I=x+2;i=Y0(this,g,e,r,c,u,d,k,_,I),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let y=p,g=m;y<g;y+=3){const v=y,b=y+1,x=y+2;i=Y0(this,s,e,r,c,u,d,v,b,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function n0e(t,e,n,r,i,o,s,a){let l;if(e.side===Si?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===Pl,a),l===null)return null;X0.copy(a),X0.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(X0);return c<n.near||c>n.far?null:{distance:c,point:X0.clone(),object:t}}function Y0(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,$0),t.getVertexPosition(l,q0),t.getVertexPosition(c,Q0);const u=n0e(t,e,n,r,$0,q0,Q0,s6);if(u){const d=new be;jo.getBarycoord(s6,$0,q0,Q0,d),i&&(u.uv=jo.getInterpolatedAttribute(i,a,l,c,d,new nn)),o&&(u.uv1=jo.getInterpolatedAttribute(o,a,l,c,d,new nn)),s&&(u.normal=jo.getInterpolatedAttribute(s,a,l,c,d,new be),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new be,materialIndex:0};jo.getNormal($0,q0,Q0,f.normal),u.face=f,u.barycoord=d}return u}class jm extends zl{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,n,e,s,o,0),p("z","y","x",1,-1,r,n,-e,s,o,1),p("x","z","y",1,1,e,r,n,i,s,2),p("x","z","y",1,-1,e,r,-n,i,s,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Ts(c,3)),this.setAttribute("normal",new Ts(u,3)),this.setAttribute("uv",new Ts(d,2));function p(m,y,g,v,b,x,R,k,_,I,S){const P=x/_,L=R/I,G=x/2,B=R/2,w=k/2,E=_+1,C=I+1;let D=0,N=0;const H=new be;for(let $=0;$<C;$++){const F=$*L-B;for(let M=0;M<E;M++){const q=M*P-G;H[m]=q*v,H[y]=F*b,H[g]=w,c.push(H.x,H.y,H.z),H[m]=0,H[y]=0,H[g]=k>0?1:-1,u.push(H.x,H.y,H.z),d.push(M/_),d.push(1-$/I),D+=1}}for(let $=0;$<I;$++)for(let F=0;F<_;F++){const M=f+F+E*$,q=f+F+E*($+1),J=f+(F+1)+E*($+1),ie=f+(F+1)+E*$;l.push(M,q,ie),l.push(q,J,ie),N+=6}a.addGroup(h,N,S),h+=N,f+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function uf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Hr(t){const e={};for(let n=0;n<t.length;n++){const r=uf(t[n]);for(const i in r)e[i]=r[i]}return e}function r0e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function y9(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Qt.workingColorSpace}const i0e={clone:uf,merge:Hr};var o0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,s0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Nl extends zm{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=o0e,this.fragmentShader=s0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uf(e.uniforms),this.uniformsGroups=r0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class v9 extends zr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ln,this.projectionMatrix=new Ln,this.projectionMatrixInverse=new Ln,this.coordinateSystem=aa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qa=new be,a6=new nn,l6=new nn;class lo extends v9{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=r2*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Y1*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return r2*2*Math.atan(Math.tan(Y1*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){qa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(qa.x,qa.y).multiplyScalar(-e/qa.z),qa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(qa.x,qa.y).multiplyScalar(-e/qa.z)}getViewSize(e,n){return this.getViewBounds(e,a6,l6),n.subVectors(l6,a6)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Y1*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const zu=-90,ju=1;class a0e extends zr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new lo(zu,ju,e,n);i.layers=this.layers,this.add(i);const o=new lo(zu,ju,e,n);o.layers=this.layers,this.add(o);const s=new lo(zu,ju,e,n);s.layers=this.layers,this.add(s);const a=new lo(zu,ju,e,n);a.layers=this.layers,this.add(a);const l=new lo(zu,ju,e,n);l.layers=this.layers,this.add(l);const c=new lo(zu,ju,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===aa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===lv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class w9 extends Ur{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:sf,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class l0e extends iu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new w9(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:xs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new jm(5,5,5),o=new Nl({name:"CubemapFromEquirect",uniforms:uf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Si,blending:El});o.uniforms.tEquirect.value=n;const s=new Es(i,o),a=n.minFilter;return n.minFilter===Sc&&(n.minFilter=xs),new a0e(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const vx=new be,c0e=new be,u0e=new Nt;class ec{constructor(e=new be(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=vx.subVectors(r,n).cross(c0e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(vx),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||u0e.getNormalMatrix(e),i=this.coplanarPoint(vx).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ql=new CT,J0=new be;class TT{constructor(e=new ec,n=new ec,r=new ec,i=new ec,o=new ec,s=new ec){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=aa){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],m=i[10],y=i[11],g=i[12],v=i[13],b=i[14],x=i[15];if(r[0].setComponents(l-o,f-c,y-h,x-g).normalize(),r[1].setComponents(l+o,f+c,y+h,x+g).normalize(),r[2].setComponents(l+s,f+u,y+p,x+v).normalize(),r[3].setComponents(l-s,f-u,y-p,x-v).normalize(),r[4].setComponents(l-a,f-d,y-m,x-b).normalize(),n===aa)r[5].setComponents(l+a,f+d,y+m,x+b).normalize();else if(n===lv)r[5].setComponents(a,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ql.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ql.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ql)}intersectsSprite(e){return ql.center.set(0,0,0),ql.radius=.7071067811865476,ql.applyMatrix4(e.matrixWorld),this.intersectsSphere(ql)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(J0.x=i.normal.x>0?e.max.x:e.min.x,J0.y=i.normal.y>0?e.max.y:e.min.y,J0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(J0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function b9(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function d0e(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class ib extends zl{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],p=[],m=[],y=[];for(let g=0;g<u;g++){const v=g*f-s;for(let b=0;b<c;b++){const x=b*d-o;p.push(x,-v,0),m.push(0,0,1),y.push(b/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let v=0;v<a;v++){const b=v+c*g,x=v+c*(g+1),R=v+1+c*(g+1),k=v+1+c*g;h.push(b,x,k),h.push(x,R,k)}this.setIndex(h),this.setAttribute("position",new Ts(p,3)),this.setAttribute("normal",new Ts(m,3)),this.setAttribute("uv",new Ts(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ib(e.width,e.height,e.widthSegments,e.heightSegments)}}var f0e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,h0e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,p0e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,m0e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,g0e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,y0e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,v0e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,w0e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b0e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,x0e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,E0e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,A0e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_0e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,S0e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,C0e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,T0e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,M0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,I0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,R0e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,P0e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,N0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,k0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,O0e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,B0e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,F0e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,L0e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,D0e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,U0e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,z0e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,j0e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,H0e="gl_FragColor = linearToOutputTexel( gl_FragColor );",G0e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,W0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,V0e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,$0e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,q0e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Q0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,K0e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,X0e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Y0e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,J0e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Z0e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ege=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tge=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nge=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rge=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ige=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,oge=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sge=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,age=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lge=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,cge=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,uge=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dge=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fge=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,hge=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,pge=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mge=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gge=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yge=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,vge=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,wge=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bge=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xge=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ege=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Age=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_ge=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Sge=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cge=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Tge=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Mge=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ige=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Rge=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Pge=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Nge=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kge=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Oge=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Bge=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Fge=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Lge=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Dge=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Uge=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zge=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,jge=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Hge=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Gge=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Wge=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Vge=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$ge=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qge=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Qge=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Kge=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Xge=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Yge=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Jge=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Zge=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,eye=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tye=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nye=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rye=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iye=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oye=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,sye=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,aye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,uye=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dye=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fye=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hye=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pye=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mye=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gye=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yye=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vye=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,wye=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bye=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,xye=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Eye=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Aye=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_ye=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Sye=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Cye=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tye=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mye=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iye=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Rye=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pye=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Nye=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,kye=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oye=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bye=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Fye=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lye=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dye=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uye=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,zye=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jye=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hye=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gye=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wye=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bt={alphahash_fragment:f0e,alphahash_pars_fragment:h0e,alphamap_fragment:p0e,alphamap_pars_fragment:m0e,alphatest_fragment:g0e,alphatest_pars_fragment:y0e,aomap_fragment:v0e,aomap_pars_fragment:w0e,batching_pars_vertex:b0e,batching_vertex:x0e,begin_vertex:E0e,beginnormal_vertex:A0e,bsdfs:_0e,iridescence_fragment:S0e,bumpmap_pars_fragment:C0e,clipping_planes_fragment:T0e,clipping_planes_pars_fragment:M0e,clipping_planes_pars_vertex:I0e,clipping_planes_vertex:R0e,color_fragment:P0e,color_pars_fragment:N0e,color_pars_vertex:k0e,color_vertex:O0e,common:B0e,cube_uv_reflection_fragment:F0e,defaultnormal_vertex:L0e,displacementmap_pars_vertex:D0e,displacementmap_vertex:U0e,emissivemap_fragment:z0e,emissivemap_pars_fragment:j0e,colorspace_fragment:H0e,colorspace_pars_fragment:G0e,envmap_fragment:W0e,envmap_common_pars_fragment:V0e,envmap_pars_fragment:$0e,envmap_pars_vertex:q0e,envmap_physical_pars_fragment:ige,envmap_vertex:Q0e,fog_vertex:K0e,fog_pars_vertex:X0e,fog_fragment:Y0e,fog_pars_fragment:J0e,gradientmap_pars_fragment:Z0e,lightmap_pars_fragment:ege,lights_lambert_fragment:tge,lights_lambert_pars_fragment:nge,lights_pars_begin:rge,lights_toon_fragment:oge,lights_toon_pars_fragment:sge,lights_phong_fragment:age,lights_phong_pars_fragment:lge,lights_physical_fragment:cge,lights_physical_pars_fragment:uge,lights_fragment_begin:dge,lights_fragment_maps:fge,lights_fragment_end:hge,logdepthbuf_fragment:pge,logdepthbuf_pars_fragment:mge,logdepthbuf_pars_vertex:gge,logdepthbuf_vertex:yge,map_fragment:vge,map_pars_fragment:wge,map_particle_fragment:bge,map_particle_pars_fragment:xge,metalnessmap_fragment:Ege,metalnessmap_pars_fragment:Age,morphinstance_vertex:_ge,morphcolor_vertex:Sge,morphnormal_vertex:Cge,morphtarget_pars_vertex:Tge,morphtarget_vertex:Mge,normal_fragment_begin:Ige,normal_fragment_maps:Rge,normal_pars_fragment:Pge,normal_pars_vertex:Nge,normal_vertex:kge,normalmap_pars_fragment:Oge,clearcoat_normal_fragment_begin:Bge,clearcoat_normal_fragment_maps:Fge,clearcoat_pars_fragment:Lge,iridescence_pars_fragment:Dge,opaque_fragment:Uge,packing:zge,premultiplied_alpha_fragment:jge,project_vertex:Hge,dithering_fragment:Gge,dithering_pars_fragment:Wge,roughnessmap_fragment:Vge,roughnessmap_pars_fragment:$ge,shadowmap_pars_fragment:qge,shadowmap_pars_vertex:Qge,shadowmap_vertex:Kge,shadowmask_pars_fragment:Xge,skinbase_vertex:Yge,skinning_pars_vertex:Jge,skinning_vertex:Zge,skinnormal_vertex:eye,specularmap_fragment:tye,specularmap_pars_fragment:nye,tonemapping_fragment:rye,tonemapping_pars_fragment:iye,transmission_fragment:oye,transmission_pars_fragment:sye,uv_pars_fragment:aye,uv_pars_vertex:lye,uv_vertex:cye,worldpos_vertex:uye,background_vert:dye,background_frag:fye,backgroundCube_vert:hye,backgroundCube_frag:pye,cube_vert:mye,cube_frag:gye,depth_vert:yye,depth_frag:vye,distanceRGBA_vert:wye,distanceRGBA_frag:bye,equirect_vert:xye,equirect_frag:Eye,linedashed_vert:Aye,linedashed_frag:_ye,meshbasic_vert:Sye,meshbasic_frag:Cye,meshlambert_vert:Tye,meshlambert_frag:Mye,meshmatcap_vert:Iye,meshmatcap_frag:Rye,meshnormal_vert:Pye,meshnormal_frag:Nye,meshphong_vert:kye,meshphong_frag:Oye,meshphysical_vert:Bye,meshphysical_frag:Fye,meshtoon_vert:Lye,meshtoon_frag:Dye,points_vert:Uye,points_frag:zye,shadow_vert:jye,shadow_frag:Hye,sprite_vert:Gye,sprite_frag:Wye},et={common:{diffuse:{value:new Jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nt},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nt}},envmap:{envMap:{value:null},envMapRotation:{value:new Nt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nt},normalScale:{value:new nn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0},uvTransform:{value:new Nt}},sprite:{diffuse:{value:new Jt(16777215)},opacity:{value:1},center:{value:new nn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nt},alphaMap:{value:null},alphaMapTransform:{value:new Nt},alphaTest:{value:0}}},hs={basic:{uniforms:Hr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:Bt.meshbasic_vert,fragmentShader:Bt.meshbasic_frag},lambert:{uniforms:Hr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Bt.meshlambert_vert,fragmentShader:Bt.meshlambert_frag},phong:{uniforms:Hr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Jt(0)},specular:{value:new Jt(1118481)},shininess:{value:30}}]),vertexShader:Bt.meshphong_vert,fragmentShader:Bt.meshphong_frag},standard:{uniforms:Hr([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new Jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag},toon:{uniforms:Hr([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Bt.meshtoon_vert,fragmentShader:Bt.meshtoon_frag},matcap:{uniforms:Hr([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:Bt.meshmatcap_vert,fragmentShader:Bt.meshmatcap_frag},points:{uniforms:Hr([et.points,et.fog]),vertexShader:Bt.points_vert,fragmentShader:Bt.points_frag},dashed:{uniforms:Hr([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bt.linedashed_vert,fragmentShader:Bt.linedashed_frag},depth:{uniforms:Hr([et.common,et.displacementmap]),vertexShader:Bt.depth_vert,fragmentShader:Bt.depth_frag},normal:{uniforms:Hr([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:Bt.meshnormal_vert,fragmentShader:Bt.meshnormal_frag},sprite:{uniforms:Hr([et.sprite,et.fog]),vertexShader:Bt.sprite_vert,fragmentShader:Bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Nt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bt.background_vert,fragmentShader:Bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Nt}},vertexShader:Bt.backgroundCube_vert,fragmentShader:Bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bt.cube_vert,fragmentShader:Bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bt.equirect_vert,fragmentShader:Bt.equirect_frag},distanceRGBA:{uniforms:Hr([et.common,et.displacementmap,{referencePosition:{value:new be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bt.distanceRGBA_vert,fragmentShader:Bt.distanceRGBA_frag},shadow:{uniforms:Hr([et.lights,et.fog,{color:{value:new Jt(0)},opacity:{value:1}}]),vertexShader:Bt.shadow_vert,fragmentShader:Bt.shadow_frag}};hs.physical={uniforms:Hr([hs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nt},clearcoatNormalScale:{value:new nn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nt},sheen:{value:0},sheenColor:{value:new Jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nt},transmissionSamplerSize:{value:new nn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nt},attenuationDistance:{value:0},attenuationColor:{value:new Jt(0)},specularColor:{value:new Jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nt},anisotropyVector:{value:new nn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nt}}]),vertexShader:Bt.meshphysical_vert,fragmentShader:Bt.meshphysical_frag};const Z0={r:0,b:0,g:0},Ql=new ks,Vye=new Ln;function $ye(t,e,n,r,i,o,s){const a=new Jt(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function p(v){let b=v.isScene===!0?v.background:null;return b&&b.isTexture&&(b=(v.backgroundBlurriness>0?n:e).get(b)),b}function m(v){let b=!1;const x=p(v);x===null?g(a,l):x&&x.isColor&&(g(x,1),b=!0);const R=t.xr.getEnvironmentBlendMode();R==="additive"?r.buffers.color.setClear(0,0,0,1,s):R==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(v,b){const x=p(b);x&&(x.isCubeTexture||x.mapping===nb)?(u===void 0&&(u=new Es(new jm(1,1,1),new Nl({name:"BackgroundCubeMaterial",uniforms:uf(hs.backgroundCube.uniforms),vertexShader:hs.backgroundCube.vertexShader,fragmentShader:hs.backgroundCube.fragmentShader,side:Si,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,k,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Ql.copy(b.backgroundRotation),Ql.x*=-1,Ql.y*=-1,Ql.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(Ql.y*=-1,Ql.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Vye.makeRotationFromEuler(Ql)),u.material.toneMapped=Qt.getTransfer(x.colorSpace)!==un,(d!==x||f!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new Es(new ib(2,2),new Nl({name:"BackgroundMaterial",uniforms:uf(hs.background.uniforms),vertexShader:hs.background.vertexShader,fragmentShader:hs.background.fragmentShader,side:Pl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Qt.getTransfer(x.colorSpace)!==un,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,b){v.getRGB(Z0,y9(t)),r.buffers.color.setClear(Z0.r,Z0.g,Z0.b,b,s)}return{getClearColor:function(){return a},setClearColor:function(v,b=1){a.set(v),l=b,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:m,addToRenderList:y}}function qye(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,s=!1;function a(P,L,G,B,w){let E=!1;const C=d(B,G,L);o!==C&&(o=C,c(o.object)),E=h(P,B,G,w),E&&p(P,B,G,w),w!==null&&e.update(w,t.ELEMENT_ARRAY_BUFFER),(E||s)&&(s=!1,x(P,L,G,B),w!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(w).buffer))}function l(){return t.createVertexArray()}function c(P){return t.bindVertexArray(P)}function u(P){return t.deleteVertexArray(P)}function d(P,L,G){const B=G.wireframe===!0;let w=r[P.id];w===void 0&&(w={},r[P.id]=w);let E=w[L.id];E===void 0&&(E={},w[L.id]=E);let C=E[B];return C===void 0&&(C=f(l()),E[B]=C),C}function f(P){const L=[],G=[],B=[];for(let w=0;w<n;w++)L[w]=0,G[w]=0,B[w]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:G,attributeDivisors:B,object:P,attributes:{},index:null}}function h(P,L,G,B){const w=o.attributes,E=L.attributes;let C=0;const D=G.getAttributes();for(const N in D)if(D[N].location>=0){const $=w[N];let F=E[N];if(F===void 0&&(N==="instanceMatrix"&&P.instanceMatrix&&(F=P.instanceMatrix),N==="instanceColor"&&P.instanceColor&&(F=P.instanceColor)),$===void 0||$.attribute!==F||F&&$.data!==F.data)return!0;C++}return o.attributesNum!==C||o.index!==B}function p(P,L,G,B){const w={},E=L.attributes;let C=0;const D=G.getAttributes();for(const N in D)if(D[N].location>=0){let $=E[N];$===void 0&&(N==="instanceMatrix"&&P.instanceMatrix&&($=P.instanceMatrix),N==="instanceColor"&&P.instanceColor&&($=P.instanceColor));const F={};F.attribute=$,$&&$.data&&(F.data=$.data),w[N]=F,C++}o.attributes=w,o.attributesNum=C,o.index=B}function m(){const P=o.newAttributes;for(let L=0,G=P.length;L<G;L++)P[L]=0}function y(P){g(P,0)}function g(P,L){const G=o.newAttributes,B=o.enabledAttributes,w=o.attributeDivisors;G[P]=1,B[P]===0&&(t.enableVertexAttribArray(P),B[P]=1),w[P]!==L&&(t.vertexAttribDivisor(P,L),w[P]=L)}function v(){const P=o.newAttributes,L=o.enabledAttributes;for(let G=0,B=L.length;G<B;G++)L[G]!==P[G]&&(t.disableVertexAttribArray(G),L[G]=0)}function b(P,L,G,B,w,E,C){C===!0?t.vertexAttribIPointer(P,L,G,w,E):t.vertexAttribPointer(P,L,G,B,w,E)}function x(P,L,G,B){m();const w=B.attributes,E=G.getAttributes(),C=L.defaultAttributeValues;for(const D in E){const N=E[D];if(N.location>=0){let H=w[D];if(H===void 0&&(D==="instanceMatrix"&&P.instanceMatrix&&(H=P.instanceMatrix),D==="instanceColor"&&P.instanceColor&&(H=P.instanceColor)),H!==void 0){const $=H.normalized,F=H.itemSize,M=e.get(H);if(M===void 0)continue;const q=M.buffer,J=M.type,ie=M.bytesPerElement,de=J===t.INT||J===t.UNSIGNED_INT||H.gpuType===bT;if(H.isInterleavedBufferAttribute){const ve=H.data,Pe=ve.stride,Ae=H.offset;if(ve.isInstancedInterleavedBuffer){for(let st=0;st<N.locationSize;st++)g(N.location+st,ve.meshPerAttribute);P.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let st=0;st<N.locationSize;st++)y(N.location+st);t.bindBuffer(t.ARRAY_BUFFER,q);for(let st=0;st<N.locationSize;st++)b(N.location+st,F/N.locationSize,J,$,Pe*ie,(Ae+F/N.locationSize*st)*ie,de)}else{if(H.isInstancedBufferAttribute){for(let ve=0;ve<N.locationSize;ve++)g(N.location+ve,H.meshPerAttribute);P.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let ve=0;ve<N.locationSize;ve++)y(N.location+ve);t.bindBuffer(t.ARRAY_BUFFER,q);for(let ve=0;ve<N.locationSize;ve++)b(N.location+ve,F/N.locationSize,J,$,F*ie,F/N.locationSize*ve*ie,de)}}else if(C!==void 0){const $=C[D];if($!==void 0)switch($.length){case 2:t.vertexAttrib2fv(N.location,$);break;case 3:t.vertexAttrib3fv(N.location,$);break;case 4:t.vertexAttrib4fv(N.location,$);break;default:t.vertexAttrib1fv(N.location,$)}}}}v()}function R(){I();for(const P in r){const L=r[P];for(const G in L){const B=L[G];for(const w in B)u(B[w].object),delete B[w];delete L[G]}delete r[P]}}function k(P){if(r[P.id]===void 0)return;const L=r[P.id];for(const G in L){const B=L[G];for(const w in B)u(B[w].object),delete B[w];delete L[G]}delete r[P.id]}function _(P){for(const L in r){const G=r[L];if(G[P.id]===void 0)continue;const B=G[P.id];for(const w in B)u(B[w].object),delete B[w];delete G[P.id]}}function I(){S(),s=!0,o!==i&&(o=i,c(o.object))}function S(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:I,resetDefaultState:S,dispose:R,releaseStatesOfGeometry:k,releaseStatesOfProgram:_,initAttributes:m,enableAttribute:y,disableUnusedAttributes:v}}function Qye(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];n.update(p,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Kye(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const _=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(_){return!(_!==Ho&&r.convert(_)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(_){const I=_===Fm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(_!==Aa&&r.convert(_)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&_!==sa&&!I)}function l(_){if(_==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";_="mediump"}return _==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),R=p>0,k=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:v,maxVaryings:b,maxFragmentUniforms:x,vertexTextures:R,maxSamples:k}}function Xye(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new ec,a=new Nt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||p===null||p.length===0||o&&!y)o?u(null):c();else{const v=o?0:r,b=v*4;let x=g.clippingState||null;l.value=x,x=u(p,f,b,h);for(let R=0;R!==b;++R)x[R]=n[R];g.clippingState=x,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,p!==!0||y===null){const g=h+m*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,x=h;b!==m;++b,x+=4)s.copy(d[b]).applyMatrix4(v,a),s.normal.toArray(y,x),y[x+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function Yye(t){let e=new WeakMap;function n(s,a){return a===T_?s.mapping=sf:a===M_&&(s.mapping=af),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===T_||a===M_)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new l0e(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class x9 extends v9{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const ad=4,c6=[.125,.215,.35,.446,.526,.582],cc=20,wx=new x9,u6=new Jt;let bx=null,xx=0,Ex=0,Ax=!1;const tc=(1+Math.sqrt(5))/2,Hu=1/tc,d6=[new be(-tc,Hu,0),new be(tc,Hu,0),new be(-Hu,0,tc),new be(Hu,0,tc),new be(0,tc,-Hu),new be(0,tc,Hu),new be(-1,1,-1),new be(1,1,-1),new be(-1,1,1),new be(1,1,1)];class f6{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){bx=this._renderer.getRenderTarget(),xx=this._renderer.getActiveCubeFace(),Ex=this._renderer.getActiveMipmapLevel(),Ax=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=m6(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=p6(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(bx,xx,Ex),this._renderer.xr.enabled=Ax,e.scissorTest=!1,eg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===sf||e.mapping===af?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bx=this._renderer.getRenderTarget(),xx=this._renderer.getActiveCubeFace(),Ex=this._renderer.getActiveMipmapLevel(),Ax=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:xs,minFilter:xs,generateMipmaps:!1,type:Fm,format:Ho,colorSpace:Nf,depthBuffer:!1},i=h6(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=h6(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Jye(o)),this._blurMaterial=Zye(o,e,n)}return i}_compileMaterial(e){const n=new Es(this._lodPlanes[0],e);this._renderer.compile(n,wx)}_sceneToCubeUV(e,n,r,i){const a=new lo(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(u6),u.toneMapping=Al,u.autoClear=!1;const h=new p9({name:"PMREM.Background",side:Si,depthWrite:!1,depthTest:!1}),p=new Es(new jm,h);let m=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,m=!0):(h.color.copy(u6),m=!0);for(let g=0;g<6;g++){const v=g%3;v===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):v===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;eg(i,v*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===sf||e.mapping===af;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=m6()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=p6());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new Es(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;eg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,wx)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=d6[(i-o-1)%d6.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Es(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*cc-1),m=o/p,y=isFinite(o)?1+Math.floor(u*m):cc;y>cc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${cc}`);const g=[];let v=0;for(let _=0;_<cc;++_){const I=_/m,S=Math.exp(-I*I/2);g.push(S),_===0?v+=S:_<y&&(v+=2*S)}for(let _=0;_<g.length;_++)g[_]=g[_]/v;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=g,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const x=this._sizeLods[i],R=3*x*(i>b-ad?i-b+ad:0),k=4*(this._cubeSize-x);eg(n,R,k,3*x,2*x),l.setRenderTarget(n),l.render(d,wx)}}function Jye(t){const e=[],n=[],r=[];let i=t;const o=t-ad+1+c6.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-ad?l=c6[s-t+ad-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,y=2,g=1,v=new Float32Array(m*p*h),b=new Float32Array(y*p*h),x=new Float32Array(g*p*h);for(let k=0;k<h;k++){const _=k%3*2/3-1,I=k>2?0:-1,S=[_,I,0,_+2/3,I,0,_+2/3,I+1,0,_,I,0,_+2/3,I+1,0,_,I+1,0];v.set(S,m*p*k),b.set(f,y*p*k);const P=[k,k,k,k,k,k];x.set(P,g*p*k)}const R=new zl;R.setAttribute("position",new Cs(v,m)),R.setAttribute("uv",new Cs(b,y)),R.setAttribute("faceIndex",new Cs(x,g)),e.push(R),i>ad&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function h6(t,e,n){const r=new iu(t,e,n);return r.texture.mapping=nb,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function eg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Zye(t,e,n){const r=new Float32Array(cc),i=new be(0,1,0);return new Nl({name:"SphericalGaussianBlur",defines:{n:cc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:MT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:El,depthTest:!1,depthWrite:!1})}function p6(){return new Nl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:MT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:El,depthTest:!1,depthWrite:!1})}function m6(){return new Nl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:MT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:El,depthTest:!1,depthWrite:!1})}function MT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eve(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===T_||l===M_,u=l===sf||l===af;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new f6(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new f6(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function tve(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Eh("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function nve(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);for(const p in f.morphAttributes){const m=f.morphAttributes[p];for(let y=0,g=m.length;y<g;y++)e.remove(m[y])}f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let y=0,g=m.length;y<g;y++)e.update(m[y],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const v=h.array;m=h.version;for(let b=0,x=v.length;b<x;b+=3){const R=v[b+0],k=v[b+1],_=v[b+2];f.push(R,k,k,_,_,R)}}else if(p!==void 0){const v=p.array;m=p.version;for(let b=0,x=v.length/3-1;b<x;b+=3){const R=b+0,k=b+1,_=b+2;f.push(R,k,k,_,_,R)}}else return;const y=new(c9(f)?g9:m9)(f,1);y.version=m;const g=o.get(d);g&&e.remove(g),o.set(d,y)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function rve(t,e,n){let r;function i(f){r=f}let o,s;function a(f){o=f.type,s=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*s),n.update(h,r,1)}function c(f,h,p){p!==0&&(t.drawElementsInstanced(r,h,o,f*s,p),n.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,p);let y=0;for(let g=0;g<p;g++)y+=h[g];n.update(y,r,1)}function d(f,h,p,m){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<f.length;g++)c(f[g]/s,h[g],m[g]);else{y.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,m,0,p);let g=0;for(let v=0;v<p;v++)g+=h[v]*m[v];n.update(g,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function ive(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function ove(t,e,n){const r=new WeakMap,i=new Bn;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let h=function(){I.dispose(),r.delete(a),a.removeEventListener("dispose",h)};f!==void 0&&f.texture.dispose();const p=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let x=0;p===!0&&(x=1),m===!0&&(x=2),y===!0&&(x=3);let R=a.attributes.position.count*x,k=1;R>e.maxTextureSize&&(k=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const _=new Float32Array(R*k*4*d),I=new d9(_,R,k,d);I.type=sa,I.needsUpdate=!0;const S=x*4;for(let P=0;P<d;P++){const L=g[P],G=v[P],B=b[P],w=R*k*4*P;for(let E=0;E<L.count;E++){const C=E*S;p===!0&&(i.fromBufferAttribute(L,E),_[w+C+0]=i.x,_[w+C+1]=i.y,_[w+C+2]=i.z,_[w+C+3]=0),m===!0&&(i.fromBufferAttribute(G,E),_[w+C+4]=i.x,_[w+C+5]=i.y,_[w+C+6]=i.z,_[w+C+7]=0),y===!0&&(i.fromBufferAttribute(B,E),_[w+C+8]=i.x,_[w+C+9]=i.y,_[w+C+10]=i.z,_[w+C+11]=B.itemSize===4?i.w:1)}}f={count:d,texture:I,size:new nn(R,k)},r.set(a,f),a.addEventListener("dispose",h)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let m=0;m<c.length;m++)h+=c[m];const p=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",p),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function sve(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class E9 extends Ur{constructor(e,n,r,i,o,s,a,l,c,u=Cd){if(u!==Cd&&u!==cf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Cd&&(r=ru),r===void 0&&u===cf&&(r=lf),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:qo,this.minFilter=l!==void 0?l:qo,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const A9=new Ur,g6=new E9(1,1),_9=new d9,S9=new Vme,C9=new w9,y6=[],v6=[],w6=new Float32Array(16),b6=new Float32Array(9),x6=new Float32Array(4);function Of(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=y6[i];if(o===void 0&&(o=new Float32Array(i),y6[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function lr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function cr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ob(t,e){let n=v6[e];n===void 0&&(n=new Int32Array(e),v6[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function ave(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function lve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lr(n,e))return;t.uniform2fv(this.addr,e),cr(n,e)}}function cve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(lr(n,e))return;t.uniform3fv(this.addr,e),cr(n,e)}}function uve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lr(n,e))return;t.uniform4fv(this.addr,e),cr(n,e)}}function dve(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(lr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),cr(n,e)}else{if(lr(n,r))return;x6.set(r),t.uniformMatrix2fv(this.addr,!1,x6),cr(n,r)}}function fve(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(lr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),cr(n,e)}else{if(lr(n,r))return;b6.set(r),t.uniformMatrix3fv(this.addr,!1,b6),cr(n,r)}}function hve(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(lr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),cr(n,e)}else{if(lr(n,r))return;w6.set(r),t.uniformMatrix4fv(this.addr,!1,w6),cr(n,r)}}function pve(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function mve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lr(n,e))return;t.uniform2iv(this.addr,e),cr(n,e)}}function gve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(lr(n,e))return;t.uniform3iv(this.addr,e),cr(n,e)}}function yve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lr(n,e))return;t.uniform4iv(this.addr,e),cr(n,e)}}function vve(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function wve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lr(n,e))return;t.uniform2uiv(this.addr,e),cr(n,e)}}function bve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(lr(n,e))return;t.uniform3uiv(this.addr,e),cr(n,e)}}function xve(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lr(n,e))return;t.uniform4uiv(this.addr,e),cr(n,e)}}function Eve(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(g6.compareFunction=l9,o=g6):o=A9,n.setTexture2D(e||o,i)}function Ave(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||S9,i)}function _ve(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||C9,i)}function Sve(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||_9,i)}function Cve(t){switch(t){case 5126:return ave;case 35664:return lve;case 35665:return cve;case 35666:return uve;case 35674:return dve;case 35675:return fve;case 35676:return hve;case 5124:case 35670:return pve;case 35667:case 35671:return mve;case 35668:case 35672:return gve;case 35669:case 35673:return yve;case 5125:return vve;case 36294:return wve;case 36295:return bve;case 36296:return xve;case 35678:case 36198:case 36298:case 36306:case 35682:return Eve;case 35679:case 36299:case 36307:return Ave;case 35680:case 36300:case 36308:case 36293:return _ve;case 36289:case 36303:case 36311:case 36292:return Sve}}function Tve(t,e){t.uniform1fv(this.addr,e)}function Mve(t,e){const n=Of(e,this.size,2);t.uniform2fv(this.addr,n)}function Ive(t,e){const n=Of(e,this.size,3);t.uniform3fv(this.addr,n)}function Rve(t,e){const n=Of(e,this.size,4);t.uniform4fv(this.addr,n)}function Pve(t,e){const n=Of(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Nve(t,e){const n=Of(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function kve(t,e){const n=Of(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ove(t,e){t.uniform1iv(this.addr,e)}function Bve(t,e){t.uniform2iv(this.addr,e)}function Fve(t,e){t.uniform3iv(this.addr,e)}function Lve(t,e){t.uniform4iv(this.addr,e)}function Dve(t,e){t.uniform1uiv(this.addr,e)}function Uve(t,e){t.uniform2uiv(this.addr,e)}function zve(t,e){t.uniform3uiv(this.addr,e)}function jve(t,e){t.uniform4uiv(this.addr,e)}function Hve(t,e,n){const r=this.cache,i=e.length,o=ob(n,i);lr(r,o)||(t.uniform1iv(this.addr,o),cr(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||A9,o[s])}function Gve(t,e,n){const r=this.cache,i=e.length,o=ob(n,i);lr(r,o)||(t.uniform1iv(this.addr,o),cr(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||S9,o[s])}function Wve(t,e,n){const r=this.cache,i=e.length,o=ob(n,i);lr(r,o)||(t.uniform1iv(this.addr,o),cr(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||C9,o[s])}function Vve(t,e,n){const r=this.cache,i=e.length,o=ob(n,i);lr(r,o)||(t.uniform1iv(this.addr,o),cr(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||_9,o[s])}function $ve(t){switch(t){case 5126:return Tve;case 35664:return Mve;case 35665:return Ive;case 35666:return Rve;case 35674:return Pve;case 35675:return Nve;case 35676:return kve;case 5124:case 35670:return Ove;case 35667:case 35671:return Bve;case 35668:case 35672:return Fve;case 35669:case 35673:return Lve;case 5125:return Dve;case 36294:return Uve;case 36295:return zve;case 36296:return jve;case 35678:case 36198:case 36298:case 36306:case 35682:return Hve;case 35679:case 36299:case 36307:return Gve;case 35680:case 36300:case 36308:case 36293:return Wve;case 36289:case 36303:case 36311:case 36292:return Vve}}class qve{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Cve(n.type)}}class Qve{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=$ve(n.type)}}class Kve{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const _x=/(\w+)(\])?(\[|\.)?/g;function E6(t,e){t.seq.push(e),t.map[e.id]=e}function Xve(t,e,n){const r=t.name,i=r.length;for(_x.lastIndex=0;;){const o=_x.exec(r),s=_x.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){E6(n,c===void 0?new qve(a,t,e):new Qve(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Kve(a),E6(n,d)),n=d}}}class Xg{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);Xve(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function A6(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Yve=37297;let Jve=0;function Zve(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}const _6=new Nt;function ewe(t){Qt._getMatrix(_6,Qt.workingColorSpace,t);const e=`mat3( ${_6.elements.map(n=>n.toFixed(4))} )`;switch(Qt.getTransfer(t)){case rb:return[e,"LinearTransferOETF"];case un:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function S6(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Zve(t.getShaderSource(e),s)}else return i}function twe(t,e){const n=ewe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function nwe(t,e){let n;switch(e){case vme:n="Linear";break;case wme:n="Reinhard";break;case bme:n="Cineon";break;case xme:n="ACESFilmic";break;case Ame:n="AgX";break;case _me:n="Neutral";break;case Eme:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const tg=new be;function rwe(){Qt.getLuminanceCoefficients(tg);const t=tg.x.toFixed(4),e=tg.y.toFixed(4),n=tg.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function iwe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ah).join(`
`)}function owe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function swe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function Ah(t){return t!==""}function C6(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function T6(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const awe=/^[ \t]*#include +<([\w\d./]+)>/gm;function i2(t){return t.replace(awe,cwe)}const lwe=new Map;function cwe(t,e){let n=Bt[e];if(n===void 0){const r=lwe.get(e);if(r!==void 0)n=Bt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return i2(n)}const uwe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function M6(t){return t.replace(uwe,dwe)}function dwe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function I6(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fwe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===K7?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Ype?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Gs&&(e="SHADOWMAP_TYPE_VSM"),e}function hwe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case sf:case af:e="ENVMAP_TYPE_CUBE";break;case nb:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pwe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case af:e="ENVMAP_MODE_REFRACTION";break}return e}function mwe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case wT:e="ENVMAP_BLENDING_MULTIPLY";break;case gme:e="ENVMAP_BLENDING_MIX";break;case yme:e="ENVMAP_BLENDING_ADD";break}return e}function gwe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function ywe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=fwe(n),c=hwe(n),u=pwe(n),d=mwe(n),f=gwe(n),h=iwe(n),p=owe(o),m=i.createProgram();let y,g,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Ah).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Ah).join(`
`),g.length>0&&(g+=`
`)):(y=[I6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ah).join(`
`),g=[I6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Al?"#define TONE_MAPPING":"",n.toneMapping!==Al?Bt.tonemapping_pars_fragment:"",n.toneMapping!==Al?nwe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Bt.colorspace_pars_fragment,twe("linearToOutputTexel",n.outputColorSpace),rwe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ah).join(`
`)),s=i2(s),s=C6(s,n),s=T6(s,n),a=i2(a),a=C6(a,n),a=T6(a,n),s=M6(s),a=M6(a),n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,y=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===HP?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===HP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=v+y+s,x=v+g+a,R=A6(i,i.VERTEX_SHADER,b),k=A6(i,i.FRAGMENT_SHADER,x);i.attachShader(m,R),i.attachShader(m,k),n.index0AttributeName!==void 0?i.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function _(L){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(m).trim(),B=i.getShaderInfoLog(R).trim(),w=i.getShaderInfoLog(k).trim();let E=!0,C=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(E=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,m,R,k);else{const D=S6(i,R,"vertex"),N=S6(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+L.name+`
Material Type: `+L.type+`

Program Info Log: `+G+`
`+D+`
`+N)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(B===""||w==="")&&(C=!1);C&&(L.diagnostics={runnable:E,programLog:G,vertexShader:{log:B,prefix:y},fragmentShader:{log:w,prefix:g}})}i.deleteShader(R),i.deleteShader(k),I=new Xg(i,m),S=swe(i,m)}let I;this.getUniforms=function(){return I===void 0&&_(this),I};let S;this.getAttributes=function(){return S===void 0&&_(this),S};let P=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=i.getProgramParameter(m,Yve)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Jve++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=R,this.fragmentShader=k,this}let vwe=0;class wwe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new bwe(e),n.set(e,r)),r}}class bwe{constructor(e){this.id=vwe++,this.code=e,this.usedTimes=0}}function xwe(t,e,n,r,i,o,s){const a=new f9,l=new wwe,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return c.add(S),S===0?"uv":`uv${S}`}function y(S,P,L,G,B){const w=G.fog,E=B.geometry,C=S.isMeshStandardMaterial?G.environment:null,D=(S.isMeshStandardMaterial?n:e).get(S.envMap||C),N=D&&D.mapping===nb?D.image.height:null,H=p[S.type];S.precision!==null&&(h=i.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const $=E.morphAttributes.position||E.morphAttributes.normal||E.morphAttributes.color,F=$!==void 0?$.length:0;let M=0;E.morphAttributes.position!==void 0&&(M=1),E.morphAttributes.normal!==void 0&&(M=2),E.morphAttributes.color!==void 0&&(M=3);let q,J,ie,de;if(H){const wt=hs[H];q=wt.vertexShader,J=wt.fragmentShader}else q=S.vertexShader,J=S.fragmentShader,l.update(S),ie=l.getVertexShaderID(S),de=l.getFragmentShaderID(S);const ve=t.getRenderTarget(),Pe=t.state.buffers.depth.getReversed(),Ae=B.isInstancedMesh===!0,st=B.isBatchedMesh===!0,yt=!!S.map,We=!!S.matcap,xt=!!D,oe=!!S.aoMap,_t=!!S.lightMap,Et=!!S.bumpMap,at=!!S.normalMap,qe=!!S.displacementMap,kt=!!S.emissiveMap,Qe=!!S.metalnessMap,X=!!S.roughnessMap,V=S.anisotropy>0,le=S.clearcoat>0,we=S.dispersion>0,Se=S.iridescence>0,he=S.sheen>0,z=S.transmission>0,A=V&&!!S.anisotropyMap,T=le&&!!S.clearcoatMap,Q=le&&!!S.clearcoatNormalMap,K=le&&!!S.clearcoatRoughnessMap,Y=Se&&!!S.iridescenceMap,ee=Se&&!!S.iridescenceThicknessMap,ke=he&&!!S.sheenColorMap,Me=he&&!!S.sheenRoughnessMap,He=!!S.specularMap,rt=!!S.specularColorMap,Ke=!!S.specularIntensityMap,se=z&&!!S.transmissionMap,Xe=z&&!!S.thicknessMap,ye=!!S.gradientMap,Ee=!!S.alphaMap,Ze=S.alphaTest>0,Ue=!!S.alphaHash,ut=!!S.extensions;let rn=Al;S.toneMapped&&(ve===null||ve.isXRRenderTarget===!0)&&(rn=t.toneMapping);const Rt={shaderID:H,shaderType:S.type,shaderName:S.name,vertexShader:q,fragmentShader:J,defines:S.defines,customVertexShaderID:ie,customFragmentShaderID:de,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:h,batching:st,batchingColor:st&&B._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&B.instanceColor!==null,instancingMorph:Ae&&B.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:ve===null?t.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:Nf,alphaToCoverage:!!S.alphaToCoverage,map:yt,matcap:We,envMap:xt,envMapMode:xt&&D.mapping,envMapCubeUVHeight:N,aoMap:oe,lightMap:_t,bumpMap:Et,normalMap:at,displacementMap:f&&qe,emissiveMap:kt,normalMapObjectSpace:at&&S.normalMapType===Mme,normalMapTangentSpace:at&&S.normalMapType===a9,metalnessMap:Qe,roughnessMap:X,anisotropy:V,anisotropyMap:A,clearcoat:le,clearcoatMap:T,clearcoatNormalMap:Q,clearcoatRoughnessMap:K,dispersion:we,iridescence:Se,iridescenceMap:Y,iridescenceThicknessMap:ee,sheen:he,sheenColorMap:ke,sheenRoughnessMap:Me,specularMap:He,specularColorMap:rt,specularIntensityMap:Ke,transmission:z,transmissionMap:se,thicknessMap:Xe,gradientMap:ye,opaque:S.transparent===!1&&S.blending===Sd&&S.alphaToCoverage===!1,alphaMap:Ee,alphaTest:Ze,alphaHash:Ue,combine:S.combine,mapUv:yt&&m(S.map.channel),aoMapUv:oe&&m(S.aoMap.channel),lightMapUv:_t&&m(S.lightMap.channel),bumpMapUv:Et&&m(S.bumpMap.channel),normalMapUv:at&&m(S.normalMap.channel),displacementMapUv:qe&&m(S.displacementMap.channel),emissiveMapUv:kt&&m(S.emissiveMap.channel),metalnessMapUv:Qe&&m(S.metalnessMap.channel),roughnessMapUv:X&&m(S.roughnessMap.channel),anisotropyMapUv:A&&m(S.anisotropyMap.channel),clearcoatMapUv:T&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:K&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:Y&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:ee&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:ke&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:Me&&m(S.sheenRoughnessMap.channel),specularMapUv:He&&m(S.specularMap.channel),specularColorMapUv:rt&&m(S.specularColorMap.channel),specularIntensityMapUv:Ke&&m(S.specularIntensityMap.channel),transmissionMapUv:se&&m(S.transmissionMap.channel),thicknessMapUv:Xe&&m(S.thicknessMap.channel),alphaMapUv:Ee&&m(S.alphaMap.channel),vertexTangents:!!E.attributes.tangent&&(at||V),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!E.attributes.color&&E.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!E.attributes.uv&&(yt||Ee),fog:!!w,useFog:S.fog===!0,fogExp2:!!w&&w.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Pe,skinning:B.isSkinnedMesh===!0,morphTargets:E.morphAttributes.position!==void 0,morphNormals:E.morphAttributes.normal!==void 0,morphColors:E.morphAttributes.color!==void 0,morphTargetsCount:F,morphTextureStride:M,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:rn,decodeVideoTexture:yt&&S.map.isVideoTexture===!0&&Qt.getTransfer(S.map.colorSpace)===un,decodeVideoTextureEmissive:kt&&S.emissiveMap.isVideoTexture===!0&&Qt.getTransfer(S.emissiveMap.colorSpace)===un,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===ea,flipSided:S.side===Si,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:ut&&S.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ut&&S.extensions.multiDraw===!0||st)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return Rt.vertexUv1s=c.has(1),Rt.vertexUv2s=c.has(2),Rt.vertexUv3s=c.has(3),c.clear(),Rt}function g(S){const P=[];if(S.shaderID?P.push(S.shaderID):(P.push(S.customVertexShaderID),P.push(S.customFragmentShaderID)),S.defines!==void 0)for(const L in S.defines)P.push(L),P.push(S.defines[L]);return S.isRawShaderMaterial===!1&&(v(P,S),b(P,S),P.push(t.outputColorSpace)),P.push(S.customProgramCacheKey),P.join()}function v(S,P){S.push(P.precision),S.push(P.outputColorSpace),S.push(P.envMapMode),S.push(P.envMapCubeUVHeight),S.push(P.mapUv),S.push(P.alphaMapUv),S.push(P.lightMapUv),S.push(P.aoMapUv),S.push(P.bumpMapUv),S.push(P.normalMapUv),S.push(P.displacementMapUv),S.push(P.emissiveMapUv),S.push(P.metalnessMapUv),S.push(P.roughnessMapUv),S.push(P.anisotropyMapUv),S.push(P.clearcoatMapUv),S.push(P.clearcoatNormalMapUv),S.push(P.clearcoatRoughnessMapUv),S.push(P.iridescenceMapUv),S.push(P.iridescenceThicknessMapUv),S.push(P.sheenColorMapUv),S.push(P.sheenRoughnessMapUv),S.push(P.specularMapUv),S.push(P.specularColorMapUv),S.push(P.specularIntensityMapUv),S.push(P.transmissionMapUv),S.push(P.thicknessMapUv),S.push(P.combine),S.push(P.fogExp2),S.push(P.sizeAttenuation),S.push(P.morphTargetsCount),S.push(P.morphAttributeCount),S.push(P.numDirLights),S.push(P.numPointLights),S.push(P.numSpotLights),S.push(P.numSpotLightMaps),S.push(P.numHemiLights),S.push(P.numRectAreaLights),S.push(P.numDirLightShadows),S.push(P.numPointLightShadows),S.push(P.numSpotLightShadows),S.push(P.numSpotLightShadowsWithMaps),S.push(P.numLightProbes),S.push(P.shadowMapType),S.push(P.toneMapping),S.push(P.numClippingPlanes),S.push(P.numClipIntersection),S.push(P.depthPacking)}function b(S,P){a.disableAll(),P.supportsVertexTextures&&a.enable(0),P.instancing&&a.enable(1),P.instancingColor&&a.enable(2),P.instancingMorph&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),P.dispersion&&a.enable(20),P.batchingColor&&a.enable(21),S.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.reverseDepthBuffer&&a.enable(4),P.skinning&&a.enable(5),P.morphTargets&&a.enable(6),P.morphNormals&&a.enable(7),P.morphColors&&a.enable(8),P.premultipliedAlpha&&a.enable(9),P.shadowMapEnabled&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),P.decodeVideoTexture&&a.enable(19),P.decodeVideoTextureEmissive&&a.enable(20),P.alphaToCoverage&&a.enable(21),S.push(a.mask)}function x(S){const P=p[S.type];let L;if(P){const G=hs[P];L=i0e.clone(G.uniforms)}else L=S.uniforms;return L}function R(S,P){let L;for(let G=0,B=u.length;G<B;G++){const w=u[G];if(w.cacheKey===P){L=w,++L.usedTimes;break}}return L===void 0&&(L=new ywe(t,P,S,o),u.push(L)),L}function k(S){if(--S.usedTimes===0){const P=u.indexOf(S);u[P]=u[u.length-1],u.pop(),S.destroy()}}function _(S){l.remove(S)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:x,acquireProgram:R,releaseProgram:k,releaseShaderCache:_,programs:u,dispose:I}}function Ewe(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function Awe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function R6(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function P6(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=y),e++,g}function a(d,f,h,p,m,y){const g=s(d,f,h,p,m,y);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):n.push(g)}function l(d,f,h,p,m,y){const g=s(d,f,h,p,m,y);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):n.unshift(g)}function c(d,f){n.length>1&&n.sort(d||Awe),r.length>1&&r.sort(f||R6),i.length>1&&i.sort(f||R6)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function _we(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new P6,t.set(r,[s])):i>=o.length?(s=new P6,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Swe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new be,color:new Jt};break;case"SpotLight":n={position:new be,direction:new be,color:new Jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new be,color:new Jt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new be,skyColor:new Jt,groundColor:new Jt};break;case"RectAreaLight":n={color:new Jt,position:new be,halfWidth:new be,halfHeight:new be};break}return t[e.id]=n,n}}}function Cwe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Twe=0;function Mwe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Iwe(t){const e=new Swe,n=Cwe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new be);const i=new be,o=new Ln,s=new Ln;function a(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)r.probe[S].set(0,0,0);let h=0,p=0,m=0,y=0,g=0,v=0,b=0,x=0,R=0,k=0,_=0;c.sort(Mwe);for(let S=0,P=c.length;S<P;S++){const L=c[S],G=L.color,B=L.intensity,w=L.distance,E=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)u+=G.r*B,d+=G.g*B,f+=G.b*B;else if(L.isLightProbe){for(let C=0;C<9;C++)r.probe[C].addScaledVector(L.sh.coefficients[C],B);_++}else if(L.isDirectionalLight){const C=e.get(L);if(C.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const D=L.shadow,N=n.get(L);N.shadowIntensity=D.intensity,N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,r.directionalShadow[h]=N,r.directionalShadowMap[h]=E,r.directionalShadowMatrix[h]=L.shadow.matrix,v++}r.directional[h]=C,h++}else if(L.isSpotLight){const C=e.get(L);C.position.setFromMatrixPosition(L.matrixWorld),C.color.copy(G).multiplyScalar(B),C.distance=w,C.coneCos=Math.cos(L.angle),C.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),C.decay=L.decay,r.spot[m]=C;const D=L.shadow;if(L.map&&(r.spotLightMap[R]=L.map,R++,D.updateMatrices(L),L.castShadow&&k++),r.spotLightMatrix[m]=D.matrix,L.castShadow){const N=n.get(L);N.shadowIntensity=D.intensity,N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,r.spotShadow[m]=N,r.spotShadowMap[m]=E,x++}m++}else if(L.isRectAreaLight){const C=e.get(L);C.color.copy(G).multiplyScalar(B),C.halfWidth.set(L.width*.5,0,0),C.halfHeight.set(0,L.height*.5,0),r.rectArea[y]=C,y++}else if(L.isPointLight){const C=e.get(L);if(C.color.copy(L.color).multiplyScalar(L.intensity),C.distance=L.distance,C.decay=L.decay,L.castShadow){const D=L.shadow,N=n.get(L);N.shadowIntensity=D.intensity,N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,N.shadowCameraNear=D.camera.near,N.shadowCameraFar=D.camera.far,r.pointShadow[p]=N,r.pointShadowMap[p]=E,r.pointShadowMatrix[p]=L.shadow.matrix,b++}r.point[p]=C,p++}else if(L.isHemisphereLight){const C=e.get(L);C.skyColor.copy(L.color).multiplyScalar(B),C.groundColor.copy(L.groundColor).multiplyScalar(B),r.hemi[g]=C,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=et.LTC_FLOAT_1,r.rectAreaLTC2=et.LTC_FLOAT_2):(r.rectAreaLTC1=et.LTC_HALF_1,r.rectAreaLTC2=et.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const I=r.hash;(I.directionalLength!==h||I.pointLength!==p||I.spotLength!==m||I.rectAreaLength!==y||I.hemiLength!==g||I.numDirectionalShadows!==v||I.numPointShadows!==b||I.numSpotShadows!==x||I.numSpotMaps!==R||I.numLightProbes!==_)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=y,r.point.length=p,r.hemi.length=g,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=x+R-k,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=_,I.directionalLength=h,I.pointLength=p,I.spotLength=m,I.rectAreaLength=y,I.hemiLength=g,I.numDirectionalShadows=v,I.numPointShadows=b,I.numSpotShadows=x,I.numSpotMaps=R,I.numLightProbes=_,r.version=Twe++)}function l(c,u){let d=0,f=0,h=0,p=0,m=0;const y=u.matrixWorldInverse;for(let g=0,v=c.length;g<v;g++){const b=c[g];if(b.isDirectionalLight){const x=r.directional[d];x.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),d++}else if(b.isSpotLight){const x=r.spot[h];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),x.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),h++}else if(b.isRectAreaLight){const x=r.rectArea[p];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),s.identity(),o.copy(b.matrixWorld),o.premultiply(y),s.extractRotation(o),x.halfWidth.set(b.width*.5,0,0),x.halfHeight.set(0,b.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),f++}else if(b.isHemisphereLight){const x=r.hemi[m];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(y),m++}}}return{setup:a,setupView:l,state:r}}function N6(t){const e=new Iwe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function Rwe(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new N6(t),e.set(i,[a])):o>=s.length?(a=new N6(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class Pwe extends zm{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=Cme,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Nwe extends zm{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const kwe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Owe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Bwe(t,e,n){let r=new TT;const i=new nn,o=new nn,s=new Bn,a=new Pwe({depthPacking:Tme}),l=new Nwe,c={},u=n.maxTextureSize,d={[Pl]:Si,[Si]:Pl,[ea]:ea},f=new Nl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nn},radius:{value:4}},vertexShader:kwe,fragmentShader:Owe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new zl;p.setAttribute("position",new Cs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Es(p,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=K7;let g=this.type;this.render=function(k,_,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||k.length===0)return;const S=t.getRenderTarget(),P=t.getActiveCubeFace(),L=t.getActiveMipmapLevel(),G=t.state;G.setBlending(El),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const B=g!==Gs&&this.type===Gs,w=g===Gs&&this.type!==Gs;for(let E=0,C=k.length;E<C;E++){const D=k[E],N=D.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",D,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const H=N.getFrameExtents();if(i.multiply(H),o.copy(N.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/H.x),i.x=o.x*H.x,N.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/H.y),i.y=o.y*H.y,N.mapSize.y=o.y)),N.map===null||B===!0||w===!0){const F=this.type!==Gs?{minFilter:qo,magFilter:qo}:{};N.map!==null&&N.map.dispose(),N.map=new iu(i.x,i.y,F),N.map.texture.name=D.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const $=N.getViewportCount();for(let F=0;F<$;F++){const M=N.getViewport(F);s.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),G.viewport(s),N.updateMatrices(D,F),r=N.getFrustum(),x(_,I,N.camera,D,this.type)}N.isPointLightShadow!==!0&&this.type===Gs&&v(N,I),N.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(S,P,L)};function v(k,_){const I=e.update(m);f.defines.VSM_SAMPLES!==k.blurSamples&&(f.defines.VSM_SAMPLES=k.blurSamples,h.defines.VSM_SAMPLES=k.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new iu(i.x,i.y)),f.uniforms.shadow_pass.value=k.map.texture,f.uniforms.resolution.value=k.mapSize,f.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(_,null,I,f,m,null),h.uniforms.shadow_pass.value=k.mapPass.texture,h.uniforms.resolution.value=k.mapSize,h.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(_,null,I,h,m,null)}function b(k,_,I,S){let P=null;const L=I.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(L!==void 0)P=L;else if(P=I.isPointLight===!0?l:a,t.localClippingEnabled&&_.clipShadows===!0&&Array.isArray(_.clippingPlanes)&&_.clippingPlanes.length!==0||_.displacementMap&&_.displacementScale!==0||_.alphaMap&&_.alphaTest>0||_.map&&_.alphaTest>0){const G=P.uuid,B=_.uuid;let w=c[G];w===void 0&&(w={},c[G]=w);let E=w[B];E===void 0&&(E=P.clone(),w[B]=E,_.addEventListener("dispose",R)),P=E}if(P.visible=_.visible,P.wireframe=_.wireframe,S===Gs?P.side=_.shadowSide!==null?_.shadowSide:_.side:P.side=_.shadowSide!==null?_.shadowSide:d[_.side],P.alphaMap=_.alphaMap,P.alphaTest=_.alphaTest,P.map=_.map,P.clipShadows=_.clipShadows,P.clippingPlanes=_.clippingPlanes,P.clipIntersection=_.clipIntersection,P.displacementMap=_.displacementMap,P.displacementScale=_.displacementScale,P.displacementBias=_.displacementBias,P.wireframeLinewidth=_.wireframeLinewidth,P.linewidth=_.linewidth,I.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const G=t.properties.get(P);G.light=I}return P}function x(k,_,I,S,P){if(k.visible===!1)return;if(k.layers.test(_.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&P===Gs)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,k.matrixWorld);const B=e.update(k),w=k.material;if(Array.isArray(w)){const E=B.groups;for(let C=0,D=E.length;C<D;C++){const N=E[C],H=w[N.materialIndex];if(H&&H.visible){const $=b(k,H,S,P);k.onBeforeShadow(t,k,_,I,B,$,N),t.renderBufferDirect(I,null,B,$,k,N),k.onAfterShadow(t,k,_,I,B,$,N)}}}else if(w.visible){const E=b(k,w,S,P);k.onBeforeShadow(t,k,_,I,B,E,null),t.renderBufferDirect(I,null,B,E,k,null),k.onAfterShadow(t,k,_,I,B,E,null)}}const G=k.children;for(let B=0,w=G.length;B<w;B++)x(G[B],_,I,S,P)}function R(k){k.target.removeEventListener("dispose",R);for(const I in c){const S=c[I],P=k.target.uuid;P in S&&(S[P].dispose(),delete S[P])}}}const Fwe={[b_]:x_,[E_]:S_,[A_]:C_,[of]:__,[x_]:b_,[S_]:E_,[C_]:A_,[__]:of};function Lwe(t,e){function n(){let se=!1;const Xe=new Bn;let ye=null;const Ee=new Bn(0,0,0,0);return{setMask:function(Ze){ye!==Ze&&!se&&(t.colorMask(Ze,Ze,Ze,Ze),ye=Ze)},setLocked:function(Ze){se=Ze},setClear:function(Ze,Ue,ut,rn,Rt){Rt===!0&&(Ze*=rn,Ue*=rn,ut*=rn),Xe.set(Ze,Ue,ut,rn),Ee.equals(Xe)===!1&&(t.clearColor(Ze,Ue,ut,rn),Ee.copy(Xe))},reset:function(){se=!1,ye=null,Ee.set(-1,0,0,0)}}}function r(){let se=!1,Xe=!1,ye=null,Ee=null,Ze=null;return{setReversed:function(Ue){if(Xe!==Ue){const ut=e.get("EXT_clip_control");Xe?ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.ZERO_TO_ONE_EXT):ut.clipControlEXT(ut.LOWER_LEFT_EXT,ut.NEGATIVE_ONE_TO_ONE_EXT);const rn=Ze;Ze=null,this.setClear(rn)}Xe=Ue},getReversed:function(){return Xe},setTest:function(Ue){Ue?ve(t.DEPTH_TEST):Pe(t.DEPTH_TEST)},setMask:function(Ue){ye!==Ue&&!se&&(t.depthMask(Ue),ye=Ue)},setFunc:function(Ue){if(Xe&&(Ue=Fwe[Ue]),Ee!==Ue){switch(Ue){case b_:t.depthFunc(t.NEVER);break;case x_:t.depthFunc(t.ALWAYS);break;case E_:t.depthFunc(t.LESS);break;case of:t.depthFunc(t.LEQUAL);break;case A_:t.depthFunc(t.EQUAL);break;case __:t.depthFunc(t.GEQUAL);break;case S_:t.depthFunc(t.GREATER);break;case C_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ee=Ue}},setLocked:function(Ue){se=Ue},setClear:function(Ue){Ze!==Ue&&(Xe&&(Ue=1-Ue),t.clearDepth(Ue),Ze=Ue)},reset:function(){se=!1,ye=null,Ee=null,Ze=null,Xe=!1}}}function i(){let se=!1,Xe=null,ye=null,Ee=null,Ze=null,Ue=null,ut=null,rn=null,Rt=null;return{setTest:function(wt){se||(wt?ve(t.STENCIL_TEST):Pe(t.STENCIL_TEST))},setMask:function(wt){Xe!==wt&&!se&&(t.stencilMask(wt),Xe=wt)},setFunc:function(wt,tr,Ut){(ye!==wt||Ee!==tr||Ze!==Ut)&&(t.stencilFunc(wt,tr,Ut),ye=wt,Ee=tr,Ze=Ut)},setOp:function(wt,tr,Ut){(Ue!==wt||ut!==tr||rn!==Ut)&&(t.stencilOp(wt,tr,Ut),Ue=wt,ut=tr,rn=Ut)},setLocked:function(wt){se=wt},setClear:function(wt){Rt!==wt&&(t.clearStencil(wt),Rt=wt)},reset:function(){se=!1,Xe=null,ye=null,Ee=null,Ze=null,Ue=null,ut=null,rn=null,Rt=null}}}const o=new n,s=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,y=null,g=null,v=null,b=null,x=null,R=null,k=null,_=new Jt(0,0,0),I=0,S=!1,P=null,L=null,G=null,B=null,w=null;const E=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let C=!1,D=0;const N=t.getParameter(t.VERSION);N.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(N)[1]),C=D>=1):N.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),C=D>=2);let H=null,$={};const F=t.getParameter(t.SCISSOR_BOX),M=t.getParameter(t.VIEWPORT),q=new Bn().fromArray(F),J=new Bn().fromArray(M);function ie(se,Xe,ye,Ee){const Ze=new Uint8Array(4),Ue=t.createTexture();t.bindTexture(se,Ue),t.texParameteri(se,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(se,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<ye;ut++)se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY?t.texImage3D(Xe,0,t.RGBA,1,1,Ee,0,t.RGBA,t.UNSIGNED_BYTE,Ze):t.texImage2D(Xe+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ze);return Ue}const de={};de[t.TEXTURE_2D]=ie(t.TEXTURE_2D,t.TEXTURE_2D,1),de[t.TEXTURE_CUBE_MAP]=ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[t.TEXTURE_2D_ARRAY]=ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),de[t.TEXTURE_3D]=ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),ve(t.DEPTH_TEST),s.setFunc(of),Et(!1),at(FP),ve(t.CULL_FACE),oe(El);function ve(se){u[se]!==!0&&(t.enable(se),u[se]=!0)}function Pe(se){u[se]!==!1&&(t.disable(se),u[se]=!1)}function Ae(se,Xe){return d[se]!==Xe?(t.bindFramebuffer(se,Xe),d[se]=Xe,se===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Xe),se===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Xe),!0):!1}function st(se,Xe){let ye=h,Ee=!1;if(se){ye=f.get(Xe),ye===void 0&&(ye=[],f.set(Xe,ye));const Ze=se.textures;if(ye.length!==Ze.length||ye[0]!==t.COLOR_ATTACHMENT0){for(let Ue=0,ut=Ze.length;Ue<ut;Ue++)ye[Ue]=t.COLOR_ATTACHMENT0+Ue;ye.length=Ze.length,Ee=!0}}else ye[0]!==t.BACK&&(ye[0]=t.BACK,Ee=!0);Ee&&t.drawBuffers(ye)}function yt(se){return p!==se?(t.useProgram(se),p=se,!0):!1}const We={[lc]:t.FUNC_ADD,[Zpe]:t.FUNC_SUBTRACT,[eme]:t.FUNC_REVERSE_SUBTRACT};We[tme]=t.MIN,We[nme]=t.MAX;const xt={[rme]:t.ZERO,[ime]:t.ONE,[ome]:t.SRC_COLOR,[v_]:t.SRC_ALPHA,[dme]:t.SRC_ALPHA_SATURATE,[cme]:t.DST_COLOR,[ame]:t.DST_ALPHA,[sme]:t.ONE_MINUS_SRC_COLOR,[w_]:t.ONE_MINUS_SRC_ALPHA,[ume]:t.ONE_MINUS_DST_COLOR,[lme]:t.ONE_MINUS_DST_ALPHA,[fme]:t.CONSTANT_COLOR,[hme]:t.ONE_MINUS_CONSTANT_COLOR,[pme]:t.CONSTANT_ALPHA,[mme]:t.ONE_MINUS_CONSTANT_ALPHA};function oe(se,Xe,ye,Ee,Ze,Ue,ut,rn,Rt,wt){if(se===El){m===!0&&(Pe(t.BLEND),m=!1);return}if(m===!1&&(ve(t.BLEND),m=!0),se!==Jpe){if(se!==y||wt!==S){if((g!==lc||x!==lc)&&(t.blendEquation(t.FUNC_ADD),g=lc,x=lc),wt)switch(se){case Sd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case LP:t.blendFunc(t.ONE,t.ONE);break;case DP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case UP:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case Sd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case LP:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case DP:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case UP:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}v=null,b=null,R=null,k=null,_.set(0,0,0),I=0,y=se,S=wt}return}Ze=Ze||Xe,Ue=Ue||ye,ut=ut||Ee,(Xe!==g||Ze!==x)&&(t.blendEquationSeparate(We[Xe],We[Ze]),g=Xe,x=Ze),(ye!==v||Ee!==b||Ue!==R||ut!==k)&&(t.blendFuncSeparate(xt[ye],xt[Ee],xt[Ue],xt[ut]),v=ye,b=Ee,R=Ue,k=ut),(rn.equals(_)===!1||Rt!==I)&&(t.blendColor(rn.r,rn.g,rn.b,Rt),_.copy(rn),I=Rt),y=se,S=!1}function _t(se,Xe){se.side===ea?Pe(t.CULL_FACE):ve(t.CULL_FACE);let ye=se.side===Si;Xe&&(ye=!ye),Et(ye),se.blending===Sd&&se.transparent===!1?oe(El):oe(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.blendColor,se.blendAlpha,se.premultipliedAlpha),s.setFunc(se.depthFunc),s.setTest(se.depthTest),s.setMask(se.depthWrite),o.setMask(se.colorWrite);const Ee=se.stencilWrite;a.setTest(Ee),Ee&&(a.setMask(se.stencilWriteMask),a.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),a.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),kt(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?ve(t.SAMPLE_ALPHA_TO_COVERAGE):Pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Et(se){P!==se&&(se?t.frontFace(t.CW):t.frontFace(t.CCW),P=se)}function at(se){se!==Kpe?(ve(t.CULL_FACE),se!==L&&(se===FP?t.cullFace(t.BACK):se===Xpe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Pe(t.CULL_FACE),L=se}function qe(se){se!==G&&(C&&t.lineWidth(se),G=se)}function kt(se,Xe,ye){se?(ve(t.POLYGON_OFFSET_FILL),(B!==Xe||w!==ye)&&(t.polygonOffset(Xe,ye),B=Xe,w=ye)):Pe(t.POLYGON_OFFSET_FILL)}function Qe(se){se?ve(t.SCISSOR_TEST):Pe(t.SCISSOR_TEST)}function X(se){se===void 0&&(se=t.TEXTURE0+E-1),H!==se&&(t.activeTexture(se),H=se)}function V(se,Xe,ye){ye===void 0&&(H===null?ye=t.TEXTURE0+E-1:ye=H);let Ee=$[ye];Ee===void 0&&(Ee={type:void 0,texture:void 0},$[ye]=Ee),(Ee.type!==se||Ee.texture!==Xe)&&(H!==ye&&(t.activeTexture(ye),H=ye),t.bindTexture(se,Xe||de[se]),Ee.type=se,Ee.texture=Xe)}function le(){const se=$[H];se!==void 0&&se.type!==void 0&&(t.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function we(){try{t.compressedTexImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Se(){try{t.compressedTexImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function he(){try{t.texSubImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function z(){try{t.texSubImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function A(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function T(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Q(){try{t.texStorage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function K(){try{t.texStorage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Y(){try{t.texImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ee(){try{t.texImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ke(se){q.equals(se)===!1&&(t.scissor(se.x,se.y,se.z,se.w),q.copy(se))}function Me(se){J.equals(se)===!1&&(t.viewport(se.x,se.y,se.z,se.w),J.copy(se))}function He(se,Xe){let ye=c.get(Xe);ye===void 0&&(ye=new WeakMap,c.set(Xe,ye));let Ee=ye.get(se);Ee===void 0&&(Ee=t.getUniformBlockIndex(Xe,se.name),ye.set(se,Ee))}function rt(se,Xe){const Ee=c.get(Xe).get(se);l.get(Xe)!==Ee&&(t.uniformBlockBinding(Xe,Ee,se.__bindingPointIndex),l.set(Xe,Ee))}function Ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},H=null,$={},d={},f=new WeakMap,h=[],p=null,m=!1,y=null,g=null,v=null,b=null,x=null,R=null,k=null,_=new Jt(0,0,0),I=0,S=!1,P=null,L=null,G=null,B=null,w=null,q.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:ve,disable:Pe,bindFramebuffer:Ae,drawBuffers:st,useProgram:yt,setBlending:oe,setMaterial:_t,setFlipSided:Et,setCullFace:at,setLineWidth:qe,setPolygonOffset:kt,setScissorTest:Qe,activeTexture:X,bindTexture:V,unbindTexture:le,compressedTexImage2D:we,compressedTexImage3D:Se,texImage2D:Y,texImage3D:ee,updateUBOMapping:He,uniformBlockBinding:rt,texStorage2D:Q,texStorage3D:K,texSubImage2D:he,texSubImage3D:z,compressedTexSubImage2D:A,compressedTexSubImage3D:T,scissor:ke,viewport:Me,reset:Ke}}function k6(t,e,n,r){const i=Dwe(r);switch(n){case e9:return t*e;case n9:return t*e;case r9:return t*e*2;case i9:return t*e/i.components*i.byteLength;case AT:return t*e/i.components*i.byteLength;case o9:return t*e*2/i.components*i.byteLength;case _T:return t*e*2/i.components*i.byteLength;case t9:return t*e*3/i.components*i.byteLength;case Ho:return t*e*4/i.components*i.byteLength;case ST:return t*e*4/i.components*i.byteLength;case Vg:case $g:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case qg:case Qg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case N_:case O_:return Math.max(t,16)*Math.max(e,8)/4;case P_:case k_:return Math.max(t,8)*Math.max(e,8)/2;case B_:case F_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case L_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case D_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case U_:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case z_:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case j_:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case H_:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case G_:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case W_:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case V_:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case $_:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case q_:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Q_:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case K_:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case X_:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Y_:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Kg:case J_:case Z_:return Math.ceil(t/4)*Math.ceil(e/4)*16;case s9:case e2:return Math.ceil(t/4)*Math.ceil(e/4)*8;case t2:case n2:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Dwe(t){switch(t){case Aa:case Y7:return{byteLength:1,components:1};case Jp:case J7:case Fm:return{byteLength:2,components:1};case xT:case ET:return{byteLength:2,components:4};case ru:case bT:case sa:return{byteLength:4,components:1};case Z7:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function Uwe(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new nn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(X,V){return h?new OffscreenCanvas(X,V):Zp("canvas")}function m(X,V,le){let we=1;const Se=Qe(X);if((Se.width>le||Se.height>le)&&(we=le/Math.max(Se.width,Se.height)),we<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const he=Math.floor(we*Se.width),z=Math.floor(we*Se.height);d===void 0&&(d=p(he,z));const A=V?p(he,z):d;return A.width=he,A.height=z,A.getContext("2d").drawImage(X,0,0,he,z),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Se.width+"x"+Se.height+") to ("+he+"x"+z+")."),A}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Se.width+"x"+Se.height+")."),X;return X}function y(X){return X.generateMipmaps}function g(X){t.generateMipmap(X)}function v(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(X,V,le,we,Se=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let he=V;if(V===t.RED&&(le===t.FLOAT&&(he=t.R32F),le===t.HALF_FLOAT&&(he=t.R16F),le===t.UNSIGNED_BYTE&&(he=t.R8)),V===t.RED_INTEGER&&(le===t.UNSIGNED_BYTE&&(he=t.R8UI),le===t.UNSIGNED_SHORT&&(he=t.R16UI),le===t.UNSIGNED_INT&&(he=t.R32UI),le===t.BYTE&&(he=t.R8I),le===t.SHORT&&(he=t.R16I),le===t.INT&&(he=t.R32I)),V===t.RG&&(le===t.FLOAT&&(he=t.RG32F),le===t.HALF_FLOAT&&(he=t.RG16F),le===t.UNSIGNED_BYTE&&(he=t.RG8)),V===t.RG_INTEGER&&(le===t.UNSIGNED_BYTE&&(he=t.RG8UI),le===t.UNSIGNED_SHORT&&(he=t.RG16UI),le===t.UNSIGNED_INT&&(he=t.RG32UI),le===t.BYTE&&(he=t.RG8I),le===t.SHORT&&(he=t.RG16I),le===t.INT&&(he=t.RG32I)),V===t.RGB_INTEGER&&(le===t.UNSIGNED_BYTE&&(he=t.RGB8UI),le===t.UNSIGNED_SHORT&&(he=t.RGB16UI),le===t.UNSIGNED_INT&&(he=t.RGB32UI),le===t.BYTE&&(he=t.RGB8I),le===t.SHORT&&(he=t.RGB16I),le===t.INT&&(he=t.RGB32I)),V===t.RGBA_INTEGER&&(le===t.UNSIGNED_BYTE&&(he=t.RGBA8UI),le===t.UNSIGNED_SHORT&&(he=t.RGBA16UI),le===t.UNSIGNED_INT&&(he=t.RGBA32UI),le===t.BYTE&&(he=t.RGBA8I),le===t.SHORT&&(he=t.RGBA16I),le===t.INT&&(he=t.RGBA32I)),V===t.RGB&&le===t.UNSIGNED_INT_5_9_9_9_REV&&(he=t.RGB9_E5),V===t.RGBA){const z=Se?rb:Qt.getTransfer(we);le===t.FLOAT&&(he=t.RGBA32F),le===t.HALF_FLOAT&&(he=t.RGBA16F),le===t.UNSIGNED_BYTE&&(he=z===un?t.SRGB8_ALPHA8:t.RGBA8),le===t.UNSIGNED_SHORT_4_4_4_4&&(he=t.RGBA4),le===t.UNSIGNED_SHORT_5_5_5_1&&(he=t.RGB5_A1)}return(he===t.R16F||he===t.R32F||he===t.RG16F||he===t.RG32F||he===t.RGBA16F||he===t.RGBA32F)&&e.get("EXT_color_buffer_float"),he}function x(X,V){let le;return X?V===null||V===ru||V===lf?le=t.DEPTH24_STENCIL8:V===sa?le=t.DEPTH32F_STENCIL8:V===Jp&&(le=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===ru||V===lf?le=t.DEPTH_COMPONENT24:V===sa?le=t.DEPTH_COMPONENT32F:V===Jp&&(le=t.DEPTH_COMPONENT16),le}function R(X,V){return y(X)===!0||X.isFramebufferTexture&&X.minFilter!==qo&&X.minFilter!==xs?Math.log2(Math.max(V.width,V.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?V.mipmaps.length:1}function k(X){const V=X.target;V.removeEventListener("dispose",k),I(V),V.isVideoTexture&&u.delete(V)}function _(X){const V=X.target;V.removeEventListener("dispose",_),P(V)}function I(X){const V=r.get(X);if(V.__webglInit===void 0)return;const le=X.source,we=f.get(le);if(we){const Se=we[V.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&S(X),Object.keys(we).length===0&&f.delete(le)}r.remove(X)}function S(X){const V=r.get(X);t.deleteTexture(V.__webglTexture);const le=X.source,we=f.get(le);delete we[V.__cacheKey],s.memory.textures--}function P(X){const V=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(V.__webglFramebuffer[we]))for(let Se=0;Se<V.__webglFramebuffer[we].length;Se++)t.deleteFramebuffer(V.__webglFramebuffer[we][Se]);else t.deleteFramebuffer(V.__webglFramebuffer[we]);V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[we])}else{if(Array.isArray(V.__webglFramebuffer))for(let we=0;we<V.__webglFramebuffer.length;we++)t.deleteFramebuffer(V.__webglFramebuffer[we]);else t.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let we=0;we<V.__webglColorRenderbuffer.length;we++)V.__webglColorRenderbuffer[we]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[we]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const le=X.textures;for(let we=0,Se=le.length;we<Se;we++){const he=r.get(le[we]);he.__webglTexture&&(t.deleteTexture(he.__webglTexture),s.memory.textures--),r.remove(le[we])}r.remove(X)}let L=0;function G(){L=0}function B(){const X=L;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),L+=1,X}function w(X){const V=[];return V.push(X.wrapS),V.push(X.wrapT),V.push(X.wrapR||0),V.push(X.magFilter),V.push(X.minFilter),V.push(X.anisotropy),V.push(X.internalFormat),V.push(X.format),V.push(X.type),V.push(X.generateMipmaps),V.push(X.premultiplyAlpha),V.push(X.flipY),V.push(X.unpackAlignment),V.push(X.colorSpace),V.join()}function E(X,V){const le=r.get(X);if(X.isVideoTexture&&qe(X),X.isRenderTargetTexture===!1&&X.version>0&&le.__version!==X.version){const we=X.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(le,X,V);return}}n.bindTexture(t.TEXTURE_2D,le.__webglTexture,t.TEXTURE0+V)}function C(X,V){const le=r.get(X);if(X.version>0&&le.__version!==X.version){J(le,X,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,le.__webglTexture,t.TEXTURE0+V)}function D(X,V){const le=r.get(X);if(X.version>0&&le.__version!==X.version){J(le,X,V);return}n.bindTexture(t.TEXTURE_3D,le.__webglTexture,t.TEXTURE0+V)}function N(X,V){const le=r.get(X);if(X.version>0&&le.__version!==X.version){ie(le,X,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+V)}const H={[I_]:t.REPEAT,[_c]:t.CLAMP_TO_EDGE,[R_]:t.MIRRORED_REPEAT},$={[qo]:t.NEAREST,[Sme]:t.NEAREST_MIPMAP_NEAREST,[B0]:t.NEAREST_MIPMAP_LINEAR,[xs]:t.LINEAR,[X1]:t.LINEAR_MIPMAP_NEAREST,[Sc]:t.LINEAR_MIPMAP_LINEAR},F={[Ime]:t.NEVER,[Bme]:t.ALWAYS,[Rme]:t.LESS,[l9]:t.LEQUAL,[Pme]:t.EQUAL,[Ome]:t.GEQUAL,[Nme]:t.GREATER,[kme]:t.NOTEQUAL};function M(X,V){if(V.type===sa&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===xs||V.magFilter===X1||V.magFilter===B0||V.magFilter===Sc||V.minFilter===xs||V.minFilter===X1||V.minFilter===B0||V.minFilter===Sc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,H[V.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,H[V.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,H[V.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,$[V.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,$[V.minFilter]),V.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,F[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===qo||V.minFilter!==B0&&V.minFilter!==Sc||V.type===sa&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const le=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function q(X,V){let le=!1;X.__webglInit===void 0&&(X.__webglInit=!0,V.addEventListener("dispose",k));const we=V.source;let Se=f.get(we);Se===void 0&&(Se={},f.set(we,Se));const he=w(V);if(he!==X.__cacheKey){Se[he]===void 0&&(Se[he]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,le=!0),Se[he].usedTimes++;const z=Se[X.__cacheKey];z!==void 0&&(Se[X.__cacheKey].usedTimes--,z.usedTimes===0&&S(V)),X.__cacheKey=he,X.__webglTexture=Se[he].texture}return le}function J(X,V,le){let we=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(we=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(we=t.TEXTURE_3D);const Se=q(X,V),he=V.source;n.bindTexture(we,X.__webglTexture,t.TEXTURE0+le);const z=r.get(he);if(he.version!==z.__version||Se===!0){n.activeTexture(t.TEXTURE0+le);const A=Qt.getPrimaries(Qt.workingColorSpace),T=V.colorSpace===nl?null:Qt.getPrimaries(V.colorSpace),Q=V.colorSpace===nl||A===T?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Q);let K=m(V.image,!1,i.maxTextureSize);K=kt(V,K);const Y=o.convert(V.format,V.colorSpace),ee=o.convert(V.type);let ke=b(V.internalFormat,Y,ee,V.colorSpace,V.isVideoTexture);M(we,V);let Me;const He=V.mipmaps,rt=V.isVideoTexture!==!0,Ke=z.__version===void 0||Se===!0,se=he.dataReady,Xe=R(V,K);if(V.isDepthTexture)ke=x(V.format===cf,V.type),Ke&&(rt?n.texStorage2D(t.TEXTURE_2D,1,ke,K.width,K.height):n.texImage2D(t.TEXTURE_2D,0,ke,K.width,K.height,0,Y,ee,null));else if(V.isDataTexture)if(He.length>0){rt&&Ke&&n.texStorage2D(t.TEXTURE_2D,Xe,ke,He[0].width,He[0].height);for(let ye=0,Ee=He.length;ye<Ee;ye++)Me=He[ye],rt?se&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Me.width,Me.height,Y,ee,Me.data):n.texImage2D(t.TEXTURE_2D,ye,ke,Me.width,Me.height,0,Y,ee,Me.data);V.generateMipmaps=!1}else rt?(Ke&&n.texStorage2D(t.TEXTURE_2D,Xe,ke,K.width,K.height),se&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,K.width,K.height,Y,ee,K.data)):n.texImage2D(t.TEXTURE_2D,0,ke,K.width,K.height,0,Y,ee,K.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){rt&&Ke&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Xe,ke,He[0].width,He[0].height,K.depth);for(let ye=0,Ee=He.length;ye<Ee;ye++)if(Me=He[ye],V.format!==Ho)if(Y!==null)if(rt){if(se)if(V.layerUpdates.size>0){const Ze=k6(Me.width,Me.height,V.format,V.type);for(const Ue of V.layerUpdates){const ut=Me.data.subarray(Ue*Ze/Me.data.BYTES_PER_ELEMENT,(Ue+1)*Ze/Me.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,Ue,Me.width,Me.height,1,Y,ut)}V.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,Me.width,Me.height,K.depth,Y,Me.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ye,ke,Me.width,Me.height,K.depth,0,Me.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else rt?se&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,Me.width,Me.height,K.depth,Y,ee,Me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ye,ke,Me.width,Me.height,K.depth,0,Y,ee,Me.data)}else{rt&&Ke&&n.texStorage2D(t.TEXTURE_2D,Xe,ke,He[0].width,He[0].height);for(let ye=0,Ee=He.length;ye<Ee;ye++)Me=He[ye],V.format!==Ho?Y!==null?rt?se&&n.compressedTexSubImage2D(t.TEXTURE_2D,ye,0,0,Me.width,Me.height,Y,Me.data):n.compressedTexImage2D(t.TEXTURE_2D,ye,ke,Me.width,Me.height,0,Me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?se&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Me.width,Me.height,Y,ee,Me.data):n.texImage2D(t.TEXTURE_2D,ye,ke,Me.width,Me.height,0,Y,ee,Me.data)}else if(V.isDataArrayTexture)if(rt){if(Ke&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Xe,ke,K.width,K.height,K.depth),se)if(V.layerUpdates.size>0){const ye=k6(K.width,K.height,V.format,V.type);for(const Ee of V.layerUpdates){const Ze=K.data.subarray(Ee*ye/K.data.BYTES_PER_ELEMENT,(Ee+1)*ye/K.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ee,K.width,K.height,1,Y,ee,Ze)}V.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,K.width,K.height,K.depth,Y,ee,K.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ke,K.width,K.height,K.depth,0,Y,ee,K.data);else if(V.isData3DTexture)rt?(Ke&&n.texStorage3D(t.TEXTURE_3D,Xe,ke,K.width,K.height,K.depth),se&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,K.width,K.height,K.depth,Y,ee,K.data)):n.texImage3D(t.TEXTURE_3D,0,ke,K.width,K.height,K.depth,0,Y,ee,K.data);else if(V.isFramebufferTexture){if(Ke)if(rt)n.texStorage2D(t.TEXTURE_2D,Xe,ke,K.width,K.height);else{let ye=K.width,Ee=K.height;for(let Ze=0;Ze<Xe;Ze++)n.texImage2D(t.TEXTURE_2D,Ze,ke,ye,Ee,0,Y,ee,null),ye>>=1,Ee>>=1}}else if(He.length>0){if(rt&&Ke){const ye=Qe(He[0]);n.texStorage2D(t.TEXTURE_2D,Xe,ke,ye.width,ye.height)}for(let ye=0,Ee=He.length;ye<Ee;ye++)Me=He[ye],rt?se&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Y,ee,Me):n.texImage2D(t.TEXTURE_2D,ye,ke,Y,ee,Me);V.generateMipmaps=!1}else if(rt){if(Ke){const ye=Qe(K);n.texStorage2D(t.TEXTURE_2D,Xe,ke,ye.width,ye.height)}se&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Y,ee,K)}else n.texImage2D(t.TEXTURE_2D,0,ke,Y,ee,K);y(V)&&g(we),z.__version=he.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function ie(X,V,le){if(V.image.length!==6)return;const we=q(X,V),Se=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+le);const he=r.get(Se);if(Se.version!==he.__version||we===!0){n.activeTexture(t.TEXTURE0+le);const z=Qt.getPrimaries(Qt.workingColorSpace),A=V.colorSpace===nl?null:Qt.getPrimaries(V.colorSpace),T=V.colorSpace===nl||z===A?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,T);const Q=V.isCompressedTexture||V.image[0].isCompressedTexture,K=V.image[0]&&V.image[0].isDataTexture,Y=[];for(let Ee=0;Ee<6;Ee++)!Q&&!K?Y[Ee]=m(V.image[Ee],!0,i.maxCubemapSize):Y[Ee]=K?V.image[Ee].image:V.image[Ee],Y[Ee]=kt(V,Y[Ee]);const ee=Y[0],ke=o.convert(V.format,V.colorSpace),Me=o.convert(V.type),He=b(V.internalFormat,ke,Me,V.colorSpace),rt=V.isVideoTexture!==!0,Ke=he.__version===void 0||we===!0,se=Se.dataReady;let Xe=R(V,ee);M(t.TEXTURE_CUBE_MAP,V);let ye;if(Q){rt&&Ke&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Xe,He,ee.width,ee.height);for(let Ee=0;Ee<6;Ee++){ye=Y[Ee].mipmaps;for(let Ze=0;Ze<ye.length;Ze++){const Ue=ye[Ze];V.format!==Ho?ke!==null?rt?se&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze,0,0,Ue.width,Ue.height,ke,Ue.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze,He,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze,0,0,Ue.width,Ue.height,ke,Me,Ue.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze,He,Ue.width,Ue.height,0,ke,Me,Ue.data)}}}else{if(ye=V.mipmaps,rt&&Ke){ye.length>0&&Xe++;const Ee=Qe(Y[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Xe,He,Ee.width,Ee.height)}for(let Ee=0;Ee<6;Ee++)if(K){rt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Y[Ee].width,Y[Ee].height,ke,Me,Y[Ee].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,He,Y[Ee].width,Y[Ee].height,0,ke,Me,Y[Ee].data);for(let Ze=0;Ze<ye.length;Ze++){const ut=ye[Ze].image[Ee].image;rt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze+1,0,0,ut.width,ut.height,ke,Me,ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze+1,He,ut.width,ut.height,0,ke,Me,ut.data)}}else{rt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,ke,Me,Y[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,He,ke,Me,Y[Ee]);for(let Ze=0;Ze<ye.length;Ze++){const Ue=ye[Ze];rt?se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze+1,0,0,ke,Me,Ue.image[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Ze+1,He,ke,Me,Ue.image[Ee])}}}y(V)&&g(t.TEXTURE_CUBE_MAP),he.__version=Se.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function de(X,V,le,we,Se,he){const z=o.convert(le.format,le.colorSpace),A=o.convert(le.type),T=b(le.internalFormat,z,A,le.colorSpace),Q=r.get(V),K=r.get(le);if(K.__renderTarget=V,!Q.__hasExternalTextures){const Y=Math.max(1,V.width>>he),ee=Math.max(1,V.height>>he);Se===t.TEXTURE_3D||Se===t.TEXTURE_2D_ARRAY?n.texImage3D(Se,he,T,Y,ee,V.depth,0,z,A,null):n.texImage2D(Se,he,T,Y,ee,0,z,A,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),at(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,we,Se,K.__webglTexture,0,Et(V)):(Se===t.TEXTURE_2D||Se>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,we,Se,K.__webglTexture,he),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(X,V,le){if(t.bindRenderbuffer(t.RENDERBUFFER,X),V.depthBuffer){const we=V.depthTexture,Se=we&&we.isDepthTexture?we.type:null,he=x(V.stencilBuffer,Se),z=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,A=Et(V);at(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,A,he,V.width,V.height):le?t.renderbufferStorageMultisample(t.RENDERBUFFER,A,he,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,he,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,z,t.RENDERBUFFER,X)}else{const we=V.textures;for(let Se=0;Se<we.length;Se++){const he=we[Se],z=o.convert(he.format,he.colorSpace),A=o.convert(he.type),T=b(he.internalFormat,z,A,he.colorSpace),Q=Et(V);le&&at(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,T,V.width,V.height):at(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Q,T,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,T,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Pe(X,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const we=r.get(V.depthTexture);we.__renderTarget=V,(!we.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),E(V.depthTexture,0);const Se=we.__webglTexture,he=Et(V);if(V.depthTexture.format===Cd)at(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0,he):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0);else if(V.depthTexture.format===cf)at(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0,he):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function Ae(X){const V=r.get(X),le=X.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==X.depthTexture){const we=X.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),we){const Se=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,we.removeEventListener("dispose",Se)};we.addEventListener("dispose",Se),V.__depthDisposeCallback=Se}V.__boundDepthTexture=we}if(X.depthTexture&&!V.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");Pe(V.__webglFramebuffer,X)}else if(le){V.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[we]),V.__webglDepthbuffer[we]===void 0)V.__webglDepthbuffer[we]=t.createRenderbuffer(),ve(V.__webglDepthbuffer[we],X,!1);else{const Se=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,he=V.__webglDepthbuffer[we];t.bindRenderbuffer(t.RENDERBUFFER,he),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,he)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=t.createRenderbuffer(),ve(V.__webglDepthbuffer,X,!1);else{const we=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Se=V.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Se),t.framebufferRenderbuffer(t.FRAMEBUFFER,we,t.RENDERBUFFER,Se)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function st(X,V,le){const we=r.get(X);V!==void 0&&de(we.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),le!==void 0&&Ae(X)}function yt(X){const V=X.texture,le=r.get(X),we=r.get(V);X.addEventListener("dispose",_);const Se=X.textures,he=X.isWebGLCubeRenderTarget===!0,z=Se.length>1;if(z||(we.__webglTexture===void 0&&(we.__webglTexture=t.createTexture()),we.__version=V.version,s.memory.textures++),he){le.__webglFramebuffer=[];for(let A=0;A<6;A++)if(V.mipmaps&&V.mipmaps.length>0){le.__webglFramebuffer[A]=[];for(let T=0;T<V.mipmaps.length;T++)le.__webglFramebuffer[A][T]=t.createFramebuffer()}else le.__webglFramebuffer[A]=t.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){le.__webglFramebuffer=[];for(let A=0;A<V.mipmaps.length;A++)le.__webglFramebuffer[A]=t.createFramebuffer()}else le.__webglFramebuffer=t.createFramebuffer();if(z)for(let A=0,T=Se.length;A<T;A++){const Q=r.get(Se[A]);Q.__webglTexture===void 0&&(Q.__webglTexture=t.createTexture(),s.memory.textures++)}if(X.samples>0&&at(X)===!1){le.__webglMultisampledFramebuffer=t.createFramebuffer(),le.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,le.__webglMultisampledFramebuffer);for(let A=0;A<Se.length;A++){const T=Se[A];le.__webglColorRenderbuffer[A]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,le.__webglColorRenderbuffer[A]);const Q=o.convert(T.format,T.colorSpace),K=o.convert(T.type),Y=b(T.internalFormat,Q,K,T.colorSpace,X.isXRRenderTarget===!0),ee=Et(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,ee,Y,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+A,t.RENDERBUFFER,le.__webglColorRenderbuffer[A])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(le.__webglDepthRenderbuffer=t.createRenderbuffer(),ve(le.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(he){n.bindTexture(t.TEXTURE_CUBE_MAP,we.__webglTexture),M(t.TEXTURE_CUBE_MAP,V);for(let A=0;A<6;A++)if(V.mipmaps&&V.mipmaps.length>0)for(let T=0;T<V.mipmaps.length;T++)de(le.__webglFramebuffer[A][T],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+A,T);else de(le.__webglFramebuffer[A],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+A,0);y(V)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(z){for(let A=0,T=Se.length;A<T;A++){const Q=Se[A],K=r.get(Q);n.bindTexture(t.TEXTURE_2D,K.__webglTexture),M(t.TEXTURE_2D,Q),de(le.__webglFramebuffer,X,Q,t.COLOR_ATTACHMENT0+A,t.TEXTURE_2D,0),y(Q)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let A=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(A=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(A,we.__webglTexture),M(A,V),V.mipmaps&&V.mipmaps.length>0)for(let T=0;T<V.mipmaps.length;T++)de(le.__webglFramebuffer[T],X,V,t.COLOR_ATTACHMENT0,A,T);else de(le.__webglFramebuffer,X,V,t.COLOR_ATTACHMENT0,A,0);y(V)&&g(A),n.unbindTexture()}X.depthBuffer&&Ae(X)}function We(X){const V=X.textures;for(let le=0,we=V.length;le<we;le++){const Se=V[le];if(y(Se)){const he=v(X),z=r.get(Se).__webglTexture;n.bindTexture(he,z),g(he),n.unbindTexture()}}}const xt=[],oe=[];function _t(X){if(X.samples>0){if(at(X)===!1){const V=X.textures,le=X.width,we=X.height;let Se=t.COLOR_BUFFER_BIT;const he=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,z=r.get(X),A=V.length>1;if(A)for(let T=0;T<V.length;T++)n.bindFramebuffer(t.FRAMEBUFFER,z.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+T,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+T,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,z.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,z.__webglFramebuffer);for(let T=0;T<V.length;T++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Se|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Se|=t.STENCIL_BUFFER_BIT)),A){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,z.__webglColorRenderbuffer[T]);const Q=r.get(V[T]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Q,0)}t.blitFramebuffer(0,0,le,we,0,0,le,we,Se,t.NEAREST),l===!0&&(xt.length=0,oe.length=0,xt.push(t.COLOR_ATTACHMENT0+T),X.depthBuffer&&X.resolveDepthBuffer===!1&&(xt.push(he),oe.push(he),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,oe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,xt))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),A)for(let T=0;T<V.length;T++){n.bindFramebuffer(t.FRAMEBUFFER,z.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+T,t.RENDERBUFFER,z.__webglColorRenderbuffer[T]);const Q=r.get(V[T]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+T,t.TEXTURE_2D,Q,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,z.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const V=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[V])}}}function Et(X){return Math.min(i.maxSamples,X.samples)}function at(X){const V=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function qe(X){const V=s.render.frame;u.get(X)!==V&&(u.set(X,V),X.update())}function kt(X,V){const le=X.colorSpace,we=X.format,Se=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||le!==Nf&&le!==nl&&(Qt.getTransfer(le)===un?(we!==Ho||Se!==Aa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",le)),V}function Qe(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=B,this.resetTextureUnits=G,this.setTexture2D=E,this.setTexture2DArray=C,this.setTexture3D=D,this.setTextureCube=N,this.rebindTextures=st,this.setupRenderTarget=yt,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=_t,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=de,this.useMultisampledRTT=at}function zwe(t,e){function n(r,i=nl){let o;const s=Qt.getTransfer(i);if(r===Aa)return t.UNSIGNED_BYTE;if(r===xT)return t.UNSIGNED_SHORT_4_4_4_4;if(r===ET)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Z7)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===Y7)return t.BYTE;if(r===J7)return t.SHORT;if(r===Jp)return t.UNSIGNED_SHORT;if(r===bT)return t.INT;if(r===ru)return t.UNSIGNED_INT;if(r===sa)return t.FLOAT;if(r===Fm)return t.HALF_FLOAT;if(r===e9)return t.ALPHA;if(r===t9)return t.RGB;if(r===Ho)return t.RGBA;if(r===n9)return t.LUMINANCE;if(r===r9)return t.LUMINANCE_ALPHA;if(r===Cd)return t.DEPTH_COMPONENT;if(r===cf)return t.DEPTH_STENCIL;if(r===i9)return t.RED;if(r===AT)return t.RED_INTEGER;if(r===o9)return t.RG;if(r===_T)return t.RG_INTEGER;if(r===ST)return t.RGBA_INTEGER;if(r===Vg||r===$g||r===qg||r===Qg)if(s===un)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Vg)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===$g)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===qg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Qg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Vg)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===$g)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===qg)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Qg)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===P_||r===N_||r===k_||r===O_)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===P_)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===N_)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===k_)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===O_)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===B_||r===F_||r===L_)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===B_||r===F_)return s===un?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===L_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===D_||r===U_||r===z_||r===j_||r===H_||r===G_||r===W_||r===V_||r===$_||r===q_||r===Q_||r===K_||r===X_||r===Y_)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===D_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===U_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===z_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===j_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===H_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===G_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===W_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===V_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===$_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===q_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Q_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===K_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===X_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Y_)return s===un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Kg||r===J_||r===Z_)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Kg)return s===un?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===J_)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Z_)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===s9||r===e2||r===t2||r===n2)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Kg)return o.COMPRESSED_RED_RGTC1_EXT;if(r===e2)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===t2)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===n2)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===lf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class jwe extends lo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ng extends zr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Hwe={type:"move"};class Sx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ng,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ng,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new be),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ng,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new be),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,r),g=this._getHandJoint(c,m);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Hwe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ng;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const Gwe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Wwe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Vwe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Ur,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Nl({vertexShader:Gwe,fragmentShader:Wwe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Es(new ib(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class $we extends kf{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new Vwe,y=n.getContextAttributes();let g=null,v=null;const b=[],x=[],R=new nn;let k=null;const _=new lo;_.viewport=new Bn;const I=new lo;I.viewport=new Bn;const S=[_,I],P=new jwe;let L=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let ie=b[J];return ie===void 0&&(ie=new Sx,b[J]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(J){let ie=b[J];return ie===void 0&&(ie=new Sx,b[J]=ie),ie.getGripSpace()},this.getHand=function(J){let ie=b[J];return ie===void 0&&(ie=new Sx,b[J]=ie),ie.getHandSpace()};function B(J){const ie=x.indexOf(J.inputSource);if(ie===-1)return;const de=b[ie];de!==void 0&&(de.update(J.inputSource,J.frame,c||s),de.dispatchEvent({type:J.type,data:J.inputSource}))}function w(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",w),i.removeEventListener("inputsourceschange",E);for(let J=0;J<b.length;J++){const ie=x[J];ie!==null&&(x[J]=null,b[J].disconnect(ie))}L=null,G=null,m.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,v=null,q.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",w),i.addEventListener("inputsourceschange",E),y.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(R),i.renderState.layers===void 0){const ie={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,ie),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new iu(h.framebufferWidth,h.framebufferHeight,{format:Ho,type:Aa,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ie=null,de=null,ve=null;y.depth&&(ve=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ie=y.stencil?cf:Cd,de=y.stencil?lf:ru);const Pe={colorFormat:n.RGBA8,depthFormat:ve,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(Pe),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new iu(f.textureWidth,f.textureHeight,{format:Ho,type:Aa,depthTexture:new E9(f.textureWidth,f.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),q.setContext(i),q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function E(J){for(let ie=0;ie<J.removed.length;ie++){const de=J.removed[ie],ve=x.indexOf(de);ve>=0&&(x[ve]=null,b[ve].disconnect(de))}for(let ie=0;ie<J.added.length;ie++){const de=J.added[ie];let ve=x.indexOf(de);if(ve===-1){for(let Ae=0;Ae<b.length;Ae++)if(Ae>=x.length){x.push(de),ve=Ae;break}else if(x[Ae]===null){x[Ae]=de,ve=Ae;break}if(ve===-1)break}const Pe=b[ve];Pe&&Pe.connect(de)}}const C=new be,D=new be;function N(J,ie,de){C.setFromMatrixPosition(ie.matrixWorld),D.setFromMatrixPosition(de.matrixWorld);const ve=C.distanceTo(D),Pe=ie.projectionMatrix.elements,Ae=de.projectionMatrix.elements,st=Pe[14]/(Pe[10]-1),yt=Pe[14]/(Pe[10]+1),We=(Pe[9]+1)/Pe[5],xt=(Pe[9]-1)/Pe[5],oe=(Pe[8]-1)/Pe[0],_t=(Ae[8]+1)/Ae[0],Et=st*oe,at=st*_t,qe=ve/(-oe+_t),kt=qe*-oe;if(ie.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(kt),J.translateZ(qe),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),Pe[10]===-1)J.projectionMatrix.copy(ie.projectionMatrix),J.projectionMatrixInverse.copy(ie.projectionMatrixInverse);else{const Qe=st+qe,X=yt+qe,V=Et-kt,le=at+(ve-kt),we=We*yt/X*Qe,Se=xt*yt/X*Qe;J.projectionMatrix.makePerspective(V,le,we,Se,Qe,X),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function H(J,ie){ie===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(ie.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let ie=J.near,de=J.far;m.texture!==null&&(m.depthNear>0&&(ie=m.depthNear),m.depthFar>0&&(de=m.depthFar)),P.near=I.near=_.near=ie,P.far=I.far=_.far=de,(L!==P.near||G!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),L=P.near,G=P.far),_.layers.mask=J.layers.mask|2,I.layers.mask=J.layers.mask|4,P.layers.mask=_.layers.mask|I.layers.mask;const ve=J.parent,Pe=P.cameras;H(P,ve);for(let Ae=0;Ae<Pe.length;Ae++)H(Pe[Ae],ve);Pe.length===2?N(P,_,I):P.projectionMatrix.copy(_.projectionMatrix),$(J,P,ve)};function $(J,ie,de){de===null?J.matrix.copy(ie.matrixWorld):(J.matrix.copy(de.matrixWorld),J.matrix.invert(),J.matrix.multiply(ie.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(ie.projectionMatrix),J.projectionMatrixInverse.copy(ie.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=r2*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(P)};let F=null;function M(J,ie){if(u=ie.getViewerPose(c||s),p=ie,u!==null){const de=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let ve=!1;de.length!==P.cameras.length&&(P.cameras.length=0,ve=!0);for(let Ae=0;Ae<de.length;Ae++){const st=de[Ae];let yt=null;if(h!==null)yt=h.getViewport(st);else{const xt=d.getViewSubImage(f,st);yt=xt.viewport,Ae===0&&(e.setRenderTargetTextures(v,xt.colorTexture,f.ignoreDepthValues?void 0:xt.depthStencilTexture),e.setRenderTarget(v))}let We=S[Ae];We===void 0&&(We=new lo,We.layers.enable(Ae),We.viewport=new Bn,S[Ae]=We),We.matrix.fromArray(st.transform.matrix),We.matrix.decompose(We.position,We.quaternion,We.scale),We.projectionMatrix.fromArray(st.projectionMatrix),We.projectionMatrixInverse.copy(We.projectionMatrix).invert(),We.viewport.set(yt.x,yt.y,yt.width,yt.height),Ae===0&&(P.matrix.copy(We.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),ve===!0&&P.cameras.push(We)}const Pe=i.enabledFeatures;if(Pe&&Pe.includes("depth-sensing")){const Ae=d.getDepthInformation(de[0]);Ae&&Ae.isValid&&Ae.texture&&m.init(e,Ae,i.renderState)}}for(let de=0;de<b.length;de++){const ve=x[de],Pe=b[de];ve!==null&&Pe!==void 0&&Pe.update(ve,ie,c||s)}F&&F(J,ie),ie.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ie}),p=null}const q=new b9;q.setAnimationLoop(M),this.setAnimationLoop=function(J){F=J},this.dispose=function(){}}}const Kl=new ks,qwe=new Ln;function Qwe(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,y9(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,v,b,x){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),d(y,g)):g.isMeshPhongMaterial?(o(y,g),u(y,g)):g.isMeshStandardMaterial?(o(y,g),f(y,g),g.isMeshPhysicalMaterial&&h(y,g,x)):g.isMeshMatcapMaterial?(o(y,g),p(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),m(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(s(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,v,b):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Si&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Si&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const v=e.get(g),b=v.envMap,x=v.envMapRotation;b&&(y.envMap.value=b,Kl.copy(x),Kl.x*=-1,Kl.y*=-1,Kl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Kl.y*=-1,Kl.z*=-1),y.envMapRotation.value.setFromMatrix4(qwe.makeRotationFromEuler(Kl)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function s(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,v,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*v,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function f(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function h(y,g,v){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Si&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=v.texture,y.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function p(y,g){g.matcap&&(y.matcap.value=g.matcap)}function m(y,g){const v=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(v.matrixWorld),y.nearDistance.value=v.shadow.camera.near,y.farDistance.value=v.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Kwe(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(v,b){const x=b.program;r.uniformBlockBinding(v,x)}function c(v,b){let x=i[v.id];x===void 0&&(p(v),x=u(v),i[v.id]=x,v.addEventListener("dispose",y));const R=b.program;r.updateUBOMapping(v,R);const k=e.render.frame;o[v.id]!==k&&(f(v),o[v.id]=k)}function u(v){const b=d();v.__bindingPointIndex=b;const x=t.createBuffer(),R=v.__size,k=v.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,R,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,x),x}function d(){for(let v=0;v<a;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(v){const b=i[v.id],x=v.uniforms,R=v.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let k=0,_=x.length;k<_;k++){const I=Array.isArray(x[k])?x[k]:[x[k]];for(let S=0,P=I.length;S<P;S++){const L=I[S];if(h(L,k,S,R)===!0){const G=L.__offset,B=Array.isArray(L.value)?L.value:[L.value];let w=0;for(let E=0;E<B.length;E++){const C=B[E],D=m(C);typeof C=="number"||typeof C=="boolean"?(L.__data[0]=C,t.bufferSubData(t.UNIFORM_BUFFER,G+w,L.__data)):C.isMatrix3?(L.__data[0]=C.elements[0],L.__data[1]=C.elements[1],L.__data[2]=C.elements[2],L.__data[3]=0,L.__data[4]=C.elements[3],L.__data[5]=C.elements[4],L.__data[6]=C.elements[5],L.__data[7]=0,L.__data[8]=C.elements[6],L.__data[9]=C.elements[7],L.__data[10]=C.elements[8],L.__data[11]=0):(C.toArray(L.__data,w),w+=D.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,L.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(v,b,x,R){const k=v.value,_=b+"_"+x;if(R[_]===void 0)return typeof k=="number"||typeof k=="boolean"?R[_]=k:R[_]=k.clone(),!0;{const I=R[_];if(typeof k=="number"||typeof k=="boolean"){if(I!==k)return R[_]=k,!0}else if(I.equals(k)===!1)return I.copy(k),!0}return!1}function p(v){const b=v.uniforms;let x=0;const R=16;for(let _=0,I=b.length;_<I;_++){const S=Array.isArray(b[_])?b[_]:[b[_]];for(let P=0,L=S.length;P<L;P++){const G=S[P],B=Array.isArray(G.value)?G.value:[G.value];for(let w=0,E=B.length;w<E;w++){const C=B[w],D=m(C),N=x%R,H=N%D.boundary,$=N+H;x+=H,$!==0&&R-$<D.storage&&(x+=R-$),G.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=x,x+=D.storage}}}const k=x%R;return k>0&&(x+=R-k),v.__size=x,v.__cache={},this}function m(v){const b={boundary:0,storage:0};return typeof v=="number"||typeof v=="boolean"?(b.boundary=4,b.storage=4):v.isVector2?(b.boundary=8,b.storage=8):v.isVector3||v.isColor?(b.boundary=16,b.storage=12):v.isVector4?(b.boundary=16,b.storage=16):v.isMatrix3?(b.boundary=48,b.storage=48):v.isMatrix4?(b.boundary=64,b.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),b}function y(v){const b=v.target;b.removeEventListener("dispose",y);const x=s.indexOf(b.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function g(){for(const v in i)t.deleteBuffer(i[v]);s=[],i={},o={}}return{bind:l,update:c,dispose:g}}class Xwe{constructor(e={}){const{canvas:n=Lme(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Uint32Array(4),m=new Int32Array(4);let y=null,g=null;const v=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ui,this.toneMapping=Al,this.toneMappingExposure=1;const x=this;let R=!1,k=0,_=0,I=null,S=-1,P=null;const L=new Bn,G=new Bn;let B=null;const w=new Jt(0);let E=0,C=n.width,D=n.height,N=1,H=null,$=null;const F=new Bn(0,0,C,D),M=new Bn(0,0,C,D);let q=!1;const J=new TT;let ie=!1,de=!1;const ve=new Ln,Pe=new Ln,Ae=new be,st=new Bn,yt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let We=!1;function xt(){return I===null?N:1}let oe=r;function _t(W,ne){return n.getContext(W,ne)}try{const W={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${vT}`),n.addEventListener("webglcontextlost",Ee,!1),n.addEventListener("webglcontextrestored",Ze,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),oe===null){const ne="webgl2";if(oe=_t(ne,W),oe===null)throw _t(ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(W){throw console.error("THREE.WebGLRenderer: "+W.message),W}let Et,at,qe,kt,Qe,X,V,le,we,Se,he,z,A,T,Q,K,Y,ee,ke,Me,He,rt,Ke,se;function Xe(){Et=new tve(oe),Et.init(),rt=new zwe(oe,Et),at=new Kye(oe,Et,e,rt),qe=new Lwe(oe,Et),at.reverseDepthBuffer&&f&&qe.buffers.depth.setReversed(!0),kt=new ive(oe),Qe=new Ewe,X=new Uwe(oe,Et,qe,Qe,at,rt,kt),V=new Yye(x),le=new eve(x),we=new d0e(oe),Ke=new qye(oe,we),Se=new nve(oe,we,kt,Ke),he=new sve(oe,Se,we,kt),ke=new ove(oe,at,X),K=new Xye(Qe),z=new xwe(x,V,le,Et,at,Ke,K),A=new Qwe(x,Qe),T=new _we,Q=new Rwe(Et),ee=new $ye(x,V,le,qe,he,h,l),Y=new Bwe(x,he,at),se=new Kwe(oe,kt,at,qe),Me=new Qye(oe,Et,kt),He=new rve(oe,Et,kt),kt.programs=z.programs,x.capabilities=at,x.extensions=Et,x.properties=Qe,x.renderLists=T,x.shadowMap=Y,x.state=qe,x.info=kt}Xe();const ye=new $we(x,oe);this.xr=ye,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const W=Et.get("WEBGL_lose_context");W&&W.loseContext()},this.forceContextRestore=function(){const W=Et.get("WEBGL_lose_context");W&&W.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(W){W!==void 0&&(N=W,this.setSize(C,D,!1))},this.getSize=function(W){return W.set(C,D)},this.setSize=function(W,ne,fe=!0){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}C=W,D=ne,n.width=Math.floor(W*N),n.height=Math.floor(ne*N),fe===!0&&(n.style.width=W+"px",n.style.height=ne+"px"),this.setViewport(0,0,W,ne)},this.getDrawingBufferSize=function(W){return W.set(C*N,D*N).floor()},this.setDrawingBufferSize=function(W,ne,fe){C=W,D=ne,N=fe,n.width=Math.floor(W*fe),n.height=Math.floor(ne*fe),this.setViewport(0,0,W,ne)},this.getCurrentViewport=function(W){return W.copy(L)},this.getViewport=function(W){return W.copy(F)},this.setViewport=function(W,ne,fe,ae){W.isVector4?F.set(W.x,W.y,W.z,W.w):F.set(W,ne,fe,ae),qe.viewport(L.copy(F).multiplyScalar(N).round())},this.getScissor=function(W){return W.copy(M)},this.setScissor=function(W,ne,fe,ae){W.isVector4?M.set(W.x,W.y,W.z,W.w):M.set(W,ne,fe,ae),qe.scissor(G.copy(M).multiplyScalar(N).round())},this.getScissorTest=function(){return q},this.setScissorTest=function(W){qe.setScissorTest(q=W)},this.setOpaqueSort=function(W){H=W},this.setTransparentSort=function(W){$=W},this.getClearColor=function(W){return W.copy(ee.getClearColor())},this.setClearColor=function(){ee.setClearColor.apply(ee,arguments)},this.getClearAlpha=function(){return ee.getClearAlpha()},this.setClearAlpha=function(){ee.setClearAlpha.apply(ee,arguments)},this.clear=function(W=!0,ne=!0,fe=!0){let ae=0;if(W){let ce=!1;if(I!==null){const Fe=I.texture.format;ce=Fe===ST||Fe===_T||Fe===AT}if(ce){const Fe=I.texture.type,Ve=Fe===Aa||Fe===ru||Fe===Jp||Fe===lf||Fe===xT||Fe===ET,ht=ee.getClearColor(),lt=ee.getClearAlpha(),bt=ht.r,Mt=ht.g,dt=ht.b;Ve?(p[0]=bt,p[1]=Mt,p[2]=dt,p[3]=lt,oe.clearBufferuiv(oe.COLOR,0,p)):(m[0]=bt,m[1]=Mt,m[2]=dt,m[3]=lt,oe.clearBufferiv(oe.COLOR,0,m))}else ae|=oe.COLOR_BUFFER_BIT}ne&&(ae|=oe.DEPTH_BUFFER_BIT),fe&&(ae|=oe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),oe.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ee,!1),n.removeEventListener("webglcontextrestored",Ze,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),T.dispose(),Q.dispose(),Qe.dispose(),V.dispose(),le.dispose(),he.dispose(),Ke.dispose(),se.dispose(),z.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",re),ye.removeEventListener("sessionend",pe),ge.stop()};function Ee(W){W.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function Ze(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const W=kt.autoReset,ne=Y.enabled,fe=Y.autoUpdate,ae=Y.needsUpdate,ce=Y.type;Xe(),kt.autoReset=W,Y.enabled=ne,Y.autoUpdate=fe,Y.needsUpdate=ae,Y.type=ce}function Ue(W){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",W.statusMessage)}function ut(W){const ne=W.target;ne.removeEventListener("dispose",ut),rn(ne)}function rn(W){Rt(W),Qe.remove(W)}function Rt(W){const ne=Qe.get(W).programs;ne!==void 0&&(ne.forEach(function(fe){z.releaseProgram(fe)}),W.isShaderMaterial&&z.releaseShaderCache(W))}this.renderBufferDirect=function(W,ne,fe,ae,ce,Fe){ne===null&&(ne=yt);const Ve=ce.isMesh&&ce.matrixWorld.determinant()<0,ht=Ce(W,ne,fe,ae,ce);qe.setMaterial(ae,Ve);let lt=fe.index,bt=1;if(ae.wireframe===!0){if(lt=Se.getWireframeAttribute(fe),lt===void 0)return;bt=2}const Mt=fe.drawRange,dt=fe.attributes.position;let ot=Mt.start*bt,St=(Mt.start+Mt.count)*bt;Fe!==null&&(ot=Math.max(ot,Fe.start*bt),St=Math.min(St,(Fe.start+Fe.count)*bt)),lt!==null?(ot=Math.max(ot,0),St=Math.min(St,lt.count)):dt!=null&&(ot=Math.max(ot,0),St=Math.min(St,dt.count));const jt=St-ot;if(jt<0||jt===1/0)return;Ke.setup(ce,ae,ht,fe,lt);let bn,At=Me;if(lt!==null&&(bn=we.get(lt),At=He,At.setIndex(bn)),ce.isMesh)ae.wireframe===!0?(qe.setLineWidth(ae.wireframeLinewidth*xt()),At.setMode(oe.LINES)):At.setMode(oe.TRIANGLES);else if(ce.isLine){let ft=ae.linewidth;ft===void 0&&(ft=1),qe.setLineWidth(ft*xt()),ce.isLineSegments?At.setMode(oe.LINES):ce.isLineLoop?At.setMode(oe.LINE_LOOP):At.setMode(oe.LINE_STRIP)}else ce.isPoints?At.setMode(oe.POINTS):ce.isSprite&&At.setMode(oe.TRIANGLES);if(ce.isBatchedMesh)if(ce._multiDrawInstances!==null)At.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances);else if(Et.get("WEBGL_multi_draw"))At.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else{const ft=ce._multiDrawStarts,Ki=ce._multiDrawCounts,Xt=ce._multiDrawCount,_o=lt?we.get(lt).bytesPerElement:1,vu=Qe.get(ae).currentProgram.getUniforms();for(let Ii=0;Ii<Xt;Ii++)vu.setValue(oe,"_gl_DrawID",Ii),At.render(ft[Ii]/_o,Ki[Ii])}else if(ce.isInstancedMesh)At.renderInstances(ot,jt,ce.count);else if(fe.isInstancedBufferGeometry){const ft=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,Ki=Math.min(fe.instanceCount,ft);At.renderInstances(ot,jt,Ki)}else At.render(ot,jt)};function wt(W,ne,fe){W.transparent===!0&&W.side===ea&&W.forceSinglePass===!1?(W.side=Si,W.needsUpdate=!0,Ge(W,ne,fe),W.side=Pl,W.needsUpdate=!0,Ge(W,ne,fe),W.side=ea):Ge(W,ne,fe)}this.compile=function(W,ne,fe=null){fe===null&&(fe=W),g=Q.get(fe),g.init(ne),b.push(g),fe.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ne.layers)&&(g.pushLight(ce),ce.castShadow&&g.pushShadow(ce))}),W!==fe&&W.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ne.layers)&&(g.pushLight(ce),ce.castShadow&&g.pushShadow(ce))}),g.setupLights();const ae=new Set;return W.traverse(function(ce){if(!(ce.isMesh||ce.isPoints||ce.isLine||ce.isSprite))return;const Fe=ce.material;if(Fe)if(Array.isArray(Fe))for(let Ve=0;Ve<Fe.length;Ve++){const ht=Fe[Ve];wt(ht,fe,ce),ae.add(ht)}else wt(Fe,fe,ce),ae.add(Fe)}),b.pop(),g=null,ae},this.compileAsync=function(W,ne,fe=null){const ae=this.compile(W,ne,fe);return new Promise(ce=>{function Fe(){if(ae.forEach(function(Ve){Qe.get(Ve).currentProgram.isReady()&&ae.delete(Ve)}),ae.size===0){ce(W);return}setTimeout(Fe,10)}Et.get("KHR_parallel_shader_compile")!==null?Fe():setTimeout(Fe,10)})};let tr=null;function Ut(W){tr&&tr(W)}function re(){ge.stop()}function pe(){ge.start()}const ge=new b9;ge.setAnimationLoop(Ut),typeof self<"u"&&ge.setContext(self),this.setAnimationLoop=function(W){tr=W,ye.setAnimationLoop(W),W===null?ge.stop():ge.start()},ye.addEventListener("sessionstart",re),ye.addEventListener("sessionend",pe),this.render=function(W,ne){if(ne!==void 0&&ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;if(W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),ne.parent===null&&ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera(ne),ne=ye.getCamera()),W.isScene===!0&&W.onBeforeRender(x,W,ne,I),g=Q.get(W,b.length),g.init(ne),b.push(g),Pe.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),J.setFromProjectionMatrix(Pe),de=this.localClippingEnabled,ie=K.init(this.clippingPlanes,de),y=T.get(W,v.length),y.init(),v.push(y),ye.enabled===!0&&ye.isPresenting===!0){const Fe=x.xr.getDepthSensingMesh();Fe!==null&&_e(Fe,ne,-1/0,x.sortObjects)}_e(W,ne,0,x.sortObjects),y.finish(),x.sortObjects===!0&&y.sort(H,$),We=ye.enabled===!1||ye.isPresenting===!1||ye.hasDepthSensing()===!1,We&&ee.addToRenderList(y,W),this.info.render.frame++,ie===!0&&K.beginShadows();const fe=g.state.shadowsArray;Y.render(fe,W,ne),ie===!0&&K.endShadows(),this.info.autoReset===!0&&this.info.reset();const ae=y.opaque,ce=y.transmissive;if(g.setupLights(),ne.isArrayCamera){const Fe=ne.cameras;if(ce.length>0)for(let Ve=0,ht=Fe.length;Ve<ht;Ve++){const lt=Fe[Ve];Ye(ae,ce,W,lt)}We&&ee.render(W);for(let Ve=0,ht=Fe.length;Ve<ht;Ve++){const lt=Fe[Ve];$e(y,W,lt,lt.viewport)}}else ce.length>0&&Ye(ae,ce,W,ne),We&&ee.render(W),$e(y,W,ne);I!==null&&(X.updateMultisampleRenderTarget(I),X.updateRenderTargetMipmap(I)),W.isScene===!0&&W.onAfterRender(x,W,ne),Ke.resetDefaultState(),S=-1,P=null,b.pop(),b.length>0?(g=b[b.length-1],ie===!0&&K.setGlobalState(x.clippingPlanes,g.state.camera)):g=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function _e(W,ne,fe,ae){if(W.visible===!1)return;if(W.layers.test(ne.layers)){if(W.isGroup)fe=W.renderOrder;else if(W.isLOD)W.autoUpdate===!0&&W.update(ne);else if(W.isLight)g.pushLight(W),W.castShadow&&g.pushShadow(W);else if(W.isSprite){if(!W.frustumCulled||J.intersectsSprite(W)){ae&&st.setFromMatrixPosition(W.matrixWorld).applyMatrix4(Pe);const Ve=he.update(W),ht=W.material;ht.visible&&y.push(W,Ve,ht,fe,st.z,null)}}else if((W.isMesh||W.isLine||W.isPoints)&&(!W.frustumCulled||J.intersectsObject(W))){const Ve=he.update(W),ht=W.material;if(ae&&(W.boundingSphere!==void 0?(W.boundingSphere===null&&W.computeBoundingSphere(),st.copy(W.boundingSphere.center)):(Ve.boundingSphere===null&&Ve.computeBoundingSphere(),st.copy(Ve.boundingSphere.center)),st.applyMatrix4(W.matrixWorld).applyMatrix4(Pe)),Array.isArray(ht)){const lt=Ve.groups;for(let bt=0,Mt=lt.length;bt<Mt;bt++){const dt=lt[bt],ot=ht[dt.materialIndex];ot&&ot.visible&&y.push(W,Ve,ot,fe,st.z,dt)}}else ht.visible&&y.push(W,Ve,ht,fe,st.z,null)}}const Fe=W.children;for(let Ve=0,ht=Fe.length;Ve<ht;Ve++)_e(Fe[Ve],ne,fe,ae)}function $e(W,ne,fe,ae){const ce=W.opaque,Fe=W.transmissive,Ve=W.transparent;g.setupLightsView(fe),ie===!0&&K.setGlobalState(x.clippingPlanes,fe),ae&&qe.viewport(L.copy(ae)),ce.length>0&&tt(ce,ne,fe),Fe.length>0&&tt(Fe,ne,fe),Ve.length>0&&tt(Ve,ne,fe),qe.buffers.depth.setTest(!0),qe.buffers.depth.setMask(!0),qe.buffers.color.setMask(!0),qe.setPolygonOffset(!1)}function Ye(W,ne,fe,ae){if((fe.isScene===!0?fe.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[ae.id]===void 0&&(g.state.transmissionRenderTarget[ae.id]=new iu(1,1,{generateMipmaps:!0,type:Et.has("EXT_color_buffer_half_float")||Et.has("EXT_color_buffer_float")?Fm:Aa,minFilter:Sc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Qt.workingColorSpace}));const Fe=g.state.transmissionRenderTarget[ae.id],Ve=ae.viewport||L;Fe.setSize(Ve.z,Ve.w);const ht=x.getRenderTarget();x.setRenderTarget(Fe),x.getClearColor(w),E=x.getClearAlpha(),E<1&&x.setClearColor(16777215,.5),x.clear(),We&&ee.render(fe);const lt=x.toneMapping;x.toneMapping=Al;const bt=ae.viewport;if(ae.viewport!==void 0&&(ae.viewport=void 0),g.setupLightsView(ae),ie===!0&&K.setGlobalState(x.clippingPlanes,ae),tt(W,fe,ae),X.updateMultisampleRenderTarget(Fe),X.updateRenderTargetMipmap(Fe),Et.has("WEBGL_multisampled_render_to_texture")===!1){let Mt=!1;for(let dt=0,ot=ne.length;dt<ot;dt++){const St=ne[dt],jt=St.object,bn=St.geometry,At=St.material,ft=St.group;if(At.side===ea&&jt.layers.test(ae.layers)){const Ki=At.side;At.side=Si,At.needsUpdate=!0,it(jt,fe,ae,bn,At,ft),At.side=Ki,At.needsUpdate=!0,Mt=!0}}Mt===!0&&(X.updateMultisampleRenderTarget(Fe),X.updateRenderTargetMipmap(Fe))}x.setRenderTarget(ht),x.setClearColor(w,E),bt!==void 0&&(ae.viewport=bt),x.toneMapping=lt}function tt(W,ne,fe){const ae=ne.isScene===!0?ne.overrideMaterial:null;for(let ce=0,Fe=W.length;ce<Fe;ce++){const Ve=W[ce],ht=Ve.object,lt=Ve.geometry,bt=ae===null?Ve.material:ae,Mt=Ve.group;ht.layers.test(fe.layers)&&it(ht,ne,fe,lt,bt,Mt)}}function it(W,ne,fe,ae,ce,Fe){W.onBeforeRender(x,ne,fe,ae,ce,Fe),W.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,W.matrixWorld),W.normalMatrix.getNormalMatrix(W.modelViewMatrix),ce.onBeforeRender(x,ne,fe,ae,W,Fe),ce.transparent===!0&&ce.side===ea&&ce.forceSinglePass===!1?(ce.side=Si,ce.needsUpdate=!0,x.renderBufferDirect(fe,ne,ae,ce,W,Fe),ce.side=Pl,ce.needsUpdate=!0,x.renderBufferDirect(fe,ne,ae,ce,W,Fe),ce.side=ea):x.renderBufferDirect(fe,ne,ae,ce,W,Fe),W.onAfterRender(x,ne,fe,ae,ce,Fe)}function Ge(W,ne,fe){ne.isScene!==!0&&(ne=yt);const ae=Qe.get(W),ce=g.state.lights,Fe=g.state.shadowsArray,Ve=ce.state.version,ht=z.getParameters(W,ce.state,Fe,ne,fe),lt=z.getProgramCacheKey(ht);let bt=ae.programs;ae.environment=W.isMeshStandardMaterial?ne.environment:null,ae.fog=ne.fog,ae.envMap=(W.isMeshStandardMaterial?le:V).get(W.envMap||ae.environment),ae.envMapRotation=ae.environment!==null&&W.envMap===null?ne.environmentRotation:W.envMapRotation,bt===void 0&&(W.addEventListener("dispose",ut),bt=new Map,ae.programs=bt);let Mt=bt.get(lt);if(Mt!==void 0){if(ae.currentProgram===Mt&&ae.lightsStateVersion===Ve)return Oe(W,ht),Mt}else ht.uniforms=z.getUniforms(W),W.onBeforeCompile(ht,x),Mt=z.acquireProgram(ht,lt),bt.set(lt,Mt),ae.uniforms=ht.uniforms;const dt=ae.uniforms;return(!W.isShaderMaterial&&!W.isRawShaderMaterial||W.clipping===!0)&&(dt.clippingPlanes=K.uniform),Oe(W,ht),ae.needsLights=Tt(W),ae.lightsStateVersion=Ve,ae.needsLights&&(dt.ambientLightColor.value=ce.state.ambient,dt.lightProbe.value=ce.state.probe,dt.directionalLights.value=ce.state.directional,dt.directionalLightShadows.value=ce.state.directionalShadow,dt.spotLights.value=ce.state.spot,dt.spotLightShadows.value=ce.state.spotShadow,dt.rectAreaLights.value=ce.state.rectArea,dt.ltc_1.value=ce.state.rectAreaLTC1,dt.ltc_2.value=ce.state.rectAreaLTC2,dt.pointLights.value=ce.state.point,dt.pointLightShadows.value=ce.state.pointShadow,dt.hemisphereLights.value=ce.state.hemi,dt.directionalShadowMap.value=ce.state.directionalShadowMap,dt.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,dt.spotShadowMap.value=ce.state.spotShadowMap,dt.spotLightMatrix.value=ce.state.spotLightMatrix,dt.spotLightMap.value=ce.state.spotLightMap,dt.pointShadowMap.value=ce.state.pointShadowMap,dt.pointShadowMatrix.value=ce.state.pointShadowMatrix),ae.currentProgram=Mt,ae.uniformsList=null,Mt}function me(W){if(W.uniformsList===null){const ne=W.currentProgram.getUniforms();W.uniformsList=Xg.seqWithValue(ne.seq,W.uniforms)}return W.uniformsList}function Oe(W,ne){const fe=Qe.get(W);fe.outputColorSpace=ne.outputColorSpace,fe.batching=ne.batching,fe.batchingColor=ne.batchingColor,fe.instancing=ne.instancing,fe.instancingColor=ne.instancingColor,fe.instancingMorph=ne.instancingMorph,fe.skinning=ne.skinning,fe.morphTargets=ne.morphTargets,fe.morphNormals=ne.morphNormals,fe.morphColors=ne.morphColors,fe.morphTargetsCount=ne.morphTargetsCount,fe.numClippingPlanes=ne.numClippingPlanes,fe.numIntersection=ne.numClipIntersection,fe.vertexAlphas=ne.vertexAlphas,fe.vertexTangents=ne.vertexTangents,fe.toneMapping=ne.toneMapping}function Ce(W,ne,fe,ae,ce){ne.isScene!==!0&&(ne=yt),X.resetTextureUnits();const Fe=ne.fog,Ve=ae.isMeshStandardMaterial?ne.environment:null,ht=I===null?x.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Nf,lt=(ae.isMeshStandardMaterial?le:V).get(ae.envMap||Ve),bt=ae.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,Mt=!!fe.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),dt=!!fe.morphAttributes.position,ot=!!fe.morphAttributes.normal,St=!!fe.morphAttributes.color;let jt=Al;ae.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(jt=x.toneMapping);const bn=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,At=bn!==void 0?bn.length:0,ft=Qe.get(ae),Ki=g.state.lights;if(ie===!0&&(de===!0||W!==P)){const Xi=W===P&&ae.id===S;K.setState(ae,W,Xi)}let Xt=!1;ae.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==Ki.state.version||ft.outputColorSpace!==ht||ce.isBatchedMesh&&ft.batching===!1||!ce.isBatchedMesh&&ft.batching===!0||ce.isBatchedMesh&&ft.batchingColor===!0&&ce.colorTexture===null||ce.isBatchedMesh&&ft.batchingColor===!1&&ce.colorTexture!==null||ce.isInstancedMesh&&ft.instancing===!1||!ce.isInstancedMesh&&ft.instancing===!0||ce.isSkinnedMesh&&ft.skinning===!1||!ce.isSkinnedMesh&&ft.skinning===!0||ce.isInstancedMesh&&ft.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&ft.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&ft.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&ft.instancingMorph===!1&&ce.morphTexture!==null||ft.envMap!==lt||ae.fog===!0&&ft.fog!==Fe||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==K.numPlanes||ft.numIntersection!==K.numIntersection)||ft.vertexAlphas!==bt||ft.vertexTangents!==Mt||ft.morphTargets!==dt||ft.morphNormals!==ot||ft.morphColors!==St||ft.toneMapping!==jt||ft.morphTargetsCount!==At)&&(Xt=!0):(Xt=!0,ft.__version=ae.version);let _o=ft.currentProgram;Xt===!0&&(_o=Ge(ae,ne,ce));let vu=!1,Ii=!1,Bf=!1;const gn=_o.getUniforms(),ts=ft.uniforms;if(qe.useProgram(_o.program)&&(vu=!0,Ii=!0,Bf=!0),ae.id!==S&&(S=ae.id,Ii=!0),vu||P!==W){qe.buffers.depth.getReversed()?(ve.copy(W.projectionMatrix),Ume(ve),zme(ve),gn.setValue(oe,"projectionMatrix",ve)):gn.setValue(oe,"projectionMatrix",W.projectionMatrix),gn.setValue(oe,"viewMatrix",W.matrixWorldInverse);const Pa=gn.map.cameraPosition;Pa!==void 0&&Pa.setValue(oe,Ae.setFromMatrixPosition(W.matrixWorld)),at.logarithmicDepthBuffer&&gn.setValue(oe,"logDepthBufFC",2/(Math.log(W.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&gn.setValue(oe,"isOrthographic",W.isOrthographicCamera===!0),P!==W&&(P=W,Ii=!0,Bf=!0)}if(ce.isSkinnedMesh){gn.setOptional(oe,ce,"bindMatrix"),gn.setOptional(oe,ce,"bindMatrixInverse");const Xi=ce.skeleton;Xi&&(Xi.boneTexture===null&&Xi.computeBoneTexture(),gn.setValue(oe,"boneTexture",Xi.boneTexture,X))}ce.isBatchedMesh&&(gn.setOptional(oe,ce,"batchingTexture"),gn.setValue(oe,"batchingTexture",ce._matricesTexture,X),gn.setOptional(oe,ce,"batchingIdTexture"),gn.setValue(oe,"batchingIdTexture",ce._indirectTexture,X),gn.setOptional(oe,ce,"batchingColorTexture"),ce._colorsTexture!==null&&gn.setValue(oe,"batchingColorTexture",ce._colorsTexture,X));const Ff=fe.morphAttributes;if((Ff.position!==void 0||Ff.normal!==void 0||Ff.color!==void 0)&&ke.update(ce,fe,_o),(Ii||ft.receiveShadow!==ce.receiveShadow)&&(ft.receiveShadow=ce.receiveShadow,gn.setValue(oe,"receiveShadow",ce.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(ts.envMap.value=lt,ts.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),ae.isMeshStandardMaterial&&ae.envMap===null&&ne.environment!==null&&(ts.envMapIntensity.value=ne.environmentIntensity),Ii&&(gn.setValue(oe,"toneMappingExposure",x.toneMappingExposure),ft.needsLights&&Je(ts,Bf),Fe&&ae.fog===!0&&A.refreshFogUniforms(ts,Fe),A.refreshMaterialUniforms(ts,ae,N,D,g.state.transmissionRenderTarget[W.id]),Xg.upload(oe,me(ft),ts,X)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(Xg.upload(oe,me(ft),ts,X),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&gn.setValue(oe,"center",ce.center),gn.setValue(oe,"modelViewMatrix",ce.modelViewMatrix),gn.setValue(oe,"normalMatrix",ce.normalMatrix),gn.setValue(oe,"modelMatrix",ce.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const Xi=ae.uniformsGroups;for(let Pa=0,Na=Xi.length;Pa<Na;Pa++){const kT=Xi[Pa];se.update(kT,_o),se.bind(kT,_o)}}return _o}function Je(W,ne){W.ambientLightColor.needsUpdate=ne,W.lightProbe.needsUpdate=ne,W.directionalLights.needsUpdate=ne,W.directionalLightShadows.needsUpdate=ne,W.pointLights.needsUpdate=ne,W.pointLightShadows.needsUpdate=ne,W.spotLights.needsUpdate=ne,W.spotLightShadows.needsUpdate=ne,W.rectAreaLights.needsUpdate=ne,W.hemisphereLights.needsUpdate=ne}function Tt(W){return W.isMeshLambertMaterial||W.isMeshToonMaterial||W.isMeshPhongMaterial||W.isMeshStandardMaterial||W.isShadowMaterial||W.isShaderMaterial&&W.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(W,ne,fe){Qe.get(W.texture).__webglTexture=ne,Qe.get(W.depthTexture).__webglTexture=fe;const ae=Qe.get(W);ae.__hasExternalTextures=!0,ae.__autoAllocateDepthBuffer=fe===void 0,ae.__autoAllocateDepthBuffer||Et.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(W,ne){const fe=Qe.get(W);fe.__webglFramebuffer=ne,fe.__useDefaultFramebuffer=ne===void 0},this.setRenderTarget=function(W,ne=0,fe=0){I=W,k=ne,_=fe;let ae=!0,ce=null,Fe=!1,Ve=!1;if(W){const lt=Qe.get(W);if(lt.__useDefaultFramebuffer!==void 0)qe.bindFramebuffer(oe.FRAMEBUFFER,null),ae=!1;else if(lt.__webglFramebuffer===void 0)X.setupRenderTarget(W);else if(lt.__hasExternalTextures)X.rebindTextures(W,Qe.get(W.texture).__webglTexture,Qe.get(W.depthTexture).__webglTexture);else if(W.depthBuffer){const dt=W.depthTexture;if(lt.__boundDepthTexture!==dt){if(dt!==null&&Qe.has(dt)&&(W.width!==dt.image.width||W.height!==dt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(W)}}const bt=W.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(Ve=!0);const Mt=Qe.get(W).__webglFramebuffer;W.isWebGLCubeRenderTarget?(Array.isArray(Mt[ne])?ce=Mt[ne][fe]:ce=Mt[ne],Fe=!0):W.samples>0&&X.useMultisampledRTT(W)===!1?ce=Qe.get(W).__webglMultisampledFramebuffer:Array.isArray(Mt)?ce=Mt[fe]:ce=Mt,L.copy(W.viewport),G.copy(W.scissor),B=W.scissorTest}else L.copy(F).multiplyScalar(N).floor(),G.copy(M).multiplyScalar(N).floor(),B=q;if(qe.bindFramebuffer(oe.FRAMEBUFFER,ce)&&ae&&qe.drawBuffers(W,ce),qe.viewport(L),qe.scissor(G),qe.setScissorTest(B),Fe){const lt=Qe.get(W.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+ne,lt.__webglTexture,fe)}else if(Ve){const lt=Qe.get(W.texture),bt=ne||0;oe.framebufferTextureLayer(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,lt.__webglTexture,fe||0,bt)}S=-1},this.readRenderTargetPixels=function(W,ne,fe,ae,ce,Fe,Ve){if(!(W&&W.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=Qe.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&Ve!==void 0&&(ht=ht[Ve]),ht){qe.bindFramebuffer(oe.FRAMEBUFFER,ht);try{const lt=W.texture,bt=lt.format,Mt=lt.type;if(!at.textureFormatReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!at.textureTypeReadable(Mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne>=0&&ne<=W.width-ae&&fe>=0&&fe<=W.height-ce&&oe.readPixels(ne,fe,ae,ce,rt.convert(bt),rt.convert(Mt),Fe)}finally{const lt=I!==null?Qe.get(I).__webglFramebuffer:null;qe.bindFramebuffer(oe.FRAMEBUFFER,lt)}}},this.readRenderTargetPixelsAsync=async function(W,ne,fe,ae,ce,Fe,Ve){if(!(W&&W.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ht=Qe.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&Ve!==void 0&&(ht=ht[Ve]),ht){const lt=W.texture,bt=lt.format,Mt=lt.type;if(!at.textureFormatReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!at.textureTypeReadable(Mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ne>=0&&ne<=W.width-ae&&fe>=0&&fe<=W.height-ce){qe.bindFramebuffer(oe.FRAMEBUFFER,ht);const dt=oe.createBuffer();oe.bindBuffer(oe.PIXEL_PACK_BUFFER,dt),oe.bufferData(oe.PIXEL_PACK_BUFFER,Fe.byteLength,oe.STREAM_READ),oe.readPixels(ne,fe,ae,ce,rt.convert(bt),rt.convert(Mt),0);const ot=I!==null?Qe.get(I).__webglFramebuffer:null;qe.bindFramebuffer(oe.FRAMEBUFFER,ot);const St=oe.fenceSync(oe.SYNC_GPU_COMMANDS_COMPLETE,0);return oe.flush(),await Dme(oe,St,4),oe.bindBuffer(oe.PIXEL_PACK_BUFFER,dt),oe.getBufferSubData(oe.PIXEL_PACK_BUFFER,0,Fe),oe.deleteBuffer(dt),oe.deleteSync(St),Fe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(W,ne=null,fe=0){W.isTexture!==!0&&(Eh("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ne=arguments[0]||null,W=arguments[1]);const ae=Math.pow(2,-fe),ce=Math.floor(W.image.width*ae),Fe=Math.floor(W.image.height*ae),Ve=ne!==null?ne.x:0,ht=ne!==null?ne.y:0;X.setTexture2D(W,0),oe.copyTexSubImage2D(oe.TEXTURE_2D,fe,0,0,Ve,ht,ce,Fe),qe.unbindTexture()},this.copyTextureToTexture=function(W,ne,fe=null,ae=null,ce=0){W.isTexture!==!0&&(Eh("WebGLRenderer: copyTextureToTexture function signature has changed."),ae=arguments[0]||null,W=arguments[1],ne=arguments[2],ce=arguments[3]||0,fe=null);let Fe,Ve,ht,lt,bt,Mt,dt,ot,St;const jt=W.isCompressedTexture?W.mipmaps[ce]:W.image;fe!==null?(Fe=fe.max.x-fe.min.x,Ve=fe.max.y-fe.min.y,ht=fe.isBox3?fe.max.z-fe.min.z:1,lt=fe.min.x,bt=fe.min.y,Mt=fe.isBox3?fe.min.z:0):(Fe=jt.width,Ve=jt.height,ht=jt.depth||1,lt=0,bt=0,Mt=0),ae!==null?(dt=ae.x,ot=ae.y,St=ae.z):(dt=0,ot=0,St=0);const bn=rt.convert(ne.format),At=rt.convert(ne.type);let ft;ne.isData3DTexture?(X.setTexture3D(ne,0),ft=oe.TEXTURE_3D):ne.isDataArrayTexture||ne.isCompressedArrayTexture?(X.setTexture2DArray(ne,0),ft=oe.TEXTURE_2D_ARRAY):(X.setTexture2D(ne,0),ft=oe.TEXTURE_2D),oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,ne.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,ne.unpackAlignment);const Ki=oe.getParameter(oe.UNPACK_ROW_LENGTH),Xt=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),_o=oe.getParameter(oe.UNPACK_SKIP_PIXELS),vu=oe.getParameter(oe.UNPACK_SKIP_ROWS),Ii=oe.getParameter(oe.UNPACK_SKIP_IMAGES);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,jt.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,jt.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,lt),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,bt),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Mt);const Bf=W.isDataArrayTexture||W.isData3DTexture,gn=ne.isDataArrayTexture||ne.isData3DTexture;if(W.isRenderTargetTexture||W.isDepthTexture){const ts=Qe.get(W),Ff=Qe.get(ne),Xi=Qe.get(ts.__renderTarget),Pa=Qe.get(Ff.__renderTarget);qe.bindFramebuffer(oe.READ_FRAMEBUFFER,Xi.__webglFramebuffer),qe.bindFramebuffer(oe.DRAW_FRAMEBUFFER,Pa.__webglFramebuffer);for(let Na=0;Na<ht;Na++)Bf&&oe.framebufferTextureLayer(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Qe.get(W).__webglTexture,ce,Mt+Na),W.isDepthTexture?(gn&&oe.framebufferTextureLayer(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,Qe.get(ne).__webglTexture,ce,St+Na),oe.blitFramebuffer(lt,bt,Fe,Ve,dt,ot,Fe,Ve,oe.DEPTH_BUFFER_BIT,oe.NEAREST)):gn?oe.copyTexSubImage3D(ft,ce,dt,ot,St+Na,lt,bt,Fe,Ve):oe.copyTexSubImage2D(ft,ce,dt,ot,St+Na,lt,bt,Fe,Ve);qe.bindFramebuffer(oe.READ_FRAMEBUFFER,null),qe.bindFramebuffer(oe.DRAW_FRAMEBUFFER,null)}else gn?W.isDataTexture||W.isData3DTexture?oe.texSubImage3D(ft,ce,dt,ot,St,Fe,Ve,ht,bn,At,jt.data):ne.isCompressedArrayTexture?oe.compressedTexSubImage3D(ft,ce,dt,ot,St,Fe,Ve,ht,bn,jt.data):oe.texSubImage3D(ft,ce,dt,ot,St,Fe,Ve,ht,bn,At,jt):W.isDataTexture?oe.texSubImage2D(oe.TEXTURE_2D,ce,dt,ot,Fe,Ve,bn,At,jt.data):W.isCompressedTexture?oe.compressedTexSubImage2D(oe.TEXTURE_2D,ce,dt,ot,jt.width,jt.height,bn,jt.data):oe.texSubImage2D(oe.TEXTURE_2D,ce,dt,ot,Fe,Ve,bn,At,jt);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,Ki),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,Xt),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,_o),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,vu),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Ii),ce===0&&ne.generateMipmaps&&oe.generateMipmap(ft),qe.unbindTexture()},this.copyTextureToTexture3D=function(W,ne,fe=null,ae=null,ce=0){return W.isTexture!==!0&&(Eh("WebGLRenderer: copyTextureToTexture3D function signature has changed."),fe=arguments[0]||null,ae=arguments[1]||null,W=arguments[2],ne=arguments[3],ce=arguments[4]||0),Eh('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(W,ne,fe,ae,ce)},this.initRenderTarget=function(W){Qe.get(W).__webglFramebuffer===void 0&&X.setupRenderTarget(W)},this.initTexture=function(W){W.isCubeTexture?X.setTextureCube(W,0):W.isData3DTexture?X.setTexture3D(W,0):W.isDataArrayTexture||W.isCompressedArrayTexture?X.setTexture2DArray(W,0):X.setTexture2D(W,0),qe.unbindTexture()},this.resetState=function(){k=0,_=0,I=null,qe.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return aa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Qt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Qt._getUnpackColorSpace()}}class Ywe extends zr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ks,this.environmentIntensity=1,this.environmentRotation=new ks,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Jwe extends Ur{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class IT extends zl{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let p=0;const m=[],y=r/2;let g=0;v(),s===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Ts(d,3)),this.setAttribute("normal",new Ts(f,3)),this.setAttribute("uv",new Ts(h,2));function v(){const x=new be,R=new be;let k=0;const _=(n-e)/r;for(let I=0;I<=o;I++){const S=[],P=I/o,L=P*(n-e)+e;for(let G=0;G<=i;G++){const B=G/i,w=B*l+a,E=Math.sin(w),C=Math.cos(w);R.x=L*E,R.y=-P*r+y,R.z=L*C,d.push(R.x,R.y,R.z),x.set(E,_,C).normalize(),f.push(x.x,x.y,x.z),h.push(B,1-P),S.push(p++)}m.push(S)}for(let I=0;I<i;I++)for(let S=0;S<o;S++){const P=m[S][I],L=m[S+1][I],G=m[S+1][I+1],B=m[S][I+1];(e>0||S!==0)&&(u.push(P,L,B),k+=3),(n>0||S!==o-1)&&(u.push(L,G,B),k+=3)}c.addGroup(g,k,0),g+=k}function b(x){const R=p,k=new nn,_=new be;let I=0;const S=x===!0?e:n,P=x===!0?1:-1;for(let G=1;G<=i;G++)d.push(0,y*P,0),f.push(0,P,0),h.push(.5,.5),p++;const L=p;for(let G=0;G<=i;G++){const w=G/i*l+a,E=Math.cos(w),C=Math.sin(w);_.x=S*C,_.y=y*P,_.z=S*E,d.push(_.x,_.y,_.z),f.push(0,P,0),k.x=E*.5+.5,k.y=C*.5*P+.5,h.push(k.x,k.y),p++}for(let G=0;G<i;G++){const B=R+G,w=L+G;x===!0?u.push(w,w+1,B):u.push(w+1,w,B),I+=3}c.addGroup(g,I,x===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new IT(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Cx extends zm{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new Jt(16777215),this.specular=new Jt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=a9,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ks,this.combine=wT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const O6={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Zwe{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const ebe=new Zwe;class RT{constructor(e){this.manager=e!==void 0?e:ebe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}RT.DEFAULT_MATERIAL_NAME="__DEFAULT";class tbe extends RT{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=O6.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Zp("img");function l(){u(),O6.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class nbe extends RT{constructor(e){super(e)}load(e,n,r,i){const o=new Ur,s=new tbe(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class T9 extends zr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Jt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const Tx=new Ln,B6=new be,F6=new be;class rbe{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ln,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new TT,this._frameExtents=new nn(1,1),this._viewportCount=1,this._viewports=[new Bn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;B6.setFromMatrixPosition(e.matrixWorld),n.position.copy(B6),F6.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(F6),n.updateMatrixWorld(),Tx.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tx),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Tx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ibe extends rbe{constructor(){super(new x9(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class obe extends T9{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zr.DEFAULT_UP),this.updateMatrix(),this.target=new zr,this.shadow=new ibe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sbe extends T9{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vT);const L6=({isFlipping:t=!1,flipResult:e=null,flipDuration:n=2e3,isPlayerTurn:r=!1,onPowerCharge:i,onPowerRelease:o,chargingPlayer:s=null,isCharging:a=!1,creatorPower:l=0,joinerPower:c=0,size:u=300,creatorChoice:d=null,joinerChoice:f=null,isCreator:h=!1,customHeadsImage:p=null,customTailsImage:m=null})=>{const y=j.useRef(null),g=j.useRef(null),v=j.useRef(null),b=j.useRef(null),x=j.useRef({}),R=j.useRef(null),k=j.useRef(!1),_=j.useRef({level:"high",fps:60}),I=j.useRef(0),S=j.useRef(performance.now()),P=()=>{const C=_.current.fps;return C<30?"low":C<50?"medium":"high"},L=()=>{I.current++;const C=performance.now(),D=C-S.current;D>=1e3&&(_.current.fps=Math.round(I.current*1e3/D),_.current.level=P(),I.current=0,S.current=C)},G=()=>{const C=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),D=_.current.level;if(C)return D==="low"?8:12;switch(D){case"low":return 12;case"medium":return 16;case"high":return 20;default:return 16}},B=(C,D=null)=>{const N=`${C}-${D||"default"}`;if(x.current[N])return x.current[N];if(D){const J=new nbe().load(D);return J.colorSpace=ui,x.current[N]=J,J}const H=_.current.level==="low"?256:512,$=document.createElement("canvas");$.width=H,$.height=H;const F=$.getContext("2d");if(C==="heads"||C==="tails"){const q=F.createRadialGradient(H/2,H/2,0,H/2,H/2,H/2);q.addColorStop(0,"#FFD700"),q.addColorStop(.7,"#FFA500"),q.addColorStop(1,"#FF8C00"),F.fillStyle=q,F.fillRect(0,0,H,H),F.fillStyle="#8B4513",F.font=`bold ${H*.3}px Arial`,F.textAlign="center",F.textBaseline="middle",F.fillText(C.toUpperCase(),H/2,H/2),(C==="heads"&&d==="heads"||C==="tails"&&d==="tails")&&(F.strokeStyle="#FF1493",F.lineWidth=H*.02,F.beginPath(),F.arc(H/2,H/2,H*.45,0,Math.PI*2),F.stroke()),(C==="heads"&&f==="heads"||C==="tails"&&f==="tails")&&(F.strokeStyle="#00CED1",F.lineWidth=H*.02,F.beginPath(),F.arc(H/2,H/2,H*.4,0,Math.PI*2),F.stroke())}else if(C==="edge"){F.fillStyle="#DAA520",F.fillRect(0,0,H,H),F.strokeStyle="#B8860B",F.lineWidth=2;for(let q=0;q<H;q+=8)F.beginPath(),F.moveTo(q,0),F.lineTo(q,H),F.stroke()}const M=new Jwe($);return M.colorSpace=ui,x.current[N]=M,M};j.useEffect(()=>{if(!y.current||g.current)return;const C=new Ywe,D=new lo(50,1,.1,1e3);D.position.set(0,0,8);const N=new Xwe({antialias:_.current.level!=="low",alpha:!0,powerPreference:"high-performance"});N.setSize(u,u),N.setClearColor(0,0),N.setPixelRatio(Math.min(window.devicePixelRatio,2)),y.current.appendChild(N.domElement),g.current=C,v.current=N;const H=new sbe(16777215,.8);C.add(H);const $=new obe(16777215,.6);$.position.set(5,5,5),C.add($);const F=[new Cx({map:B("edge"),color:16766720,shininess:100,specular:2236962}),new Cx({map:B("heads",p),color:16766720,shininess:100,specular:2236962}),new Cx({map:B("tails",m),color:16766720,shininess:100,specular:2236962})],M=G(),q=new IT(3,3,.4,M),J=new Es(q,F);C.add(J),b.current=J,J.rotation.x=0,J.rotation.y=Math.PI/2;const ie=()=>{if(!b.current||!v.current)return;L();const de=b.current,ve=Date.now()*.001,Pe=_.current.level;if(!k.current)if(a&&!k.current){const Ae=Math.min(1,(l+c)/20);if(Pe!=="low"){const st=1+Math.sin(ve*10)*.05*Ae;de.scale.set(st,st,st),de.position.y=Math.sin(ve*5)*.05*Ae}de.rotation.x+=.01*(1+Ae*.5)}else Pe!=="low"&&(de.rotation.x+=.003,de.position.y=Math.sin(ve*2)*.01),de.scale.set(1,1,1),de.position.x=0,de.position.z=0;N.render(C,D),R.current=requestAnimationFrame(ie)};if(_.current.level==="low"){let de=0;const Pe=1e3/30,Ae=st=>{st-de>=Pe&&(ie(),de=st),R.current=requestAnimationFrame(Ae)};Ae(0)}else ie();return()=>{R.current&&cancelAnimationFrame(R.current),F.forEach(de=>{de.map&&de.map.dispose(),de.dispose()}),q.dispose(),N.dispose(),Object.values(x.current).forEach(de=>{de.dispose()}),x.current={},g.current=null,v.current=null}},[u,p,m]),j.useEffect(()=>{if(!b.current)return;const C=b.current;C.material[1]&&(C.material[1].map&&C.material[1].map.dispose(),C.material[1].map=B("heads",p),C.material[1].needsUpdate=!0),C.material[2]&&(C.material[2].map&&C.material[2].map.dispose(),C.material[2].map=B("tails",m),C.material[2].needsUpdate=!0)},[p,m,d,f]),j.useEffect(()=>{if(!t||!e||!b.current)return;k.current=!0;const C=b.current,D=Date.now(),N=n,H=C.rotation.x,$=e==="heads"?0:Math.PI,F=_.current.level==="low"?3:5,M=Math.PI*2*F+($-H%(Math.PI*2)),q=()=>{const J=Date.now()-D,ie=Math.min(J/N,1);if(ie<1){const de=1-Math.pow(1-ie,3);C.rotation.x=H+M*de,C.position.y=Math.sin(ie*Math.PI)*.5,requestAnimationFrame(q)}else C.rotation.x=$,C.position.y=0,C.rotation.z=0,C.scale.set(1,1,1),k.current=!1};return q(),()=>{k.current=!1}},[t,e,n]);const w=C=>{!r||!i||(C.preventDefault(),i(C))},E=C=>{!r||!o||(C.preventDefault(),o(C))};return U("div",{ref:y,onMouseDown:r?w:void 0,onMouseUp:r?E:void 0,onMouseLeave:r?E:void 0,onTouchStart:r?w:void 0,onTouchEnd:r?E:void 0,style:{width:u,height:u,cursor:r?"pointer":"default",userSelect:"none",touchAction:"none",position:"relative",background:a?"radial-gradient(circle, rgba(255,20,147,0.1) 0%, transparent 70%)":"transparent",transition:"background 0.3s ease",borderRadius:"50%"}})},D6=({creatorPower:t=0,joinerPower:e=0,currentPlayer:n=null,creator:r=null,joiner:i=null,chargingPlayer:o=null,gamePhase:s=null,isMyTurn:a=!1,playerChoice:l=null,onChoiceSelect:c=null,isMobile:u=!1})=>{const d=t+e,f=10,h=s==="choosing"&&a&&!l&&c;console.log("🎯 PowerDisplay Debug:",{gamePhase:s,isMyTurn:a,playerChoice:l,currentPlayer:n,creator:r,joiner:i,showChoiceButtons:h,hasOnChoiceSelect:!!c});const p=s==="round_active"||l;if(!h&&!p&&s!=="choosing")return null;const m=u?{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",width:"100%"}:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(25, 20, 0, 0.8) 100%)",padding:"1.5rem",borderRadius:"1rem",border:"2px solid #FFD700",backdropFilter:"blur(10px)",maxWidth:"550px",margin:"0 auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1)"},y=u?{color:Le.colors.neonYellow,fontSize:"1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"}:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.2rem",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)",letterSpacing:"1px"},g=u?{width:"100%",padding:"1rem",fontSize:"1rem",minHeight:"50px"}:{flex:1,padding:"1.5rem",fontSize:"1.2rem"};return Z("div",{style:m,children:[U("div",{style:y,children:"⚡ POWER LEVEL ⚡"}),h&&Z("div",{style:{marginBottom:u?"1rem":"1.5rem"},children:[U("div",{style:{color:u?Le.colors.neonYellow:"#FFD700",fontSize:u?"0.9rem":"1rem",fontWeight:"bold",marginBottom:u?"0.75rem":"1rem",textAlign:"center"},children:"🎯 CHOOSE YOUR SIDE"}),Z("div",{style:{display:"flex",gap:u?"0.75rem":"1rem",flexDirection:u?"column":"row"},children:[U("button",{onClick:()=>{console.log("🎯 HEADS clicked by:",n,"gamePhase:",s),c?c("heads"):console.error("❌ onChoiceSelect is null!")},style:{...g,background:"linear-gradient(45deg, #00FF41, #00CC33)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"#000000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"HEADS"}),U("button",{onClick:()=>{console.log("🎯 TAILS clicked by:",n,"gamePhase:",s),c?c("tails"):console.error("❌ onChoiceSelect is null!")},style:{...g,background:"#FF1493",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"TAILS"})]})]}),(p||!h)&&Z("div",{children:[Z("div",{style:{marginBottom:u?"1rem":"1.2rem"},children:[Z("div",{style:{color:u?Le.colors.neonYellow:"#FFD700",fontSize:u?"0.85rem":"0.95rem",fontWeight:"bold",marginBottom:u?"0.5rem":"0.6rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[U("span",{children:"Total Power"}),Z("span",{style:{color:u?Le.colors.neonYellow:"#FFD700",textShadow:u?"none":"0 0 5px rgba(255, 215, 0, 0.8)"},children:[d.toFixed(1),"/10"]})]}),Z("div",{style:{height:u?"16px":"24px",background:"linear-gradient(90deg, rgba(0, 0, 0, 0.8) 0%, rgba(40, 30, 0, 0.6) 100%)",borderRadius:u?"8px":"12px",overflow:"hidden",border:u?"2px solid #FFD700":"3px solid #FFD700",position:"relative",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.5)"},children:[U("div",{style:{height:"100%",width:`${d/f*100}%`,background:o?"linear-gradient(90deg, #FFD700 0%, #FFA500 30%, #FF6B00 60%, #FF1493 100%)":"linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF6B00 100%)",borderRadius:u?"6px":"9px",transition:"width 0.15s ease-out",backgroundSize:"200% 100%",animation:o?"powerCharge 0.6s linear infinite":"none",boxShadow:o?"0 0 15px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.3)":"0 0 8px rgba(255, 215, 0, 0.6)"}}),U("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.5rem"},children:[2,4,6,8].map(v=>U("div",{style:{width:"2px",height:"70%",background:"rgba(255, 255, 255, 0.4)",opacity:d>=v?1:.3}},v))})]})]}),o&&U("div",{style:{padding:u?"0.5rem":"0.6rem",background:"linear-gradient(90deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 165, 0, 0.1) 100%)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:u?"0.5rem":"0.75rem",textAlign:"center"},children:Z("div",{style:{color:u?Le.colors.neonYellow:"#FFD700",fontSize:u?"0.8rem":"0.9rem",fontWeight:"bold",animation:"powerPulse 0.4s ease-in-out infinite",textShadow:u?"none":"0 0 10px rgba(255, 215, 0, 0.8)"},children:["⚡ ",o===r?"PLAYER 1":"PLAYER 2"," CHARGING ⚡"]})})]})]})},M9=Re("div",{target:"ev7jjqq2"})("position:relative;width:",t=>t.size,"px;height:",t=>t.size,"px;border-radius:",t=>t.style?.borderRadius||"50%",";overflow:hidden;cursor:",t=>t.isClickable?"pointer":"default",";border:",t=>t.style?.border||"2px solid rgba(255, 255, 255, 0.2)",";background:rgba(0, 0, 0, 0.3);display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;&:hover{border-color:",t=>t.isClickable?"rgba(255, 20, 147, 0.5)":t.style?.border,";box-shadow:",t=>t.isClickable?"0 0 15px rgba(255, 20, 147, 0.3)":"none",";}"),abe=Re("img",{target:"ev7jjqq1"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"}),lbe=Re("div",{target:"ev7jjqq0"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:white;font-size:1.5rem;opacity:0;transition:opacity 0.3s ease;pointer-events:none;",M9,":hover &{opacity:1;}"),cv=({address:t,size:e=40,isClickable:n=!1,showUploadIcon:r=!1,profileData:i=null,style:o={}})=>{const{getProfilePicture:s,setProfilePicture:a}=Jw(),{address:l}=es(),[c,u]=j.useState(i?.imageUrl||null),[d,f]=j.useState(!0);return j.useEffect(()=>{if(i?.imageUrl){u(i.imageUrl),f(!1);return}(async()=>{if(t)try{f(!0);const m=await s(t);u(m)}catch(m){console.error("Error loading profile picture:",m)}finally{f(!1)}})()},[t,i,s]),Z(M9,{size:e,isClickable:n,onClick:async p=>{if(!n)return;const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=async y=>{const g=y.target.files[0];if(g){if(g.size>5*1024*1024){alert("Image size must be less than 5MB");return}const v=new FileReader;v.onload=async b=>{try{const x=b.target.result;await a(t,x),u(x)}catch(x){console.error("Error uploading profile picture:",x)}},v.readAsDataURL(g)}},m.click()},style:o,children:[c?U(abe,{src:c,alt:"Profile"}):U("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:`${e*.4}px`},children:t?.slice(0,2).toUpperCase()}),r&&n&&U(lbe,{children:"📷"})]})},I9=Re("div",{target:"e12jjgri4"})({name:"1llg40g",styles:"position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:320px;height:520px;background:rgba(0, 0, 0, 0.3);border:3px solid #00FF41;border-radius:1.5rem;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;box-shadow:0 0 30px rgba(0, 255, 65, 0.4),0 0 60px rgba(0, 255, 65, 0.2);animation:winnerGlow 2s ease-in-out infinite alternate;@keyframes winnerGlow{0%{box-shadow:0 0 30px rgba(0, 255, 65, 0.4),0 0 60px rgba(0, 255, 65, 0.2);}100%{box-shadow:0 0 40px rgba(0, 255, 65, 0.6),0 0 80px rgba(0, 255, 65, 0.3);}}"}),cbe=Re(I9,{target:"e12jjgri3"})({name:"1c7iyux",styles:"border:3px solid #FF1493;box-shadow:0 0 30px rgba(255, 20, 147, 0.4),0 0 60px rgba(255, 20, 147, 0.2);animation:loserGlow 2s ease-in-out infinite alternate;@keyframes loserGlow{0%{box-shadow:0 0 30px rgba(255, 20, 147, 0.4),0 0 60px rgba(255, 20, 147, 0.2);}100%{box-shadow:0 0 40px rgba(255, 20, 147, 0.6),0 0 80px rgba(255, 20, 147, 0.3);}}"}),U6=Re("div",{target:"e12jjgri2"})({name:"13nkmt6",styles:"position:relative;width:280px;height:400px;border-radius:1rem;overflow:hidden;background:rgba(0, 0, 0, 0.5)"}),z6=Re("div",{target:"e12jjgri1"})("position:absolute;bottom:-120px;left:50%;transform:translateX(-50%);width:90%;max-width:400px;background:rgba(0, 0, 0, 0.9);border:2px solid ",t=>t.isWinner?"#00ff00":"#ff1493",";border-radius:1rem;padding:20px;text-align:center;color:white;box-shadow:0 0 20px ",t=>t.isWinner?"rgba(0, 255, 0, 0.5)":"rgba(255, 20, 147, 0.5)",";backdrop-filter:blur(10px);"),ube=Re("p",{target:"e12jjgri0"})({name:"238vdc",styles:"color:#ff6b6b;font-size:14px;margin:10px 0;font-weight:bold"}),dbe=({isVisible:t,isWinner:e,flipResult:n,playerChoice:r,onClose:i,onClaimWinnings:o,gameData:s=null})=>{const a=Bm();return t?Z("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.3s ease-in-out"},children:[e&&U(I9,{children:Z(U6,{children:[U("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"},src:"/images/video/LoseWin/final lose win/endwin.webm",onError:u=>{console.error("Video playback error:",u),console.log("Video source:",u.target.src);const d=["/images/video/LoseWin/final lose win/endwin.webm","images/video/LoseWin/final lose win/endwin.webm","./images/video/LoseWin/final lose win/endwin.webm"],h=(d.indexOf(u.target.src)+1)%d.length;u.target.src=d[h]},onLoadedData:u=>{console.log("Video loaded successfully"),u.target.play().catch(d=>console.error("Play error:",d))}},"win"),Z(z6,{isWinner:!0,children:[U("h2",{style:{color:"#00FF41",textShadow:"0 0 10px #00FF41",marginBottom:"0.5rem"},children:"🎉 Congratulations!"}),U("p",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"You've won the game!"}),U(ube,{children:"⚠️ Warning: Leaving the game will result in a loss"}),U(zn,{onClick:()=>{o&&o()},style:{background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",fontWeight:"bold",border:"none",boxShadow:"0 0 15px rgba(0, 255, 65, 0.5)"},children:"Claim Winnings"})]})]})}),!e&&U(cbe,{children:Z(U6,{children:[U("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"},src:"/images/video/LoseWin/final lose win/endlose.webm",onError:u=>{console.error("Video playback error:",u),console.log("Video source:",u.target.src);const d=["/images/video/LoseWin/final lose win/endlose.webm","images/video/LoseWin/final lose win/endlose.webm","./images/video/LoseWin/final lose win/endlose.webm"],h=(d.indexOf(u.target.src)+1)%d.length;u.target.src=d[h]},onLoadedData:u=>{console.log("Video loaded successfully"),u.target.play().catch(d=>console.error("Play error:",d))}},"lose"),Z(z6,{isWinner:!1,children:[U("h2",{style:{color:"#FF1493",textShadow:"0 0 10px #FF1493",marginBottom:"0.5rem"},children:"💔 Game Over"}),U("p",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Better luck next time!"}),U(zn,{onClick:()=>{a("/")},style:{background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",fontWeight:"bold",border:"none",boxShadow:"0 0 15px rgba(255, 20, 147, 0.5)"},children:"Try Again"})]})]})})]}):null},fbe=Re("div",{target:"e1v3jcde7"})({name:"ugv07s",styles:"background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:1rem;height:300px;display:flex;flex-direction:column"}),hbe=Re("div",{target:"e1v3jcde6"})({name:"oasci9",styles:"flex:1;overflow-y:auto;margin-bottom:1rem;padding-right:0.5rem;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:rgba(255, 255, 255, 0.1);border-radius:3px;}&::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.2);border-radius:3px;}"}),pbe=Re("div",{target:"e1v3jcde5"})("margin-bottom:0.5rem;padding:0.5rem;border-radius:0.5rem;background:",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.2)":"rgba(255, 255, 255, 0.1)",";border:1px solid ",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.3)":"rgba(255, 255, 255, 0.2)",";"),mbe=Re("div",{target:"e1v3jcde4"})("display:flex;justify-content:space-between;margin-bottom:0.25rem;font-size:0.8rem;color:",t=>t.isCurrentUser?"#FF1493":"#00BFFF",";"),gbe=Re("div",{target:"e1v3jcde3"})({name:"l6ov4n",styles:"color:#fff;word-break:break-word"}),ybe=Re("form",{target:"e1v3jcde2"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),vbe=Re("input",{target:"e1v3jcde1"})({name:"d6ulw3",styles:"flex:1;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.5rem;color:#fff;font-size:0.9rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),wbe=Re("button",{target:"e1v3jcde0"})({name:"10wre2a",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"}),rg=({gameId:t,socket:e,connected:n})=>{const{address:r,isConnected:i}=es(),{getPlayerName:o,setPlayerName:s}=Jw(),{showError:a}=Ma(),[l,c]=j.useState([]),[u,d]=j.useState(""),[f,h]=j.useState(!1),[p,m]=j.useState(""),[y,g]=j.useState(""),[v,b]=j.useState(!0),[x,R]=j.useState(0),[k,_]=j.useState({}),I=j.useRef(null),S=j.useRef(null);j.useEffect(()=>{r&&i&&(async()=>{const D=await o(r);g(D||"")})()},[r,i,o]),j.useEffect(()=>{I.current?.scrollIntoView({behavior:"smooth"})},[l]),j.useEffect(()=>{if(!e)return;const C=D=>{try{const N=JSON.parse(D.data);N.type==="chat_message"&&c(H=>[...H,{id:N.id,address:N.address,name:N.name,message:N.message,timestamp:N.timestamp,isSystem:N.isSystem||!1}])}catch(N){console.error("Error parsing chat message:",N)}};return e.addEventListener("message",C),()=>e.removeEventListener("message",C)},[e]);const P=C=>!(!C||typeof C!="string"||C.trim().length===0||C.length>500||C.includes("<")||C.includes(">")||C.includes("javascript:")||C.includes("data:")),L=C=>!(!C||typeof C!="string"||C.trim().length===0||C.length>50||!/^[a-zA-Z0-9\s\-_.!@#$%^&*()]+$/.test(C)||C.includes("<")||C.includes(">")||C.includes("javascript:")||C.includes("data:")),G=async C=>{if(C.preventDefault(),!n||!e||!r||!i){a("Not connected to game");return}if(!y){h(!0);return}const D=u.trim();if(!P(D)){a("Invalid message. Keep it under 500 characters and avoid special characters.");return}try{const N={type:"chat_message",gameId:t,address:r,name:y,message:D,timestamp:new Date().toISOString()};e.send(JSON.stringify(N)),d(""),S.current?.focus()}catch(N){console.error("Error sending chat message:",N),a("Failed to send message")}},B=async()=>{if(!L(p)){a("Invalid name. Use 50 characters or less, alphanumeric and basic punctuation only.");return}try{await s(r,p.trim()),g(p.trim()),h(!1),m("")}catch(C){console.error("Error saving name:",C),a("Failed to save name")}},w=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),G(C))},E=C=>new Date(C).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return j.useEffect(()=>{(async()=>{const D={};for(const N of l)if(!D[N.address]){const H=await o(N.address);D[N.address]=H}_(D)})()},[l,o]),i?Z(fbe,{children:[Z("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.3)"},children:[U("div",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"💬 Chat"}),Z("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[U("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:n?"#00FF00":"#FF0000",animation:n?"pulse 2s infinite":"none"}}),U("span",{style:{color:Le.colors.textSecondary,fontSize:"0.8rem"},children:n?"Connected":"Disconnected"})]})]}),Z(hbe,{children:[l.map((C,D)=>{const N=C.address===r,H=k[C.address]||C.address.slice(0,6)+"..."+C.address.slice(-4);return Z(pbe,{isCurrentUser:N,children:[Z(mbe,{isCurrentUser:N,children:[U("span",{children:H}),U("span",{children:E(C.timestamp)})]}),U(gbe,{children:C.message})]},D)}),U("div",{ref:I})]}),Z(ybe,{onSubmit:G,children:[U(vbe,{ref:S,type:"text",value:u,onChange:C=>d(C.target.value),onKeyPress:w,placeholder:"Type your message...",disabled:!n,style:{flex:1,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.75rem",color:"#fff",fontSize:"0.9rem"}}),U(wbe,{type:"submit",disabled:!n||!u.trim(),style:{background:"linear-gradient(45deg, #FF1493, #FF69B4)",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem"},children:"Send"})]}),f&&U("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:Z("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:"400px",position:"relative"},children:[U("h3",{style:{color:"#FFD700",marginBottom:"1rem",fontSize:"1.2rem"},children:y?"Change Your Name":"Set Your Name"}),U("input",{type:"text",value:p,onChange:C=>m(C.target.value),placeholder:"Enter your name...",style:{width:"100%",padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",color:"#fff",fontSize:"1rem",marginBottom:"1rem"}}),Z("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[U("button",{onClick:()=>h(!1),style:{padding:"0.75rem 1.5rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#fff",fontSize:"0.9rem",cursor:"pointer"},children:"Cancel"}),U("button",{onClick:B,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer"},children:"Save"})]})]})}),U("style",{children:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `})]}):U("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",textAlign:"center"},children:U("div",{style:{color:Le.colors.textSecondary},children:"Connect your wallet to join the chat"})})},bbe=({nftData:t,chainConfig:e})=>{if(!t)return U("div",{style:{color:"#888",textAlign:"center",padding:"1rem"},children:"NFT data not available"});const[n,r]=j.useState(!1),[i,o]=j.useState(""),s=(l,c)=>{navigator.clipboard.writeText(l),o(c),setTimeout(()=>o(""),2e3)},a=l=>l?`${(l*100).toFixed(2)}%`:"N/A";return Z("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",color:"#fff",fontFamily:"Inter, sans-serif"},children:[U("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:U("h3",{style:{margin:0,fontSize:"16px"},children:t.name||"Unnamed NFT"})}),Z("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[Z("div",{children:[U("div",{style:{fontSize:"14px",opacity:.8},children:"Collection"}),U("div",{style:{fontWeight:"bold"},children:t.collection||"Unknown"})]}),Z("div",{children:[U("div",{style:{fontSize:"14px",opacity:.8},children:"Token ID"}),Z("div",{style:{fontWeight:"bold"},children:["#",t.tokenId]})]})]}),Z("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[U("a",{href:`${e.explorerUrl}/token/${t.contractAddress}?a=${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:"🔍 Explorer"}),U("a",{href:`${e.marketplaceUrl}/${t.contractAddress}/${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:"🛍️ OpenSea"})]}),Z("div",{children:[Z("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[U("span",{children:"View Details"}),U("span",{children:n?"▲":"▼"})]}),n&&Z("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[Z("div",{style:{marginBottom:"16px"},children:[U("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Contract Address"}),Z("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",wordBreak:"break-all"},children:[U("span",{children:`${t.contractAddress.slice(0,6)}...${t.contractAddress.slice(-4)}`}),U("button",{onClick:()=>s(t.contractAddress,"contract"),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"4px"},children:i==="contract"?"✓":"📋"})]})]}),t.metadata?.description&&Z("div",{style:{marginBottom:"16px"},children:[U("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Description"}),U("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:t.metadata.description})]}),t.metadata?.attributes?.length>0&&Z("div",{style:{marginBottom:"16px"},children:[U("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Attributes"}),U("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},children:t.metadata.attributes.map((l,c)=>Z("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px",fontSize:"12px"},children:[U("div",{style:{opacity:.8},children:l.trait_type}),U("div",{style:{fontWeight:"bold"},children:l.value}),l.rarity&&Z("div",{style:{fontSize:"10px",opacity:.6},children:["Rarity: ",a(l.rarity)]})]},c))})]}),Z("div",{children:[U("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Verification Status"}),Z("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[U("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Le.colors.neonGreen}}),Z("span",{children:["Verified on ",e.name]})]})]})]})]})]})},j6=({gameId:t,gameData:e,isCreator:n,socket:r,connected:i,offeredNFTs:o=[],onOfferSubmitted:s,onOfferAccepted:a})=>{const{isConnected:l,address:c,nfts:u,provider:d}=es(),{showSuccess:f,showError:h,showInfo:p}=Ma(),[m,y]=j.useState(null),[g,v]=j.useState(!1),[b,x]=j.useState(!1),R=async()=>{if(!(!m||!i||!r))try{v(!0),p("Submitting NFT offer...");const S={type:"nft_offer",gameId:t,offererAddress:c,nft:{contractAddress:m.contractAddress,tokenId:m.tokenId,name:m.name,image:m.image,collection:m.collection,chain:m.chain},timestamp:new Date().toISOString()};r.send(JSON.stringify(S)),f("NFT offer submitted! Waiting for creator to accept..."),y(null),x(!1),s&&s(S)}catch(S){console.error("Error submitting offer:",S),h("Failed to submit offer: "+S.message)}finally{v(!1)}},k=async S=>{if(!(!n||!i||!r))try{p("Accepting NFT challenge...");const P={type:"accept_nft_offer",gameId:t,creatorAddress:c,acceptedOffer:S,timestamp:new Date().toISOString()};r.send(JSON.stringify(P)),a&&a(S)}catch(P){console.error("Error accepting offer:",P),h("Failed to accept offer: "+P.message)}},_=S=>{const P={ethereum:"https://etherscan.io",base:"https://basescan.org",polygon:"https://polygonscan.com",arbitrum:"https://arbiscan.io"};return`${P[S.chain?.toLowerCase()]||P.ethereum}/token/${S.contractAddress}?a=${S.tokenId}`},I=S=>`https://opensea.io/assets/${{ethereum:"ethereum",base:"base",polygon:"matic",arbitrum:"arbitrum"}[S.chain?.toLowerCase()]||"ethereum"}/${S.contractAddress}/${S.tokenId}`;return n?Z("div",{style:{background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[Z("h3",{style:{color:"#00FF41",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:["💎 NFT Battle Offers (",o.length,")"]}),o.length===0?Z("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[U("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"⏳"}),U("p",{children:"Waiting for players to offer their NFTs..."}),U("p",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Share your game link to attract challengers!"})]}):U("div",{style:{display:"grid",gap:"1rem",maxHeight:"400px",overflowY:"auto"},children:o.map((S,P)=>Z("div",{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[U("img",{src:S.nft.image,alt:S.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover"}}),Z("div",{style:{flex:1},children:[U("h4",{style:{color:"white",margin:"0 0 0.25rem 0",fontSize:"1rem"},children:S.nft.name}),U("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:"0 0 0.5rem 0",fontSize:"0.8rem"},children:S.nft.collection}),Z("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.7rem",marginBottom:"0.5rem"},children:["From: ",S.offererAddress.slice(0,6),"...",S.offererAddress.slice(-4)]}),Z("div",{style:{display:"flex",gap:"0.5rem"},children:[U("a",{href:_(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00FF41",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 255, 65, 0.3)"},children:"🔍 Verify"}),U("a",{href:I(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00BFFF",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 191, 255, 0.3)"},children:"🛍️ OpenSea"})]})]}),U("button",{onClick:()=>k(S),style:{background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:L=>{L.target.style.transform="scale(1.05)",L.target.style.boxShadow="0 0 15px rgba(0, 255, 65, 0.5)"},onMouseOut:L=>{L.target.style.transform="scale(1)",L.target.style.boxShadow="none"},children:"⚔️ BATTLE!"})]},P))})]}):!n&&e?.gameType==="nft-vs-nft"&&e?.status==="waiting"?Z("div",{style:{background:"rgba(255, 20, 147, 0.1)",border:"2px solid rgba(255, 20, 147, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[U("h3",{style:{color:"#FF1493",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:"⚔️ Challenge with Your NFT!"}),Z("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[U("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Creator's NFT:"}),Z("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[U("img",{src:e.nft.image,alt:e.nft.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),Z("div",{children:[U("div",{style:{color:"white",fontWeight:"bold"},children:e.nft.name}),U("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:e.nft.collection})]})]})]}),m?Z("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[U("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Your NFT:"}),Z("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[U("img",{src:m.image,alt:m.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),Z("div",{style:{flex:1},children:[U("div",{style:{color:"white",fontWeight:"bold"},children:m.name}),U("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:m.collection})]}),U("button",{onClick:()=>y(null),style:{background:"rgba(255, 0, 0, 0.2)",color:"white",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.8rem"},children:"Change"})]})]}):U("button",{onClick:()=>x(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"2px dashed rgba(255, 20, 147, 0.5)",borderRadius:"0.75rem",color:"#FF1493",cursor:"pointer",marginBottom:"1rem"},children:"Select Your NFT to Battle"}),Z("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1rem",fontSize:"0.8rem"},children:[U("strong",{style:{color:"#FFD700"},children:"⚠️ Battle Rules:"}),U("br",{}),"• Winner takes both NFTs",U("br",{}),"• You pay $0.50 only if your offer is accepted",U("br",{}),"• Best of 5 rounds"]}),U("button",{onClick:R,disabled:!m||g||!i,style:{width:"100%",padding:"1rem",background:m?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.75rem",fontWeight:"bold",cursor:m?"pointer":"not-allowed",fontSize:"1rem",opacity:m?1:.5,transition:"all 0.3s ease"},children:g?"Submitting Offer...":"⚔️ Submit Battle Offer!"}),b&&U("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:Z("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FF1493",borderRadius:"1rem",padding:"2rem",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative"},children:[U("button",{onClick:()=>x(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"30px",height:"30px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"✕"}),U("h3",{style:{color:"#FF1493",marginBottom:"1rem"},children:"Select Your Battle NFT"}),U("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:u?.map(S=>Z("div",{onClick:()=>{y(S),x(!1)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseOver:P=>{P.currentTarget.style.transform="scale(1.05)",P.currentTarget.style.borderColor="#FF1493"},onMouseOut:P=>{P.currentTarget.style.transform="scale(1)",P.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[U("img",{src:S.image,alt:S.name,style:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.5rem"}}),U("div",{style:{color:"white",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.name}),U("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.collection})]},S.id))}),(!u||u.length===0)&&U("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No NFTs found in your wallet"})]})})]}):null},xbe=Re("video",{target:"eua38od28"})({name:"5au173",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7;pointer-events:none;background:#000"}),Ebe=Re("div",{target:"eua38od27"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"6rem":"10rem",";font-weight:900;color:",t=>t.color,";text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:choiceAnimation 1s ease-out forwards;text-shadow:0 0 20px ",t=>t.color,";@keyframes choiceAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.2);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.1);}80%{opacity:1;transform:translate(-50%, -50%) scale(1);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.2);}}"),Abe=Re("div",{target:"eua38od26"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"4rem":"6rem",";font-weight:900;color:#FFD700;text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:autoFlipAnimation 2s ease-out forwards;text-shadow:0 0 30px #FFD700,0 0 60px #FFD700;text-align:center;line-height:1.2;@keyframes autoFlipAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.1) translateZ(-100px);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.2) translateZ(50px);}60%{opacity:1;transform:translate(-50%, -50%) scale(1) translateZ(0px);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.5) translateZ(100px);}}"),ig=Re("div",{target:"eua38od25"})({name:"mlpn4u",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.7);display:flex;align-items:center;justify-content:center;z-index:1000"}),og=Re(nu,{target:"eua38od24"})({name:"12nlpps",styles:"max-width:500px;width:90%;padding:2rem"}),sg=Re("div",{target:"eua38od23"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),ag=Re("div",{target:"eua38od22"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),H6=Re("div",{target:"eua38od21"})({name:"wb501w",styles:"display:flex;justify-content:flex-end;gap:1rem"}),lg=Re("button",{target:"eua38od20"})("position:absolute;top:1rem;right:1rem;background:none;border:none;color:",t=>t.theme.colors.textSecondary,";cursor:pointer;font-size:1.5rem;padding:0.5rem;&:hover{color:",t=>t.theme.colors.textPrimary,";}"),Mx=Re("img",{target:"eua38od19"})({name:"1g591yl",styles:"width:100%;max-width:200px;height:auto;border-radius:1rem;margin:0.5rem 0"}),G6=Re("a",{target:"eua38od18"})("color:",t=>t.theme.colors.neonBlue,";text-decoration:none;&:hover{text-decoration:underline;}"),W6=Re("div",{target:"eua38od17"})({name:"174mppy",styles:"display:none;@media (max-width: 768px){display:flex;flex-direction:column;gap:1rem;padding:0.5rem;width:100%;}"}),V6=Re("div",{target:"eua38od16"})({name:"15n7w10",styles:"padding:0.75rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin-bottom:0.5rem"}),_be=Re("div",{target:"eua38od15"})({name:"hgry52",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;display:flex;flex-direction:column;align-items:center;gap:0.5rem"}),Sbe=Re("div",{target:"eua38od14"})({name:"8ilj6n",styles:"width:100%;padding:0.75rem;background:rgba(0, 0, 0, 0.3);border-radius:0.5rem;margin-bottom:0.5rem"}),Ix=Re("div",{target:"eua38od13"})({name:"1hqz8lq",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;font-size:0.9rem;&:last-child{margin-bottom:0;}"}),Rx=Re("span",{target:"eua38od12"})("color:",t=>t.theme.colors.textSecondary,";"),Px=Re("span",{target:"eua38od11"})("color:",t=>t.theme.colors.textPrimary,";font-family:monospace;"),Cbe=Re("div",{target:"eua38od10"})({name:"1xdlcl7",styles:"display:flex;justify-content:center;align-items:center;padding:0.5rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;aspect-ratio:1;max-width:300px;margin-left:auto;margin-right:auto;touch-action:none;canvas{max-width:100%;max-height:100%;border-radius:50%;}"}),Tbe=Re("div",{target:"eua38od9"})({name:"1y953wd",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0"}),Mbe=Re("div",{target:"eua38od8"})({name:"zp1p6h",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;height:300px;overflow-y:auto"}),Ibe=Re("div",{target:"eua38od7"})({name:"1rvp68",styles:"display:grid;grid-template-columns:300px 1fr 300px;gap:2rem;margin-bottom:2rem;align-items:start;min-height:500px;@media (max-width: 768px){display:none;}"}),Rbe=Re("div",{target:"eua38od6"})({name:"1rx4431",styles:"display:flex;gap:0.5rem;width:100%;justify-content:center;padding:0.5rem"}),Pbe=Re("div",{target:"eua38od5"})({name:"962ryw",styles:"position:fixed;bottom:0;left:0;right:0;display:flex;gap:0.5rem;padding:1rem;background:rgba(0, 0, 0, 0.9);backdrop-filter:blur(10px);border-top:1px solid rgba(255, 255, 255, 0.1);z-index:1000;@media (min-width: 769px){display:none;}"}),Nx=Re("button",{target:"eua38od4"})("flex:",t=>t.isJoinButton?"2":"1",";padding:0.75rem;border-radius:0.75rem;border:1px solid rgba(255, 255, 255, 0.1);background:",t=>t.isJoinButton?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",";color:white;font-weight:bold;display:flex;align-items:center;justify-content:center;gap:0.5rem;cursor:pointer;transition:all 0.2s ease;&:hover{transform:translateY(-2px);box-shadow:",t=>t.isJoinButton?"0 0 20px rgba(255, 20, 147, 0.5)":"0 0 10px rgba(255, 255, 255, 0.2)",";}"),dh=Re("div",{target:"eua38od3"})({name:"18t8hgp",styles:"@media (max-width: 768px){display:none;}"}),Nbe=Re("div",{target:"eua38od1"})("position:fixed;bottom:",t=>t.isOpen?"80px":"-100%",";left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1rem;border-top:1px solid rgba(255, 255, 255, 0.1);transition:bottom 0.3s ease;z-index:999;max-height:80vh;overflow-y:auto;@media (min-width: 769px){display:none;}"),kbe=Re("div",{target:"eua38od0"})("position:fixed;bottom:",t=>t.isOpen?"80px":"-100%",";left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1rem;border-top:1px solid rgba(255, 255, 255, 0.1);transition:bottom 0.3s ease;z-index:999;height:60vh;@media (min-width: 769px){display:none;}"),Obe=()=>{const{gameId:t}=Che(),e=Bm(),{publicClient:n,isMobile:r}=es(),{showSuccess:i,showError:o,showInfo:s}=Ma(),{getCoinHeadsImage:a,getCoinTailsImage:l}=Jw(),{isFullyConnected:c,connectionError:u,address:d,walletClient:f}=Q7(),h="https://cryptoflipz2-production.up.railway.app",[p,m]=j.useState(null),[y,g]=j.useState(!0),[v,b]=j.useState(!1),[x,R]=j.useState(null),[k,_]=j.useState(!1),[I,S]=j.useState(null),[P,L]=j.useState(null),[G,B]=j.useState(null),[w,E]=j.useState(null),[C,D]=j.useState(null),[N,H]=j.useState(null),$=j.useRef(!1),F=p?.creator===d,M=p?.joiner===d,q=F||M,J=I?.currentPlayer===d,[ie,de]=j.useState(!1),[ve,Pe]=j.useState(null),[Ae,st]=j.useState(null),[yt,We]=j.useState(!1),[xt,oe]=j.useState([]),[_t,Et]=j.useState(null),[at,qe]=j.useState(!1),[kt,Qe]=j.useState(!1),[X,V]=j.useState(!1),[le,we]=j.useState(!1),[Se,he]=j.useState(!1),[z,A]=j.useState(null),[T,Q]=j.useState(null),[K,Y]=j.useState(!1),[ee,ke]=j.useState(""),[Me,He]=j.useState(""),[rt,Ke]=j.useState(!1),se=j.useRef(null),Xe=j.useRef(null),[ye,Ee]=j.useState(!1),[Ze,Ue]=j.useState(!1),[ut,rn]=j.useState(!1);j.useEffect(()=>{(async()=>{if(d)try{const Oe=await a(d),Ce=await l(d);D(Oe),H(Ce)}catch(Oe){console.error("Error loading custom coin images:",Oe)}})()},[d,a,l]),j.useEffect(()=>{const me=Xe.current;me&&(async()=>{try{await me.play()}catch(Ce){console.error("Video play error:",Ce),Ee(!0)}})()},[]),j.useEffect(()=>{if(!t||!d){console.log("❌ Cannot connect - missing gameId or address:",{gameId:t,address:d});return}console.log("🎮 Setting up WebSocket connection:",{gameId:t,address:d});let me=0;const Oe=5;let Ce;const Je=()=>{const W="wss://cryptoflipz2-production.up.railway.app";console.log("🔌 Connecting to WebSocket:",W);const ne=new WebSocket(W);return ne.onopen=()=>{console.log("✅ WebSocket connected"),_(!0),R(ne),me=0;const fe={type:"connect_to_game",gameId:t,address:d};console.log("🎮 Sending join message:",fe),ne.send(JSON.stringify(fe))},ne.onmessage=fe=>{try{const ae=JSON.parse(fe.data);switch(console.log("📡 Received WebSocket message:",{type:ae.type,phase:ae.phase,currentPlayer:ae.currentPlayer,creatorChoice:ae.creatorChoice,joinerChoice:ae.joinerChoice,creator:ae.creator,joiner:ae.joiner}),ae.type){case"game_state":if(console.log("🔄 Game state update:",{phase:ae.phase,currentRound:ae.currentRound,currentPlayer:ae.currentPlayer,creatorWins:ae.creatorWins,joinerWins:ae.joinerWins,isFlipInProgress:ae.isFlipInProgress,creatorChoice:ae.creatorChoice,joinerChoice:ae.joinerChoice,creator:ae.creator,joiner:ae.joiner}),S(ae),ae.phase==="round_active"&&(F&&ae.joinerChoice||M&&ae.creatorChoice)){const ce=F?ae.joinerChoice:ae.creatorChoice;ke(ce.toUpperCase()),He("#FF1493"),Y(!0),setTimeout(()=>{Y(!1)},1e3)}break;case"flip_animation":console.log("🎬 Flip animation received:",ae),console.log("🎬 Flip animation details:",{result:ae.result,duration:ae.duration,playerChoice:ae.playerChoice,playerAddress:ae.playerAddress,power:ae.power}),L(ae),B(null);break;case"round_result":console.log("🏁 Round result received:",ae),console.log("🏁 Round result details:",{result:ae.result,isWinner:ae.isWinner,playerAddress:ae.playerAddress,playerChoice:ae.playerChoice,actualWinner:ae.actualWinner,creatorWins:ae.creatorWins,joinerWins:ae.joinerWins,roundNumber:ae.roundNumber,myAddress:d,isCreator:F,isJoiner:M,flipperWon:ae.flipperWon,creatorChoice:ae.creatorChoice,joinerChoice:ae.joinerChoice}),B(ae),E(ae.result),L(null),setTimeout(()=>B(null),4e3);break;case"error":console.log("❌ Error received:",ae.error),o(ae.error);break}}catch(ae){console.error("❌ Error parsing WebSocket message:",ae)}},ne.onclose=()=>{console.log("❌ WebSocket disconnected"),_(!1),R(null),me<Oe?(me++,console.log(`🔄 Attempting to reconnect (${me}/${Oe})...`),Ce=setTimeout(()=>{Je()},2e3*me)):o("Lost connection to game server. Please refresh the page.")},ne.onerror=fe=>{console.error("❌ WebSocket error:",fe)},ne},Tt=Je();return()=>{Ce&&clearTimeout(Ce),Tt&&Tt.readyState===WebSocket.OPEN&&Tt.close()}},[t,d]),j.useEffect(()=>{if(!I)return;const me=I.turnTimeLeft,Oe=se.current;Oe!==null&&Oe>0&&(me===0||me===void 0)&&I.phase==="round_active"&&(console.log("⚡ Auto-flip detected! Showing animation..."),Ke(!0),setTimeout(()=>{Ke(!1)},2e3)),se.current=me},[I?.turnTimeLeft,I?.phase]),j.useEffect(()=>{(async()=>{try{g(!0);const Oe=await fetch(`${h}/api/games/${t}`);if(Oe.ok){const Ce=await Oe.json(),Je={id:Ce.id,creator:Ce.creator,joiner:Ce.joiner,nft:{contractAddress:Ce.nft_contract,tokenId:Ce.nft_token_id,name:Ce.nft_name,image:Ce.nft_image||"https://picsum.photos/300/300?random="+Ce.id,collection:Ce.nft_collection,chain:Ce.nft_chain},price:Ce.price_usd,priceUSD:Ce.price_usd,rounds:Ce.rounds,status:Ce.status};m(Je)}else throw new Error("Game not found")}catch(Oe){console.error("❌ Error loading game:",Oe),o("Game not found"),e("/")}finally{g(!1)}})()},[t]),j.useEffect(()=>{t&&p&&Bbe(t)},[t,p]),j.useEffect(()=>{p&&!Ae&&!yt&&(console.log("🎨 Setting NFT data from gameData:",p.nft),st({contractAddress:p.nft.contractAddress,tokenId:p.nft.tokenId,name:p.nft.name,image:p.nft.image,collection:p.nft.collection,chain:p.nft.chain,metadata:{description:p.nft.description||"",attributes:p.nft.attributes||[]}}))},[p,Ae,yt]);const Rt=()=>{if(console.log("💥 handlePowerChargeStart called:",{isMyTurn:J,hasSocket:!!x,isCharging:$.current,gamePhase:I?.phase,currentPlayer:I?.currentPlayer,myAddress:d}),!J||!x||$.current){console.log("❌ Cannot start charging:",{isMyTurn:J,hasSocket:!!x,isCharging:$.current});return}if(I?.phase!=="round_active"&&I?.phase!=="choosing"){console.log("❌ Wrong phase for charging:",I?.phase);return}if(!(F?I?.creatorChoice:I?.joinerChoice)){o("You must choose heads or tails first!");return}$.current=!0,x.send(JSON.stringify({type:"start_charging",gameId:t,address:d}))},wt=()=>{!x||!$.current||($.current=!1,x.send(JSON.stringify({type:"stop_charging",gameId:t,address:d})))},tr=me=>{if(console.log("🎯 handlePlayerChoice called:",{choice:me,hasSocket:!!x,hasGameState:!!I,gamePhase:I?.phase,isMyTurn:I?.currentPlayer===d,currentPlayer:I?.currentPlayer,myAddress:d,isCreator:F,isJoiner:M}),!x||!I){console.log("❌ Cannot make choice - missing socket or gameState"),o("Connection error - please refresh");return}if(I.phase!=="choosing"){console.log("❌ Cannot make choice - wrong phase:",I.phase),o("Not in choosing phase");return}if(!(I.currentPlayer===d)){console.log("❌ Not my turn:",{currentPlayer:I.currentPlayer,myAddress:d,isCreator:F,isJoiner:M}),o("Not your turn");return}ke(me.toUpperCase()),He("#00FF41"),Y(!0),setTimeout(()=>{Y(!1)},1e3),console.log("🎯 Sending player choice to server:",me),x.send(JSON.stringify({type:"player_choice",gameId:t,address:d,choice:me}))},Ut=async()=>{if(console.log("🔍 Join game attempt:",{hasGameData:!!p,hasWalletClient:!!f,hasAddress:!!d,isJoining:v,isFullyConnected:c,connectionError:u}),!p||!f||!d||v||!c){console.log("❌ Cannot join game:",{hasGameData:!!p,hasWalletClient:!!f,hasAddress:!!d,isJoining:v,isFullyConnected:c}),o(u||"Please ensure your wallet is connected properly");return}try{b(!0),s("Processing payment...");const me=await Ys.calculateETHAmount(p.priceUSD),Oe=Ys.getFeeRecipient(),Ce=await Ys.sendTransaction(f,Oe,me.ethAmount.toString());if(!Ce.success)throw new Error("Transaction failed: "+Ce.error);s("Confirming payment...");let Je=null,Tt=0;for(;!Je&&Tt<30;){await new Promise(ne=>setTimeout(ne,2e3));try{if(Je=await n.getTransactionReceipt({hash:Ce.hash}),Je){console.log("✅ Payment confirmed:",Je.transactionHash);break}}catch{}Tt++}if(!Je)throw new Error("Transaction confirmation timeout");const W=await fetch(`${h}/api/games/${p.id}/simple-join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinerAddress:d,paymentTxHash:Je.transactionHash,paymentAmount:p.priceUSD})});if(!W.ok){const ne=await W.json();throw new Error(ne.error||"Failed to join game")}m(ne=>({...ne,joiner:d,status:"joined"})),x&&x.send(JSON.stringify({type:"join_game",gameId:t,role:"joiner",address:d,entryFeeHash:Je.transactionHash})),i("Successfully joined the game!")}catch(me){console.error("❌ Failed to join game:",me),o("Failed to join: "+me.message)}finally{b(!1)}},re=async()=>{try{s("Claiming winnings... (Contract integration coming soon)"),setTimeout(()=>{i("Winnings claimed successfully!"),de(!1),e("/")},2e3)}catch(me){o("Failed to claim winnings: "+me.message)}};j.useEffect(()=>{if(I?.phase==="game_complete"){const me=I.winner===d;Pe({isWinner:me,flipResult:null,playerChoice:null,gameData:p,finalScore:{creatorWins:I.creatorWins,joinerWins:I.joinerWins}}),de(!0)}},[I?.phase,I?.winner,d,p]),j.useEffect(()=>{p&&qe(p.gameType==="nft-vs-nft")},[p]),j.useEffect(()=>{if(!x)return;const me=Oe=>{try{const Ce=JSON.parse(Oe.data);switch(console.log("📡 Received WebSocket message:",Ce),Ce.type){case"game_state":S(Ce);break;case"flip_animation":L(Ce),B(null);break;case"round_result":B(Ce),E(Ce.result),L(null),setTimeout(()=>B(null),4e3);break;case"nft_offer_received":console.log("🎯 NFT offer received:",Ce.offer),oe(Je=>[...Je,Ce.offer]),F||s(`New NFT battle offer: ${Ce.offer.nft.name}`);break;case"nft_offer_accepted":console.log("✅ NFT offer accepted:",Ce.acceptedOffer),Et(Ce.acceptedOffer),Ce.acceptedOffer.offererAddress===d&&pe(Ce.acceptedOffer);break;case"nft_game_ready":console.log("🎮 NFT game ready to start"),i("Battle payment confirmed! Game starting...");break;case"error":o(Ce.error);break}}catch(Ce){console.error("❌ Error parsing WebSocket message:",Ce)}};return x.addEventListener("message",me),()=>x.removeEventListener("message",me)},[x,d,F]);const pe=async me=>{try{s("Your offer was accepted! Processing payment...");const Oe=.5,Ce=await Ys.calculateETHFee(Oe);if(!Ce.success)throw new Error("Failed to calculate fee: "+Ce.error);const Je=Ce.ethAmount,Tt=Ys.getFeeRecipient(),W=await Ys.sendTransaction(f,Tt,Je.toString());if(!W.success)throw new Error("Transaction failed: "+W.error);s("Confirming payment...");let ne=null,fe=0;for(;!ne&&fe<30;){await new Promise(ce=>setTimeout(ce,2e3));try{if(ne=await n.getTransactionReceipt({hash:W.hash}),ne){i("Payment confirmed! Starting battle...");break}}catch{}fe++}if(!ne)throw new Error("Transaction confirmation timeout");if(!(await fetch(`${h}/api/games/${t}/nft-payment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({challengerAddress:d,paymentTxHash:ne.transactionHash,paymentAmount:Oe,acceptedOffer:me})})).ok)throw new Error("Failed to record payment");x&&x.send(JSON.stringify({type:"nft_payment_complete",gameId:t,challengerAddress:d,paymentTxHash:ne.transactionHash,acceptedOffer:me}))}catch(Oe){console.error("❌ Payment failed:",Oe),o("Payment failed: "+Oe.message)}},ge=me=>{console.log("📤 NFT offer submitted:",me)},_e=async me=>{try{if(s("Accepting NFT challenge..."),!(await fetch(`${h}/api/games/${t}/accept-nft-offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creatorAddress:d,acceptedOffer:me})})).ok)throw new Error("Failed to accept offer");i(`Challenge accepted! Waiting for ${me.offererAddress.slice(0,6)}... to pay.`),Et(me)}catch(Oe){console.error("❌ Error accepting offer:",Oe),o("Failed to accept offer: "+Oe.message)}};j.useEffect(()=>{p?.gameType==="nft-vs-nft"&&(console.log("🎮 NFT vs NFT game detected"),!F&&!xt?.length&&Qe(!0))},[p,F,xt]);const $e=()=>kt?U(ig,{children:Z(og,{children:[U(lg,{onClick:()=>Qe(!1),children:"×"}),U(sg,{children:U(vs,{children:"NFT Offer"})}),U(ag,{children:U(j6,{gameId:t,onOfferAccepted:handleNFTOfferAccepted,onOfferRejected:handleNFTOfferRejected})})]})}):null,Ye=()=>X?U(ig,{children:Z(og,{children:[U(lg,{onClick:()=>V(!1),children:"×"}),U(sg,{children:U(vs,{children:"NFT Verification"})}),U(ag,{children:U(bbe,{nft:z,onVerificationComplete:handleNFTVerificationComplete})})]})}):null,tt=()=>!le||!z?null:U(ig,{children:Z(og,{children:[U(lg,{onClick:()=>we(!1),children:"×"}),U(sg,{children:U(vs,{children:"NFT Details"})}),Z(ag,{children:[U(Mx,{src:z.image,alt:z.name}),Z("div",{children:[U("h3",{children:z.name}),Z("p",{children:["Collection: ",z.collection]}),Z("p",{children:["Token ID: ",z.tokenId]}),U(G6,{href:z.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})]}),U(H6,{children:U(zn,{onClick:()=>we(!1),children:"Close"})})]})}),it=()=>!Se||!T?null:U(ig,{children:Z(og,{children:[U(lg,{onClick:()=>he(!1),children:"×"}),U(sg,{children:U(vs,{children:"Review NFT Offer"})}),U(ag,{children:Z("div",{children:[U("h3",{children:"NFT Details"}),U(Mx,{src:T.image,alt:T.name}),Z("p",{children:["Name: ",T.name]}),Z("p",{children:["Collection: ",T.collection]}),Z("p",{children:["Token ID: ",T.tokenId]}),U(G6,{href:T.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})}),Z(H6,{children:[U(zn,{onClick:()=>{handleNFTOfferAccepted(T),he(!1)},children:"Accept Offer"}),U(zn,{onClick:()=>{handleNFTOfferRejected(),he(!1)},children:"Reject Offer"})]})]})});if(!c)return U(Go,{theme:Le,children:U(bl,{children:U(xl,{children:Z(nu,{style:{textAlign:"center",padding:"3rem"},children:[U(vs,{children:"Connect Your Wallet"}),u&&U("p",{style:{color:"#FF6B6B",marginTop:"1rem"},children:u}),U(zn,{onClick:()=>e("/"),style:{marginTop:"1rem"},children:"Go Home"})]})})})});if(y)return U(Go,{theme:Le,children:U(bl,{children:U(xl,{children:U("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:U(yT,{})})})})});const Ge=p&&!p.joiner&&p.creator!==d&&p.status==="waiting"&&c;return Z(Go,{theme:Le,children:[U(xbe,{ref:Xe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onError:me=>{console.error("Video error:",me),Ee(!0)},children:U("source",{src:Wg,type:"video/webm"})}),K&&U(Ebe,{color:Me,isMobile:r,children:ee}),rt&&Z(Abe,{isMobile:r,children:["FINAL ROUND",U("br",{}),"AUTOFLIP"]}),U(bl,{style:{position:"relative",minHeight:"100vh",background:"transparent !important",zIndex:1},children:Z(xl,{children:[Z(W6,{children:[Ge&&U("div",{style:{position:"sticky",top:"0",zIndex:100,padding:"1rem",background:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(10px)",borderRadius:"0 0 1rem 1rem",marginBottom:"1rem"},children:U(zn,{onClick:Ut,disabled:v,style:{width:"100%",padding:"1rem",fontSize:"1.2rem",fontWeight:"bold",background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",border:"none",borderRadius:"0.75rem",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)"},children:v?"Joining...":"JOIN FLIP"})}),Z(Pbe,{children:[Z(Nx,{onClick:()=>Ue(!Ze),children:[U("span",{children:"ℹ️"})," Info"]}),Z(Nx,{onClick:()=>rn(!ut),children:[U("span",{children:"💬"})," Chat"]}),Ge&&U(Nx,{isJoinButton:!0,onClick:Ut,disabled:v||!c,children:v?"⏳ Joining...":"Join Flip"})]}),U(Nbe,{isOpen:Ze,children:Z("div",{style:{marginBottom:"1rem"},children:[U("h3",{style:{color:Le.colors.neonYellow,marginBottom:"0.5rem"},children:"Game Info"}),Z("div",{style:{color:Le.colors.textSecondary},children:[U("div",{style:{padding:"0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.75rem",marginBottom:"1rem"},children:Z("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[U("span",{children:"Cost:"}),Z("span",{style:{color:Le.colors.neonGreen,fontWeight:"bold"},children:["$",(p?.priceUSD||0).toFixed(2)]})]})}),U("div",{style:{padding:"0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.75rem",marginBottom:"1rem"},children:Z("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[U("span",{children:"Contract:"}),U("span",{onClick:()=>{p?.nft?.contractAddress&&(navigator.clipboard.writeText(p.nft.contractAddress),i("Contract address copied to clipboard!"))},style:{color:Le.colors.textPrimary,fontFamily:"monospace",fontSize:"0.8rem",cursor:"pointer",padding:"0.25rem 0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.25rem",transition:"all 0.2s ease"},onMouseOver:me=>{me.currentTarget.style.background="rgba(0, 0, 0, 0.4)",me.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:me=>{me.currentTarget.style.background="rgba(0, 0, 0, 0.3)",me.currentTarget.style.border="none"},children:p?.nft?.contractAddress?`${p.nft.contractAddress.slice(0,6)}...${p.nft.contractAddress.slice(-4)}`:"Unknown"})]})}),p?.nft&&Z(Id,{children:[Z("div",{style:{margin:"1rem 0",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[U("img",{src:p.nft.image,alt:p.nft.name,style:{width:"100%",maxWidth:"200px",height:"auto",borderRadius:"0.5rem",margin:"0 auto",display:"block"}}),U("p",{style:{marginTop:"0.5rem",textAlign:"center"},children:p.nft.name}),Z("p",{style:{fontSize:"0.9rem",opacity:.8},children:["Collection: ",p.nft.collection]}),Z("p",{style:{fontSize:"0.9rem",opacity:.8},children:["Token ID: ",p.nft.tokenId]})]}),Z("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",justifyContent:"center"},children:[Z(zn,{onClick:()=>window.open(`https://opensea.io/assets/${p.nft.contract}/${p.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[U("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]}),U(zn,{onClick:()=>window.open(`https://basescan.org/token/${p.nft.contract}?a=${p.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:"🔍 Explorer"})]})]})]})]})}),U(kbe,{isOpen:ut,children:U(rg,{gameId:t,socket:x,connected:k})}),Z(W6,{children:[Z(V6,{style:{background:F?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${F?"#FF1493":"rgba(255, 255, 255, 0.1)"}`},children:[Z("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[Z("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[U("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:F?"#FF1493":"#666",boxShadow:F?"0 0 10px #FF1493":"none"}}),Z("div",{style:{color:Le.colors.textPrimary,fontWeight:"bold",fontSize:"1rem"},children:[I?.creatorProfile?.name||"Player 1"," ",F&&"(You)"]})]}),U("div",{style:{fontSize:"0.9rem",color:Le.colors.textSecondary,fontFamily:"monospace"},children:p?.creator?`${p.creator.slice(0,6)}...${p.creator.slice(-4)}`:"Waiting..."})]}),Z("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:[U("span",{style:{fontSize:"0.9rem",color:Le.colors.textSecondary},children:"Rounds Won:"}),U("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(me=>U("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:(I?.creatorWins||0)>=me?"linear-gradient(45deg, #FFD700, #FFA500)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:(I?.creatorWins||0)>=me?"#000":"#666"},children:me},`p1-round-${me}`))})]})]}),U(Cbe,{children:U(L6,{isFlipping:!!P,flipResult:P?P.result:G?.result||w,flipDuration:P?.duration,onPowerCharge:Rt,onPowerRelease:wt,isPlayerTurn:J,isCharging:I?.chargingPlayer===d,chargingPlayer:I?.chargingPlayer,gamePhase:I?.phase,creatorPower:I?.creatorPower||0,joinerPower:I?.joinerPower||0,creatorChoice:I?.creatorChoice,joinerChoice:I?.joinerChoice,isCreator:F,size:200,customHeadsImage:C,customTailsImage:N})}),Z(V6,{style:{background:M?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${M?"#00BFFF":"rgba(255, 255, 255, 0.1)"}`},children:[Z("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[Z("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[U("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:M?"#00BFFF":"#666",boxShadow:M?"0 0 10px #00BFFF":"none"}}),Z("div",{style:{color:Le.colors.textPrimary,fontWeight:"bold",fontSize:"1rem"},children:[I?.joinerProfile?.name||"Player 2"," ",M&&"(You)"]})]}),U("div",{style:{fontSize:"0.9rem",color:Le.colors.textSecondary,fontFamily:"monospace"},children:p?.joiner?`${p.joiner.slice(0,6)}...${p.joiner.slice(-4)}`:"Waiting..."})]}),Z("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:[U("span",{style:{fontSize:"0.9rem",color:Le.colors.textSecondary},children:"Rounds Won:"}),U("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(me=>U("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:(I?.joinerWins||0)>=me?"linear-gradient(45deg, #FFD700, #FFA500)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:(I?.joinerWins||0)>=me?"#000":"#666"},children:me},`p2-round-${me}`))})]})]}),U(dh,{children:Z(_be,{children:[p?.nftImage&&U(Mx,{src:p.nftImage,alt:"NFT"}),Z(Sbe,{children:[Z(Ix,{children:[U(Rx,{children:"Collection:"}),U(Px,{children:p?.collectionName||"Unknown"})]}),Z(Ix,{children:[U(Rx,{children:"Token ID:"}),U(Px,{children:p?.tokenId||"Unknown"})]}),Z(Ix,{children:[U(Rx,{children:"Contract:"}),U(Px,{children:p?.contractAddress?`${p.contractAddress.slice(0,6)}...${p.contractAddress.slice(-4)}`:"Unknown"})]})]}),Z(Rbe,{children:[U(zn,{onClick:()=>window.open($6(p?.chain),"_blank"),style:{flex:1},children:"View on Explorer"}),Z(zn,{onClick:()=>window.open(q6(p?.chain),"_blank"),style:{flex:1},children:[U("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain",marginRight:"0.4rem"}}),"View on OpenSea"]})]})]})}),U(dh,{children:U(Tbe,{children:U("div",{style:{fontSize:"0.85rem",color:I?.currentPlayer===d?Le.colors.neonGreen:Le.colors.textSecondary,textAlign:"center",padding:"0.5rem",background:I?.currentPlayer===d?"rgba(0, 255, 65, 0.1)":"transparent",borderRadius:"0.5rem"},children:I?.currentPlayer===d?"Your Turn":I?.phase==="waiting"?"Waiting for opponent":"Waiting"})})}),U(dh,{children:U(Mbe,{children:U(rg,{gameId:t})})})]}),U("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1rem"},children:U(D6,{creatorPower:I?.creatorPower||0,joinerPower:I?.joinerPower||0,currentPlayer:I?.currentPlayer,creator:I?.creator,joiner:I?.joiner,chargingPlayer:I?.chargingPlayer,gamePhase:I?.phase,isMyTurn:J,playerChoice:F?I?.creatorChoice:I?.joinerChoice,onChoiceSelect:tr,isMobile:!0})}),Z("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center",marginBottom:"1rem"},children:[U("div",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem",color:Le.colors.neonYellow},children:"Game Status"}),U("div",{style:{fontSize:"0.9rem",color:Le.colors.textSecondary,marginBottom:"1rem"},children:I?.phase==="waiting"?"Waiting for players":I?.phase==="choosing"?"Players choosing sides":I?.phase==="round_active"?"Round in progress":I?.phase==="flipping"?"Coin flipping!":I?.phase==="game_complete"?"Game complete!":"Unknown"}),Z("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginTop:"1rem"},children:[Z("div",{style:{padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem",textAlign:"center"},children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Prize Pool"}),Z("div",{style:{fontSize:"1rem",fontWeight:"bold",color:Le.colors.neonGreen},children:["$",p?.priceUSD||0]})]}),Z("div",{style:{padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem",textAlign:"center"},children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Best of"}),U("div",{style:{fontSize:"1rem",fontWeight:"bold",color:Le.colors.textPrimary},children:p?.rounds||5})]})]})]}),U(dh,{children:Ae&&Z("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1rem"},children:[U("div",{style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"1rem",color:Le.colors.neonYellow,textAlign:"center"},children:Ae.name}),U("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:U("img",{src:Ae.image,alt:Ae.name,style:{width:"200px",height:"200px",objectFit:"cover",borderRadius:"0.75rem",border:"2px solid rgba(255, 255, 255, 0.1)"},onError:me=>{me.target.src=`https://picsum.photos/200/200?random=${t}`}})}),Z("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[Z("div",{children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Collection"}),U("div",{style:{fontSize:"0.9rem",color:Le.colors.textPrimary,wordBreak:"break-word"},children:Ae.collection||"Unknown"})]}),Z("div",{children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Token ID"}),Z("div",{style:{fontSize:"0.9rem",color:Le.colors.textPrimary,fontFamily:"monospace"},children:["#",Ae.tokenId]})]})]}),Z("div",{style:{marginBottom:"1rem"},children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Contract"}),Z("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem"},children:[U("span",{style:{fontSize:"0.8rem",fontFamily:"monospace",color:Le.colors.textSecondary,flex:1,wordBreak:"break-all"},children:Ae.contractAddress}),U("button",{onClick:()=>{navigator.clipboard.writeText(Ae.contractAddress),i("Address copied!")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease",minHeight:"44px",minWidth:"44px"},children:U("span",{style:{fontSize:"1rem"},children:"📋"})})]})]})]})}),U(dh,{children:U("div",{style:{marginBottom:"2rem"},children:U(rg,{gameId:t,socket:x,connected:k,isMobile:!0})})})]}),Z(Ibe,{children:[Z("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",position:"relative"},children:[Z("div",{style:{marginBottom:"1rem",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[Z("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"0.75rem",background:F?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"0.75rem",border:`2px solid ${F?Le.colors.neonPink:"rgba(255, 255, 255, 0.1)"}`},children:[Z("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[U(cv,{address:p?.creator,size:40,isClickable:F,showUploadIcon:F,profileData:I?.creatorProfile,style:{borderRadius:"12px",border:`2px solid ${Le.colors.neonPink}`}}),Z("div",{children:[Z("div",{style:{fontSize:"0.9rem",opacity:.8,color:Le.colors.neonPink},children:["💎 ",I?.creatorProfile?.name||"Player 1"," ",I?.creatorChoice&&`(${I.creatorChoice.toUpperCase()})`]}),U("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:I?.creatorProfile?.name||(p?.creator?`${p.creator.slice(0,8)}...${p.creator.slice(-4)}`:"Waiting...")})]})]}),I?.currentPlayer===p?.creator&&I?.turnTimeLeft!==void 0&&Z("div",{style:{background:Le.colors.neonPink,color:"#000",padding:"0.25rem 0.75rem",borderRadius:"0.5rem",fontSize:"0.8rem",fontWeight:"bold",animation:I.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[I.turnTimeLeft,"s"]}),I?.currentPlayer===p?.creator&&!I?.turnTimeLeft&&U("div",{style:{background:Le.colors.neonPink,color:"#000",padding:"0.25rem 0.75rem",borderRadius:"0.5rem",fontSize:"0.8rem",fontWeight:"bold"},children:F?"YOUR TURN":"THEIR TURN"})]}),U("div",{style:{display:"flex",gap:"0.25rem",justifyContent:"center",marginBottom:"1rem"},children:[...Array(p?.rounds||5)].map((me,Oe)=>{const Ce=Oe+1,Je=I?.currentRound||1;I?.creatorWins,I?.joinerWins;let Tt="pending";if(Ce<Je){const ae=I?.roundResults?.[Ce-1];ae==="creator"?Tt="creator_won":ae==="joiner"&&(Tt="joiner_won")}else Ce===Je&&(Tt="current");const W=()=>{switch(Tt){case"current":return"#FFFF00";case"creator_won":return F?"#00FF41":"#FF1493";case"joiner_won":return F?"#FF1493":"#00FF41";default:return"rgba(255, 255, 255, 0.2)"}},ne=()=>{switch(Tt){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return F?"0 0 10px #00FF41, 0 0 20px #00FF41":"0 0 10px #FF1493, 0 0 20px #FF1493";case"joiner_won":return F?"0 0 10px #FF1493, 0 0 20px #FF1493":"0 0 10px #00FF41, 0 0 20px #00FF41";default:return"none"}},fe=()=>{switch(Tt){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return U("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:W(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:fe(),boxShadow:ne(),transition:"all 0.3s ease",transform:Tt==="current"?"scale(1.1)":"scale(1)",animation:Tt==="current"?"pulse 2s infinite":"none"},children:Ce},Oe)})}),I?.turnTimeLeft!==void 0&&Z("div",{style:{textAlign:"center",marginTop:"0.5rem",color:I.turnTimeLeft<=5?"#FF1493":"#FFFF00",fontSize:"1.2rem",fontWeight:"bold",animation:I.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[I.turnTimeLeft,"s"]}),Z("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:M?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"0.75rem",border:`2px solid ${M?Le.colors.neonBlue:"rgba(255, 255, 255, 0.1)"}`},children:[Z("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[U(cv,{address:p?.joiner,size:40,isClickable:M,showUploadIcon:M,profileData:I?.joinerProfile,style:{borderRadius:"12px",border:`2px solid ${Le.colors.neonBlue}`}}),Z("div",{children:[Z("div",{style:{fontSize:"0.9rem",opacity:.8,color:Le.colors.neonBlue},children:["💎 ",I?.joinerProfile?.name||"Player 2"," ",I?.joinerChoice&&`(${I.joinerChoice.toUpperCase()})`]}),U("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:I?.joinerProfile?.name||(p?.joiner?`${p.joiner.slice(0,8)}...${p.joiner.slice(-4)}`:"Waiting...")})]})]}),I?.currentPlayer===p?.joiner&&I?.turnTimeLeft!==void 0&&Z("div",{style:{background:Le.colors.neonBlue,color:"#000",padding:"0.25rem 0.75rem",borderRadius:"0.5rem",fontSize:"0.8rem",fontWeight:"bold",animation:I.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[I.turnTimeLeft,"s"]}),I?.currentPlayer===p?.joiner&&!I?.turnTimeLeft&&U("div",{style:{background:Le.colors.neonBlue,color:"#000",padding:"0.25rem 0.75rem",borderRadius:"0.5rem",fontSize:"0.8rem",fontWeight:"bold"},children:M?"YOUR TURN":"THEIR TURN"})]}),U("div",{style:{display:"flex",gap:"0.25rem",justifyContent:"center",marginTop:"1rem"},children:[...Array(p?.rounds||5)].map((me,Oe)=>{const Ce=Oe+1,Je=I?.currentRound||1;I?.creatorWins,I?.joinerWins;let Tt="pending";if(Ce<Je){const ae=I?.roundResults?.[Ce-1];ae==="creator"?Tt="creator_won":ae==="joiner"&&(Tt="joiner_won")}else Ce===Je&&(Tt="current");const W=()=>{switch(Tt){case"current":return"#FFFF00";case"creator_won":return F?"#00FF41":"#FF1493";case"joiner_won":return F?"#FF1493":"#00FF41";default:return"rgba(255, 255, 255, 0.2)"}},ne=()=>{switch(Tt){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return F?"0 0 10px #00FF41, 0 0 20px #00FF41":"0 0 10px #FF1493, 0 0 20px #FF1493";case"joiner_won":return F?"0 0 10px #FF1493, 0 0 20px #FF1493":"0 0 10px #00FF41, 0 0 20px #00FF41";default:return"none"}},fe=()=>{switch(Tt){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return U("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:W(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:fe(),boxShadow:ne(),transition:"all 0.3s ease",transform:Tt==="current"?"scale(1.1)":"scale(1)",animation:Tt==="current"?"pulse 2s infinite":"none"},children:Ce},Oe)})}),I?.turnTimeLeft!==void 0&&Z("div",{style:{textAlign:"center",marginTop:"0.5rem",color:I.turnTimeLeft<=5?"#FF1493":"#FFFF00",fontSize:"1.2rem",fontWeight:"bold",animation:I.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[I.turnTimeLeft,"s"]})]}),Z("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},children:[Z("div",{style:{marginBottom:"1rem"},children:[U("div",{style:{color:Le.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Game ID"}),Z("div",{style:{color:Le.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["#",p?.id?.slice(-6).toUpperCase()]})]}),Z("div",{style:{marginBottom:"1rem"},children:[U("div",{style:{color:Le.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Entry Fee"}),Z("div",{style:{color:Le.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["$",p?.priceUSD?.toFixed(2)]})]}),Z("div",{children:[U("div",{style:{color:Le.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Rounds"}),Z("div",{style:{color:Le.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["Best of ",p?.rounds]})]})]}),U("div",{style:{marginTop:"2rem"},children:U(rg,{gameId:t,socket:x,connected:k})})]}),Z("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[U("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"2rem"},children:U(L6,{isFlipping:!!P,flipResult:P?P.result:G?.result||w,flipDuration:P?.duration,onPowerCharge:Rt,onPowerRelease:wt,isPlayerTurn:J,isCharging:I?.chargingPlayer===d,chargingPlayer:I?.chargingPlayer,gamePhase:I?.phase,creatorPower:I?.creatorPower||0,joinerPower:I?.joinerPower||0,creatorChoice:I?.creatorChoice,joinerChoice:I?.joinerChoice,isCreator:F,size:440,customHeadsImage:C,customTailsImage:N})}),U(D6,{creatorPower:I?.creatorPower||0,joinerPower:I?.joinerPower||0,currentPlayer:I?.currentPlayer,creator:I?.creator,joiner:I?.joiner,chargingPlayer:I?.chargingPlayer,gamePhase:I?.phase,isMyTurn:J,playerChoice:F?I?.creatorChoice:I?.joinerChoice,onChoiceSelect:tr})]}),Z("div",{style:{position:"relative",width:"100%",maxWidth:"600px",margin:"0 auto",padding:"2rem",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%)",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"1.5rem",backdropFilter:"blur(10px)"},children:[Ae?.image&&U("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:U("img",{src:Ae.image,alt:"NFT",style:{width:"200px",height:"200px",borderRadius:"1rem",objectFit:"cover",border:"4px solid rgba(255, 255, 0, 0.6)",boxShadow:"0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3)",animation:"nftBananaGlow 2s ease-in-out infinite"}})}),Z("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1.5rem"},children:[U("div",{style:{color:Le.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.75rem",textAlign:"center"},children:"Share"}),Z("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[U("button",{onClick:()=>{const me=window.location.href;window.open(`https://twitter.com/intent/tweet?text=Join my game of Crypto Flipz! ${me}`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:U("span",{style:{fontSize:"1rem"},children:"𝕏"})}),U("button",{onClick:()=>{const me=window.location.href;window.open(`https://t.me/share/url?url=${encodeURIComponent(me)}&text=Join my game of Crypto Flipz!`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:U("span",{style:{fontSize:"1rem"},children:"✈️"})}),U("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),i("Game link copied to clipboard!")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:U("span",{style:{fontSize:"1rem"},children:"📋"})})]})]}),Ae&&Z("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[U("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:Le.colors.neonYellow},children:Ae.name}),Z("div",{style:{marginBottom:"1rem"},children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Collection"}),U("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:Ae.collection})]}),Z("div",{style:{marginBottom:"1.5rem"},children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Token ID"}),Z("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:["#",Ae.tokenId]})]}),Z("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[U("a",{href:`${$6(Ae?.chain)}/token/${Ae.contractAddress}?a=${Ae.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:"🔍 Explorer"}),Z("a",{href:`${q6(Ae?.chain)}/${Ae.contractAddress}/${Ae.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:[U("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),Z("div",{style:{marginBottom:"1rem"},children:[U("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Contract Address"}),Z("div",{onClick:()=>{navigator.clipboard.writeText(Ae.contractAddress)},style:{fontSize:"0.9rem",fontFamily:"monospace",background:"rgba(0, 0, 0, 0.3)",padding:"0.5rem",borderRadius:"0.25rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseOver:me=>{me.currentTarget.style.background="rgba(0, 0, 0, 0.4)",me.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:me=>{me.currentTarget.style.background="rgba(0, 0, 0, 0.3)",me.currentTarget.style.border="none"},children:[Z("span",{children:[Ae.contractAddress?.slice(0,6),"...",Ae.contractAddress?.slice(-4)]}),U("span",{style:{opacity:.6},children:"📋"})]})]})]}),p?.status==="waiting"&&!F&&!M&&U("div",{style:{marginTop:"2rem",textAlign:"center"},children:U("button",{onClick:Ut,disabled:v||!c,style:{background:v?"rgba(255, 20, 147, 0.5)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1.5rem 3rem",borderRadius:"1rem",fontSize:"1.3rem",fontWeight:"bold",cursor:v?"not-allowed":"pointer",width:"100%",transition:"all 0.3s ease"},children:v?"⏳ Joining...":"Join Flip"})})]})]}),at&&I?.phase==="waiting"&&U("div",{style:{gridColumn:"1 / -1",marginTop:"2rem"},children:U(j6,{gameId:t,gameData:p,isCreator:F,socket:x,connected:k,offeredNFTs:xt,onOfferSubmitted:ge,onOfferAccepted:_e})}),at&&_t&&I?.phase==="waiting"&&Z("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",textAlign:"center",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[U("h3",{style:{color:"#FFD700",marginBottom:"0.5rem"},children:"⚔️ BATTLE ACCEPTED!"}),Z("p",{style:{color:"white",margin:0},children:["Waiting for ",_t.offererAddress.slice(0,6),"...",_t.offererAddress.slice(-4)," to complete payment..."]}),Z("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginTop:"1rem",alignItems:"center"},children:[Z("div",{style:{textAlign:"center"},children:[U("img",{src:p.nft.image,alt:p.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),U("div",{style:{fontSize:"0.8rem",color:"white"},children:p.nft.name})]}),U("div",{style:{fontSize:"2rem",color:"#FFD700",animation:"pulse 2s infinite"},children:"⚔️"}),Z("div",{style:{textAlign:"center"},children:[U("img",{src:_t.nft.image,alt:_t.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),U("div",{style:{fontSize:"0.8rem",color:"white"},children:_t.nft.name})]})]})]}),!q&&U("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:U("p",{style:{color:"#FFD700",fontWeight:"bold",margin:0},children:"👀 SPECTATING"})}),I?.phase==="choosing"&&U("div",{style:{textAlign:"center",marginBottom:"2rem"},children:J?Z("div",{style:{padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[U("div",{style:{color:Le.colors.textSecondary,marginTop:"0.5rem"},children:"Select heads or tails in your player box, then you can charge power and flip!"}),I.turnTimeLeft!==void 0&&Z("div",{style:{color:I.turnTimeLeft<=5?Le.colors.statusError:Le.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:I.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[I.turnTimeLeft,"s to choose"]})]}):Z("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[U("div",{style:{color:Le.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:"⏳ Opponent is Choosing"}),Z("div",{style:{color:Le.colors.textSecondary,marginTop:"0.5rem"},children:["Waiting for ",F?"Player 2":"Player 1"," to choose heads or tails"]}),I.turnTimeLeft!==void 0&&Z("div",{style:{color:I.turnTimeLeft<=5?Le.colors.statusError:Le.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:I.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[I.turnTimeLeft,"s remaining"]})]})}),I?.phase==="round_active"&&U("div",{style:{textAlign:"center",marginBottom:"2rem"},children:J?Z("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem"},children:[U("div",{style:{color:Le.colors.statusSuccess,fontWeight:"bold",fontSize:"1.2rem"},children:"⚡ YOUR TURN TO FLIP!"}),Z("div",{style:{color:Le.colors.textSecondary,marginTop:"0.5rem"},children:["You chose ",F?I.creatorChoice?.toUpperCase():I.joinerChoice?.toUpperCase()," - Hold coin to charge power, release to flip!"]})]}):Z("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[U("div",{style:{color:Le.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:"⏳ Opponent's Turn"}),Z("div",{style:{color:Le.colors.textSecondary,marginTop:"0.5rem"},children:["They chose ",F?I.joinerChoice?.toUpperCase():I.creatorChoice?.toUpperCase()," and are charging power to flip"]})]})}),G&&Z("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,background:"rgba(0, 0, 0, 0.95)",padding:"2rem",borderRadius:"2rem",border:`4px solid ${G.actualWinner===d?"#00FF41":"#FF1493"}`,textAlign:"center",width:"90%",maxWidth:"600px",pointerEvents:"none",boxShadow:`0 0 50px ${G.actualWinner===d?"rgba(0, 255, 65, 0.5)":"rgba(255, 20, 147, 0.5)"}`},children:[U("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%",marginBottom:"1rem"},children:U("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"1rem",objectFit:"cover"},src:G.actualWinner===d?"images/video/LoseWin/final lose win/win.webm":"images/video/LoseWin/final lose win/lose.webm",onError:me=>{console.error("Video playback error:",me),console.log("Video source:",me.target.src),me.target.src=G.actualWinner===d?"/images/video/LoseWin/final lose win/win.webm":"/images/video/LoseWin/final lose win/lose.webm"},onLoadedData:me=>{console.log("Video loaded successfully"),me.target.play().catch(Oe=>console.error("Play error:",Oe))}},G.actualWinner===d?"win":"lose")}),U("div",{style:{fontSize:"2.5rem",color:"white",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:G.result==="heads"?"👑 HEADS":"💎 TAILS"}),Z("div",{style:{fontSize:"1.2rem",color:"rgba(255, 255, 255, 0.9)",marginBottom:"1rem",pointerEvents:"auto",padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:["You chose: ",U("strong",{children:G.playerChoice?.toUpperCase()})]}),U("div",{style:{fontSize:"1.8rem",color:G.actualWinner===d?"#00FF41":"#FF1493",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:`0 0 15px ${G.actualWinner===d?"rgba(0, 255, 65, 0.7)":"rgba(255, 20, 147, 0.7)"}`,animation:"pulse 1s infinite"},children:G.actualWinner===d?"🎉 YOU WON!":"💔 YOU LOST!"}),U("div",{style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.7)",pointerEvents:"auto",fontStyle:"italic"},children:G.result===G.playerChoice?`Your choice (${G.playerChoice}) matched the result (${G.result})!`:`Your choice (${G.playerChoice}) did not match the result (${G.result}).`})]}),U(dbe,{isVisible:ie&&I?.phase==="game_complete",isWinner:ve?.isWinner||!1,flipResult:ve?.flipResult,playerChoice:ve?.playerChoice,gameData:ve?.gameData,onClose:()=>de(!1),onClaimWinnings:re}),I?.winner&&U("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem",backdropFilter:"blur(10px)"},children:Z("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"2rem",textAlign:"center",maxWidth:"500px",width:"100%",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},children:[U("h2",{style:{color:"#FFD700",marginBottom:"1rem"},children:"🎉 You Won! 🎉"}),Z("p",{style:{color:"#fff",marginBottom:"2rem"},children:["Congratulations! You've won ",I?.potAmount||0," ",I?.currency||"ETH"]}),U("button",{onClick:re,style:{background:"linear-gradient(135deg, #FF69B4 0%, #FF1493 100%)",color:"#fff",border:"none",padding:"1rem 2rem",borderRadius:"0.5rem",fontSize:"1.2rem",cursor:"pointer",width:"100%",marginBottom:"1rem",boxShadow:"0 0 20px rgba(255, 105, 180, 0.4)",transition:"all 0.3s ease"},onMouseOver:me=>{me.currentTarget.style.transform="scale(1.05)",me.currentTarget.style.boxShadow="0 0 30px rgba(255, 105, 180, 0.6)"},onMouseOut:me=>{me.currentTarget.style.transform="scale(1)",me.currentTarget.style.boxShadow="0 0 20px rgba(255, 105, 180, 0.4)"},children:"💰 Claim Your Winnings"}),U("p",{style:{color:"#ff4444",fontSize:"0.9rem",marginTop:"1rem",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255, 68, 68, 0.1)"},children:"⚠️ Warning: If you leave this screen without claiming, you will lose your winnings."})]})}),p?.gameType==="nft-vs-nft"&&!F&&!xt?.length&&U(zn,{colorScheme:"green",size:"lg",onClick:()=>Qe(!0),mb:4,children:"Offer NFT to Battle"}),p?.gameType==="nft-vs-nft"&&!F&&offerStatus==="pending"&&U(Text,{color:"neonYellow",mb:4,children:"Your NFT offer is pending review..."}),p?.gameType==="nft-vs-nft"&&!F&&offerStatus==="accepted"&&U(zn,{colorScheme:"green",size:"lg",onClick:Ut,mb:4,children:"Join Battle"})]})}),U("style",{children:`
          @keyframes buttonPulse {
            0% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            }
            100% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
          }

          @keyframes nftBananaGlow {
            0% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 50px rgba(255, 255, 0, 0.7), inset 0 0 50px rgba(255, 255, 0, 0.4);
            }
            100% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
          }
        `}),$e(),Ye(),tt(),it()]})},$6=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",q6=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",Bbe=async t=>{try{setIsLoadingNFT(!0),console.log("🎨 Fetching NFT data for game:",t);const e=await fetch(`${API_URL}/api/games/${t}/nft`);if(!e.ok)throw new Error("Failed to fetch NFT data");const n=await e.json();console.log("✅ NFT data received:",n),setNftData(n)}catch(e){console.error("❌ Error fetching NFT data:",e),setNftData(null)}finally{setIsLoadingNFT(!1)}},Fbe="/assets/FLIPNOSIS-C0NSmved.webp",Lbe="/assets/mobile-DVZ6fP2r.webp",Dbe=({onHeadsImageChange:t,onTailsImageChange:e,currentHeadsImage:n=null,currentTailsImage:r=null})=>{const[i,o]=j.useState(n),[s,a]=j.useState(r),[l,c]=j.useState("heads"),u=j.useRef(null),d=j.useRef(null),f=(p,m)=>{const y=p.target.files[0];if(!y)return;if(y.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!y.type.startsWith("image/")){alert("Please select an image file");return}const g=new FileReader;g.onload=v=>{const b=v.target.result,x=new Image;x.onload=()=>{const R=document.createElement("canvas"),k=R.getContext("2d"),_=512;let I=x.width,S=x.height;I>S?I>_&&(S=S*(_/I),I=_):S>_&&(I=I*(_/S),S=_),R.width=I,R.height=S,k.drawImage(x,0,0,I,S);const P=R.toDataURL("image/jpeg",.9);m==="heads"?(o(P),t(P)):(a(P),e(P))},x.src=b},g.readAsDataURL(y)},h=p=>{p==="heads"?(o(null),t(null)):(a(null),e(null))};return Z("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",margin:"0 auto"},children:[U("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Customize Your Coin"}),Z("div",{style:{display:"flex",marginBottom:"2rem",borderBottom:"2px solid rgba(255, 215, 0, 0.3)"},children:[U("button",{onClick:()=>c("heads"),style:{flex:1,padding:"1rem",background:l==="heads"?"rgba(255, 215, 0, 0.2)":"transparent",border:"none",color:l==="heads"?"#FFD700":"#fff",fontSize:"1.1rem",fontWeight:l==="heads"?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",borderBottom:l==="heads"?"2px solid #FFD700":"none",marginBottom:"-2px"},children:"Heads"}),U("button",{onClick:()=>c("tails"),style:{flex:1,padding:"1rem",background:l==="tails"?"rgba(255, 215, 0, 0.2)":"transparent",border:"none",color:l==="tails"?"#FFD700":"#fff",fontSize:"1.1rem",fontWeight:l==="tails"?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",borderBottom:l==="tails"?"2px solid #FFD700":"none",marginBottom:"-2px"},children:"Tails"})]}),U("div",{style:{minHeight:"300px"},children:l==="heads"?Z("div",{children:[U("div",{style:{width:"200px",height:"200px",margin:"0 auto 2rem",borderRadius:"50%",border:"3px solid #FFD700",overflow:"hidden",background:i?"transparent":"linear-gradient(45deg, #FFD700, #DAA520)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>u.current?.click(),children:i?U("img",{src:i,alt:"Heads",style:{width:"100%",height:"100%",objectFit:"cover"}}):Z("div",{style:{textAlign:"center",color:"#8B4513"},children:[U("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"+"}),U("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Add Image"}),U("div",{style:{fontSize:"0.8rem"},children:"HEADS"})]})}),U("input",{ref:u,type:"file",accept:"image/*",onChange:p=>f(p,"heads"),style:{display:"none"}}),Z("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[U("button",{onClick:()=>u.current?.click(),style:{padding:"0.75rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:i?"Change Image":"Upload Image"}),i&&U("button",{onClick:()=>h("heads"),style:{padding:"0.75rem 2rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#ff6b6b",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:"Remove"})]})]}):Z("div",{children:[U("div",{style:{width:"200px",height:"200px",margin:"0 auto 2rem",borderRadius:"50%",border:"3px solid #FFD700",overflow:"hidden",background:s?"transparent":"linear-gradient(45deg, #FFD700, #DAA520)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>d.current?.click(),children:s?U("img",{src:s,alt:"Tails",style:{width:"100%",height:"100%",objectFit:"cover"}}):Z("div",{style:{textAlign:"center",color:"#8B4513"},children:[U("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"+"}),U("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Add Image"}),U("div",{style:{fontSize:"0.8rem"},children:"TAILS"})]})}),U("input",{ref:d,type:"file",accept:"image/*",onChange:p=>f(p,"tails"),style:{display:"none"}}),Z("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[U("button",{onClick:()=>d.current?.click(),style:{padding:"0.75rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:s?"Change Image":"Upload Image"}),s&&U("button",{onClick:()=>h("tails"),style:{padding:"0.75rem 2rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#ff6b6b",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:"Remove"})]})]})}),Z("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"0.5rem",fontSize:"0.9rem",color:"#FFD700",textAlign:"center"},children:[Z("p",{style:{margin:"0 0 0.5rem 0"},children:["💡 ",U("strong",{children:"Tip:"})," Square images work best. Images will be automatically resized and cropped to fit the coin."]}),U("p",{style:{margin:0,fontSize:"0.8rem",opacity:.8},children:"Maximum file size: 5MB • Supported formats: JPG, PNG, GIF"})]})]})},Ube=Re("div",{target:"e17gqmei11"})({name:"1abnokh",styles:"display:flex;align-items:center;gap:0.75rem;z-index:100"}),zbe=Re("div",{target:"e17gqmei10"})({name:"tz190x",styles:"position:fixed;top:1rem;right:1rem;display:flex;align-items:center;gap:1rem;z-index:1000"}),jbe=Re("div",{target:"e17gqmei9"})({name:"15e7j3g",styles:"display:flex;align-items:center;gap:0.75rem;background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:0.5rem 1rem;cursor:pointer;transition:all 0.3s ease;&:hover{background:rgba(0, 0, 0, 0.8);border-color:rgba(255, 20, 147, 0.3);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),Hbe=Re("div",{target:"e17gqmei8"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),Gbe=Re("div",{target:"e17gqmei7"})({name:"1drlcdz",styles:"color:#fff;font-weight:bold;font-size:0.9rem"}),Wbe=Re("div",{target:"e17gqmei6"})({name:"12186il",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:1100"}),Vbe=Re("div",{target:"e17gqmei5"})({name:"1hprs3i",styles:"background:rgba(0, 0, 0, 0.9);border:1px solid rgba(255, 20, 147, 0.3);border-radius:1rem;padding:2rem;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative"}),$be=Re("button",{target:"e17gqmei4"})({name:"rpd1bl",styles:"position:absolute;top:1rem;right:1rem;background:none;border:none;color:rgba(255, 255, 255, 0.6);font-size:1.5rem;cursor:pointer;padding:0.5rem;&:hover{color:#fff;}"}),qbe=Re("div",{target:"e17gqmei3"})({name:"16j8bo9",styles:"display:flex;margin-bottom:2rem;border-bottom:2px solid rgba(255, 20, 147, 0.3)"}),Q6=Re("button",{target:"e17gqmei2"})("flex:1;padding:1rem;background:",t=>t.active?"rgba(255, 20, 147, 0.2)":"transparent",";border:none;color:",t=>t.active?"#FF1493":"#fff",";font-size:1.1rem;font-weight:",t=>t.active?"bold":"normal",";cursor:pointer;transition:all 0.3s ease;border-bottom:",t=>t.active?"2px solid #FF1493":"none",";margin-bottom:-2px;&:hover{background:rgba(255, 20, 147, 0.1);}"),Qbe=Re("input",{target:"e17gqmei1"})({name:"orjgjc",styles:"width:100%;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.75rem;color:#fff;font-size:1rem;margin-bottom:1rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),Kbe=Re("button",{target:"e17gqmei0"})({name:"14cvs0b",styles:"width:100%;background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.75rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.02);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}"}),R9=({isInHeader:t=!1})=>{const{address:e}=es(),{getPlayerName:n,setPlayerName:r,getProfilePicture:i,setProfilePicture:o,getCoinHeadsImage:s,setCoinHeadsImage:a,getCoinTailsImage:l,setCoinTailsImage:c}=Jw(),{showSuccess:u,showError:d}=Ma(),[f,h]=j.useState(!1),[p,m]=j.useState("profile"),[y,g]=j.useState(""),[v,b]=j.useState(!0),[x,R]=j.useState(null),[k,_]=j.useState(null);j.useEffect(()=>{(async()=>{if(e)try{b(!0);const B=await n(e),w=await s(e),E=await l(e);g(B||""),R(w),_(E)}catch(B){console.error("Error loading user data:",B)}finally{b(!1)}})()},[e,n,s,l]);const I=async()=>{if(e)try{await r(e,y),u("Profile updated successfully!")}catch(G){console.error("Error saving profile:",G),d("Failed to update profile")}},S=async G=>{if(e)try{await a(e,G),R(G),u("Heads image updated!")}catch(B){console.error("Error saving heads image:",B),d("Failed to save heads image")}},P=async G=>{if(e)try{await c(e,G),_(G),u("Tails image updated!")}catch(B){console.error("Error saving tails image:",B),d("Failed to save tails image")}};return e?Z(Id,{children:[U(t?Ube:zbe,{children:Z(jbe,{onClick:()=>h(!0),children:[U(cv,{address:e,size:40,isClickable:!1,style:{borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)"}}),U(Hbe,{children:U(Gbe,{children:v?"...":y||"Anonymous"})})]})}),f&&U(Wbe,{children:Z(Vbe,{children:[U($be,{onClick:()=>h(!1),children:"×"}),Z(qbe,{children:[U(Q6,{active:p==="profile",onClick:()=>m("profile"),children:"Profile"}),U(Q6,{active:p==="coin",onClick:()=>m("coin"),children:"Customize Coin"})]}),p==="profile"?Z("div",{children:[U("h2",{style:{color:"#fff",marginBottom:"1.5rem"},children:"Edit Profile"}),U("div",{style:{marginBottom:"1.5rem"},children:U(cv,{address:e,size:100,isClickable:!0,showUploadIcon:!0,style:{borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)"}})}),U(Qbe,{type:"text",placeholder:"Enter your name",value:y,onChange:G=>g(G.target.value)}),U(Kbe,{onClick:I,children:"Save Profile"})]}):U("div",{children:U(Dbe,{onHeadsImageChange:S,onTailsImageChange:P,currentHeadsImage:x,currentTailsImage:k})})]})})]}):null},Xbe=Re("div",{target:"etw64w16"})("position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.5);backdrop-filter:blur(5px);opacity:",t=>t.isOpen?1:0,";visibility:",t=>t.isOpen?"visible":"hidden",";transition:all 0.3s ease;z-index:999999;"),Ybe=Re("div",{target:"etw64w15"})("position:fixed;top:0;right:0;width:70%;max-width:250px;height:100vh;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1.5rem;transform:translateX(",t=>t.isOpen?"0":"100%",");transition:transform 0.3s ease;z-index:1000000;display:flex;flex-direction:column;gap:0.75rem;overflow-y:auto;border-left:1px solid rgba(0, 255, 65, 0.2);box-shadow:-5px 0 20px rgba(0, 255, 65, 0.1);@media (min-width: 769px){display:none;}"),K6=Re(tb,{target:"etw64w14"})("color:",t=>t.theme.colors.textPrimary,";text-decoration:none;padding:1rem;border-radius:0.5rem;transition:all 0.3s ease;background:rgba(0, 255, 65, 0.05);border:1px solid rgba(0, 255, 65, 0.1);margin-bottom:0.5rem;&:hover{background:rgba(0, 255, 65, 0.1);color:#00FF41;transform:translateY(-2px);box-shadow:0 0 15px rgba(0, 255, 65, 0.2);border-color:rgba(0, 255, 65, 0.3);}"),Jbe=Re("div",{target:"etw64w13"})({name:"noie68",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(0, 255, 65, 0.2)"}),Zbe=Re("h2",{target:"etw64w12"})({name:"15t7f0j",styles:"color:#00FF41;margin:0;font-size:2rem;text-shadow:0 0 10px rgba(0, 255, 65, 0.5);font-family:'Hyperwave',sans-serif;letter-spacing:2px"}),e1e=Re("div",{target:"etw64w11"})({name:"tk3n8a",styles:'margin:1rem 0;button{width:100%!important;background:transparent!important;color:#00FF41!important;border:1px solid rgba(0, 255, 65, 0.3)!important;border-radius:0.75rem!important;padding:0.75rem 1rem!important;font-weight:600!important;transition:all 0.3s ease!important;div[data-testid="rk-chain-button"]{display:none!important;}&:hover{transform:translateY(-2px)!important;border-color:rgba(0, 255, 65, 0.5)!important;box-shadow:0 0 20px rgba(0, 255, 65, 0.2)!important;}}'}),t1e=Re("div",{target:"etw64w10"})({name:"17fcovs",styles:"margin-top:auto;padding-top:1rem;border-top:1px solid rgba(0, 255, 65, 0.2)"}),n1e=({isOpen:t,onClose:e})=>{const{isConnected:n}=es();return t?LO.createPortal(Z(Id,{children:[U(Xbe,{isOpen:t,onClick:e}),Z(Ybe,{isOpen:t,children:[U(Jbe,{children:U(Zbe,{children:"Menu"})}),U(K6,{to:"/",onClick:e,children:"Home"}),U(K6,{to:"/create",onClick:e,children:"Create Flip"}),U(e1e,{children:U(_m,{showBalance:{smallScreen:!1,largeScreen:!0}})}),n&&U(t1e,{children:U(R9,{isInHeader:!0})})]})]}),document.body):null},r1e=Re("header",{target:"e18h9zca21"})("background-color:",t=>t.theme.colors.bgDark,";padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255, 255, 255, 0.1);position:relative;z-index:100;width:100%;box-sizing:border-box;overflow-x:hidden;@media (max-width: 768px){padding:0.75rem 1rem;position:fixed;top:0;left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);z-index:9998;}"),i1e=Re("div",{target:"e18h9zca20"})({name:"21q7ph",styles:"display:flex;align-items:center;gap:1rem;@media (max-width: 768px){gap:0.5rem;}"}),o1e=Re(tb,{target:"e18h9zca19"})("color:#00FF41;font-size:3rem;font-weight:700;text-decoration:none;letter-spacing:6px;font-family:'Hyperwave',sans-serif;animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,"@media (max-width: 768px){font-size:2.5rem;letter-spacing:4px;}"),s1e=Re("div",{target:"e18h9zca18"})({name:"10imiyw",styles:"display:flex;gap:1rem;align-items:center;@media (max-width: 768px){display:none;}"}),a1e=Re(tb,{target:"e18h9zca17"})("background:linear-gradient(45deg, #00FF41, #39FF14);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #00FF41;box-shadow:0 0 5px #00FF41,0 0 10px #00FF41,0 0 20px #00FF41;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);box-shadow:0 0 10px #00FF41,0 0 20px #00FF41,0 0 40px #00FF41;&::before{transform:translateX(100%);}}"),l1e=Re("button",{target:"e18h9zca15"})({name:"191oh3x",styles:"display:none;background:none;border:none;color:#00FF41;font-size:1.5rem;cursor:pointer;padding:0.5rem;z-index:100000;@media (max-width: 768px){display:block;}"}),c1e=upe`
  0%, 100% {
    box-shadow: 0 0 0px #00FF41, 0 0 0px #00FF41;
    border-color: #00FF41;
  }
  50% {
    box-shadow: 0 0 16px #00FF41, 0 0 32px #00FF41;
    border-color: #baffc9;
  }
`,u1e=Re("button",{target:"e18h9zca6"})("background:rgba(0,255,65,0.12);border:2px solid #00FF41;color:#00FF41;border-radius:50%;width:2.5rem;height:2.5rem;font-size:1.5rem;font-weight:bold;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;animation:",c1e," 1.2s infinite;&:hover{background:rgba(0,255,65,0.25);}@media (max-width: 768px){display:none;}"),d1e=Re("div",{target:"e18h9zca4"})({name:"ohaszm",styles:"position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center"}),f1e=Re("div",{target:"e18h9zca3"})({name:"6bvd8o",styles:"background:#181c1b;border-radius:1rem;padding:2rem;box-shadow:0 0 32px #00FF41;max-width:95vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;width:90vw"}),h1e=Re("button",{target:"e18h9zca2"})({name:"3cl7o3",styles:"background:none;border:none;color:#00FF41;font-size:2rem;position:absolute;top:2rem;right:2rem;cursor:pointer"}),p1e=Re("div",{target:"e18h9zca1"})({name:"jl9pt",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem"}),m1e=Re("div",{target:"e18h9zca0"})({name:"iya5c3",styles:"max-width:90vw;width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:1rem"}),g1e=()=>{const{isConnected:t}=es(),{showInfo:e}=Ma(),[n,r]=j.useState(!1),[i,o]=j.useState(!1),s=()=>{window.innerWidth>768&&r(!1)};return O.useEffect(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[]),U(Go,{theme:Le,children:Z(r1e,{children:[U(i1e,{children:U(o1e,{to:"/",children:"FLIPNOSIS"})}),Z(s1e,{children:[U(a1e,{to:"/create",children:"Create Flip"}),U(_m,{showBalance:{smallScreen:!1,largeScreen:!0}}),t&&U(R9,{isInHeader:!0})]}),U(l1e,{onClick:()=>r(!n),children:n?"✕":"☰"}),U(n1e,{isOpen:n,onClose:()=>r(!1)}),U(u1e,{onClick:()=>o(!0),title:"About FLIPNOSIS",children:"i"}),i&&U(d1e,{onClick:()=>o(!1),children:Z(f1e,{onClick:a=>a.stopPropagation(),children:[U(h1e,{onClick:()=>o(!1),children:"×"}),U(p1e,{children:U("h2",{style:{color:"#00FF41",margin:0},children:"About FLIPNOSIS"})}),U(m1e,{children:U("img",{src:window.innerWidth<=768?Lbe:Fbe,alt:"FLIPNOSIS Info",style:{maxWidth:"100%",height:"auto",borderRadius:"1rem",objectFit:"contain"}})})]})})]})})},y1e=()=>Z("div",{className:"min-h-screen bg-bg-primary",children:[U(g1e,{}),U("main",{style:{paddingTop:window.innerWidth<=768?"80px":"0"},children:U(zhe,{})})]}),v1e=Qhe([{path:"/",element:U(y1e,{}),children:[{index:!0,element:U($pe,{})},{path:"create",element:U(Qpe,{})},{path:"game/:gameId",element:U(Obe,{})}]}]);function P9(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function N9(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function o2({flag:t,namespace:e}){return!!(e&&typeof N9(e)<"u"||t&&typeof P9(t)<"u")}function w1e({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=N9(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=P9(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function b1e(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...vm(n)(r),...e})}}function uv({flag:t,namespace:e,target:n}){const r=n||w1e({flag:t,namespace:e});return b1e(r)}var X6=new Map,x1e=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=X6.get(o);if(s)return s;const a=Ew(i);return X6.set(o,a),a};function E1e({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...x1e({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function PT({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>E1e({projectId:t,walletDetails:r,walletConnectParameters:e})}function k9(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function A1e(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function _1e(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function NT(){return A1e()||_1e()}function Y6(){return k9()||NT()}var S1e=({projectId:t,walletConnectParameters:e})=>{const n=Y6()?o2({flag:"isTrust"}):o2({flag:"isTrustWallet"}),r=!n,i=c=>`trust://wc?uri=${encodeURIComponent(c)}`,o=c=>c,s={getUri:r?i:void 0};let a;return r&&(a={getUri:o,instructions:{learnMoreUrl:"https://trustwallet.com/",steps:[{description:"wallet_connectors.trust.qr_code.step1.description",step:"install",title:"wallet_connectors.trust.qr_code.step1.title"},{description:"wallet_connectors.trust.qr_code.step2.description",step:"create",title:"wallet_connectors.trust.qr_code.step2.title"},{description:"wallet_connectors.trust.qr_code.step3.description",step:"scan",title:"wallet_connectors.trust.qr_code.step3.title"}]}}),{id:"trust",name:"Trust Wallet",rdns:"com.trustwallet.app",iconUrl:async()=>(await je(async()=>{const{default:c}=await import("./trustWallet-42DZQQWY-B0DkYL5U.js");return{default:c}},[])).default,installed:n||void 0,iconAccent:"#3375BB",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409",mobile:"https://trustwallet.com/download",qrCode:"https://trustwallet.com/download",chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",browserExtension:"https://trustwallet.com/browser-extension"},mobile:s,qrCode:a,extension:{instructions:{learnMoreUrl:"https://trustwallet.com/browser-extension",steps:[{description:"wallet_connectors.trust.extension.step1.description",step:"install",title:"wallet_connectors.trust.extension.step1.title"},{description:"wallet_connectors.trust.extension.step2.description",step:"create",title:"wallet_connectors.trust.extension.step2.title"},{description:"wallet_connectors.trust.extension.step3.description",step:"refresh",title:"wallet_connectors.trust.extension.step3.title"}]}},createConnector:r?PT({projectId:t,walletConnectParameters:e}):Y6()?uv({flag:"isTrust"}):uv({flag:"isTrustWallet"})}},C1e=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await je(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-BcMJSWZw.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:PT({projectId:t,walletConnectParameters:e})}),T1e=({projectId:t,walletConnectParameters:e})=>{const n=o2({flag:"isRainbow"}),r=!n,i=o=>k9()?o:NT()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await je(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-Cp7N6hKb.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?PT({projectId:t,walletConnectParameters:e}):uv({flag:"isRainbow"})}},M1e=()=>({id:"injected",name:"Browser Wallet",iconUrl:async()=>(await je(async()=>{const{default:t}=await import("./injectedWallet-AWJSZPMG-Df9x-YJA.js");return{default:t}},[])).default,iconBackground:"#fff",createConnector:uv({})}),O9=({appName:t,appIcon:e})=>{const n=i=>i,r=NT();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await je(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-BmQqixYK.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=O9,s=bm({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};console.log("Initializing Rainbow Kit with:",{projectId:"fd95ed98ecab7ef051bdcaa27f9d0547",chains:[hC,_f,gC,dC,mC,pC,fC]});const sl=[hC,_f,gC,dC,mC,pC,fC];if(!sl||!Array.isArray(sl)||sl.length===0)throw console.error("❌ Chains array is invalid:",sl),new Error("Chains configuration is invalid");sl.forEach((t,e)=>{if(!t||!t.id||!t.name)throw console.error(`❌ Invalid chain at index ${e}:`,t),new Error(`Chain at index ${e} is invalid`)});console.log("✅ Chains validated successfully:",sl.map(t=>({id:t.id,name:t.name})));const J6="fd95ed98ecab7ef051bdcaa27f9d0547",I1e=typeof window<"u"&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let al;if(I1e){const t=GD([{groupName:"Popular",wallets:[M1e,O9,T1e,S1e,C1e]}],{appName:"FLIPNOSIS",projectId:J6});al=E4({chains:sl,connectors:t,transports:{[hC.id]:Qa(),[_f.id]:Qa(),[gC.id]:Qa(),[dC.id]:Qa(),[mC.id]:Qa(),[pC.id]:Qa(),[fC.id]:Qa()}})}else al=iie({appName:"FLIPNOSIS",projectId:J6,chains:sl,ssr:!1});console.log("✅ Rainbow Kit configuration created successfully");const R1e=new KY({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),{chains:s2}=al;console.log("Rainbow Kit Config:",{chains:s2.map(t=>t.name),projectId:al.projectId});class P1e extends O.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?Z("div",{style:{padding:"20px",color:"red",background:"#000",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"},children:[U("h1",{children:"Something went wrong"}),U("pre",{children:this.state.error?.message}),U("pre",{children:this.state.error?.stack})]}):this.props.children}}function N1e(){return console.log("🔍 App.jsx - Config check:",{config:al,hasChains:!!al?.chains,chainsLength:al?.chains?.length}),U(P1e,{children:U(cY,{config:al,children:U(pJ,{client:R1e,children:U(Tne,{theme:K4({accentColor:"#00FF41",accentColorForeground:"black",borderRadius:"large",fontStack:"system",overlayBlur:"small"}),modalSize:"compact",initialChain:s2[0],chains:s2,children:U(oie,{children:U(_fe,{children:U(Sfe,{children:U(Go,{theme:Le,children:U(rpe,{router:v1e})})})})})})})})})}Ux.createRoot(document.getElementById("root")).render(U(O.StrictMode,{children:U(N1e,{})}));const Z6=Object.freeze(Object.defineProperty({__proto__:null,default:xA},Symbol.toStringTag,{value:"Module"}));export{txe as $,Fae as A,Ie as B,Cxe as C,Qoe as D,Sxe as E,GF as F,OQ as G,kh as H,W1e as I,hp as J,gV as K,gi as L,YX as M,Ic as N,Z1e as O,$r as P,cie as Q,oxe as R,exe as S,nxe as T,Ei as U,Nse as V,rxe as W,Dh as X,hie as Y,ixe as Z,Ne as _,ES as a,die as a0,Koe as a1,Te as a2,Joe as a3,_xe as a4,xse as a5,Mxe as a6,QI as a7,m4 as a8,bp as a9,vn as aa,rd as ab,aA as ac,qv as ad,Qa as ae,ei as af,fie as ag,x2 as ah,J1e as ai,$1e as b,sw as c,T$ as d,Is as e,Ll as f,em as g,Ms as h,lw as i,k1e as j,Gt as k,eF as l,jU as m,Txe as n,Rxe as o,Pxe as p,qy as q,Ml as r,ar as s,Qy as t,fse as u,Nxe as v,kw as w,je as x,tN as y,Ao as z};
