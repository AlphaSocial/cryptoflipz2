const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D2F1sqk8.js","assets/hooks.module-CuBEORbW.js","assets/index-B6Jb0Mqz.js","assets/inherits_browser-BlmhoU4v.js","assets/events-cltOdMEM.js","assets/index-CmHBMuGu.js","assets/index-D5Czl9Ot.js","assets/index.es-BDFShmtu.js","assets/alchemy-provider-0066b792-D30ncl2O.js","assets/alchemy-websocket-provider-98da5bb0-CuhxEO_e.js"])))=>i.map(i=>d[i]);
function $k(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Bm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k_e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Kk={exports:{}},lw={},Qk={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=Symbol.for("react.element"),oH=Symbol.for("react.portal"),sH=Symbol.for("react.fragment"),aH=Symbol.for("react.strict_mode"),lH=Symbol.for("react.profiler"),cH=Symbol.for("react.provider"),uH=Symbol.for("react.context"),dH=Symbol.for("react.forward_ref"),fH=Symbol.for("react.suspense"),hH=Symbol.for("react.memo"),pH=Symbol.for("react.lazy"),rM=Symbol.iterator;function mH(t){return t===null||typeof t!="object"?null:(t=rM&&t[rM]||t["@@iterator"],typeof t=="function"?t:null)}var Xk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yk=Object.assign,Jk={};function Df(t,e,n){this.props=t,this.context=e,this.refs=Jk,this.updater=n||Xk}Df.prototype.isReactComponent={};Df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zk(){}Zk.prototype=Df.prototype;function IS(t,e,n){this.props=t,this.context=e,this.refs=Jk,this.updater=n||Xk}var RS=IS.prototype=new Zk;RS.constructor=IS;Yk(RS,Df.prototype);RS.isPureReactComponent=!0;var iM=Array.isArray,eF=Object.prototype.hasOwnProperty,PS={current:null},tF={key:!0,ref:!0,__self:!0,__source:!0};function nF(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)eF.call(e,r)&&!tF.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lm,type:t,key:o,ref:s,props:i,_owner:PS.current}}function gH(t,e){return{$$typeof:Lm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function NS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lm}function yH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oM=/\/+/g;function hb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yH(""+t.key):e.toString(36)}function Xg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Lm:case oH:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+hb(s,0):r,iM(i)?(n="",t!=null&&(n=t.replace(oM,"$&/")+"/"),Xg(i,e,n,"",function(c){return c})):i!=null&&(NS(i)&&(i=gH(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oM,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",iM(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+hb(o,a);s+=Xg(o,e,n,l,i)}else if(l=mH(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+hb(o,a++),s+=Xg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function _0(t,e,n){if(t==null)return t;var r=[],i=0;return Xg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function vH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gi={current:null},Yg={transition:null},wH={ReactCurrentDispatcher:gi,ReactCurrentBatchConfig:Yg,ReactCurrentOwner:PS};function rF(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:_0,forEach:function(t,e,n){_0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _0(t,function(){e++}),e},toArray:function(t){return _0(t,function(e){return e})||[]},only:function(t){if(!NS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Df;Wt.Fragment=sH;Wt.Profiler=lH;Wt.PureComponent=IS;Wt.StrictMode=aH;Wt.Suspense=fH;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wH;Wt.act=rF;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=PS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eF.call(e,l)&&!tF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Lm,type:t.type,key:i,ref:o,props:r,_owner:s}};Wt.createContext=function(t){return t={$$typeof:uH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cH,_context:t},t.Consumer=t};Wt.createElement=nF;Wt.createFactory=function(t){var e=nF.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:dH,render:t}};Wt.isValidElement=NS;Wt.lazy=function(t){return{$$typeof:pH,_payload:{_status:-1,_result:t},_init:vH}};Wt.memo=function(t,e){return{$$typeof:hH,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=Yg.transition;Yg.transition={};try{t()}finally{Yg.transition=e}};Wt.unstable_act=rF;Wt.useCallback=function(t,e){return gi.current.useCallback(t,e)};Wt.useContext=function(t){return gi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return gi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return gi.current.useEffect(t,e)};Wt.useId=function(){return gi.current.useId()};Wt.useImperativeHandle=function(t,e,n){return gi.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return gi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return gi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return gi.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return gi.current.useReducer(t,e,n)};Wt.useRef=function(t){return gi.current.useRef(t)};Wt.useState=function(t){return gi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return gi.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return gi.current.useTransition()};Wt.version="18.3.1";Qk.exports=Wt;var z=Qk.exports;const L=Bm(z),qE=$k({__proto__:null,default:L},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bH=z,xH=Symbol.for("react.element"),EH=Symbol.for("react.fragment"),AH=Object.prototype.hasOwnProperty,_H=bH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SH={key:!0,ref:!0,__self:!0,__source:!0};function iF(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)AH.call(e,r)&&!SH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xH,type:t,key:o,ref:s,props:i,_owner:_H.current}}lw.Fragment=EH;lw.jsx=iF;lw.jsxs=iF;Kk.exports=lw;var vn=Kk.exports;function CH(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function TH(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var MH=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=CH(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Wr="-ms-",Wy="-moz-",rn="-webkit-",oF="comm",kS="rule",FS="decl",IH="@import",sF="@keyframes",RH="@layer",PH=Math.abs,cw=String.fromCharCode,NH=Object.assign;function kH(t,e){return Nr(t,0)^45?(((e<<2^Nr(t,0))<<2^Nr(t,1))<<2^Nr(t,2))<<2^Nr(t,3):0}function aF(t){return t.trim()}function FH(t,e){return(t=e.exec(t))?t[0]:t}function on(t,e,n){return t.replace(e,n)}function KE(t,e){return t.indexOf(e)}function Nr(t,e){return t.charCodeAt(e)|0}function Cp(t,e,n){return t.slice(e,n)}function Ts(t){return t.length}function OS(t){return t.length}function S0(t,e){return e.push(t),t}function OH(t,e){return t.map(e).join("")}var uw=1,Yd=1,lF=0,zi=0,er=0,Uf="";function dw(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:uw,column:Yd,length:s,return:""}}function ph(t,e){return NH(dw("",null,null,"",null,null,0),t,{length:-t.length},e)}function BH(){return er}function LH(){return er=zi>0?Nr(Uf,--zi):0,Yd--,er===10&&(Yd=1,uw--),er}function io(){return er=zi<lF?Nr(Uf,zi++):0,Yd++,er===10&&(Yd=1,uw++),er}function Ds(){return Nr(Uf,zi)}function Jg(){return zi}function Dm(t,e){return Cp(Uf,t,e)}function Tp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cF(t){return uw=Yd=1,lF=Ts(Uf=t),zi=0,[]}function uF(t){return Uf="",t}function Zg(t){return aF(Dm(zi-1,QE(t===91?t+2:t===40?t+1:t)))}function DH(t){for(;(er=Ds())&&er<33;)io();return Tp(t)>2||Tp(er)>3?"":" "}function UH(t,e){for(;--e&&io()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return Dm(t,Jg()+(e<6&&Ds()==32&&io()==32))}function QE(t){for(;io();)switch(er){case t:return zi;case 34:case 39:t!==34&&t!==39&&QE(er);break;case 40:t===41&&QE(t);break;case 92:io();break}return zi}function zH(t,e){for(;io()&&t+er!==57;)if(t+er===84&&Ds()===47)break;return"/*"+Dm(e,zi-1)+"*"+cw(t===47?t:io())}function jH(t){for(;!Tp(Ds());)io();return Dm(t,zi)}function HH(t){return uF(ey("",null,null,null,[""],t=cF(t),0,[0],t))}function ey(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,p=0,m=1,y=1,g=1,v=0,b="",x=i,I=o,k=r,A=b;y;)switch(p=v,v=io()){case 40:if(p!=108&&Nr(A,d-1)==58){KE(A+=on(Zg(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:A+=Zg(v);break;case 9:case 10:case 13:case 32:A+=DH(p);break;case 92:A+=UH(Jg()-1,7);continue;case 47:switch(Ds()){case 42:case 47:S0(GH(zH(io(),Jg()),e,n),l);break;default:A+="/"}break;case 123*m:a[c++]=Ts(A)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(A=on(A,/\f/g,"")),h>0&&Ts(A)-d&&S0(h>32?aM(A+";",r,n,d-1):aM(on(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(S0(k=sM(A,e,n,c,u,i,a,b,x=[],I=[],d),o),v===123)if(u===0)ey(A,e,k,k,x,o,d,a,I);else switch(f===99&&Nr(A,3)===110?100:f){case 100:case 108:case 109:case 115:ey(t,k,k,r&&S0(sM(t,k,k,0,0,i,a,b,i,x=[],d),I),i,I,d,a,r?x:I);break;default:ey(A,k,k,k,[""],I,0,a,I)}}c=u=h=0,m=g=1,b=A="",d=s;break;case 58:d=1+Ts(A),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&LH()==125)continue}switch(A+=cw(v),v*m){case 38:g=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Ts(A)-1)*g,g=1;break;case 64:Ds()===45&&(A+=Zg(io())),f=Ds(),u=d=Ts(b=A+=jH(Jg())),v++;break;case 45:p===45&&Ts(A)==2&&(m=0)}}return o}function sM(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=OS(f),p=0,m=0,y=0;p<r;++p)for(var g=0,v=Cp(t,d+1,d=PH(m=s[p])),b=t;g<h;++g)(b=aF(m>0?f[g]+" "+v:on(v,/&\f/g,f[g])))&&(l[y++]=b);return dw(t,e,n,i===0?kS:a,l,c,u)}function GH(t,e,n){return dw(t,e,n,oF,cw(BH()),Cp(t,2,-2),0)}function aM(t,e,n,r){return dw(t,e,n,FS,Cp(t,0,r),Cp(t,r+1,-1),r)}function Pd(t,e){for(var n="",r=OS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function WH(t,e,n,r){switch(t.type){case RH:if(t.children.length)break;case IH:case FS:return t.return=t.return||t.value;case oF:return"";case sF:return t.return=t.value+"{"+Pd(t.children,r)+"}";case kS:t.value=t.props.join(",")}return Ts(n=Pd(t.children,r))?t.return=t.value+"{"+n+"}":""}function VH(t){var e=OS(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function $H(t){return function(e){e.root||(e=e.return)&&t(e)}}var lM=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=e(r);return n.set(r,i),i}};function dF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var qH=function(e,n,r){for(var i=0,o=0;i=o,o=Ds(),i===38&&o===12&&(n[r]=1),!Tp(o);)io();return Dm(e,zi)},KH=function(e,n){var r=-1,i=44;do switch(Tp(i)){case 0:i===38&&Ds()===12&&(n[r]=1),e[r]+=qH(zi-1,n,r);break;case 2:e[r]+=Zg(i);break;case 4:if(i===44){e[++r]=Ds()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=cw(i)}while(i=io());return e},QH=function(e,n){return uF(KH(cF(e),n))},cM=new WeakMap,XH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!cM.get(r))&&!i){cM.set(e,!0);for(var o=[],s=QH(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},YH=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function fF(t,e){switch(kH(t,e)){case 5103:return rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+t+Wy+t+Wr+t+t;case 6828:case 4268:return rn+t+Wr+t+t;case 6165:return rn+t+Wr+"flex-"+t+t;case 5187:return rn+t+on(t,/(\w+).+(:[^]+)/,rn+"box-$1$2"+Wr+"flex-$1$2")+t;case 5443:return rn+t+Wr+"flex-item-"+on(t,/flex-|-self/,"")+t;case 4675:return rn+t+Wr+"flex-line-pack"+on(t,/align-content|flex-|-self/,"")+t;case 5548:return rn+t+Wr+on(t,"shrink","negative")+t;case 5292:return rn+t+Wr+on(t,"basis","preferred-size")+t;case 6060:return rn+"box-"+on(t,"-grow","")+rn+t+Wr+on(t,"grow","positive")+t;case 4554:return rn+on(t,/([^-])(transform)/g,"$1"+rn+"$2")+t;case 6187:return on(on(on(t,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),t,"")+t;case 5495:case 3959:return on(t,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return on(on(t,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+Wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+t+t;case 4095:case 3583:case 4068:case 2532:return on(t,/(.+)-inline(.+)/,rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ts(t)-1-e>6)switch(Nr(t,e+1)){case 109:if(Nr(t,e+4)!==45)break;case 102:return on(t,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+Wy+(Nr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~KE(t,"stretch")?fF(on(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nr(t,e+1)!==115)break;case 6444:switch(Nr(t,Ts(t)-3-(~KE(t,"!important")&&10))){case 107:return on(t,":",":"+rn)+t;case 101:return on(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rn+(Nr(t,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+Wr+"$2box$3")+t}break;case 5936:switch(Nr(t,e+11)){case 114:return rn+t+Wr+on(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rn+t+Wr+on(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rn+t+Wr+on(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return rn+t+Wr+t+t}return t}var JH=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case FS:e.return=fF(e.value,e.length);break;case sF:return Pd([ph(e,{value:on(e.value,"@","@"+rn)})],i);case kS:if(e.length)return OH(e.props,function(o){switch(FH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pd([ph(e,{props:[on(o,/:(read-\w+)/,":"+Wy+"$1")]})],i);case"::placeholder":return Pd([ph(e,{props:[on(o,/:(plac\w+)/,":"+rn+"input-$1")]}),ph(e,{props:[on(o,/:(plac\w+)/,":"+Wy+"$1")]}),ph(e,{props:[on(o,/:(plac\w+)/,Wr+"input-$1")]})],i)}return""})}},ZH=[JH],eG=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||ZH,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)o[y[g]]=!0;a.push(m)});var l,c=[XH,YH];{var u,d=[WH,$H(function(m){u.insert(m)})],f=VH(c.concat(i,d)),h=function(y){return Pd(HH(y),f)};l=function(y,g,v,b){u=v,h(y?y+"{"+g.styles+"}":g.styles),b&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new MH({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(null,arguments)}var hF={exports:{}},pn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=typeof Symbol=="function"&&Symbol.for,BS=Mr?Symbol.for("react.element"):60103,LS=Mr?Symbol.for("react.portal"):60106,fw=Mr?Symbol.for("react.fragment"):60107,hw=Mr?Symbol.for("react.strict_mode"):60108,pw=Mr?Symbol.for("react.profiler"):60114,mw=Mr?Symbol.for("react.provider"):60109,gw=Mr?Symbol.for("react.context"):60110,DS=Mr?Symbol.for("react.async_mode"):60111,yw=Mr?Symbol.for("react.concurrent_mode"):60111,vw=Mr?Symbol.for("react.forward_ref"):60112,ww=Mr?Symbol.for("react.suspense"):60113,tG=Mr?Symbol.for("react.suspense_list"):60120,bw=Mr?Symbol.for("react.memo"):60115,xw=Mr?Symbol.for("react.lazy"):60116,nG=Mr?Symbol.for("react.block"):60121,rG=Mr?Symbol.for("react.fundamental"):60117,iG=Mr?Symbol.for("react.responder"):60118,oG=Mr?Symbol.for("react.scope"):60119;function ao(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case BS:switch(t=t.type,t){case DS:case yw:case fw:case pw:case hw:case ww:return t;default:switch(t=t&&t.$$typeof,t){case gw:case vw:case xw:case bw:case mw:return t;default:return e}}case LS:return e}}}function pF(t){return ao(t)===yw}pn.AsyncMode=DS;pn.ConcurrentMode=yw;pn.ContextConsumer=gw;pn.ContextProvider=mw;pn.Element=BS;pn.ForwardRef=vw;pn.Fragment=fw;pn.Lazy=xw;pn.Memo=bw;pn.Portal=LS;pn.Profiler=pw;pn.StrictMode=hw;pn.Suspense=ww;pn.isAsyncMode=function(t){return pF(t)||ao(t)===DS};pn.isConcurrentMode=pF;pn.isContextConsumer=function(t){return ao(t)===gw};pn.isContextProvider=function(t){return ao(t)===mw};pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===BS};pn.isForwardRef=function(t){return ao(t)===vw};pn.isFragment=function(t){return ao(t)===fw};pn.isLazy=function(t){return ao(t)===xw};pn.isMemo=function(t){return ao(t)===bw};pn.isPortal=function(t){return ao(t)===LS};pn.isProfiler=function(t){return ao(t)===pw};pn.isStrictMode=function(t){return ao(t)===hw};pn.isSuspense=function(t){return ao(t)===ww};pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fw||t===yw||t===pw||t===hw||t===ww||t===tG||typeof t=="object"&&t!==null&&(t.$$typeof===xw||t.$$typeof===bw||t.$$typeof===mw||t.$$typeof===gw||t.$$typeof===vw||t.$$typeof===rG||t.$$typeof===iG||t.$$typeof===oG||t.$$typeof===nG)};pn.typeOf=ao;hF.exports=pn;var sG=hF.exports,mF=sG,aG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lG={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gF={};gF[mF.ForwardRef]=aG;gF[mF.Memo]=lG;var cG=!0;function yF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var US=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||cG===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},vF=function(e,n,r){US(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function uG(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var dG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fG=/[A-Z]|^ms/g,hG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wF=function(e){return e.charCodeAt(1)===45},uM=function(e){return e!=null&&typeof e!="boolean"},pb=dF(function(t){return wF(t)?t:t.replace(fG,"-$&").toLowerCase()}),dM=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(hG,function(r,i,o){return Ms={name:i,styles:o,next:Ms},i})}return dG[e]!==1&&!wF(e)&&typeof n=="number"&&n!==0?n+"px":n};function Mp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ms={name:i.name,styles:i.styles,next:Ms},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ms={name:s.name,styles:s.styles,next:Ms},s=s.next;var a=o.styles+";";return a}return pG(t,e,n)}case"function":{if(t!==void 0){var l=Ms,c=n(t);return Ms=l,Mp(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function pG(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mp(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":uM(a)&&(r+=pb(o)+":"+dM(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)uM(s[l])&&(r+=pb(o)+":"+dM(o,s[l])+";");else{var c=Mp(t,e,s);switch(o){case"animation":case"animationName":{r+=pb(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var fM=/label:\s*([^\s;{]+)\s*(;|$)/g,Ms;function zS(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ms=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Mp(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Mp(n,e,t[a]),r){var l=o;i+=l[a]}fM.lastIndex=0;for(var c="",u;(u=fM.exec(i))!==null;)c+="-"+u[1];var d=uG(i)+c;return{name:d,styles:i,next:Ms}}var mG=function(e){return e()},gG=qE.useInsertionEffect?qE.useInsertionEffect:!1,bF=gG||mG,xF=z.createContext(typeof HTMLElement<"u"?eG({key:"css"}):null);xF.Provider;var EF=function(e){return z.forwardRef(function(n,r){var i=z.useContext(xF);return e(n,i,r)})},$y=z.createContext({}),yG=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Vy({},e,n)},vG=lM(function(t){return lM(function(e){return yG(t,e)})}),qr=function(e){var n=z.useContext($y);return e.theme!==n&&(n=vG(n)(e.theme)),z.createElement($y.Provider,{value:n},e.children)},Um={}.hasOwnProperty,XE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",jS=function(e,n){var r={};for(var i in n)Um.call(n,i)&&(r[i]=n[i]);return r[XE]=e,r},wG=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return US(n,r,i),bF(function(){return vF(n,r,i)}),null},bG=EF(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[XE],o=[r],s="";typeof t.className=="string"?s=yF(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=zS(o,void 0,z.useContext($y));s+=e.key+"-"+a.name;var l={};for(var c in t)Um.call(t,c)&&c!=="css"&&c!==XE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),z.createElement(z.Fragment,null,z.createElement(wG,{cache:e,serialized:a,isStringTag:typeof i=="string"}),z.createElement(i,l))}),HS=bG,Na=vn.Fragment,F=function(e,n,r){return Um.call(n,"css")?vn.jsx(HS,jS(e,n),r):vn.jsx(e,n,r)},K=function(e,n,r){return Um.call(n,"css")?vn.jsxs(HS,jS(e,n),r):vn.jsxs(e,n,r)},GS={},Ew={};Ew.byteLength=AG;Ew.toByteArray=SG;Ew.fromByteArray=MG;var Ps=[],vo=[],xG=typeof Uint8Array<"u"?Uint8Array:Array,mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zu=0,EG=mb.length;zu<EG;++zu)Ps[zu]=mb[zu],vo[mb.charCodeAt(zu)]=zu;vo[45]=62;vo[95]=63;function AF(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function AG(t){var e=AF(t),n=e[0],r=e[1];return(n+r)*3/4-r}function _G(t,e,n){return(e+n)*3/4-n}function SG(t){var e,n=AF(t),r=n[0],i=n[1],o=new xG(_G(t,r,i)),s=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=vo[t.charCodeAt(l)]<<18|vo[t.charCodeAt(l+1)]<<12|vo[t.charCodeAt(l+2)]<<6|vo[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=vo[t.charCodeAt(l)]<<2|vo[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=vo[t.charCodeAt(l)]<<10|vo[t.charCodeAt(l+1)]<<4|vo[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function CG(t){return Ps[t>>18&63]+Ps[t>>12&63]+Ps[t>>6&63]+Ps[t&63]}function TG(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(CG(r));return i.join("")}function MG(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(TG(t,s,s+o>a?a:s+o));return r===1?(e=t[n-1],i.push(Ps[e>>2]+Ps[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ps[e>>10]+Ps[e>>4&63]+Ps[e<<2&63]+"=")),i.join("")}var WS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */WS.read=function(t,e,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+t[e+d],d+=f,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(h?-1:1)*s*Math.pow(2,o-r)};WS.write=function(t,e,n,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+h]=a&255,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+h]=s&255,h+=p,s/=256,c-=8);t[n+h-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Ew,n=WS,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const j=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(j,_),j.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(j){if(j>i)throw new RangeError('The value "'+j+'" is invalid for option "size"');const _=new Uint8Array(j);return Object.setPrototypeOf(_,a.prototype),_}function a(j,_,R){if(typeof j=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(j)}return l(j,_,R)}a.poolSize=8192;function l(j,_,R){if(typeof j=="string")return f(j,_);if(ArrayBuffer.isView(j))return p(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(V(j,ArrayBuffer)||j&&V(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(j,SharedArrayBuffer)||j&&V(j.buffer,SharedArrayBuffer)))return m(j,_,R);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=j.valueOf&&j.valueOf();if(Q!=null&&Q!==j)return a.from(Q,_,R);const Y=y(j);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return a.from(j[Symbol.toPrimitive]("string"),_,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}a.from=function(j,_,R){return l(j,_,R)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function u(j,_,R){return c(j),j<=0?s(j):_!==void 0?typeof R=="string"?s(j).fill(_,R):s(j).fill(_):s(j)}a.alloc=function(j,_,R){return u(j,_,R)};function d(j){return c(j),s(j<0?0:g(j)|0)}a.allocUnsafe=function(j){return d(j)},a.allocUnsafeSlow=function(j){return d(j)};function f(j,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const R=b(j,_)|0;let Q=s(R);const Y=Q.write(j,_);return Y!==R&&(Q=Q.slice(0,Y)),Q}function h(j){const _=j.length<0?0:g(j.length)|0,R=s(_);for(let Q=0;Q<_;Q+=1)R[Q]=j[Q]&255;return R}function p(j){if(V(j,Uint8Array)){const _=new Uint8Array(j);return m(_.buffer,_.byteOffset,_.byteLength)}return h(j)}function m(j,_,R){if(_<0||j.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<_+(R||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return _===void 0&&R===void 0?Q=new Uint8Array(j):R===void 0?Q=new Uint8Array(j,_):Q=new Uint8Array(j,_,R),Object.setPrototypeOf(Q,a.prototype),Q}function y(j){if(a.isBuffer(j)){const _=g(j.length)|0,R=s(_);return R.length===0||j.copy(R,0,0,_),R}if(j.length!==void 0)return typeof j.length!="number"||de(j.length)?s(0):h(j);if(j.type==="Buffer"&&Array.isArray(j.data))return h(j.data)}function g(j){if(j>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return j|0}function v(j){return+j!=j&&(j=0),a.alloc(+j)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,R){if(V(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),V(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(_)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===R)return 0;let Q=_.length,Y=R.length;for(let ee=0,te=Math.min(Q,Y);ee<te;++ee)if(_[ee]!==R[ee]){Q=_[ee],Y=R[ee];break}return Q<Y?-1:Y<Q?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,R){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);let Q;if(R===void 0)for(R=0,Q=0;Q<_.length;++Q)R+=_[Q].length;const Y=a.allocUnsafe(R);let ee=0;for(Q=0;Q<_.length;++Q){let te=_[Q];if(V(te,Uint8Array))ee+te.length>Y.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(Y,ee)):Uint8Array.prototype.set.call(Y,te,ee);else if(a.isBuffer(te))te.copy(Y,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=te.length}return Y};function b(j,_){if(a.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||V(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const R=j.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&R===0)return 0;let Y=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return ut(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return nt(j).length;default:if(Y)return Q?-1:ut(j).length;_=(""+_).toLowerCase(),Y=!0}}a.byteLength=b;function x(j,_,R){let Q=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,_>>>=0,R<=_))return"";for(j||(j="utf8");;)switch(j){case"hex":return H(this,_,R);case"utf8":case"utf-8":return w(this,_,R);case"ascii":return O(this,_,R);case"latin1":case"binary":return C(this,_,R);case"base64":return B(this,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,_,R);default:if(Q)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),Q=!0}}a.prototype._isBuffer=!0;function I(j,_,R){const Q=j[_];j[_]=j[R],j[R]=Q}a.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<_;R+=2)I(this,R,R+1);return this},a.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<_;R+=4)I(this,R,R+3),I(this,R+1,R+2);return this},a.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<_;R+=8)I(this,R,R+7),I(this,R+1,R+6),I(this,R+2,R+5),I(this,R+3,R+4);return this},a.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?w(this,0,_):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){let _="";const R=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(_+=" ... "),"<Buffer "+_+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(_,R,Q,Y,ee){if(V(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(R===void 0&&(R=0),Q===void 0&&(Q=_?_.length:0),Y===void 0&&(Y=0),ee===void 0&&(ee=this.length),R<0||Q>_.length||Y<0||ee>this.length)throw new RangeError("out of range index");if(Y>=ee&&R>=Q)return 0;if(Y>=ee)return-1;if(R>=Q)return 1;if(R>>>=0,Q>>>=0,Y>>>=0,ee>>>=0,this===_)return 0;let te=ee-Y,Be=Q-R;const Ne=Math.min(te,Be),He=this.slice(Y,ee),dt=_.slice(R,Q);for(let et=0;et<Ne;++et)if(He[et]!==dt[et]){te=He[et],Be=dt[et];break}return te<Be?-1:Be<te?1:0};function k(j,_,R,Q,Y){if(j.length===0)return-1;if(typeof R=="string"?(Q=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,de(R)&&(R=Y?0:j.length-1),R<0&&(R=j.length+R),R>=j.length){if(Y)return-1;R=j.length-1}else if(R<0)if(Y)R=0;else return-1;if(typeof _=="string"&&(_=a.from(_,Q)),a.isBuffer(_))return _.length===0?-1:A(j,_,R,Q,Y);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(j,_,R):Uint8Array.prototype.lastIndexOf.call(j,_,R):A(j,[_],R,Q,Y);throw new TypeError("val must be string, number or Buffer")}function A(j,_,R,Q,Y){let ee=1,te=j.length,Be=_.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(j.length<2||_.length<2)return-1;ee=2,te/=2,Be/=2,R/=2}function Ne(dt,et){return ee===1?dt[et]:dt.readUInt16BE(et*ee)}let He;if(Y){let dt=-1;for(He=R;He<te;He++)if(Ne(j,He)===Ne(_,dt===-1?0:He-dt)){if(dt===-1&&(dt=He),He-dt+1===Be)return dt*ee}else dt!==-1&&(He-=He-dt),dt=-1}else for(R+Be>te&&(R=te-Be),He=R;He>=0;He--){let dt=!0;for(let et=0;et<Be;et++)if(Ne(j,He+et)!==Ne(_,et)){dt=!1;break}if(dt)return He}return-1}a.prototype.includes=function(_,R,Q){return this.indexOf(_,R,Q)!==-1},a.prototype.indexOf=function(_,R,Q){return k(this,_,R,Q,!0)},a.prototype.lastIndexOf=function(_,R,Q){return k(this,_,R,Q,!1)};function U(j,_,R,Q){R=Number(R)||0;const Y=j.length-R;Q?(Q=Number(Q),Q>Y&&(Q=Y)):Q=Y;const ee=_.length;Q>ee/2&&(Q=ee/2);let te;for(te=0;te<Q;++te){const Be=parseInt(_.substr(te*2,2),16);if(de(Be))return te;j[R+te]=Be}return te}function S(j,_,R,Q){return X(ut(_,j.length-R),j,R,Q)}function N(j,_,R,Q){return X(Ye(_),j,R,Q)}function P(j,_,R,Q){return X(nt(_),j,R,Q)}function G(j,_,R,Q){return X(Nt(_,j.length-R),j,R,Q)}a.prototype.write=function(_,R,Q,Y){if(R===void 0)Y="utf8",Q=this.length,R=0;else if(Q===void 0&&typeof R=="string")Y=R,Q=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(Q)?(Q=Q>>>0,Y===void 0&&(Y="utf8")):(Y=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ee=this.length-R;if((Q===void 0||Q>ee)&&(Q=ee),_.length>0&&(Q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let te=!1;for(;;)switch(Y){case"hex":return U(this,_,R,Q);case"utf8":case"utf-8":return S(this,_,R,Q);case"ascii":case"latin1":case"binary":return N(this,_,R,Q);case"base64":return P(this,_,R,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,_,R,Q);default:if(te)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(j,_,R){return _===0&&R===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(_,R))}function w(j,_,R){R=Math.min(j.length,R);const Q=[];let Y=_;for(;Y<R;){const ee=j[Y];let te=null,Be=ee>239?4:ee>223?3:ee>191?2:1;if(Y+Be<=R){let Ne,He,dt,et;switch(Be){case 1:ee<128&&(te=ee);break;case 2:Ne=j[Y+1],(Ne&192)===128&&(et=(ee&31)<<6|Ne&63,et>127&&(te=et));break;case 3:Ne=j[Y+1],He=j[Y+2],(Ne&192)===128&&(He&192)===128&&(et=(ee&15)<<12|(Ne&63)<<6|He&63,et>2047&&(et<55296||et>57343)&&(te=et));break;case 4:Ne=j[Y+1],He=j[Y+2],dt=j[Y+3],(Ne&192)===128&&(He&192)===128&&(dt&192)===128&&(et=(ee&15)<<18|(Ne&63)<<12|(He&63)<<6|dt&63,et>65535&&et<1114112&&(te=et))}}te===null?(te=65533,Be=1):te>65535&&(te-=65536,Q.push(te>>>10&1023|55296),te=56320|te&1023),Q.push(te),Y+=Be}return M(Q)}const E=4096;function M(j){const _=j.length;if(_<=E)return String.fromCharCode.apply(String,j);let R="",Q=0;for(;Q<_;)R+=String.fromCharCode.apply(String,j.slice(Q,Q+=E));return R}function O(j,_,R){let Q="";R=Math.min(j.length,R);for(let Y=_;Y<R;++Y)Q+=String.fromCharCode(j[Y]&127);return Q}function C(j,_,R){let Q="";R=Math.min(j.length,R);for(let Y=_;Y<R;++Y)Q+=String.fromCharCode(j[Y]);return Q}function H(j,_,R){const Q=j.length;(!_||_<0)&&(_=0),(!R||R<0||R>Q)&&(R=Q);let Y="";for(let ee=_;ee<R;++ee)Y+=be[j[ee]];return Y}function W(j,_,R){const Q=j.slice(_,R);let Y="";for(let ee=0;ee<Q.length-1;ee+=2)Y+=String.fromCharCode(Q[ee]+Q[ee+1]*256);return Y}a.prototype.slice=function(_,R){const Q=this.length;_=~~_,R=R===void 0?Q:~~R,_<0?(_+=Q,_<0&&(_=0)):_>Q&&(_=Q),R<0?(R+=Q,R<0&&(R=0)):R>Q&&(R=Q),R<_&&(R=_);const Y=this.subarray(_,R);return Object.setPrototypeOf(Y,a.prototype),Y};function D(j,_,R){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+_>R)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=this[_],ee=1,te=0;for(;++te<R&&(ee*=256);)Y+=this[_+te]*ee;return Y},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=this[_+--R],ee=1;for(;R>0&&(ee*=256);)Y+=this[_+--R]*ee;return Y},a.prototype.readUint8=a.prototype.readUInt8=function(_,R){return _=_>>>0,R||D(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,R){return _=_>>>0,R||D(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,R){return _=_>>>0,R||D(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,R){return _=_>>>0,R||D(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,R){return _=_>>>0,R||D(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readBigUInt64LE=Me(function(_){_=_>>>0,At(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&oe(_,this.length-8);const Y=R+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ee=this[++_]+this[++_]*2**8+this[++_]*2**16+Q*2**24;return BigInt(Y)+(BigInt(ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=Me(function(_){_=_>>>0,At(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&oe(_,this.length-8);const Y=R*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ee=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Q;return(BigInt(Y)<<BigInt(32))+BigInt(ee)}),a.prototype.readIntLE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=this[_],ee=1,te=0;for(;++te<R&&(ee*=256);)Y+=this[_+te]*ee;return ee*=128,Y>=ee&&(Y-=Math.pow(2,8*R)),Y},a.prototype.readIntBE=function(_,R,Q){_=_>>>0,R=R>>>0,Q||D(_,R,this.length);let Y=R,ee=1,te=this[_+--Y];for(;Y>0&&(ee*=256);)te+=this[_+--Y]*ee;return ee*=128,te>=ee&&(te-=Math.pow(2,8*R)),te},a.prototype.readInt8=function(_,R){return _=_>>>0,R||D(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,R){_=_>>>0,R||D(_,2,this.length);const Q=this[_]|this[_+1]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt16BE=function(_,R){_=_>>>0,R||D(_,2,this.length);const Q=this[_+1]|this[_]<<8;return Q&32768?Q|4294901760:Q},a.prototype.readInt32LE=function(_,R){return _=_>>>0,R||D(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,R){return _=_>>>0,R||D(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readBigInt64LE=Me(function(_){_=_>>>0,At(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&oe(_,this.length-8);const Y=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(Q<<24);return(BigInt(Y)<<BigInt(32))+BigInt(R+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),a.prototype.readBigInt64BE=Me(function(_){_=_>>>0,At(_,"offset");const R=this[_],Q=this[_+7];(R===void 0||Q===void 0)&&oe(_,this.length-8);const Y=(R<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(Y)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Q)}),a.prototype.readFloatLE=function(_,R){return _=_>>>0,R||D(_,4,this.length),n.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,R){return _=_>>>0,R||D(_,4,this.length),n.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,R){return _=_>>>0,R||D(_,8,this.length),n.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,R){return _=_>>>0,R||D(_,8,this.length),n.read(this,_,!1,52,8)};function T(j,_,R,Q,Y,ee){if(!a.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>Y||_<ee)throw new RangeError('"value" argument is out of bounds');if(R+Q>j.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,R,Q,Y){if(_=+_,R=R>>>0,Q=Q>>>0,!Y){const Be=Math.pow(2,8*Q)-1;T(this,_,R,Q,Be,0)}let ee=1,te=0;for(this[R]=_&255;++te<Q&&(ee*=256);)this[R+te]=_/ee&255;return R+Q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,R,Q,Y){if(_=+_,R=R>>>0,Q=Q>>>0,!Y){const Be=Math.pow(2,8*Q)-1;T(this,_,R,Q,Be,0)}let ee=Q-1,te=1;for(this[R+ee]=_&255;--ee>=0&&(te*=256);)this[R+ee]=_/te&255;return R+Q},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,1,255,0),this[R]=_&255,R+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,2,65535,0),this[R]=_&255,this[R+1]=_>>>8,R+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,2,65535,0),this[R]=_>>>8,this[R+1]=_&255,R+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,4,4294967295,0),this[R+3]=_>>>24,this[R+2]=_>>>16,this[R+1]=_>>>8,this[R]=_&255,R+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,4,4294967295,0),this[R]=_>>>24,this[R+1]=_>>>16,this[R+2]=_>>>8,this[R+3]=_&255,R+4};function $(j,_,R,Q,Y){Fe(_,Q,Y,j,R,7);let ee=Number(_&BigInt(4294967295));j[R++]=ee,ee=ee>>8,j[R++]=ee,ee=ee>>8,j[R++]=ee,ee=ee>>8,j[R++]=ee;let te=Number(_>>BigInt(32)&BigInt(4294967295));return j[R++]=te,te=te>>8,j[R++]=te,te=te>>8,j[R++]=te,te=te>>8,j[R++]=te,R}function J(j,_,R,Q,Y){Fe(_,Q,Y,j,R,7);let ee=Number(_&BigInt(4294967295));j[R+7]=ee,ee=ee>>8,j[R+6]=ee,ee=ee>>8,j[R+5]=ee,ee=ee>>8,j[R+4]=ee;let te=Number(_>>BigInt(32)&BigInt(4294967295));return j[R+3]=te,te=te>>8,j[R+2]=te,te=te>>8,j[R+1]=te,te=te>>8,j[R]=te,R+8}a.prototype.writeBigUInt64LE=Me(function(_,R=0){return $(this,_,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Me(function(_,R=0){return J(this,_,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(_,R,Q,Y){if(_=+_,R=R>>>0,!Y){const Ne=Math.pow(2,8*Q-1);T(this,_,R,Q,Ne-1,-Ne)}let ee=0,te=1,Be=0;for(this[R]=_&255;++ee<Q&&(te*=256);)_<0&&Be===0&&this[R+ee-1]!==0&&(Be=1),this[R+ee]=(_/te>>0)-Be&255;return R+Q},a.prototype.writeIntBE=function(_,R,Q,Y){if(_=+_,R=R>>>0,!Y){const Ne=Math.pow(2,8*Q-1);T(this,_,R,Q,Ne-1,-Ne)}let ee=Q-1,te=1,Be=0;for(this[R+ee]=_&255;--ee>=0&&(te*=256);)_<0&&Be===0&&this[R+ee+1]!==0&&(Be=1),this[R+ee]=(_/te>>0)-Be&255;return R+Q},a.prototype.writeInt8=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,1,127,-128),_<0&&(_=255+_+1),this[R]=_&255,R+1},a.prototype.writeInt16LE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,2,32767,-32768),this[R]=_&255,this[R+1]=_>>>8,R+2},a.prototype.writeInt16BE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,2,32767,-32768),this[R]=_>>>8,this[R+1]=_&255,R+2},a.prototype.writeInt32LE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,4,2147483647,-2147483648),this[R]=_&255,this[R+1]=_>>>8,this[R+2]=_>>>16,this[R+3]=_>>>24,R+4},a.prototype.writeInt32BE=function(_,R,Q){return _=+_,R=R>>>0,Q||T(this,_,R,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[R]=_>>>24,this[R+1]=_>>>16,this[R+2]=_>>>8,this[R+3]=_&255,R+4},a.prototype.writeBigInt64LE=Me(function(_,R=0){return $(this,_,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Me(function(_,R=0){return J(this,_,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(j,_,R,Q,Y,ee){if(R+Q>j.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ce(j,_,R,Q,Y){return _=+_,R=R>>>0,Y||Z(j,_,R,4),n.write(j,_,R,Q,23,4),R+4}a.prototype.writeFloatLE=function(_,R,Q){return ce(this,_,R,!0,Q)},a.prototype.writeFloatBE=function(_,R,Q){return ce(this,_,R,!1,Q)};function ie(j,_,R,Q,Y){return _=+_,R=R>>>0,Y||Z(j,_,R,8),n.write(j,_,R,Q,52,8),R+8}a.prototype.writeDoubleLE=function(_,R,Q){return ie(this,_,R,!0,Q)},a.prototype.writeDoubleBE=function(_,R,Q){return ie(this,_,R,!1,Q)},a.prototype.copy=function(_,R,Q,Y){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!Y&&Y!==0&&(Y=this.length),R>=_.length&&(R=_.length),R||(R=0),Y>0&&Y<Q&&(Y=Q),Y===Q||_.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),_.length-R<Y-Q&&(Y=_.length-R+Q);const ee=Y-Q;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,Q,Y):Uint8Array.prototype.set.call(_,this.subarray(Q,Y),R),ee},a.prototype.fill=function(_,R,Q,Y){if(typeof _=="string"){if(typeof R=="string"?(Y=R,R=0,Q=this.length):typeof Q=="string"&&(Y=Q,Q=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!a.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(_.length===1){const te=_.charCodeAt(0);(Y==="utf8"&&te<128||Y==="latin1")&&(_=te)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(R<0||this.length<R||this.length<Q)throw new RangeError("Out of range index");if(Q<=R)return this;R=R>>>0,Q=Q===void 0?this.length:Q>>>0,_||(_=0);let ee;if(typeof _=="number")for(ee=R;ee<Q;++ee)this[ee]=_;else{const te=a.isBuffer(_)?_:a.from(_,Y),Be=te.length;if(Be===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ee=0;ee<Q-R;++ee)this[ee+R]=te[ee%Be]}return this};const xe={};function ue(j,_,R){xe[j]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}ue("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ue("ERR_INVALID_ARG_TYPE",function(j,_){return`The "${j}" argument must be of type number. Received type ${typeof _}`},TypeError),ue("ERR_OUT_OF_RANGE",function(j,_,R){let Q=`The value of "${j}" is out of range.`,Y=R;return Number.isInteger(R)&&Math.abs(R)>2**32?Y=Ie(String(R)):typeof R=="bigint"&&(Y=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(Y=Ie(Y)),Y+="n"),Q+=` It must be ${_}. Received ${Y}`,Q},RangeError);function Ie(j){let _="",R=j.length;const Q=j[0]==="-"?1:0;for(;R>=Q+4;R-=3)_=`_${j.slice(R-3,R)}${_}`;return`${j.slice(0,R)}${_}`}function Ge(j,_,R){At(_,"offset"),(j[_]===void 0||j[_+R]===void 0)&&oe(_,j.length-(R+1))}function Fe(j,_,R,Q,Y,ee){if(j>R||j<_){const te=typeof _=="bigint"?"n":"";let Be;throw _===0||_===BigInt(0)?Be=`>= 0${te} and < 2${te} ** ${(ee+1)*8}${te}`:Be=`>= -(2${te} ** ${(ee+1)*8-1}${te}) and < 2 ** ${(ee+1)*8-1}${te}`,new xe.ERR_OUT_OF_RANGE("value",Be,j)}Ge(Q,Y,ee)}function At(j,_){if(typeof j!="number")throw new xe.ERR_INVALID_ARG_TYPE(_,"number",j)}function oe(j,_,R){throw Math.floor(j)!==j?(At(j,R),new xe.ERR_OUT_OF_RANGE("offset","an integer",j)):_<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,j)}const ct=/[^+/0-9A-Za-z-_]/g;function Tt(j){if(j=j.split("=")[0],j=j.trim().replace(ct,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function ut(j,_){_=_||1/0;let R;const Q=j.length;let Y=null;const ee=[];for(let te=0;te<Q;++te){if(R=j.charCodeAt(te),R>55295&&R<57344){if(!Y){if(R>56319){(_-=3)>-1&&ee.push(239,191,189);continue}else if(te+1===Q){(_-=3)>-1&&ee.push(239,191,189);continue}Y=R;continue}if(R<56320){(_-=3)>-1&&ee.push(239,191,189),Y=R;continue}R=(Y-55296<<10|R-56320)+65536}else Y&&(_-=3)>-1&&ee.push(239,191,189);if(Y=null,R<128){if((_-=1)<0)break;ee.push(R)}else if(R<2048){if((_-=2)<0)break;ee.push(R>>6|192,R&63|128)}else if(R<65536){if((_-=3)<0)break;ee.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((_-=4)<0)break;ee.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ee}function Ye(j){const _=[];for(let R=0;R<j.length;++R)_.push(j.charCodeAt(R)&255);return _}function Nt(j,_){let R,Q,Y;const ee=[];for(let te=0;te<j.length&&!((_-=2)<0);++te)R=j.charCodeAt(te),Q=R>>8,Y=R%256,ee.push(Y),ee.push(Q);return ee}function nt(j){return e.toByteArray(Tt(j))}function X(j,_,R,Q){let Y;for(Y=0;Y<Q&&!(Y+R>=_.length||Y>=j.length);++Y)_[Y+R]=j[Y];return Y}function V(j,_){return j instanceof _||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===_.name}function de(j){return j!==j}const be=function(){const j="0123456789abcdef",_=new Array(256);for(let R=0;R<16;++R){const Q=R*16;for(let Y=0;Y<16;++Y)_[Q+Y]=j[R]+j[Y]}return _}();function Me(j){return typeof BigInt>"u"?me:j}function me(){throw new Error("BigInt not supported")}})(GS);var _F={exports:{}},Qn=_F.exports={},Ss,Cs;function YE(){throw new Error("setTimeout has not been defined")}function JE(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ss=setTimeout:Ss=YE}catch{Ss=YE}try{typeof clearTimeout=="function"?Cs=clearTimeout:Cs=JE}catch{Cs=JE}})();function SF(t){if(Ss===setTimeout)return setTimeout(t,0);if((Ss===YE||!Ss)&&setTimeout)return Ss=setTimeout,setTimeout(t,0);try{return Ss(t,0)}catch{try{return Ss.call(null,t,0)}catch{return Ss.call(this,t,0)}}}function IG(t){if(Cs===clearTimeout)return clearTimeout(t);if((Cs===JE||!Cs)&&clearTimeout)return Cs=clearTimeout,clearTimeout(t);try{return Cs(t)}catch{try{return Cs.call(null,t)}catch{return Cs.call(this,t)}}}var wa=[],Nd=!1,Tc,ty=-1;function RG(){!Nd||!Tc||(Nd=!1,Tc.length?wa=Tc.concat(wa):ty=-1,wa.length&&CF())}function CF(){if(!Nd){var t=SF(RG);Nd=!0;for(var e=wa.length;e;){for(Tc=wa,wa=[];++ty<e;)Tc&&Tc[ty].run();ty=-1,e=wa.length}Tc=null,Nd=!1,IG(t)}}Qn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];wa.push(new TF(t,e)),wa.length===1&&!Nd&&SF(CF)};function TF(t,e){this.fun=t,this.array=e}TF.prototype.run=function(){this.fun.apply(null,this.array)};Qn.title="browser";Qn.browser=!0;Qn.env={};Qn.argv=[];Qn.version="";Qn.versions={};function Ga(){}Qn.on=Ga;Qn.addListener=Ga;Qn.once=Ga;Qn.off=Ga;Qn.removeListener=Ga;Qn.removeAllListeners=Ga;Qn.emit=Ga;Qn.prependListener=Ga;Qn.prependOnceListener=Ga;Qn.listeners=function(t){return[]};Qn.binding=function(t){throw new Error("process.binding is not supported")};Qn.cwd=function(){return"/"};Qn.chdir=function(t){throw new Error("process.chdir is not supported")};Qn.umask=function(){return 0};var PG=_F.exports;const NG=Bm(PG);window.Buffer=GS.Buffer;window.process=NG;typeof window<"u"&&(window.global=window.global||window,!window.URL&&window.webkitURL&&(window.URL=window.webkitURL));window.require=function(t){switch(t){case"stream":return require("stream-browserify");case"crypto":return require("crypto-browserify");case"util":return require("util");case"buffer":return require("buffer");case"process":return require("process/browser");case"zlib":return require("browserify-zlib");case"path":return require("path-browserify");default:throw new Error(`Module ${t} not found`)}};var ZE={},MF={exports:{}},lo={},IF={exports:{}},RF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,H){var W=C.length;C.push(H);e:for(;0<W;){var D=W-1>>>1,T=C[D];if(0<i(T,H))C[D]=H,C[W]=T,W=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],W=C.pop();if(W!==H){C[0]=W;e:for(var D=0,T=C.length,$=T>>>1;D<$;){var J=2*(D+1)-1,Z=C[J],ce=J+1,ie=C[ce];if(0>i(Z,W))ce<T&&0>i(ie,Z)?(C[D]=ie,C[ce]=W,D=ce):(C[D]=Z,C[J]=W,D=J);else if(ce<T&&0>i(ie,W))C[D]=ie,C[ce]=W,D=ce;else break e}}return H}function i(C,H){var W=C.sortIndex-H.sortIndex;return W!==0?W:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(C){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=C)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function x(C){if(m=!1,b(C),!p)if(n(l)!==null)p=!0,M(I);else{var H=n(c);H!==null&&O(x,H.startTime-C)}}function I(C,H){p=!1,m&&(m=!1,g(U),U=-1),h=!0;var W=f;try{for(b(H),d=n(l);d!==null&&(!(d.expirationTime>H)||C&&!P());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var T=D(d.expirationTime<=H);H=t.unstable_now(),typeof T=="function"?d.callback=T:d===n(l)&&r(l),b(H)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var J=n(c);J!==null&&O(x,J.startTime-H),$=!1}return $}finally{d=null,f=W,h=!1}}var k=!1,A=null,U=-1,S=5,N=-1;function P(){return!(t.unstable_now()-N<S)}function G(){if(A!==null){var C=t.unstable_now();N=C;var H=!0;try{H=A(!0,C)}finally{H?B():(k=!1,A=null)}}else k=!1}var B;if(typeof v=="function")B=function(){v(G)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,E=w.port2;w.port1.onmessage=G,B=function(){E.postMessage(null)}}else B=function(){y(G,0)};function M(C){A=C,k||(k=!0,B())}function O(C,H){U=y(function(){C(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,M(I))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var W=f;f=H;try{return C()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var W=f;f=C;try{return H()}finally{f=W}},t.unstable_scheduleCallback=function(C,H,W){var D=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?D+W:D):W=D,C){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=W+T,C={id:u++,callback:H,priorityLevel:C,startTime:W,expirationTime:T,sortIndex:-1},W>D?(C.sortIndex=W,e(c,C),n(l)===null&&C===n(c)&&(m?(g(U),U=-1):m=!0,O(x,W-D))):(C.sortIndex=T,e(l,C),p||h||(p=!0,M(I))),C},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(C){var H=f;return function(){var W=f;f=H;try{return C.apply(this,arguments)}finally{f=W}}}})(RF);IF.exports=RF;var kG=IF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FG=z,so=kG;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PF=new Set,Ip={};function Su(t,e){Jd(t,e),Jd(t+"Capture",e)}function Jd(t,e){for(Ip[t]=e,t=0;t<e.length;t++)PF.add(e[t])}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eA=Object.prototype.hasOwnProperty,OG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hM={},pM={};function BG(t){return eA.call(pM,t)?!0:eA.call(hM,t)?!1:OG.test(t)?pM[t]=!0:(hM[t]=!0,!1)}function LG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DG(t,e,n,r){if(e===null||typeof e>"u"||LG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ur[t]=new yi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ur[e]=new yi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ur[t]=new yi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ur[t]=new yi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ur[t]=new yi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ur[t]=new yi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ur[t]=new yi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ur[t]=new yi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ur[t]=new yi(t,5,!1,t.toLowerCase(),null,!1,!1)});var VS=/[\-:]([a-z])/g;function $S(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(VS,$S);Ur[e]=new yi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(VS,$S);Ur[e]=new yi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(VS,$S);Ur[e]=new yi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ur[t]=new yi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ur[t]=new yi(t,1,!1,t.toLowerCase(),null,!0,!0)});function qS(t,e,n,r){var i=Ur.hasOwnProperty(e)?Ur[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DG(e,n,i,r)&&(n=null),r||i===null?BG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wa=FG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C0=Symbol.for("react.element"),hd=Symbol.for("react.portal"),pd=Symbol.for("react.fragment"),KS=Symbol.for("react.strict_mode"),tA=Symbol.for("react.profiler"),NF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),nA=Symbol.for("react.suspense"),rA=Symbol.for("react.suspense_list"),XS=Symbol.for("react.memo"),ml=Symbol.for("react.lazy"),FF=Symbol.for("react.offscreen"),mM=Symbol.iterator;function mh(t){return t===null||typeof t!="object"?null:(t=mM&&t[mM]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,gb;function Vh(t){if(gb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gb=e&&e[1]||""}return`
`+gb+t}var yb=!1;function vb(t,e){if(!t||yb)return"";yb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{yb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vh(t):""}function UG(t){switch(t.tag){case 5:return Vh(t.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return t=vb(t.type,!1),t;case 11:return t=vb(t.type.render,!1),t;case 1:return t=vb(t.type,!0),t;default:return""}}function iA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pd:return"Fragment";case hd:return"Portal";case tA:return"Profiler";case KS:return"StrictMode";case nA:return"Suspense";case rA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kF:return(t.displayName||"Context")+".Consumer";case NF:return(t._context.displayName||"Context")+".Provider";case QS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case XS:return e=t.displayName||null,e!==null?e:iA(t.type)||"Memo";case ml:e=t._payload,t=t._init;try{return iA(t(e))}catch{}}return null}function zG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iA(e);case 8:return e===KS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jG(t){var e=OF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function T0(t){t._valueTracker||(t._valueTracker=jG(t))}function BF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oA(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gM(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LF(t,e){e=e.checked,e!=null&&qS(t,"checked",e,!1)}function sA(t,e){LF(t,e);var n=zl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?aA(t,e.type,n):e.hasOwnProperty("defaultValue")&&aA(t,e.type,zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yM(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function aA(t,e,n){(e!=="number"||qy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $h=Array.isArray;function kd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vM(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if($h(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zl(n)}}function DF(t,e){var n=zl(e.value),r=zl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var M0,zF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(M0=M0||document.createElement("div"),M0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=M0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HG=["Webkit","ms","Moz","O"];Object.keys(ip).forEach(function(t){HG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ip[e]=ip[t]})});function jF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ip.hasOwnProperty(t)&&ip[t]?(""+e).trim():e+"px"}function HF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GG=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uA(t,e){if(e){if(GG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function dA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fA=null;function YS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hA=null,Fd=null,Od=null;function bM(t){if(t=Hm(t)){if(typeof hA!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Tw(e),hA(t.stateNode,t.type,e))}}function GF(t){Fd?Od?Od.push(t):Od=[t]:Fd=t}function WF(){if(Fd){var t=Fd,e=Od;if(Od=Fd=null,bM(t),e)for(t=0;t<e.length;t++)bM(e[t])}}function VF(t,e){return t(e)}function $F(){}var wb=!1;function qF(t,e,n){if(wb)return t(e,n);wb=!0;try{return VF(t,e,n)}finally{wb=!1,(Fd!==null||Od!==null)&&($F(),WF())}}function Pp(t,e){var n=t.stateNode;if(n===null)return null;var r=Tw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var pA=!1;if(ka)try{var gh={};Object.defineProperty(gh,"passive",{get:function(){pA=!0}}),window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{pA=!1}function WG(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var op=!1,Ky=null,Qy=!1,mA=null,VG={onError:function(t){op=!0,Ky=t}};function $G(t,e,n,r,i,o,s,a,l){op=!1,Ky=null,WG.apply(VG,arguments)}function qG(t,e,n,r,i,o,s,a,l){if($G.apply(this,arguments),op){if(op){var c=Ky;op=!1,Ky=null}else throw Error(je(198));Qy||(Qy=!0,mA=c)}}function Cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xM(t){if(Cu(t)!==t)throw Error(je(188))}function KG(t){var e=t.alternate;if(!e){if(e=Cu(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xM(i),t;if(o===r)return xM(i),e;o=o.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function QF(t){return t=KG(t),t!==null?XF(t):null}function XF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XF(t);if(e!==null)return e;t=t.sibling}return null}var YF=so.unstable_scheduleCallback,EM=so.unstable_cancelCallback,QG=so.unstable_shouldYield,XG=so.unstable_requestPaint,qn=so.unstable_now,YG=so.unstable_getCurrentPriorityLevel,JS=so.unstable_ImmediatePriority,JF=so.unstable_UserBlockingPriority,Xy=so.unstable_NormalPriority,JG=so.unstable_LowPriority,ZF=so.unstable_IdlePriority,Aw=null,Us=null;function ZG(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(Aw,t,void 0,(t.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:nW,eW=Math.log,tW=Math.LN2;function nW(t){return t>>>=0,t===0?32:31-(eW(t)/tW|0)|0}var I0=64,R0=4194304;function qh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=qh(a):(o&=s,o!==0&&(r=qh(o)))}else s=n&~i,s!==0?r=qh(s):o!==0&&(r=qh(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-os(e),i=1<<n,r|=t[n],e&=~i;return r}function rW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-os(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=rW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function gA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eO(){var t=I0;return I0<<=1,!(I0&4194240)&&(I0=64),t}function bb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-os(e),t[e]=n}function oW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-os(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ZS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-os(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var hn=0;function tO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nO,eC,rO,iO,oO,yA=!1,P0=[],Cl=null,Tl=null,Ml=null,Np=new Map,kp=new Map,vl=[],sW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AM(t,e){switch(t){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function yh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Hm(e),e!==null&&eC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aW(t,e,n,r,i){switch(e){case"focusin":return Cl=yh(Cl,t,e,n,r,i),!0;case"dragenter":return Tl=yh(Tl,t,e,n,r,i),!0;case"mouseover":return Ml=yh(Ml,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Np.set(o,yh(Np.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kp.set(o,yh(kp.get(o)||null,t,e,n,r,i)),!0}return!1}function sO(t){var e=Mc(t.target);if(e!==null){var n=Cu(e);if(n!==null){if(e=n.tag,e===13){if(e=KF(n),e!==null){t.blockedOn=e,oO(t.priority,function(){rO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ny(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fA=r,n.target.dispatchEvent(r),fA=null}else return e=Hm(n),e!==null&&eC(e),t.blockedOn=n,!1;e.shift()}return!0}function _M(t,e,n){ny(t)&&n.delete(e)}function lW(){yA=!1,Cl!==null&&ny(Cl)&&(Cl=null),Tl!==null&&ny(Tl)&&(Tl=null),Ml!==null&&ny(Ml)&&(Ml=null),Np.forEach(_M),kp.forEach(_M)}function vh(t,e){t.blockedOn===e&&(t.blockedOn=null,yA||(yA=!0,so.unstable_scheduleCallback(so.unstable_NormalPriority,lW)))}function Fp(t){function e(i){return vh(i,t)}if(0<P0.length){vh(P0[0],t);for(var n=1;n<P0.length;n++){var r=P0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cl!==null&&vh(Cl,t),Tl!==null&&vh(Tl,t),Ml!==null&&vh(Ml,t),Np.forEach(e),kp.forEach(e),n=0;n<vl.length;n++)r=vl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vl.length&&(n=vl[0],n.blockedOn===null);)sO(n),n.blockedOn===null&&vl.shift()}var Bd=Wa.ReactCurrentBatchConfig,Jy=!0;function cW(t,e,n,r){var i=hn,o=Bd.transition;Bd.transition=null;try{hn=1,tC(t,e,n,r)}finally{hn=i,Bd.transition=o}}function uW(t,e,n,r){var i=hn,o=Bd.transition;Bd.transition=null;try{hn=4,tC(t,e,n,r)}finally{hn=i,Bd.transition=o}}function tC(t,e,n,r){if(Jy){var i=vA(t,e,n,r);if(i===null)Rb(t,e,r,Zy,n),AM(t,r);else if(aW(i,t,e,n,r))r.stopPropagation();else if(AM(t,r),e&4&&-1<sW.indexOf(t)){for(;i!==null;){var o=Hm(i);if(o!==null&&nO(o),o=vA(t,e,n,r),o===null&&Rb(t,e,r,Zy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Rb(t,e,r,null,n)}}var Zy=null;function vA(t,e,n,r){if(Zy=null,t=YS(r),t=Mc(t),t!==null)if(e=Cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zy=t,null}function aO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YG()){case JS:return 1;case JF:return 4;case Xy:case JG:return 16;case ZF:return 536870912;default:return 16}default:return 16}}var xl=null,nC=null,ry=null;function lO(){if(ry)return ry;var t,e=nC,n=e.length,r,i="value"in xl?xl.value:xl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ry=i.slice(t,1<r?1-r:void 0)}function iy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function N0(){return!0}function SM(){return!1}function co(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?N0:SM,this.isPropagationStopped=SM,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=N0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=N0)},persist:function(){},isPersistent:N0}),e}var zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rC=co(zf),jm=Fn({},zf,{view:0,detail:0}),dW=co(jm),xb,Eb,wh,_w=Fn({},jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wh&&(wh&&t.type==="mousemove"?(xb=t.screenX-wh.screenX,Eb=t.screenY-wh.screenY):Eb=xb=0,wh=t),xb)},movementY:function(t){return"movementY"in t?t.movementY:Eb}}),CM=co(_w),fW=Fn({},_w,{dataTransfer:0}),hW=co(fW),pW=Fn({},jm,{relatedTarget:0}),Ab=co(pW),mW=Fn({},zf,{animationName:0,elapsedTime:0,pseudoElement:0}),gW=co(mW),yW=Fn({},zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vW=co(yW),wW=Fn({},zf,{data:0}),TM=co(wW),bW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EW[t])?!!e[t]:!1}function iC(){return AW}var _W=Fn({},jm,{key:function(t){if(t.key){var e=bW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iC,charCode:function(t){return t.type==="keypress"?iy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SW=co(_W),CW=Fn({},_w,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MM=co(CW),TW=Fn({},jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iC}),MW=co(TW),IW=Fn({},zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),RW=co(IW),PW=Fn({},_w,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NW=co(PW),kW=[9,13,27,32],oC=ka&&"CompositionEvent"in window,sp=null;ka&&"documentMode"in document&&(sp=document.documentMode);var FW=ka&&"TextEvent"in window&&!sp,cO=ka&&(!oC||sp&&8<sp&&11>=sp),IM=" ",RM=!1;function uO(t,e){switch(t){case"keyup":return kW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var md=!1;function OW(t,e){switch(t){case"compositionend":return dO(e);case"keypress":return e.which!==32?null:(RM=!0,IM);case"textInput":return t=e.data,t===IM&&RM?null:t;default:return null}}function BW(t,e){if(md)return t==="compositionend"||!oC&&uO(t,e)?(t=lO(),ry=nC=xl=null,md=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cO&&e.locale!=="ko"?null:e.data;default:return null}}var LW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LW[t.type]:e==="textarea"}function fO(t,e,n,r){GF(r),e=ev(e,"onChange"),0<e.length&&(n=new rC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ap=null,Op=null;function DW(t){AO(t,0)}function Sw(t){var e=vd(t);if(BF(e))return t}function UW(t,e){if(t==="change")return e}var hO=!1;if(ka){var _b;if(ka){var Sb="oninput"in document;if(!Sb){var NM=document.createElement("div");NM.setAttribute("oninput","return;"),Sb=typeof NM.oninput=="function"}_b=Sb}else _b=!1;hO=_b&&(!document.documentMode||9<document.documentMode)}function kM(){ap&&(ap.detachEvent("onpropertychange",pO),Op=ap=null)}function pO(t){if(t.propertyName==="value"&&Sw(Op)){var e=[];fO(e,Op,t,YS(t)),qF(DW,e)}}function zW(t,e,n){t==="focusin"?(kM(),ap=e,Op=n,ap.attachEvent("onpropertychange",pO)):t==="focusout"&&kM()}function jW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sw(Op)}function HW(t,e){if(t==="click")return Sw(e)}function GW(t,e){if(t==="input"||t==="change")return Sw(e)}function WW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var us=typeof Object.is=="function"?Object.is:WW;function Bp(t,e){if(us(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eA.call(e,i)||!us(t[i],e[i]))return!1}return!0}function FM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OM(t,e){var n=FM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FM(n)}}function mO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gO(){for(var t=window,e=qy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qy(t.document)}return e}function sC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VW(t){var e=gO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mO(n.ownerDocument.documentElement,n)){if(r!==null&&sC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=OM(n,o);var s=OM(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $W=ka&&"documentMode"in document&&11>=document.documentMode,gd=null,wA=null,lp=null,bA=!1;function BM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bA||gd==null||gd!==qy(r)||(r=gd,"selectionStart"in r&&sC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lp&&Bp(lp,r)||(lp=r,r=ev(wA,"onSelect"),0<r.length&&(e=new rC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gd)))}function k0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yd={animationend:k0("Animation","AnimationEnd"),animationiteration:k0("Animation","AnimationIteration"),animationstart:k0("Animation","AnimationStart"),transitionend:k0("Transition","TransitionEnd")},Cb={},yO={};ka&&(yO=document.createElement("div").style,"AnimationEvent"in window||(delete yd.animationend.animation,delete yd.animationiteration.animation,delete yd.animationstart.animation),"TransitionEvent"in window||delete yd.transitionend.transition);function Cw(t){if(Cb[t])return Cb[t];if(!yd[t])return t;var e=yd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yO)return Cb[t]=e[n];return t}var vO=Cw("animationend"),wO=Cw("animationiteration"),bO=Cw("animationstart"),xO=Cw("transitionend"),EO=new Map,LM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ql(t,e){EO.set(t,e),Su(e,[t])}for(var Tb=0;Tb<LM.length;Tb++){var Mb=LM[Tb],qW=Mb.toLowerCase(),KW=Mb[0].toUpperCase()+Mb.slice(1);Ql(qW,"on"+KW)}Ql(vO,"onAnimationEnd");Ql(wO,"onAnimationIteration");Ql(bO,"onAnimationStart");Ql("dblclick","onDoubleClick");Ql("focusin","onFocus");Ql("focusout","onBlur");Ql(xO,"onTransitionEnd");Jd("onMouseEnter",["mouseout","mouseover"]);Jd("onMouseLeave",["mouseout","mouseover"]);Jd("onPointerEnter",["pointerout","pointerover"]);Jd("onPointerLeave",["pointerout","pointerover"]);Su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Su("onBeforeInput",["compositionend","keypress","textInput","paste"]);Su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kh));function DM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qG(r,e,void 0,t),t.currentTarget=null}function AO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;DM(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;DM(i,a,c),o=l}}}if(Qy)throw t=mA,Qy=!1,mA=null,t}function An(t,e){var n=e[SA];n===void 0&&(n=e[SA]=new Set);var r=t+"__bubble";n.has(r)||(_O(e,t,2,!1),n.add(r))}function Ib(t,e,n){var r=0;e&&(r|=4),_O(n,t,r,e)}var F0="_reactListening"+Math.random().toString(36).slice(2);function Lp(t){if(!t[F0]){t[F0]=!0,PF.forEach(function(n){n!=="selectionchange"&&(QW.has(n)||Ib(n,!1,t),Ib(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[F0]||(e[F0]=!0,Ib("selectionchange",!1,e))}}function _O(t,e,n,r){switch(aO(e)){case 1:var i=cW;break;case 4:i=uW;break;default:i=tC}n=i.bind(null,e,n,t),i=void 0,!pA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rb(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Mc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qF(function(){var c=o,u=YS(n),d=[];e:{var f=EO.get(t);if(f!==void 0){var h=rC,p=t;switch(t){case"keypress":if(iy(n)===0)break e;case"keydown":case"keyup":h=SW;break;case"focusin":p="focus",h=Ab;break;case"focusout":p="blur",h=Ab;break;case"beforeblur":case"afterblur":h=Ab;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=CM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=MW;break;case vO:case wO:case bO:h=gW;break;case xO:h=RW;break;case"scroll":h=dW;break;case"wheel":h=NW;break;case"copy":case"cut":case"paste":h=vW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=MM}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,g!==null&&(x=Pp(v,g),x!=null&&m.push(Dp(v,x,b)))),y)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==fA&&(p=n.relatedTarget||n.fromElement)&&(Mc(p)||p[Fa]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Mc(p):null,p!==null&&(y=Cu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=CM,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=MM,x="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?f:vd(h),b=p==null?f:vd(p),f=new m(x,v+"leave",h,n,u),f.target=y,f.relatedTarget=b,x=null,Mc(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,x=m),y=x,h&&p)t:{for(m=h,g=p,v=0,b=m;b;b=ju(b))v++;for(b=0,x=g;x;x=ju(x))b++;for(;0<v-b;)m=ju(m),v--;for(;0<b-v;)g=ju(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=ju(m),g=ju(g)}m=null}else m=null;h!==null&&UM(d,f,h,m,!1),p!==null&&y!==null&&UM(d,y,p,m,!0)}}e:{if(f=c?vd(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=UW;else if(PM(f))if(hO)I=GW;else{I=jW;var k=zW}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=HW);if(I&&(I=I(t,c))){fO(d,I,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&aA(f,"number",f.value)}switch(k=c?vd(c):window,t){case"focusin":(PM(k)||k.contentEditable==="true")&&(gd=k,wA=c,lp=null);break;case"focusout":lp=wA=gd=null;break;case"mousedown":bA=!0;break;case"contextmenu":case"mouseup":case"dragend":bA=!1,BM(d,n,u);break;case"selectionchange":if($W)break;case"keydown":case"keyup":BM(d,n,u)}var A;if(oC)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else md?uO(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(cO&&n.locale!=="ko"&&(md||U!=="onCompositionStart"?U==="onCompositionEnd"&&md&&(A=lO()):(xl=u,nC="value"in xl?xl.value:xl.textContent,md=!0)),k=ev(c,U),0<k.length&&(U=new TM(U,t,null,n,u),d.push({event:U,listeners:k}),A?U.data=A:(A=dO(n),A!==null&&(U.data=A)))),(A=FW?OW(t,n):BW(t,n))&&(c=ev(c,"onBeforeInput"),0<c.length&&(u=new TM("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}AO(d,e)})}function Dp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ev(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pp(t,n),o!=null&&r.unshift(Dp(t,o,i)),o=Pp(t,e),o!=null&&r.push(Dp(t,o,i))),t=t.return}return r}function ju(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function UM(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Pp(n,o),l!=null&&s.unshift(Dp(n,l,a))):i||(l=Pp(n,o),l!=null&&s.push(Dp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var XW=/\r\n?/g,YW=/\u0000|\uFFFD/g;function zM(t){return(typeof t=="string"?t:""+t).replace(XW,`
`).replace(YW,"")}function O0(t,e,n){if(e=zM(e),zM(t)!==e&&n)throw Error(je(425))}function tv(){}var xA=null,EA=null;function AA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _A=typeof setTimeout=="function"?setTimeout:void 0,JW=typeof clearTimeout=="function"?clearTimeout:void 0,jM=typeof Promise=="function"?Promise:void 0,ZW=typeof queueMicrotask=="function"?queueMicrotask:typeof jM<"u"?function(t){return jM.resolve(null).then(t).catch(eV)}:_A;function eV(t){setTimeout(function(){throw t})}function Pb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fp(e)}function Il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jf=Math.random().toString(36).slice(2),Ns="__reactFiber$"+jf,Up="__reactProps$"+jf,Fa="__reactContainer$"+jf,SA="__reactEvents$"+jf,tV="__reactListeners$"+jf,nV="__reactHandles$"+jf;function Mc(t){var e=t[Ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fa]||n[Ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HM(t);t!==null;){if(n=t[Ns])return n;t=HM(t)}return e}t=n,n=t.parentNode}return null}function Hm(t){return t=t[Ns]||t[Fa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Tw(t){return t[Up]||null}var CA=[],wd=-1;function Xl(t){return{current:t}}function Cn(t){0>wd||(t.current=CA[wd],CA[wd]=null,wd--)}function bn(t,e){wd++,CA[wd]=t.current,t.current=e}var jl={},Jr=Xl(jl),Pi=Xl(!1),Zc=jl;function Zd(t,e){var n=t.type.contextTypes;if(!n)return jl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ni(t){return t=t.childContextTypes,t!=null}function nv(){Cn(Pi),Cn(Jr)}function GM(t,e,n){if(Jr.current!==jl)throw Error(je(168));bn(Jr,e),bn(Pi,n)}function SO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,zG(t)||"Unknown",i));return Fn({},n,r)}function rv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jl,Zc=Jr.current,bn(Jr,t),bn(Pi,Pi.current),!0}function WM(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=SO(t,e,Zc),r.__reactInternalMemoizedMergedChildContext=t,Cn(Pi),Cn(Jr),bn(Jr,t)):Cn(Pi),bn(Pi,n)}var ha=null,Mw=!1,Nb=!1;function CO(t){ha===null?ha=[t]:ha.push(t)}function rV(t){Mw=!0,CO(t)}function Yl(){if(!Nb&&ha!==null){Nb=!0;var t=0,e=hn;try{var n=ha;for(hn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ha=null,Mw=!1}catch(i){throw ha!==null&&(ha=ha.slice(t+1)),YF(JS,Yl),i}finally{hn=e,Nb=!1}}return null}var bd=[],xd=0,iv=null,ov=0,Eo=[],Ao=0,eu=null,ba=1,xa="";function hc(t,e){bd[xd++]=ov,bd[xd++]=iv,iv=t,ov=e}function TO(t,e,n){Eo[Ao++]=ba,Eo[Ao++]=xa,Eo[Ao++]=eu,eu=t;var r=ba;t=xa;var i=32-os(r)-1;r&=~(1<<i),n+=1;var o=32-os(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ba=1<<32-os(e)+i|n<<i|r,xa=o+t}else ba=1<<o|n<<i|r,xa=t}function aC(t){t.return!==null&&(hc(t,1),TO(t,1,0))}function lC(t){for(;t===iv;)iv=bd[--xd],bd[xd]=null,ov=bd[--xd],bd[xd]=null;for(;t===eu;)eu=Eo[--Ao],Eo[Ao]=null,xa=Eo[--Ao],Eo[Ao]=null,ba=Eo[--Ao],Eo[Ao]=null}var oo=null,no=null,In=!1,Yo=null;function MO(t,e){var n=Mo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function VM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oo=t,no=Il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oo=t,no=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eu!==null?{id:ba,overflow:xa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,oo=t,no=null,!0):!1;default:return!1}}function TA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function MA(t){if(In){var e=no;if(e){var n=e;if(!VM(t,e)){if(TA(t))throw Error(je(418));e=Il(n.nextSibling);var r=oo;e&&VM(t,e)?MO(r,n):(t.flags=t.flags&-4097|2,In=!1,oo=t)}}else{if(TA(t))throw Error(je(418));t.flags=t.flags&-4097|2,In=!1,oo=t}}}function $M(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oo=t}function B0(t){if(t!==oo)return!1;if(!In)return $M(t),In=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!AA(t.type,t.memoizedProps)),e&&(e=no)){if(TA(t))throw IO(),Error(je(418));for(;e;)MO(t,e),e=Il(e.nextSibling)}if($M(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){no=Il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}no=null}}else no=oo?Il(t.stateNode.nextSibling):null;return!0}function IO(){for(var t=no;t;)t=Il(t.nextSibling)}function ef(){no=oo=null,In=!1}function cC(t){Yo===null?Yo=[t]:Yo.push(t)}var iV=Wa.ReactCurrentBatchConfig;function bh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function L0(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qM(t){var e=t._init;return e(t._payload)}function RO(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=kl(g,v),g.index=0,g.sibling=null,g}function o(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,b,x){return v===null||v.tag!==6?(v=Ub(b,g.mode,x),v.return=g,v):(v=i(v,b),v.return=g,v)}function l(g,v,b,x){var I=b.type;return I===pd?u(g,v,b.props.children,x,b.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ml&&qM(I)===v.type)?(x=i(v,b.props),x.ref=bh(g,v,b),x.return=g,x):(x=dy(b.type,b.key,b.props,null,g.mode,x),x.ref=bh(g,v,b),x.return=g,x)}function c(g,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=zb(b,g.mode,x),v.return=g,v):(v=i(v,b.children||[]),v.return=g,v)}function u(g,v,b,x,I){return v===null||v.tag!==7?(v=Vc(b,g.mode,x,I),v.return=g,v):(v=i(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ub(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case C0:return b=dy(v.type,v.key,v.props,null,g.mode,b),b.ref=bh(g,null,v),b.return=g,b;case hd:return v=zb(v,g.mode,b),v.return=g,v;case ml:var x=v._init;return d(g,x(v._payload),b)}if($h(v)||mh(v))return v=Vc(v,g.mode,b,null),v.return=g,v;L0(g,v)}return null}function f(g,v,b,x){var I=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:a(g,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C0:return b.key===I?l(g,v,b,x):null;case hd:return b.key===I?c(g,v,b,x):null;case ml:return I=b._init,f(g,v,I(b._payload),x)}if($h(b)||mh(b))return I!==null?null:u(g,v,b,x,null);L0(g,b)}return null}function h(g,v,b,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(b)||null,a(v,g,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C0:return g=g.get(x.key===null?b:x.key)||null,l(v,g,x,I);case hd:return g=g.get(x.key===null?b:x.key)||null,c(v,g,x,I);case ml:var k=x._init;return h(g,v,b,k(x._payload),I)}if($h(x)||mh(x))return g=g.get(b)||null,u(v,g,x,I,null);L0(v,x)}return null}function p(g,v,b,x){for(var I=null,k=null,A=v,U=v=0,S=null;A!==null&&U<b.length;U++){A.index>U?(S=A,A=null):S=A.sibling;var N=f(g,A,b[U],x);if(N===null){A===null&&(A=S);break}t&&A&&N.alternate===null&&e(g,A),v=o(N,v,U),k===null?I=N:k.sibling=N,k=N,A=S}if(U===b.length)return n(g,A),In&&hc(g,U),I;if(A===null){for(;U<b.length;U++)A=d(g,b[U],x),A!==null&&(v=o(A,v,U),k===null?I=A:k.sibling=A,k=A);return In&&hc(g,U),I}for(A=r(g,A);U<b.length;U++)S=h(A,g,U,b[U],x),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?U:S.key),v=o(S,v,U),k===null?I=S:k.sibling=S,k=S);return t&&A.forEach(function(P){return e(g,P)}),In&&hc(g,U),I}function m(g,v,b,x){var I=mh(b);if(typeof I!="function")throw Error(je(150));if(b=I.call(b),b==null)throw Error(je(151));for(var k=I=null,A=v,U=v=0,S=null,N=b.next();A!==null&&!N.done;U++,N=b.next()){A.index>U?(S=A,A=null):S=A.sibling;var P=f(g,A,N.value,x);if(P===null){A===null&&(A=S);break}t&&A&&P.alternate===null&&e(g,A),v=o(P,v,U),k===null?I=P:k.sibling=P,k=P,A=S}if(N.done)return n(g,A),In&&hc(g,U),I;if(A===null){for(;!N.done;U++,N=b.next())N=d(g,N.value,x),N!==null&&(v=o(N,v,U),k===null?I=N:k.sibling=N,k=N);return In&&hc(g,U),I}for(A=r(g,A);!N.done;U++,N=b.next())N=h(A,g,U,N.value,x),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?U:N.key),v=o(N,v,U),k===null?I=N:k.sibling=N,k=N);return t&&A.forEach(function(G){return e(g,G)}),In&&hc(g,U),I}function y(g,v,b,x){if(typeof b=="object"&&b!==null&&b.type===pd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case C0:e:{for(var I=b.key,k=v;k!==null;){if(k.key===I){if(I=b.type,I===pd){if(k.tag===7){n(g,k.sibling),v=i(k,b.props.children),v.return=g,g=v;break e}}else if(k.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ml&&qM(I)===k.type){n(g,k.sibling),v=i(k,b.props),v.ref=bh(g,k,b),v.return=g,g=v;break e}n(g,k);break}else e(g,k);k=k.sibling}b.type===pd?(v=Vc(b.props.children,g.mode,x,b.key),v.return=g,g=v):(x=dy(b.type,b.key,b.props,null,g.mode,x),x.ref=bh(g,v,b),x.return=g,g=x)}return s(g);case hd:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=i(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=zb(b,g.mode,x),v.return=g,g=v}return s(g);case ml:return k=b._init,y(g,v,k(b._payload),x)}if($h(b))return p(g,v,b,x);if(mh(b))return m(g,v,b,x);L0(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,b),v.return=g,g=v):(n(g,v),v=Ub(b,g.mode,x),v.return=g,g=v),s(g)):n(g,v)}return y}var tf=RO(!0),PO=RO(!1),sv=Xl(null),av=null,Ed=null,uC=null;function dC(){uC=Ed=av=null}function fC(t){var e=sv.current;Cn(sv),t._currentValue=e}function IA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ld(t,e){av=t,uC=Ed=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ci=!0),t.firstContext=null)}function Ro(t){var e=t._currentValue;if(uC!==t)if(t={context:t,memoizedValue:e,next:null},Ed===null){if(av===null)throw Error(je(308));Ed=t,av.dependencies={lanes:0,firstContext:t}}else Ed=Ed.next=t;return e}var Ic=null;function hC(t){Ic===null?Ic=[t]:Ic.push(t)}function NO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oa(t,r)}function Oa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gl=!1;function pC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ca(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oa(t,n)}return i=r.interleaved,i===null?(e.next=e,hC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oa(t,n)}function oy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZS(t,n)}}function KM(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lv(t,e,n,r){var i=t.updateQueue;gl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Fn({},d,f);break e;case 2:gl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);nu|=s,t.lanes=s,t.memoizedState=d}}function QM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var Gm={},zs=Xl(Gm),zp=Xl(Gm),jp=Xl(Gm);function Rc(t){if(t===Gm)throw Error(je(174));return t}function mC(t,e){switch(bn(jp,e),bn(zp,t),bn(zs,Gm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cA(e,t)}Cn(zs),bn(zs,e)}function nf(){Cn(zs),Cn(zp),Cn(jp)}function FO(t){Rc(jp.current);var e=Rc(zs.current),n=cA(e,t.type);e!==n&&(bn(zp,t),bn(zs,n))}function gC(t){zp.current===t&&(Cn(zs),Cn(zp))}var Rn=Xl(0);function cv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kb=[];function yC(){for(var t=0;t<kb.length;t++)kb[t]._workInProgressVersionPrimary=null;kb.length=0}var sy=Wa.ReactCurrentDispatcher,Fb=Wa.ReactCurrentBatchConfig,tu=0,kn=null,ur=null,br=null,uv=!1,cp=!1,Hp=0,oV=0;function zr(){throw Error(je(321))}function vC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!us(t[n],e[n]))return!1;return!0}function wC(t,e,n,r,i,o){if(tu=o,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sy.current=t===null||t.memoizedState===null?cV:uV,t=n(r,i),cp){o=0;do{if(cp=!1,Hp=0,25<=o)throw Error(je(301));o+=1,br=ur=null,e.updateQueue=null,sy.current=dV,t=n(r,i)}while(cp)}if(sy.current=dv,e=ur!==null&&ur.next!==null,tu=0,br=ur=kn=null,uv=!1,e)throw Error(je(300));return t}function bC(){var t=Hp!==0;return Hp=0,t}function As(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?kn.memoizedState=br=t:br=br.next=t,br}function Po(){if(ur===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=ur.next;var e=br===null?kn.memoizedState:br.next;if(e!==null)br=e,ur=t;else{if(t===null)throw Error(je(310));ur=t,t={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},br===null?kn.memoizedState=br=t:br=br.next=t}return br}function Gp(t,e){return typeof e=="function"?e(t):e}function Ob(t){var e=Po(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=ur,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((tu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,kn.lanes|=u,nu|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,us(r,e.memoizedState)||(Ci=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,kn.lanes|=o,nu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bb(t){var e=Po(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);us(o,e.memoizedState)||(Ci=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OO(){}function BO(t,e){var n=kn,r=Po(),i=e(),o=!us(r.memoizedState,i);if(o&&(r.memoizedState=i,Ci=!0),r=r.queue,xC(UO.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||br!==null&&br.memoizedState.tag&1){if(n.flags|=2048,Wp(9,DO.bind(null,n,r,i,e),void 0,null),Sr===null)throw Error(je(349));tu&30||LO(n,e,i)}return i}function LO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DO(t,e,n,r){e.value=n,e.getSnapshot=r,zO(e)&&jO(t)}function UO(t,e,n){return n(function(){zO(e)&&jO(t)})}function zO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!us(t,n)}catch{return!0}}function jO(t){var e=Oa(t,1);e!==null&&ss(e,t,1,-1)}function XM(t){var e=As();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:t},e.queue=t,t=t.dispatch=lV.bind(null,kn,t),[e.memoizedState,t]}function Wp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HO(){return Po().memoizedState}function ay(t,e,n,r){var i=As();kn.flags|=t,i.memoizedState=Wp(1|e,n,void 0,r===void 0?null:r)}function Iw(t,e,n,r){var i=Po();r=r===void 0?null:r;var o=void 0;if(ur!==null){var s=ur.memoizedState;if(o=s.destroy,r!==null&&vC(r,s.deps)){i.memoizedState=Wp(e,n,o,r);return}}kn.flags|=t,i.memoizedState=Wp(1|e,n,o,r)}function YM(t,e){return ay(8390656,8,t,e)}function xC(t,e){return Iw(2048,8,t,e)}function GO(t,e){return Iw(4,2,t,e)}function WO(t,e){return Iw(4,4,t,e)}function VO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $O(t,e,n){return n=n!=null?n.concat([t]):null,Iw(4,4,VO.bind(null,e,t),n)}function EC(){}function qO(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KO(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QO(t,e,n){return tu&21?(us(n,e)||(n=eO(),kn.lanes|=n,nu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ci=!0),t.memoizedState=n)}function sV(t,e){var n=hn;hn=n!==0&&4>n?n:4,t(!0);var r=Fb.transition;Fb.transition={};try{t(!1),e()}finally{hn=n,Fb.transition=r}}function XO(){return Po().memoizedState}function aV(t,e,n){var r=Nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YO(t))JO(e,n);else if(n=NO(t,e,n,r),n!==null){var i=di();ss(n,t,r,i),ZO(n,e,r)}}function lV(t,e,n){var r=Nl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YO(t))JO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,us(a,s)){var l=e.interleaved;l===null?(i.next=i,hC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NO(t,e,i,r),n!==null&&(i=di(),ss(n,t,r,i),ZO(n,e,r))}}function YO(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function JO(t,e){cp=uv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZS(t,n)}}var dv={readContext:Ro,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},cV={readContext:Ro,useCallback:function(t,e){return As().memoizedState=[t,e===void 0?null:e],t},useContext:Ro,useEffect:YM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ay(4194308,4,VO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ay(4194308,4,t,e)},useInsertionEffect:function(t,e){return ay(4,2,t,e)},useMemo:function(t,e){var n=As();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=As();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aV.bind(null,kn,t),[r.memoizedState,t]},useRef:function(t){var e=As();return t={current:t},e.memoizedState=t},useState:XM,useDebugValue:EC,useDeferredValue:function(t){return As().memoizedState=t},useTransition:function(){var t=XM(!1),e=t[0];return t=sV.bind(null,t[1]),As().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kn,i=As();if(In){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),Sr===null)throw Error(je(349));tu&30||LO(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,YM(UO.bind(null,r,o,t),[t]),r.flags|=2048,Wp(9,DO.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=As(),e=Sr.identifierPrefix;if(In){var n=xa,r=ba;n=(r&~(1<<32-os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uV={readContext:Ro,useCallback:qO,useContext:Ro,useEffect:xC,useImperativeHandle:$O,useInsertionEffect:GO,useLayoutEffect:WO,useMemo:KO,useReducer:Ob,useRef:HO,useState:function(){return Ob(Gp)},useDebugValue:EC,useDeferredValue:function(t){var e=Po();return QO(e,ur.memoizedState,t)},useTransition:function(){var t=Ob(Gp)[0],e=Po().memoizedState;return[t,e]},useMutableSource:OO,useSyncExternalStore:BO,useId:XO,unstable_isNewReconciler:!1},dV={readContext:Ro,useCallback:qO,useContext:Ro,useEffect:xC,useImperativeHandle:$O,useInsertionEffect:GO,useLayoutEffect:WO,useMemo:KO,useReducer:Bb,useRef:HO,useState:function(){return Bb(Gp)},useDebugValue:EC,useDeferredValue:function(t){var e=Po();return ur===null?e.memoizedState=t:QO(e,ur.memoizedState,t)},useTransition:function(){var t=Bb(Gp)[0],e=Po().memoizedState;return[t,e]},useMutableSource:OO,useSyncExternalStore:BO,useId:XO,unstable_isNewReconciler:!1};function Wo(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function RA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rw={isMounted:function(t){return(t=t._reactInternals)?Cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=di(),i=Nl(t),o=Ca(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rl(t,o,i),e!==null&&(ss(e,t,i,r),oy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=di(),i=Nl(t),o=Ca(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rl(t,o,i),e!==null&&(ss(e,t,i,r),oy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=di(),r=Nl(t),i=Ca(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rl(t,i,r),e!==null&&(ss(e,t,r,n),oy(e,t,r))}};function JM(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Bp(n,r)||!Bp(i,o):!0}function e4(t,e,n){var r=!1,i=jl,o=e.contextType;return typeof o=="object"&&o!==null?o=Ro(o):(i=Ni(e)?Zc:Jr.current,r=e.contextTypes,o=(r=r!=null)?Zd(t,i):jl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ZM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rw.enqueueReplaceState(e,e.state,null)}function PA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ro(o):(o=Ni(e)?Zc:Jr.current,i.context=Zd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(RA(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rw.enqueueReplaceState(i,i.state,null),lv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rf(t,e){try{var n="",r=e;do n+=UG(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lb(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function NA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fV=typeof WeakMap=="function"?WeakMap:Map;function t4(t,e,n){n=Ca(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hv||(hv=!0,HA=r),NA(t,e)},n}function n4(t,e,n){n=Ca(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){NA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){NA(t,e),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function e5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CV.bind(null,t,e,n),e.then(t,t))}function t5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ca(-1,1),e.tag=2,Rl(n,e,1))),n.lanes|=1),t)}var hV=Wa.ReactCurrentOwner,Ci=!1;function ti(t,e,n,r){e.child=t===null?PO(e,null,n,r):tf(e,t.child,n,r)}function r5(t,e,n,r,i){n=n.render;var o=e.ref;return Ld(e,i),r=wC(t,e,n,r,o,i),n=bC(),t!==null&&!Ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i)):(In&&n&&aC(e),e.flags|=1,ti(t,e,r,i),e.child)}function i5(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!RC(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,r4(t,e,o,r,i)):(t=dy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bp,n(s,r)&&t.ref===e.ref)return Ba(t,e,i)}return e.flags|=1,t=kl(o,r),t.ref=e.ref,t.return=e,e.child=t}function r4(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Bp(o,r)&&t.ref===e.ref)if(Ci=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ci=!0);else return e.lanes=t.lanes,Ba(t,e,i)}return kA(t,e,n,r,i)}function i4(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(_d,Qi),Qi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bn(_d,Qi),Qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,bn(_d,Qi),Qi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,bn(_d,Qi),Qi|=r;return ti(t,e,i,n),e.child}function o4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kA(t,e,n,r,i){var o=Ni(n)?Zc:Jr.current;return o=Zd(e,o),Ld(e,i),n=wC(t,e,n,r,o,i),r=bC(),t!==null&&!Ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i)):(In&&r&&aC(e),e.flags|=1,ti(t,e,n,i),e.child)}function o5(t,e,n,r,i){if(Ni(n)){var o=!0;rv(e)}else o=!1;if(Ld(e,i),e.stateNode===null)ly(t,e),e4(e,n,r),PA(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ro(c):(c=Ni(n)?Zc:Jr.current,c=Zd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ZM(e,s,r,c),gl=!1;var f=e.memoizedState;s.state=f,lv(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Pi.current||gl?(typeof u=="function"&&(RA(e,n,u,r),l=e.memoizedState),(a=gl||JM(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kO(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wo(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ro(l):(l=Ni(n)?Zc:Jr.current,l=Zd(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&ZM(e,s,r,l),gl=!1,f=e.memoizedState,s.state=f,lv(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||Pi.current||gl?(typeof h=="function"&&(RA(e,n,h,r),p=e.memoizedState),(c=gl||JM(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return FA(t,e,n,r,o,i)}function FA(t,e,n,r,i,o){o4(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&WM(e,n,!1),Ba(t,e,o);r=e.stateNode,hV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=tf(e,t.child,null,o),e.child=tf(e,null,a,o)):ti(t,e,a,o),e.memoizedState=r.state,i&&WM(e,n,!0),e.child}function s4(t){var e=t.stateNode;e.pendingContext?GM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&GM(t,e.context,!1),mC(t,e.containerInfo)}function s5(t,e,n,r,i){return ef(),cC(i),e.flags|=256,ti(t,e,n,r),e.child}var OA={dehydrated:null,treeContext:null,retryLane:0};function BA(t){return{baseLanes:t,cachePool:null,transitions:null}}function a4(t,e,n){var r=e.pendingProps,i=Rn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bn(Rn,i&1),t===null)return MA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kw(s,r,0,null),t=Vc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=BA(n),e.memoizedState=OA,t):AC(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pV(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=kl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=kl(a,o):(o=Vc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?BA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=OA,r}return o=t.child,t=o.sibling,r=kl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function AC(t,e){return e=kw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function D0(t,e,n,r){return r!==null&&cC(r),tf(e,t.child,null,n),t=AC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pV(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Lb(Error(je(422))),D0(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kw({mode:"visible",children:r.children},i,0,null),o=Vc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&tf(e,t.child,null,s),e.child.memoizedState=BA(s),e.memoizedState=OA,o);if(!(e.mode&1))return D0(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(je(419)),r=Lb(o,r,void 0),D0(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ci||a){if(r=Sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oa(t,i),ss(r,t,i,-1))}return IC(),r=Lb(Error(je(421))),D0(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TV.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,no=Il(i.nextSibling),oo=e,In=!0,Yo=null,t!==null&&(Eo[Ao++]=ba,Eo[Ao++]=xa,Eo[Ao++]=eu,ba=t.id,xa=t.overflow,eu=e),e=AC(e,r.children),e.flags|=4096,e)}function a5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),IA(t.return,e,n)}function Db(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function l4(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ti(t,e,r.children,n),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a5(t,n,e);else if(t.tag===19)a5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bn(Rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Db(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Db(e,!0,n,null,o);break;case"together":Db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ly(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ba(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=kl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mV(t,e,n){switch(e.tag){case 3:s4(e),ef();break;case 5:FO(e);break;case 1:Ni(e.type)&&rv(e);break;case 4:mC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bn(sv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bn(Rn,Rn.current&1),e.flags|=128,null):n&e.child.childLanes?a4(t,e,n):(bn(Rn,Rn.current&1),t=Ba(t,e,n),t!==null?t.sibling:null);bn(Rn,Rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return l4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,i4(t,e,n)}return Ba(t,e,n)}var c4,LA,u4,d4;c4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};LA=function(){};u4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rc(zs.current);var o=null;switch(n){case"input":i=oA(t,i),r=oA(t,r),o=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),o=[];break;case"textarea":i=lA(t,i),r=lA(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tv)}uA(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ip.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ip.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&An("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};d4=function(t,e,n,r){n!==r&&(e.flags|=4)};function xh(t,e){if(!In)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gV(t,e,n){var r=e.pendingProps;switch(lC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(e),null;case 1:return Ni(e.type)&&nv(),jr(e),null;case 3:return r=e.stateNode,nf(),Cn(Pi),Cn(Jr),yC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(B0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yo!==null&&(VA(Yo),Yo=null))),LA(t,e),jr(e),null;case 5:gC(e);var i=Rc(jp.current);if(n=e.type,t!==null&&e.stateNode!=null)u4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return jr(e),null}if(t=Rc(zs.current),B0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ns]=e,r[Up]=o,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<Kh.length;i++)An(Kh[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":gM(r,o),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},An("invalid",r);break;case"textarea":vM(r,o),An("invalid",r)}uA(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&O0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&O0(r.textContent,a,t),i=["children",""+a]):Ip.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&An("scroll",r)}switch(n){case"input":T0(r),yM(r,o,!0);break;case"textarea":T0(r),wM(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ns]=e,t[Up]=r,c4(t,e,!1,!1),e.stateNode=t;e:{switch(s=dA(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kh.length;i++)An(Kh[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":gM(t,r),i=oA(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),An("invalid",t);break;case"textarea":vM(t,r),i=lA(t,r),An("invalid",t);break;default:i=r}uA(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?HF(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zF(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rp(t,l):typeof l=="number"&&Rp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ip.hasOwnProperty(o)?l!=null&&o==="onScroll"&&An("scroll",t):l!=null&&qS(t,o,l,s))}switch(n){case"input":T0(t),yM(t,r,!1);break;case"textarea":T0(t),wM(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?kd(t,!!r.multiple,o,!1):r.defaultValue!=null&&kd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jr(e),null;case 6:if(t&&e.stateNode!=null)d4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Rc(jp.current),Rc(zs.current),B0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ns]=e,(o=r.nodeValue!==n)&&(t=oo,t!==null))switch(t.tag){case 3:O0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&O0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ns]=e,e.stateNode=r}return jr(e),null;case 13:if(Cn(Rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(In&&no!==null&&e.mode&1&&!(e.flags&128))IO(),ef(),e.flags|=98560,o=!1;else if(o=B0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(je(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(je(317));o[Ns]=e}else ef(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jr(e),o=!1}else Yo!==null&&(VA(Yo),Yo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rn.current&1?fr===0&&(fr=3):IC())),e.updateQueue!==null&&(e.flags|=4),jr(e),null);case 4:return nf(),LA(t,e),t===null&&Lp(e.stateNode.containerInfo),jr(e),null;case 10:return fC(e.type._context),jr(e),null;case 17:return Ni(e.type)&&nv(),jr(e),null;case 19:if(Cn(Rn),o=e.memoizedState,o===null)return jr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)xh(o,!1);else{if(fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=cv(t),s!==null){for(e.flags|=128,xh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bn(Rn,Rn.current&1|2),e.child}t=t.sibling}o.tail!==null&&qn()>of&&(e.flags|=128,r=!0,xh(o,!1),e.lanes=4194304)}else{if(!r)if(t=cv(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!In)return jr(e),null}else 2*qn()-o.renderingStartTime>of&&n!==1073741824&&(e.flags|=128,r=!0,xh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=qn(),e.sibling=null,n=Rn.current,bn(Rn,r?n&1|2:n&1),e):(jr(e),null);case 22:case 23:return MC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qi&1073741824&&(jr(e),e.subtreeFlags&6&&(e.flags|=8192)):jr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function yV(t,e){switch(lC(e),e.tag){case 1:return Ni(e.type)&&nv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nf(),Cn(Pi),Cn(Jr),yC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gC(e),null;case 13:if(Cn(Rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));ef()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(Rn),null;case 4:return nf(),null;case 10:return fC(e.type._context),null;case 22:case 23:return MC(),null;case 24:return null;default:return null}}var U0=!1,$r=!1,vV=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Ad(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dn(t,e,r)}else n.current=null}function DA(t,e,n){try{n()}catch(r){Dn(t,e,r)}}var l5=!1;function wV(t,e){if(xA=Jy,t=gO(),sC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(EA={focusedElem:t,selectionRange:n},Jy=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){e=bt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Wo(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(x){Dn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}return p=l5,l5=!1,p}function up(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&DA(e,n,o)}i=i.next}while(i!==r)}}function Pw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function UA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f4(t){var e=t.alternate;e!==null&&(t.alternate=null,f4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ns],delete e[Up],delete e[SA],delete e[tV],delete e[nV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h4(t){return t.tag===5||t.tag===3||t.tag===4}function c5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tv));else if(r!==4&&(t=t.child,t!==null))for(zA(t,e,n),t=t.sibling;t!==null;)zA(t,e,n),t=t.sibling}function jA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jA(t,e,n),t=t.sibling;t!==null;)jA(t,e,n),t=t.sibling}var Pr=null,Qo=!1;function Ya(t,e,n){for(n=n.child;n!==null;)p4(t,e,n),n=n.sibling}function p4(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(Aw,n)}catch{}switch(n.tag){case 5:$r||Ad(n,e);case 6:var r=Pr,i=Qo;Pr=null,Ya(t,e,n),Pr=r,Qo=i,Pr!==null&&(Qo?(t=Pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(Qo?(t=Pr,n=n.stateNode,t.nodeType===8?Pb(t.parentNode,n):t.nodeType===1&&Pb(t,n),Fp(t)):Pb(Pr,n.stateNode));break;case 4:r=Pr,i=Qo,Pr=n.stateNode.containerInfo,Qo=!0,Ya(t,e,n),Pr=r,Qo=i;break;case 0:case 11:case 14:case 15:if(!$r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&DA(n,e,s),i=i.next}while(i!==r)}Ya(t,e,n);break;case 1:if(!$r&&(Ad(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Dn(n,e,a)}Ya(t,e,n);break;case 21:Ya(t,e,n);break;case 22:n.mode&1?($r=(r=$r)||n.memoizedState!==null,Ya(t,e,n),$r=r):Ya(t,e,n);break;default:Ya(t,e,n)}}function u5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vV),e.forEach(function(r){var i=MV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Pr=a.stateNode,Qo=!1;break e;case 3:Pr=a.stateNode.containerInfo,Qo=!0;break e;case 4:Pr=a.stateNode.containerInfo,Qo=!0;break e}a=a.return}if(Pr===null)throw Error(je(160));p4(o,s,i),Pr=null,Qo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Dn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m4(e,t),e=e.sibling}function m4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zo(e,t),vs(t),r&4){try{up(3,t,t.return),Pw(3,t)}catch(m){Dn(t,t.return,m)}try{up(5,t,t.return)}catch(m){Dn(t,t.return,m)}}break;case 1:zo(e,t),vs(t),r&512&&n!==null&&Ad(n,n.return);break;case 5:if(zo(e,t),vs(t),r&512&&n!==null&&Ad(n,n.return),t.flags&32){var i=t.stateNode;try{Rp(i,"")}catch(m){Dn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LF(i,o),dA(a,s);var c=dA(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?HF(i,d):u==="dangerouslySetInnerHTML"?zF(i,d):u==="children"?Rp(i,d):qS(i,u,d,c)}switch(a){case"input":sA(i,o);break;case"textarea":DF(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?kd(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?kd(i,!!o.multiple,o.defaultValue,!0):kd(i,!!o.multiple,o.multiple?[]:"",!1))}i[Up]=o}catch(m){Dn(t,t.return,m)}}break;case 6:if(zo(e,t),vs(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Dn(t,t.return,m)}}break;case 3:if(zo(e,t),vs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fp(e.containerInfo)}catch(m){Dn(t,t.return,m)}break;case 4:zo(e,t),vs(t);break;case 13:zo(e,t),vs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(CC=qn())),r&4&&u5(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?($r=(c=$r)||u,zo(e,t),$r=c):zo(e,t),vs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(bt=t,u=t.child;u!==null;){for(d=bt=u;bt!==null;){switch(f=bt,h=f.child,f.tag){case 0:case 11:case 14:case 15:up(4,f,f.return);break;case 1:Ad(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Dn(r,n,m)}}break;case 5:Ad(f,f.return);break;case 22:if(f.memoizedState!==null){f5(d);continue}}h!==null?(h.return=f,bt=h):f5(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jF("display",s))}catch(m){Dn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Dn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zo(e,t),vs(t),r&4&&u5(t);break;case 21:break;default:zo(e,t),vs(t)}}function vs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h4(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rp(i,""),r.flags&=-33);var o=c5(t);jA(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=c5(t);zA(t,a,s);break;default:throw Error(je(161))}}catch(l){Dn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bV(t,e,n){bt=t,g4(t)}function g4(t,e,n){for(var r=(t.mode&1)!==0;bt!==null;){var i=bt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||U0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$r;a=U0;var c=$r;if(U0=s,($r=l)&&!c)for(bt=i;bt!==null;)s=bt,l=s.child,s.tag===22&&s.memoizedState!==null?h5(i):l!==null?(l.return=s,bt=l):h5(i);for(;o!==null;)bt=o,g4(o),o=o.sibling;bt=i,U0=a,$r=c}d5(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,bt=o):d5(t)}}function d5(t){for(;bt!==null;){var e=bt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||Pw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$r)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&QM(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QM(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}$r||e.flags&512&&UA(e)}catch(f){Dn(e,e.return,f)}}if(e===t){bt=null;break}if(n=e.sibling,n!==null){n.return=e.return,bt=n;break}bt=e.return}}function f5(t){for(;bt!==null;){var e=bt;if(e===t){bt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,bt=n;break}bt=e.return}}function h5(t){for(;bt!==null;){var e=bt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pw(4,e)}catch(l){Dn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Dn(e,i,l)}}var o=e.return;try{UA(e)}catch(l){Dn(e,o,l)}break;case 5:var s=e.return;try{UA(e)}catch(l){Dn(e,s,l)}}}catch(l){Dn(e,e.return,l)}if(e===t){bt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,bt=a;break}bt=e.return}}var xV=Math.ceil,fv=Wa.ReactCurrentDispatcher,_C=Wa.ReactCurrentOwner,Io=Wa.ReactCurrentBatchConfig,Zt=0,Sr=null,nr=null,Dr=0,Qi=0,_d=Xl(0),fr=0,Vp=null,nu=0,Nw=0,SC=0,dp=null,Ai=null,CC=0,of=1/0,aa=null,hv=!1,HA=null,Pl=null,z0=!1,El=null,pv=0,fp=0,GA=null,cy=-1,uy=0;function di(){return Zt&6?qn():cy!==-1?cy:cy=qn()}function Nl(t){return t.mode&1?Zt&2&&Dr!==0?Dr&-Dr:iV.transition!==null?(uy===0&&(uy=eO()),uy):(t=hn,t!==0||(t=window.event,t=t===void 0?16:aO(t.type)),t):1}function ss(t,e,n,r){if(50<fp)throw fp=0,GA=null,Error(je(185));zm(t,n,r),(!(Zt&2)||t!==Sr)&&(t===Sr&&(!(Zt&2)&&(Nw|=n),fr===4&&wl(t,Dr)),ki(t,r),n===1&&Zt===0&&!(e.mode&1)&&(of=qn()+500,Mw&&Yl()))}function ki(t,e){var n=t.callbackNode;iW(t,e);var r=Yy(t,t===Sr?Dr:0);if(r===0)n!==null&&EM(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&EM(n),e===1)t.tag===0?rV(p5.bind(null,t)):CO(p5.bind(null,t)),ZW(function(){!(Zt&6)&&Yl()}),n=null;else{switch(tO(r)){case 1:n=JS;break;case 4:n=JF;break;case 16:n=Xy;break;case 536870912:n=ZF;break;default:n=Xy}n=_4(n,y4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function y4(t,e){if(cy=-1,uy=0,Zt&6)throw Error(je(327));var n=t.callbackNode;if(Dd()&&t.callbackNode!==n)return null;var r=Yy(t,t===Sr?Dr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mv(t,r);else{e=r;var i=Zt;Zt|=2;var o=w4();(Sr!==t||Dr!==e)&&(aa=null,of=qn()+500,Wc(t,e));do try{_V();break}catch(a){v4(t,a)}while(!0);dC(),fv.current=o,Zt=i,nr!==null?e=0:(Sr=null,Dr=0,e=fr)}if(e!==0){if(e===2&&(i=gA(t),i!==0&&(r=i,e=WA(t,i))),e===1)throw n=Vp,Wc(t,0),wl(t,r),ki(t,qn()),n;if(e===6)wl(t,r);else{if(i=t.current.alternate,!(r&30)&&!EV(i)&&(e=mv(t,r),e===2&&(o=gA(t),o!==0&&(r=o,e=WA(t,o))),e===1))throw n=Vp,Wc(t,0),wl(t,r),ki(t,qn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:pc(t,Ai,aa);break;case 3:if(wl(t,r),(r&130023424)===r&&(e=CC+500-qn(),10<e)){if(Yy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_A(pc.bind(null,t,Ai,aa),e);break}pc(t,Ai,aa);break;case 4:if(wl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-os(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=qn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xV(r/1960))-r,10<r){t.timeoutHandle=_A(pc.bind(null,t,Ai,aa),r);break}pc(t,Ai,aa);break;case 5:pc(t,Ai,aa);break;default:throw Error(je(329))}}}return ki(t,qn()),t.callbackNode===n?y4.bind(null,t):null}function WA(t,e){var n=dp;return t.current.memoizedState.isDehydrated&&(Wc(t,e).flags|=256),t=mv(t,e),t!==2&&(e=Ai,Ai=n,e!==null&&VA(e)),t}function VA(t){Ai===null?Ai=t:Ai.push.apply(Ai,t)}function EV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!us(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(t,e){for(e&=~SC,e&=~Nw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-os(e),r=1<<n;t[n]=-1,e&=~r}}function p5(t){if(Zt&6)throw Error(je(327));Dd();var e=Yy(t,0);if(!(e&1))return ki(t,qn()),null;var n=mv(t,e);if(t.tag!==0&&n===2){var r=gA(t);r!==0&&(e=r,n=WA(t,r))}if(n===1)throw n=Vp,Wc(t,0),wl(t,e),ki(t,qn()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pc(t,Ai,aa),ki(t,qn()),null}function TC(t,e){var n=Zt;Zt|=1;try{return t(e)}finally{Zt=n,Zt===0&&(of=qn()+500,Mw&&Yl())}}function ru(t){El!==null&&El.tag===0&&!(Zt&6)&&Dd();var e=Zt;Zt|=1;var n=Io.transition,r=hn;try{if(Io.transition=null,hn=1,t)return t()}finally{hn=r,Io.transition=n,Zt=e,!(Zt&6)&&Yl()}}function MC(){Qi=_d.current,Cn(_d)}function Wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JW(n)),nr!==null)for(n=nr.return;n!==null;){var r=n;switch(lC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nv();break;case 3:nf(),Cn(Pi),Cn(Jr),yC();break;case 5:gC(r);break;case 4:nf();break;case 13:Cn(Rn);break;case 19:Cn(Rn);break;case 10:fC(r.type._context);break;case 22:case 23:MC()}n=n.return}if(Sr=t,nr=t=kl(t.current,null),Dr=Qi=e,fr=0,Vp=null,SC=Nw=nu=0,Ai=dp=null,Ic!==null){for(e=0;e<Ic.length;e++)if(n=Ic[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ic=null}return t}function v4(t,e){do{var n=nr;try{if(dC(),sy.current=dv,uv){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uv=!1}if(tu=0,br=ur=kn=null,cp=!1,Hp=0,_C.current=null,n===null||n.return===null){fr=1,Vp=e,nr=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Dr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=t5(s);if(h!==null){h.flags&=-257,n5(h,s,a,o,e),h.mode&1&&e5(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){e5(o,c,e),IC();break e}l=Error(je(426))}}else if(In&&a.mode&1){var y=t5(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),n5(y,s,a,o,e),cC(rf(l,a));break e}}o=l=rf(l,a),fr!==4&&(fr=2),dp===null?dp=[o]:dp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=t4(o,l,e);KM(o,g);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Pl===null||!Pl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=n4(o,a,e);KM(o,x);break e}}o=o.return}while(o!==null)}x4(n)}catch(I){e=I,nr===n&&n!==null&&(nr=n=n.return);continue}break}while(!0)}function w4(){var t=fv.current;return fv.current=dv,t===null?dv:t}function IC(){(fr===0||fr===3||fr===2)&&(fr=4),Sr===null||!(nu&268435455)&&!(Nw&268435455)||wl(Sr,Dr)}function mv(t,e){var n=Zt;Zt|=2;var r=w4();(Sr!==t||Dr!==e)&&(aa=null,Wc(t,e));do try{AV();break}catch(i){v4(t,i)}while(!0);if(dC(),Zt=n,fv.current=r,nr!==null)throw Error(je(261));return Sr=null,Dr=0,fr}function AV(){for(;nr!==null;)b4(nr)}function _V(){for(;nr!==null&&!QG();)b4(nr)}function b4(t){var e=A4(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?x4(t):nr=e,_C.current=null}function x4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yV(n,e),n!==null){n.flags&=32767,nr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fr=6,nr=null;return}}else if(n=gV(n,e,Qi),n!==null){nr=n;return}if(e=e.sibling,e!==null){nr=e;return}nr=e=t}while(e!==null);fr===0&&(fr=5)}function pc(t,e,n){var r=hn,i=Io.transition;try{Io.transition=null,hn=1,SV(t,e,n,r)}finally{Io.transition=i,hn=r}return null}function SV(t,e,n,r){do Dd();while(El!==null);if(Zt&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oW(t,o),t===Sr&&(nr=Sr=null,Dr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||z0||(z0=!0,_4(Xy,function(){return Dd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Io.transition,Io.transition=null;var s=hn;hn=1;var a=Zt;Zt|=4,_C.current=null,wV(t,n),m4(n,t),VW(EA),Jy=!!xA,EA=xA=null,t.current=n,bV(n),XG(),Zt=a,hn=s,Io.transition=o}else t.current=n;if(z0&&(z0=!1,El=t,pv=i),o=t.pendingLanes,o===0&&(Pl=null),ZG(n.stateNode),ki(t,qn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hv)throw hv=!1,t=HA,HA=null,t;return pv&1&&t.tag!==0&&Dd(),o=t.pendingLanes,o&1?t===GA?fp++:(fp=0,GA=t):fp=0,Yl(),null}function Dd(){if(El!==null){var t=tO(pv),e=Io.transition,n=hn;try{if(Io.transition=null,hn=16>t?16:t,El===null)var r=!1;else{if(t=El,El=null,pv=0,Zt&6)throw Error(je(331));var i=Zt;for(Zt|=4,bt=t.current;bt!==null;){var o=bt,s=o.child;if(bt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(bt=c;bt!==null;){var u=bt;switch(u.tag){case 0:case 11:case 15:up(8,u,o)}var d=u.child;if(d!==null)d.return=u,bt=d;else for(;bt!==null;){u=bt;var f=u.sibling,h=u.return;if(f4(u),u===c){bt=null;break}if(f!==null){f.return=h,bt=f;break}bt=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}bt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,bt=s;else e:for(;bt!==null;){if(o=bt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:up(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,bt=g;break e}bt=o.return}}var v=t.current;for(bt=v;bt!==null;){s=bt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,bt=b;else e:for(s=v;bt!==null;){if(a=bt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pw(9,a)}}catch(I){Dn(a,a.return,I)}if(a===s){bt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,bt=x;break e}bt=a.return}}if(Zt=i,Yl(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(Aw,t)}catch{}r=!0}return r}finally{hn=n,Io.transition=e}}return!1}function m5(t,e,n){e=rf(n,e),e=t4(t,e,1),t=Rl(t,e,1),e=di(),t!==null&&(zm(t,1,e),ki(t,e))}function Dn(t,e,n){if(t.tag===3)m5(t,t,n);else for(;e!==null;){if(e.tag===3){m5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){t=rf(n,t),t=n4(e,t,1),e=Rl(e,t,1),t=di(),e!==null&&(zm(e,1,t),ki(e,t));break}}e=e.return}}function CV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&n,Sr===t&&(Dr&n)===n&&(fr===4||fr===3&&(Dr&130023424)===Dr&&500>qn()-CC?Wc(t,0):SC|=n),ki(t,e)}function E4(t,e){e===0&&(t.mode&1?(e=R0,R0<<=1,!(R0&130023424)&&(R0=4194304)):e=1);var n=di();t=Oa(t,e),t!==null&&(zm(t,e,n),ki(t,n))}function TV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E4(t,n)}function MV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),E4(t,n)}var A4;A4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pi.current)Ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ci=!1,mV(t,e,n);Ci=!!(t.flags&131072)}else Ci=!1,In&&e.flags&1048576&&TO(e,ov,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ly(t,e),t=e.pendingProps;var i=Zd(e,Jr.current);Ld(e,n),i=wC(null,e,r,t,i,n);var o=bC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(r)?(o=!0,rv(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pC(e),i.updater=Rw,e.stateNode=i,i._reactInternals=e,PA(e,r,t,n),e=FA(null,e,r,!0,o,n)):(e.tag=0,In&&o&&aC(e),ti(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ly(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RV(r),t=Wo(r,t),i){case 0:e=kA(null,e,r,t,n);break e;case 1:e=o5(null,e,r,t,n);break e;case 11:e=r5(null,e,r,t,n);break e;case 14:e=i5(null,e,r,Wo(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wo(r,i),kA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wo(r,i),o5(t,e,r,i,n);case 3:e:{if(s4(e),t===null)throw Error(je(387));r=e.pendingProps,o=e.memoizedState,i=o.element,kO(t,e),lv(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=rf(Error(je(423)),e),e=s5(t,e,r,n,i);break e}else if(r!==i){i=rf(Error(je(424)),e),e=s5(t,e,r,n,i);break e}else for(no=Il(e.stateNode.containerInfo.firstChild),oo=e,In=!0,Yo=null,n=PO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ef(),r===i){e=Ba(t,e,n);break e}ti(t,e,r,n)}e=e.child}return e;case 5:return FO(e),t===null&&MA(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,AA(r,i)?s=null:o!==null&&AA(r,o)&&(e.flags|=32),o4(t,e),ti(t,e,s,n),e.child;case 6:return t===null&&MA(e),null;case 13:return a4(t,e,n);case 4:return mC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tf(e,null,r,n):ti(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wo(r,i),r5(t,e,r,i,n);case 7:return ti(t,e,e.pendingProps,n),e.child;case 8:return ti(t,e,e.pendingProps.children,n),e.child;case 12:return ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,bn(sv,r._currentValue),r._currentValue=s,o!==null)if(us(o.value,s)){if(o.children===i.children&&!Pi.current){e=Ba(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ca(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),IA(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(je(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),IA(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ti(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ld(e,n),i=Ro(i),r=r(i),e.flags|=1,ti(t,e,r,n),e.child;case 14:return r=e.type,i=Wo(r,e.pendingProps),i=Wo(r.type,i),i5(t,e,r,i,n);case 15:return r4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wo(r,i),ly(t,e),e.tag=1,Ni(r)?(t=!0,rv(e)):t=!1,Ld(e,n),e4(e,r,i),PA(e,r,i,n),FA(null,e,r,!0,t,n);case 19:return l4(t,e,n);case 22:return i4(t,e,n)}throw Error(je(156,e.tag))};function _4(t,e){return YF(t,e)}function IV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mo(t,e,n,r){return new IV(t,e,n,r)}function RC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RV(t){if(typeof t=="function")return RC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QS)return 11;if(t===XS)return 14}return 2}function kl(t,e){var n=t.alternate;return n===null?(n=Mo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dy(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")RC(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case pd:return Vc(n.children,i,o,e);case KS:s=8,i|=8;break;case tA:return t=Mo(12,n,e,i|2),t.elementType=tA,t.lanes=o,t;case nA:return t=Mo(13,n,e,i),t.elementType=nA,t.lanes=o,t;case rA:return t=Mo(19,n,e,i),t.elementType=rA,t.lanes=o,t;case FF:return kw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NF:s=10;break e;case kF:s=9;break e;case QS:s=11;break e;case XS:s=14;break e;case ml:s=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Mo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vc(t,e,n,r){return t=Mo(7,t,r,e),t.lanes=n,t}function kw(t,e,n,r){return t=Mo(22,t,r,e),t.elementType=FF,t.lanes=n,t.stateNode={isHidden:!1},t}function Ub(t,e,n){return t=Mo(6,t,null,e),t.lanes=n,t}function zb(t,e,n){return e=Mo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bb(0),this.expirationTimes=bb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function PC(t,e,n,r,i,o,s,a,l){return t=new PV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pC(o),t}function NV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function S4(t){if(!t)return jl;t=t._reactInternals;e:{if(Cu(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(Ni(n))return SO(t,n,e)}return e}function C4(t,e,n,r,i,o,s,a,l){return t=PC(n,r,!0,t,i,o,s,a,l),t.context=S4(null),n=t.current,r=di(),i=Nl(n),o=Ca(r,i),o.callback=e??null,Rl(n,o,i),t.current.lanes=i,zm(t,i,r),ki(t,r),t}function Fw(t,e,n,r){var i=e.current,o=di(),s=Nl(i);return n=S4(n),e.context===null?e.context=n:e.pendingContext=n,e=Ca(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rl(i,e,s),t!==null&&(ss(t,i,s,o),oy(t,i,s)),s}function gv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function NC(t,e){g5(t,e),(t=t.alternate)&&g5(t,e)}function kV(){return null}var T4=typeof reportError=="function"?reportError:function(t){console.error(t)};function kC(t){this._internalRoot=t}Ow.prototype.render=kC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));Fw(t,e,null,null)};Ow.prototype.unmount=kC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ru(function(){Fw(null,t,null,null)}),e[Fa]=null}};function Ow(t){this._internalRoot=t}Ow.prototype.unstable_scheduleHydration=function(t){if(t){var e=iO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vl.length&&e!==0&&e<vl[n].priority;n++);vl.splice(n,0,t),n===0&&sO(t)}};function FC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y5(){}function FV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gv(s);o.call(c)}}var s=C4(e,r,t,0,null,!1,!1,"",y5);return t._reactRootContainer=s,t[Fa]=s.current,Lp(t.nodeType===8?t.parentNode:t),ru(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gv(l);a.call(c)}}var l=PC(t,0,!1,null,null,!1,!1,"",y5);return t._reactRootContainer=l,t[Fa]=l.current,Lp(t.nodeType===8?t.parentNode:t),ru(function(){Fw(e,l,n,r)}),l}function Lw(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=gv(s);a.call(l)}}Fw(e,s,t,i)}else s=FV(n,e,t,i,r);return gv(s)}nO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qh(e.pendingLanes);n!==0&&(ZS(e,n|1),ki(e,qn()),!(Zt&6)&&(of=qn()+500,Yl()))}break;case 13:ru(function(){var r=Oa(t,1);if(r!==null){var i=di();ss(r,t,1,i)}}),NC(t,1)}};eC=function(t){if(t.tag===13){var e=Oa(t,134217728);if(e!==null){var n=di();ss(e,t,134217728,n)}NC(t,134217728)}};rO=function(t){if(t.tag===13){var e=Nl(t),n=Oa(t,e);if(n!==null){var r=di();ss(n,t,e,r)}NC(t,e)}};iO=function(){return hn};oO=function(t,e){var n=hn;try{return hn=t,e()}finally{hn=n}};hA=function(t,e,n){switch(e){case"input":if(sA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tw(r);if(!i)throw Error(je(90));BF(r),sA(r,i)}}}break;case"textarea":DF(t,n);break;case"select":e=n.value,e!=null&&kd(t,!!n.multiple,e,!1)}};VF=TC;$F=ru;var OV={usingClientEntryPoint:!1,Events:[Hm,vd,Tw,GF,WF,TC]},Eh={findFiberByHostInstance:Mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BV={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QF(t),t===null?null:t.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||kV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j0.isDisabled&&j0.supportsFiber)try{Aw=j0.inject(BV),Us=j0}catch{}}lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OV;lo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FC(e))throw Error(je(200));return NV(t,e,null,n)};lo.createRoot=function(t,e){if(!FC(t))throw Error(je(299));var n=!1,r="",i=T4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=PC(t,1,!1,null,null,n,!1,r,i),t[Fa]=e.current,Lp(t.nodeType===8?t.parentNode:t),new kC(e)};lo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=QF(e),t=t===null?null:t.stateNode,t};lo.flushSync=function(t){return ru(t)};lo.hydrate=function(t,e,n){if(!Bw(e))throw Error(je(200));return Lw(null,t,e,!0,n)};lo.hydrateRoot=function(t,e,n){if(!FC(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=T4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=C4(e,null,t,1,n??null,i,!1,o,s),t[Fa]=e.current,Lp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ow(e)};lo.render=function(t,e,n){if(!Bw(e))throw Error(je(200));return Lw(null,t,e,!1,n)};lo.unmountComponentAtNode=function(t){if(!Bw(t))throw Error(je(40));return t._reactRootContainer?(ru(function(){Lw(null,null,t,!1,function(){t._reactRootContainer=null,t[Fa]=null})}),!0):!1};lo.unstable_batchedUpdates=TC;lo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bw(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return Lw(t,e,n,!1,r)};lo.version="18.3.1-next-f1338f8080-20240426";function M4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M4)}catch(t){console.error(t)}}M4(),MF.exports=lo;var Dw=MF.exports;const I4=Bm(Dw),LV=$k({__proto__:null,default:I4},[Dw]);var v5=Dw;ZE.createRoot=v5.createRoot,ZE.hydrateRoot=v5.hydrateRoot;const R4="2.31.2";let jb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${R4}`},ke=class $A extends Error{constructor(e,n={}){const r=n.cause instanceof $A?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof $A&&n.cause.docsPath||n.docsPath,o=jb.getDocsUrl?.({...n,docsPath:i}),s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...jb.version?[`Version: ${jb.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=R4}walk(e){return P4(this,e)}};function P4(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?P4(t.cause,e):e?null:t}let N4=class extends ke{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class DV extends ke{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class UV extends ke{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let zV=class extends ke{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},k4=class extends ke{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},F4=class extends ke{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class w5 extends ke{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Hf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Fl(t,{dir:e,size:n}):jV(t,{dir:e,size:n})}function Fl(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new F4({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function jV(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new F4({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}function Gs(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Nn(t){return Gs(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Fi(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const HV=new TextEncoder;function Gf(t,e={}){return typeof t=="number"||typeof t=="bigint"?WV(t,e):typeof t=="boolean"?GV(t,e):Gs(t)?No(t,e):$c(t,e)}function GV(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Do(n,{size:e.size}),Hf(n,{size:e.size})):n}const Xs={zero:48,nine:57,A:65,F:70,a:97,f:102};function b5(t){if(t>=Xs.zero&&t<=Xs.nine)return t-Xs.zero;if(t>=Xs.A&&t<=Xs.F)return t-(Xs.A-10);if(t>=Xs.a&&t<=Xs.f)return t-(Xs.a-10)}function No(t,e={}){let n=t;e.size&&(Do(n,{size:e.size}),n=Hf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const l=b5(r.charCodeAt(a++)),c=b5(r.charCodeAt(a++));if(l===void 0||c===void 0)throw new ke(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[s]=l*16+c}return o}function WV(t,e){const n=Ue(t,e);return No(n)}function $c(t,e={}){const n=HV.encode(t);return typeof e.size=="number"?(Do(n,{size:e.size}),Hf(n,{dir:"right",size:e.size})):n}function Do(t,{size:e}){if(Nn(t)>e)throw new zV({givenSize:Nn(t),maxSize:e})}function Ar(t,e={}){const{signed:n}=e;e.size&&Do(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function VV(t,e={}){let n=t;if(e.size&&(Do(n,{size:e.size}),n=Fi(n)),Fi(n)==="0x00")return!1;if(Fi(n)==="0x01")return!0;throw new UV(n)}function ko(t,e={}){return Number(Ar(t,e))}function $V(t,e={}){let n=No(t);return e.size&&(Do(n,{size:e.size}),n=Fi(n,{dir:"right"})),new TextDecoder().decode(n)}const qV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fi(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ue(t,e):typeof t=="string"?sf(t,e):typeof t=="boolean"?O4(t,e):or(t,e)}function O4(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Do(n,{size:e.size}),Hf(n,{size:e.size})):n}function or(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=qV[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Do(r,{size:e.size}),Hf(r,{dir:"right",size:e.size})):r}function Ue(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const l=typeof t=="bigint"?"n":"";throw new N4({max:o?`${o}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${t}${l}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Hf(a,{size:r}):a}const KV=new TextEncoder;function sf(t,e={}){const n=KV.encode(t);return or(n,e)}async function QV(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ue(n),chainName:r,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function ds(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new l$(t.type);return`${t.name}(${Uw(t.inputs,{includeName:e})})`}function Uw(t,{includeName:e=!1}={}){return t?t.map(n=>XV(n,{includeName:e})).join(e?", ":","):""}function XV(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Uw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class YV extends ke{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class x5 extends ke{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class B4 extends ke{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Uw(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Wm extends ke{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class JV extends ke{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ZV extends ke{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Nn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class e$ extends ke{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class t$ extends ke{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class E5 extends ke{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class L4 extends ke{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class n$ extends ke{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class D4 extends ke{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class A5 extends ke{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class af extends ke{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class U4 extends ke{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class r$ extends ke{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class i$ extends ke{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ds(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ds(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let o$=class extends ke{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class $p extends ke{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Uw(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class zw extends ke{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ds(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class s$ extends ke{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class a$ extends ke{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let z4=class extends ke{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class l$ extends ke{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ws(t){return typeof t[0]=="string"?hs(t):c$(t)}function c$(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function hs(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let mi=class extends ke{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},jw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const H0=BigInt(2**32-1),_5=BigInt(32);function u$(t,e=!1){return e?{h:Number(t&H0),l:Number(t>>_5&H0)}:{h:Number(t>>_5&H0)|0,l:Number(t&H0)|0}}function d$(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:s,l:a}=u$(t[o],e);[r[o],i[o]]=[s,a]}return[r,i]}const f$=(t,e,n)=>t<<n|e>>>32-n,h$=(t,e,n)=>e<<n|t>>>32-n,p$=(t,e,n)=>e<<n-32|t>>>64-n,m$=(t,e,n)=>t<<n-32|e>>>64-n,Hu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fs(t,...e){if(!OC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function g$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");qp(t.outputLen),qp(t.blockLen)}function lf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function j4(t,e){fs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function y$(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function cf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Hb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ws(t,e){return t<<32-e|t>>>e}const v$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w$(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function b$(t){for(let e=0;e<t.length;e++)t[e]=w$(t[e]);return t}const S5=v$?t=>t:b$,H4=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",x$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kp(t){if(fs(t),H4)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=x$[t[n]];return e}const Ys={_0:48,_9:57,A:65,F:70,a:97,f:102};function C5(t){if(t>=Ys._0&&t<=Ys._9)return t-Ys._0;if(t>=Ys.A&&t<=Ys.F)return t-(Ys.A-10);if(t>=Ys.a&&t<=Ys.f)return t-(Ys.a-10)}function BC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(H4)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=C5(t.charCodeAt(o)),a=C5(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function E$(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Vm(t){return typeof t=="string"&&(t=E$(t)),fs(t),t}function Pc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];fs(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let LC=class{};function G4(t){const e=r=>t().update(Vm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function A$(t){const e=(r,i)=>t(i).update(Vm(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function _$(t=32){if(Hu&&typeof Hu.getRandomValues=="function")return Hu.getRandomValues(new Uint8Array(t));if(Hu&&typeof Hu.randomBytes=="function")return Uint8Array.from(Hu.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const S$=BigInt(0),Ah=BigInt(1),C$=BigInt(2),T$=BigInt(7),M$=BigInt(256),I$=BigInt(113),W4=[],V4=[],$4=[];for(let t=0,e=Ah,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],W4.push(2*(5*r+n)),V4.push((t+1)*(t+2)/2%64);let i=S$;for(let o=0;o<7;o++)e=(e<<Ah^(e>>T$)*I$)%M$,e&C$&&(i^=Ah<<(Ah<<BigInt(o))-Ah);$4.push(i)}const q4=d$($4,!0),R$=q4[0],P$=q4[1],T5=(t,e,n)=>n>32?p$(t,e,n):f$(t,e,n),M5=(t,e,n)=>n>32?m$(t,e,n):h$(t,e,n);function K4(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=T5(c,u,1)^n[a],f=M5(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=V4[s],l=T5(i,o,a),c=M5(i,o,a),u=W4[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=R$[r],t[1]^=P$[r]}cf(n)}let DC=class Q4 extends LC{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,qp(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=y$(this.state)}clone(){return this._cloneInto()}keccak(){S5(this.state32),K4(this.state32,this.rounds),S5(this.state32),this.posOut=0,this.pos=0}update(e){lf(this),e=Vm(e),fs(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){lf(this,!1),fs(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(j4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,cf(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new Q4(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const Jl=(t,e,n)=>G4(()=>new DC(e,t,n)),N$=Jl(6,144,224/8),k$=Jl(6,136,256/8),F$=Jl(6,104,384/8),O$=Jl(6,72,512/8),B$=Jl(1,144,224/8),UC=Jl(1,136,256/8),L$=Jl(1,104,384/8),D$=Jl(1,72,512/8),X4=(t,e,n)=>A$((r={})=>new DC(e,t,r.dkLen===void 0?n:r.dkLen,!0)),U$=X4(31,168,128/8),z$=X4(31,136,256/8),W_e=Object.freeze(Object.defineProperty({__proto__:null,Keccak:DC,keccakP:K4,keccak_224:B$,keccak_256:UC,keccak_384:L$,keccak_512:D$,sha3_224:N$,sha3_256:k$,sha3_384:F$,sha3_512:O$,shake128:U$,shake256:z$},Symbol.toStringTag,{value:"Module"}));function Br(t,e){const n=e||"hex",r=UC(Gs(t,{strict:!1})?Gf(t):t);return n==="bytes"?r:fi(r)}const Gb=new jw(8192);function $m(t,e){if(Gb.has(`${t}.${e}`))return Gb.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Br($c(n),"bytes"),i=(e?n.substring(`${e}0x`.length):n).split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&i[s]&&(i[s]=i[s].toUpperCase()),(r[s>>1]&15)>=8&&i[s+1]&&(i[s+1]=i[s+1].toUpperCase());const o=`0x${i.join("")}`;return Gb.set(`${t}.${e}`,o),o}function Lr(t,e){if(!sr(t,{strict:!1}))throw new mi({address:t});return $m(t,e)}const j$=/^0x[a-fA-F0-9]{40}$/,Wb=new jw(8192);function sr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Wb.has(r))return Wb.get(r);const i=j$.test(t)?t.toLowerCase()===t?!0:n?$m(t)===t:!0:!1;return Wb.set(r,i),i}function iu(t,e,n,{strict:r}={}){return Gs(t,{strict:!1})?yv(t,e,n,{strict:r}):Z4(t,e,n,{strict:r})}function Y4(t,e){if(typeof e=="number"&&e>0&&e>Nn(t)-1)throw new k4({offset:e,position:"start",size:Nn(t)})}function J4(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Nn(t)!==n-e)throw new k4({offset:n,position:"end",size:Nn(t)})}function Z4(t,e,n,{strict:r}={}){Y4(t,e);const i=t.slice(e,n);return r&&J4(i,e,n),i}function yv(t,e,n,{strict:r}={}){Y4(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&J4(i,e,n),i}const H$=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Zl(t,e){if(t.length!==e.length)throw new e$({expectedLength:t.length,givenLength:e.length});const n=G$({params:t,values:e}),r=jC(n);return r.length===0?"0x":r}function G$({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(zC({param:t[r],value:e[r]}));return n}function zC({param:t,value:e}){const n=HC(t.type);if(n){const[r,i]=n;return V$(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return X$(e,{param:t});if(t.type==="address")return W$(e);if(t.type==="bool")return q$(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=eB.exec(t.type)??[];return K$(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return $$(e,{param:t});if(t.type==="string")return Q$(e);throw new s$(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function jC(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Nn(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(Ue(e+i,{size:32})),r.push(a),i+=Nn(a)):n.push(a)}return Ws([...n,...r])}function W$(t){if(!sr(t))throw new mi({address:t});return{dynamic:!1,encoded:Fl(t.toLowerCase())}}function V$(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new z4(t);if(!r&&t.length!==e)throw new JV({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const o=[];for(let s=0;s<t.length;s++){const a=zC({param:n,value:t[s]});a.dynamic&&(i=!0),o.push(a)}if(r||i){const s=jC(o);if(r){const a=Ue(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?Ws([a,s]):a}}if(i)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:Ws(o.map(({encoded:s})=>s))}}function $$(t,{param:e}){const[,n]=e.type.split("bytes"),r=Nn(t);if(!n){let i=t;return r%32!==0&&(i=Fl(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ws([Fl(Ue(r,{size:32})),i])}}if(r!==Number.parseInt(n))throw new ZV({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Fl(t,{dir:"right"})}}function q$(t){if(typeof t!="boolean")throw new ke(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Fl(O4(t))}}function K$(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new N4({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ue(t,{size:32,signed:e})}}function Q$(t){const e=sf(t),n=Math.ceil(Nn(e)/32),r=[];for(let i=0;i<n;i++)r.push(Fl(iu(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ws([Fl(Ue(Nn(e),{size:32})),...r])}}function X$(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const o=e.components[i],s=Array.isArray(t)?i:o.name,a=zC({param:o,value:t[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?jC(r):Ws(r.map(({encoded:i})=>i))}}function HC(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Vb="/docs/contract/encodeDeployData";function Hw(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(s=>"type"in s&&s.type==="constructor");if(!i)throw new YV({docsPath:Vb});if(!("inputs"in i))throw new x5({docsPath:Vb});if(!i.inputs||i.inputs.length===0)throw new x5({docsPath:Vb});const o=Zl(i.inputs,n);return hs([r,o])}function Wn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class Tu extends ke{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class fy extends ke{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Y$(t){const e=Br(`0x${t.substring(4)}`).substring(26);return $m(`0x${e}`)}const J$="modulepreload",Z$=function(t){return"/"+t},I5={},Ve=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=Z$(l),l in I5)return;I5[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":J$,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};async function eq({hash:t,signature:e}){const n=Gs(t)?t:fi(t),{secp256k1:r}=await Ve(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>SJ);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:d,yParity:f}=e,h=Number(f??d),p=R5(h);return new r.Signature(Ar(c),Ar(u)).addRecoveryBit(p)}const s=Gs(e)?e:fi(e);if(Nn(s)!==65)throw new Error("invalid signature length");const a=ko(`0x${s.slice(130)}`),l=R5(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function R5(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function tB({hash:t,signature:e}){return Y$(await eq({hash:t,signature:e}))}class P5 extends ke{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class nB extends ke{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class tq extends ke{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const nq={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new tq({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new nB({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new P5({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new P5({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function GC(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(nq);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Hl(t,e="hex"){const n=rB(t),r=GC(new Uint8Array(n.length));return n.encode(r),e==="hex"?or(r.bytes):r.bytes}function rB(t){return Array.isArray(t)?rq(t.map(e=>rB(e))):iq(t)}function rq(t){const e=t.reduce((i,o)=>i+o.length,0),n=iB(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:o}of t)o(i)}}}function iq(t){const e=typeof t=="string"?No(t):t,n=iB(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function iB(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ke("Length is too large.")}function oq(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,o=Br(hs(["0x05",Hl([e?Ue(e):"0x",i,n?Ue(n):"0x"])]));return r==="bytes"?No(o):o}async function oB(t){const{authorization:e,signature:n}=t;return tB({hash:oq(e),signature:n??e})}class qA extends ke{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class sq extends ke{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class aq extends ke{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class sB extends ke{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Gw extends ke{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function aB({chain:t,currentChainId:e}){if(!t)throw new aq;if(e!==t.id)throw new sq({chain:t,currentChainId:e})}const lq={gwei:9,wei:18},cq={ether:-9,wei:9},uq={ether:-18,gwei:-9};function qm(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,o]=[n.slice(0,n.length-e),n.slice(n.length-e)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${o?`.${o}`:""}`}function Oi(t,e="wei"){return qm(t,cq[e])}class Sd extends ke{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Sd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ou extends ke{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Oi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ou,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class KA extends ke{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Oi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(KA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class QA extends ke{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(QA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class XA extends ke{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(XA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class YA extends ke{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(YA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class JA extends ke{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(JA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ZA extends ke{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ZA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class e_ extends ke{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(e_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class t_ extends ke{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(t_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Qp extends ke{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Oi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Oi(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Qp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Km extends ke{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Ww(t,e="wei"){return qm(t,lq[e])}function Qm(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class dq extends ke{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class fq extends ke{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class hq extends ke{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qm(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class pq extends ke{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class mq extends ke{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=Qm({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:d,value:typeof f<"u"&&`${Ww(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Oi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Oi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Oi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class lB extends ke{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){let s="Transaction";r&&o!==void 0&&(s=`Transaction at block time "${r}" at index "${o}"`),e&&o!==void 0&&(s=`Transaction at block hash "${e}" at index "${o}"`),n&&o!==void 0&&(s=`Transaction at block number "${n}" at index "${o}"`),i&&(s=`Transaction with hash "${i}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class cB extends ke{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class gq extends ke{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const pr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n),yq=t=>t,WC=t=>t;class hp extends ke{constructor({body:e,cause:n,details:r,headers:i,status:o,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${WC(s)}`,e&&`Request body: ${pr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=s}}class VC extends ke{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${WC(r)}`,`Request body: ${pr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class N5 extends ke{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${WC(n)}`,`Request body: ${pr(e)}`],name:"TimeoutError"})}}const vq=-1;class Hi extends ke{constructor(e,{code:n,docsPath:r,metaMessages:i,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof VC?e.code:n??vq}}class uo extends Hi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Xp extends Hi{constructor(e){super(e,{code:Xp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Yp extends Hi{constructor(e){super(e,{code:Yp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Jp extends Hi{constructor(e,{method:n}={}){super(e,{code:Jp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Zp extends Hi{constructor(e){super(e,{code:Zp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class su extends Hi{constructor(e){super(e,{code:su.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class au extends Hi{constructor(e){super(e,{code:au.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class em extends Hi{constructor(e){super(e,{code:em.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ol extends Hi{constructor(e){super(e,{code:Ol.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ol,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class tm extends Hi{constructor(e){super(e,{code:tm.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Nc extends Hi{constructor(e,{method:n}={}){super(e,{code:Nc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Nc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class uf extends Hi{constructor(e){super(e,{code:uf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(uf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nm extends Hi{constructor(e){super(e,{code:nm.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Sn extends uo{constructor(e){super(e,{code:Sn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rm extends uo{constructor(e){super(e,{code:rm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class im extends uo{constructor(e,{method:n}={}){super(e,{code:im.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class om extends uo{constructor(e){super(e,{code:om.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class sm extends uo{constructor(e){super(e,{code:sm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Fo extends uo{constructor(e){super(e,{code:Fo.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class df extends uo{constructor(e){super(e,{code:df.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(df,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class am extends uo{constructor(e){super(e,{code:am.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class lm extends uo{constructor(e){super(e,{code:lm.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class cm extends uo{constructor(e){super(e,{code:cm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class um extends uo{constructor(e){super(e,{code:um.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class dm extends uo{constructor(e){super(e,{code:dm.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ff extends uo{constructor(e){super(e,{code:ff.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class wq extends Hi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Vw(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof ke?t.walk(i=>i?.code===Sd.code):t;return r instanceof ke?new Sd({cause:t,message:r.details}):Sd.nodeMessage.test(n)?new Sd({cause:t,message:t.details}):ou.nodeMessage.test(n)?new ou({cause:t,maxFeePerGas:e?.maxFeePerGas}):KA.nodeMessage.test(n)?new KA({cause:t,maxFeePerGas:e?.maxFeePerGas}):QA.nodeMessage.test(n)?new QA({cause:t,nonce:e?.nonce}):XA.nodeMessage.test(n)?new XA({cause:t,nonce:e?.nonce}):YA.nodeMessage.test(n)?new YA({cause:t,nonce:e?.nonce}):JA.nodeMessage.test(n)?new JA({cause:t}):ZA.nodeMessage.test(n)?new ZA({cause:t,gas:e?.gas}):e_.nodeMessage.test(n)?new e_({cause:t,gas:e?.gas}):t_.nodeMessage.test(n)?new t_({cause:t}):Qp.nodeMessage.test(n)?new Qp({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Km({cause:t})}function uB(t,{docsPath:e,...n}){const r=(()=>{const i=Vw(t,n);return i instanceof Km?t:i})();return new mq(r,{docsPath:e,...n})}function $w(t,{format:e}){if(!e)return{};const n={};function r(o){const s=Object.keys(o);for(const a of s)a in t&&(n[a]=t[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const i=e(t||{});return r(i),n}function $C(t,e){return({exclude:n,format:r})=>({exclude:n,format:i=>{const o=e(i);if(n)for(const s of n)delete o[s];return{...o,...r(i)}},type:t})}const bq={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Wf(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=xq(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>or(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ue(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ue(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ue(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ue(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ue(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ue(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=bq[t.type]),typeof t.value<"u"&&(e.value=Ue(t.value)),e}function xq(t){return t.map(e=>({address:e.address,r:e.r?Ue(BigInt(e.r)):e.r,s:e.s?Ue(BigInt(e.s)):e.s,chainId:Ue(e.chainId),nonce:Ue(e.nonce),...typeof e.yParity<"u"?{yParity:Ue(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ue(e.v)}:{}}))}function It(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const qw=2n**256n-1n;function Mu(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:o}=t,s=e?Wn(e):void 0;if(s&&!sr(s.address))throw new mi({address:s.address});if(o&&!sr(o))throw new mi({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new dq;if(r&&r>qw)throw new ou({maxFeePerGas:r});if(i&&r&&i>r)throw new Qp({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function Vf(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ko(e)}class Eq extends ke{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class qC extends ke{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Aq extends ke{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Oi(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class dB extends ke{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const fB={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Kw(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ko(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ko(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?fB[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=Sq(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const _q=$C("transaction",Kw);function Sq(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function KC(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Kw(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Cq=$C("block",KC);async function Bs(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:i}={}){const o=r??"latest",s=i??!1,a=n!==void 0?Ue(n):void 0;let l=null;if(e?l=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):l=await t.request({method:"eth_getBlockByNumber",params:[a||o,s]},{dedupe:!!a}),!l)throw new dB({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||KC)(l)}async function QC(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Tq(t,e){return hB(t,e)}async function hB(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await It(t,Bs,"getBlock")({}),l=await o({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof o<"u")return o;const s=await t.request({method:"eth_maxPriorityFeePerGas"});return Ar(s)}catch{const[o,s]=await Promise.all([n?Promise.resolve(n):It(t,Bs,"getBlock")({}),It(t,QC,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new qC;const a=s-o.baseFeePerGas;return a<0n?0n:a}}async function Mq(t,e){return n_(t,e)}async function n_(t,e){const{block:n,chain:r=t.chain,request:i,type:o="eip1559"}=e||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new Eq;const l=10**(s.toString().split(".")[1]?.length??0),c=f=>f*BigInt(Math.ceil(s*l))/BigInt(l),u=n||await It(t,Bs,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:i,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new qC;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await hB(t,{block:u,chain:r,request:i}),h=c(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??h+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??c(await It(t,QC,"getGasPrice")({}))}}class Iq extends ke{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const h=Qm({from:n?.address,to:d,value:typeof f<"u"&&`${Ww(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Oi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Oi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Oi(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Rq(t,{docsPath:e,...n}){const r=(()=>{const i=Vw(t,n);return i instanceof Km?t:i})();return new Iq(r,{docsPath:e,...n})}class Pq extends ke{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Nq extends ke{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function k5(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function kq(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=k5(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=k5(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function F5(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new w5({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new w5({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Fq(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:o}=t,s={};if(o!==void 0&&(s.code=o),e!==void 0&&(s.balance=Ue(e)),n!==void 0&&(s.nonce=Ue(n)),r!==void 0&&(s.state=F5(r)),i!==void 0){if(s.state)throw new Nq;s.stateDiff=F5(i)}return s}function XC(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!sr(n,{strict:!1}))throw new mi({address:n});if(e[n])throw new Pq({address:n});e[n]=Fq(r)}return e}async function YC(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=typeof n=="bigint"?Ue(n):void 0,o=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(o)}async function JC(t,e){const{account:n=t.account}=e,r=n?Wn(n):void 0;try{let P=function(B){const{block:w,request:E,rpcStateOverride:M}=B;return t.request({method:"eth_estimateGas",params:M?[E,w??"latest",M]:w?[E,w]:[E]})};const{accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,blockNumber:l,blockTag:c,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,value:g,stateOverride:v,...b}=await Qw(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),I=(typeof l=="bigint"?Ue(l):void 0)||c,k=XC(v),A=await(async()=>{if(b.to)return b.to;if(o&&o.length>0)return await oB({authorization:o[0]}).catch(()=>{throw new ke("`to` is required. Could not infer from `authorizationList`")})})();Mu(e);const U=t.chain?.formatters?.transactionRequest?.format,N=(U||Wf)({...$w(b,{format:U}),from:r?.address,accessList:i,authorizationList:o,blobs:s,blobVersionedHashes:a,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:y,to:A,value:g});let G=BigInt(await P({block:I,request:N,rpcStateOverride:k}));if(o){const B=await YC(t,{address:N.from}),w=await Promise.all(o.map(async E=>{const{address:M}=E,O=await P({block:I,request:{authorizationList:void 0,data:u,from:r?.address,to:M,value:Ue(B)},rpcStateOverride:k}).catch(()=>100000n);return 2n*BigInt(O)}));G+=w.reduce((E,M)=>E+M,0n)}return G}catch(i){throw Rq(i,{...e,account:r,chain:t.chain})}}async function ZC(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ue(r):n]},{dedupe:!!r});return ko(i)}function eT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>No(o)):t.blobs,i=[];for(const o of r)i.push(Uint8Array.from(e.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>or(o))}function tT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>No(s)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(s=>No(s)):t.commitments,o=[];for(let s=0;s<r.length;s++){const a=r[s],l=i[s];o.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return n==="bytes"?o:o.map(s=>or(s))}function Oq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}function Bq(t,e,n){return t&e^~t&n}function Lq(t,e,n){return t&e^t&n^e&n}class Dq extends LC{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Hb(this.buffer)}update(e){lf(this),e=Vm(e),fs(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Hb(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lf(this),j4(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,cf(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Oq(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Hb(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ja=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Uq=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Za=new Uint32Array(64);let zq=class extends Dq{constructor(e=32){super(64,e,8,!1),this.A=Ja[0]|0,this.B=Ja[1]|0,this.C=Ja[2]|0,this.D=Ja[3]|0,this.E=Ja[4]|0,this.F=Ja[5]|0,this.G=Ja[6]|0,this.H=Ja[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Za[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Za[d-15],h=Za[d-2],p=ws(f,7)^ws(f,18)^f>>>3,m=ws(h,17)^ws(h,19)^h>>>10;Za[d]=m+Za[d-7]+p+Za[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=ws(a,6)^ws(a,11)^ws(a,25),h=u+f+Bq(a,l,c)+Uq[d]+Za[d]|0,m=(ws(r,2)^ws(r,13)^ws(r,22))+Lq(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){cf(Za)}destroy(){this.set(0,0,0,0,0,0,0,0),cf(this.buffer)}};const pB=G4(()=>new zq),jq=pB;function Hq(t,e){return jq(Gs(t,{strict:!1})?Gf(t):t)}function Gq(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=Hq(e);return i.set([n],0),r==="bytes"?i:or(i)}function mB(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const o of e)i.push(Gq({commitment:o,to:r,version:n}));return i}const O5=6,gB=32,nT=4096,yB=gB*nT,B5=yB*O5-1-1*nT*O5,vB=1;class Wq extends ke{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class wB extends ke{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Vq extends ke{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class $q extends ke{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${vB}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function qq(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?No(t.data):t.data,r=Nn(n);if(!r)throw new wB;if(r>B5)throw new Wq({maxSize:B5,size:r});const i=[];let o=!0,s=0;for(;o;){const a=GC(new Uint8Array(yB));let l=0;for(;l<nT;){const c=n.slice(s,s+(gB-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),o=!1;break}l++,s+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>or(a.bytes))}function bB(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??qq({data:e,to:r}),o=t.commitments??eT({blobs:i,kzg:n,to:r}),s=t.proofs??tT({blobs:i,commitments:o,kzg:n,to:r}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:o[l],proof:s[l]});return a}function xB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new hq({transaction:t})}const EB=["blobVersionedHashes","chainId","fees","gas","nonce","type"],L5=new Map;async function Qw(t,e){const{account:n=t.account,blobs:r,chain:i,gas:o,kzg:s,nonce:a,nonceManager:l,parameters:c=EB,type:u}=e,d=n&&Wn(n),f={...e,...d?{from:d?.address}:{}};let h;async function p(){return h||(h=await It(t,Bs,"getBlock")({blockTag:"latest"}),h)}let m;async function y(){return m||(i?i.id:typeof e.chainId<"u"?e.chainId:(m=await It(t,Vf,"getChainId")({}),m))}if(c.includes("nonce")&&typeof a>"u"&&d)if(l){const g=await y();f.nonce=await l.consume({address:d.address,chainId:g,client:t})}else f.nonce=await It(t,ZC,"getTransactionCount")({address:d.address,blockTag:"pending"});if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const g=eT({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const v=mB({commitments:g,to:"hex"});f.blobVersionedHashes=v}if(c.includes("sidecars")){const v=tT({blobs:r,commitments:g,kzg:s}),b=bB({blobs:r,commitments:g,proofs:v,to:"hex"});f.sidecars=b}}if(c.includes("chainId")&&(f.chainId=await y()),(c.includes("fees")||c.includes("type"))&&typeof u>"u")try{f.type=xB(f)}catch{let g=L5.get(t.uid);typeof g>"u"&&(g=typeof(await p())?.baseFeePerGas=="bigint",L5.set(t.uid,g)),f.type=g?"eip1559":"legacy"}if(c.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const g=await p(),{maxFeePerGas:v,maxPriorityFeePerGas:b}=await n_(t,{block:g,chain:i,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<b)throw new Aq({maxPriorityFeePerGas:b});f.maxPriorityFeePerGas=b,f.maxFeePerGas=v}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new qC;if(typeof e.gasPrice>"u"){const g=await p(),{gasPrice:v}=await n_(t,{block:g,chain:i,request:f,type:"legacy"});f.gasPrice=v}}return c.includes("gas")&&typeof o>"u"&&(f.gas=await It(t,JC,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Mu(f),delete f.parameters,f}async function rT(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const $b=new jw(128);async function Xw(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:o,blobs:s,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,type:p,value:m,...y}=e;if(typeof n>"u")throw new Tu({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?Wn(n):null;try{Mu(e);const v=await(async()=>{if(e.to)return e.to;if(e.to!==null&&o&&o.length>0)return await oB({authorization:o[0]}).catch(()=>{throw new ke("`to` is required. Could not infer from `authorizationList`.")})})();if(g?.type==="json-rpc"||g===null){let b;r!==null&&(b=await It(t,Vf,"getChainId")({}),aB({currentChainId:b,chain:r}));const x=t.chain?.formatters?.transactionRequest?.format,k=(x||Wf)({...$w(y,{format:x}),accessList:i,authorizationList:o,blobs:s,chainId:b,data:a,from:g?.address,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:v,type:p,value:m}),A=$b.get(t.uid),U=A?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:U,params:[k]},{retryCount:0})}catch(S){if(A===!1)throw S;const N=S;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(P=>($b.set(t.uid,!0),P)).catch(P=>{const G=P;throw G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"?($b.set(t.uid,!1),N):G});throw N}}if(g?.type==="local"){const b=await It(t,Qw,"prepareTransactionRequest")({account:g,accessList:i,authorizationList:o,blobs:s,chain:r,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,nonceManager:g.nonceManager,parameters:[...EB,"sidecars"],type:p,value:m,...y,to:v}),x=r?.serializers?.transaction,I=await g.signTransaction(b,{serializer:x});return await It(t,rT,"sendRawTransaction")({serializedTransaction:I})}throw g?.type==="smart"?new fy({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new fy({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(v){throw v instanceof fy?v:uB(v,{...e,account:g,chain:e.chain||void 0})}}function Kq(t,e){const{abi:n,args:r,bytecode:i,...o}=e,s=Hw({abi:n,args:r,bytecode:i});return Xw(t,{...o,...o.authorizationList?{to:null}:{},data:s})}const r_=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i_=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],AB=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],_B=[...AB,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Qq=[...AB,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],D5=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],U5=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],z5=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Xq(t,e={}){typeof e.size<"u"&&Do(t,{size:e.size});const n=or(t,e);return Ar(n,e)}function Yq(t,e={}){let n=t;if(typeof e.size<"u"&&(Do(n,{size:e.size}),n=Fi(n)),n.length>1||n[0]>1)throw new DV(n);return!!n[0]}function Ta(t,e={}){typeof e.size<"u"&&Do(t,{size:e.size});const n=or(t,e);return ko(n,e)}function Jq(t,e={}){let n=t;return typeof e.size<"u"&&(Do(n,{size:e.size}),n=Fi(n,{dir:"right"})),new TextDecoder().decode(n)}function Xm(t,e){const n=typeof e=="string"?No(e):e,r=GC(n);if(Nn(n)===0&&t.length>0)throw new Wm;if(Nn(e)&&Nn(e)<32)throw new B4({data:typeof e=="string"?e:or(e),params:t,size:Nn(e)});let i=0;const o=[];for(let s=0;s<t.length;++s){const a=t[s];r.setPosition(i);const[l,c]=Ud(r,a,{staticPosition:0});i+=c,o.push(l)}return o}function Ud(t,e,{staticPosition:n}){const r=HC(e.type);if(r){const[i,o]=r;return eK(t,{...e,type:o},{length:i,staticPosition:n})}if(e.type==="tuple")return iK(t,e,{staticPosition:n});if(e.type==="address")return Zq(t);if(e.type==="bool")return tK(t);if(e.type.startsWith("bytes"))return nK(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return rK(t,e);if(e.type==="string")return oK(t,{staticPosition:n});throw new a$(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const j5=32,o_=32;function Zq(t){const e=t.readBytes(32);return[$m(or(Z4(e,-20))),32]}function eK(t,e,{length:n,staticPosition:r}){if(!n){const s=Ta(t.readBytes(o_)),a=r+s,l=a+j5;t.setPosition(a);const c=Ta(t.readBytes(j5)),u=fm(e);let d=0;const f=[];for(let h=0;h<c;++h){t.setPosition(l+(u?h*32:d));const[p,m]=Ud(t,e,{staticPosition:l});d+=m,f.push(p)}return t.setPosition(r+32),[f,32]}if(fm(e)){const s=Ta(t.readBytes(o_)),a=r+s,l=[];for(let c=0;c<n;++c){t.setPosition(a+c*32);const[u]=Ud(t,e,{staticPosition:a});l.push(u)}return t.setPosition(r+32),[l,32]}let i=0;const o=[];for(let s=0;s<n;++s){const[a,l]=Ud(t,e,{staticPosition:r+i});i+=l,o.push(a)}return[o,i]}function tK(t){return[Yq(t.readBytes(32),{size:32}),32]}function nK(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const s=Ta(t.readBytes(32));t.setPosition(n+s);const a=Ta(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const l=t.readBytes(a);return t.setPosition(n+32),[or(l),32]}return[or(t.readBytes(Number.parseInt(i),32)),32]}function rK(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[r>48?Xq(i,{signed:n}):Ta(i,{signed:n}),32]}function iK(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:s})=>!s),i=r?[]:{};let o=0;if(fm(e)){const s=Ta(t.readBytes(o_)),a=n+s;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+o);const[u,d]=Ud(t,c,{staticPosition:a});o+=d,i[r?l:c?.name]=u}return t.setPosition(n+32),[i,32]}for(let s=0;s<e.components.length;++s){const a=e.components[s],[l,c]=Ud(t,a,{staticPosition:n});i[r?s:a?.name]=l,o+=c}return[i,o]}function oK(t,{staticPosition:e}){const n=Ta(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ta(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const o=t.readBytes(i,32),s=Jq(Fi(o));return t.setPosition(e+32),[s,32]}function fm(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(fm);const n=HC(t.type);return!!(n&&fm({...t,type:n[1]}))}const sK=t=>Br(Gf(t));function aK(t){return sK(t)}const lK="1.0.8";let fo=class s_ extends Error{constructor(e,n={}){const r=n.cause instanceof s_?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof s_&&n.cause.docsPath||n.docsPath,o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${lK}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Va(t,e){return t.exec(e)?.groups}const SB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,CB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,TB=/^\(.+?\).*?$/,H5=/^tuple(?<array>(\[(\d*)\])*)$/;function a_(t){let e=t.type;if(H5.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const o=t.components[i];e+=a_(o),i<n-1&&(e+=", ")}const r=Va(H5,t.type);return e+=`)${r?.array??""}`,a_({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function _h(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=a_(i),r!==n-1&&(e+=", ")}return e}function vv(t){return t.type==="function"?`function ${t.name}(${_h(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${_h(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${_h(t.inputs)})`:t.type==="error"?`error ${t.name}(${_h(t.inputs)})`:t.type==="constructor"?`constructor(${_h(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const MB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function cK(t){return MB.test(t)}function uK(t){return Va(MB,t)}const IB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function dK(t){return IB.test(t)}function fK(t){return Va(IB,t)}const RB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function hK(t){return RB.test(t)}function pK(t){return Va(RB,t)}const PB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function iT(t){return PB.test(t)}function mK(t){return Va(PB,t)}const NB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function gK(t){return NB.test(t)}function yK(t){return Va(NB,t)}const kB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function vK(t){return kB.test(t)}function wK(t){return Va(kB,t)}const bK=/^receive\(\) external payable$/;function xK(t){return bK.test(t)}const EK=new Set(["indexed"]),l_=new Set(["calldata","memory","storage"]);class AK extends fo{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class _K extends fo{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class SK extends fo{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class CK extends fo{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class TK extends fo{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class MK extends fo{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class IK extends fo{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class RK extends fo{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $f extends fo{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class PK extends fo{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class NK extends fo{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class kK extends fo{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class FK extends fo{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function OK(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const s of i[1])o+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${i[0]}{${o}})`}return e?`${e}:${t}${r}`:t}const qb=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function c_(t,e={}){if(hK(t))return BK(t,e);if(dK(t))return LK(t,e);if(cK(t))return DK(t,e);if(gK(t))return UK(t,e);if(vK(t))return zK(t);if(xK(t))return{type:"receive",stateMutability:"payable"};throw new PK({signature:t})}function BK(t,e={}){const n=pK(t);if(!n)throw new $f({signature:t,type:"function"});const r=es(n.parameters),i=[],o=r.length;for(let a=0;a<o;a++)i.push(lu(r[a],{modifiers:l_,structs:e,type:"function"}));const s=[];if(n.returns){const a=es(n.returns),l=a.length;for(let c=0;c<l;c++)s.push(lu(a[c],{modifiers:l_,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:s}}function LK(t,e={}){const n=fK(t);if(!n)throw new $f({signature:t,type:"event"});const r=es(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(lu(r[s],{modifiers:EK,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function DK(t,e={}){const n=uK(t);if(!n)throw new $f({signature:t,type:"error"});const r=es(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(lu(r[s],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function UK(t,e={}){const n=yK(t);if(!n)throw new $f({signature:t,type:"constructor"});const r=es(n.parameters),i=[],o=r.length;for(let s=0;s<o;s++)i.push(lu(r[s],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function zK(t){const e=wK(t);if(!e)throw new $f({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const jK=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,HK=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,GK=/^u?int$/;function lu(t,e){const n=OK(t,e?.type,e?.structs);if(qb.has(n))return qb.get(n);const r=TB.test(t),i=Va(r?HK:jK,t);if(!i)throw new CK({param:t});if(i.name&&VK(i.name))throw new TK({param:t,name:i.name});const o=i.name?{name:i.name}:{},s=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,c={};if(r){l="tuple";const d=es(i.type),f=[],h=d.length;for(let p=0;p<h;p++)f.push(lu(d[p],{structs:a}));c={components:f}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(GK.test(i.type))l=`${i.type}256`;else if(l=i.type,e?.type!=="struct"&&!FB(l))throw new SK({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new MK({param:t,type:e?.type,modifier:i.modifier});if(l_.has(i.modifier)&&!$K(l,!!i.array))throw new IK({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...o,...s,...c};return qb.set(n,u),u}function es(t,e=[],n="",r=0){const i=t.trim().length;for(let o=0;o<i;o++){const s=t[o],a=t.slice(o+1);switch(s){case",":return r===0?es(a,[...e,n.trim()]):es(a,e,`${n}${s}`,r);case"(":return es(a,e,`${n}${s}`,r+1);case")":return es(a,e,`${n}${s}`,r-1);default:return es(a,e,`${n}${s}`,r)}}if(n==="")return e;if(r!==0)throw new FK({current:n,depth:r});return e.push(n.trim()),e}function FB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||SB.test(t)||CB.test(t)}const WK=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function VK(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||SB.test(t)||CB.test(t)||WK.test(t)}function $K(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function OB(t){const e={},n=t.length;for(let s=0;s<n;s++){const a=t[s];if(!iT(a))continue;const l=mK(a);if(!l)throw new $f({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],d=c.length;for(let f=0;f<d;f++){const p=c[f].trim();if(!p)continue;const m=lu(p,{type:"struct"});u.push(m)}if(!u.length)throw new NK({signature:a});e[l.name]=u}const r={},i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[a,l]=i[s];r[a]=BB(l,e)}return r}const qK=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function BB(t,e,n=new Set){const r=[],i=t.length;for(let o=0;o<i;o++){const s=t[o];if(TB.test(s.type))r.push(s);else{const l=Va(qK,s.type);if(!l?.type)throw new RK({abiParameter:s});const{array:c,type:u}=l;if(u in e){if(n.has(u))throw new kK({type:u});r.push({...s,type:`tuple${c??""}`,components:BB(e[u]??[],e,new Set([...n,u]))})}else if(FB(u))r.push(s);else throw new _K({type:u})}}return r}function LB(t){const e=OB(t),n=[],r=t.length;for(let i=0;i<r;i++){const o=t[i];iT(o)||n.push(c_(o,e))}return n}function G5(t){let e;if(typeof t=="string")e=c_(t);else{const n=OB(t),r=t.length;for(let i=0;i<r;i++){const o=t[i];if(!iT(o)){e=c_(o,n);break}}}if(!e)throw new AK({signature:t});return e}function KK(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new ke("Unable to normalize signature.");return i}const QK=t=>{const e=typeof t=="string"?t:vv(t);return KK(e)};function DB(t){return aK(QK(t))}const Yw=DB,Ym=t=>iu(DB(t),0,4);function Iu(t){const{abi:e,args:n=[],name:r}=t,i=Gs(r,{strict:!1}),o=e.filter(a=>i?a.type==="function"?Ym(a)===r:a.type==="event"?Yw(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((c,u)=>{const d="inputs"in a&&a.inputs[u];return d?u_(c,d):!1})){if(s&&"inputs"in s&&s.inputs){const c=UB(a.inputs,s.inputs,n);if(c)throw new i$({abiItem:a,type:c[0]},{abiItem:s,type:c[1]})}s=a}}return s||o[0]}function u_(t,e){const n=typeof t,r=e.type;switch(r){case"address":return sr(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>u_(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>u_(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function UB(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return UB(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?sr(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?sr(n[r],{strict:!1}):!1)return s}}const Kb="/docs/contract/decodeFunctionResult";function Ru(t){const{abi:e,args:n,functionName:r,data:i}=t;let o=e[0];if(r){const a=Iu({abi:e,args:n,name:r});if(!a)throw new af(r,{docsPath:Kb});o=a}if(o.type!=="function")throw new af(void 0,{docsPath:Kb});if(!o.outputs)throw new U4(o.name,{docsPath:Kb});const s=Xm(o.outputs,i);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}const W5="/docs/contract/encodeFunctionData";function XK(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const o=Iu({abi:e,args:n,name:r});if(!o)throw new af(r,{docsPath:W5});i=o}if(i.type!=="function")throw new af(void 0,{docsPath:W5});return{abi:[i],functionName:Ym(ds(i))}}function Uo(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:XK(t),i=n[0],o=r,s="inputs"in i&&i.inputs?Zl(i.inputs,e??[]):void 0;return hs([o,s??"0x"])}function qf({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new qA({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new qA({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const zB={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},jB={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},YK={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function JK(t){const{abi:e,data:n}=t,r=iu(n,0,4);if(r==="0x")throw new Wm;const o=[...e||[],jB,YK].find(s=>s.type==="error"&&r===Ym(ds(s)));if(!o)throw new L4(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Xm(o.inputs,iu(n,4)):void 0,errorName:o.name}}function HB({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,o)=>`${r&&i.name?`${i.name}: `:""}${typeof e[o]=="object"?pr(e[o]):e[o]}`).join(", ")})`}class GB extends ke{constructor(e,{account:n,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:h}){const p=n?Wn(n):void 0;let m=Qm({from:p?.address,to:d,value:typeof f<"u"&&`${Ww(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:typeof a<"u"&&`${Oi(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${Oi(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Oi(c)} gwei`,nonce:u});h&&(m+=`
${kq(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class WB extends ke{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:o,functionName:s,sender:a}){const l=Iu({abi:n,args:r,name:s}),c=l?HB({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=l?ds(l,{includeName:!0}):void 0,d=Qm({address:i&&yq(i),function:u,args:c&&c!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:o,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=s,this.sender=a}}class d_ extends ke{constructor({abi:e,data:n,functionName:r,message:i}){let o,s,a,l;if(n&&n!=="0x")try{s=JK({abi:e,data:n});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")l=f[0];else if(d==="Panic"){const[h]=f;l=zB[h]}else{const h=u?ds(u,{includeName:!0}):void 0,p=u&&f?HB({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){o=u}else i&&(l=i);let c;o instanceof L4&&(c=o.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=l,this.signature=c}}class ZK extends ke{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class eQ extends ke{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Jw extends ke{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function oT(t,e){if(!(t instanceof ke))return!1;const n=t.walk(r=>r instanceof d_);return n instanceof d_?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===zB[50]):!1}function tQ(t){const{abi:e,data:n}=t,r=iu(n,0,4),i=e.find(o=>o.type==="function"&&r===Ym(ds(o)));if(!i)throw new r$(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Xm(i.inputs,iu(n,4)):void 0}}const Qb="/docs/contract/encodeErrorResult";function V5(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const l=Iu({abi:e,args:r,name:n});if(!l)throw new E5(n,{docsPath:Qb});i=l}if(i.type!=="error")throw new E5(void 0,{docsPath:Qb});const o=ds(i),s=Ym(o);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new t$(i.name,{docsPath:Qb});a=Zl(i.inputs,r)}return hs([s,a])}const Xb="/docs/contract/encodeFunctionResult";function nQ(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const s=Iu({abi:e,name:n});if(!s)throw new af(n,{docsPath:Xb});i=s}if(i.type!=="function")throw new af(void 0,{docsPath:Xb});if(!i.outputs)throw new U4(i.name,{docsPath:Xb});const o=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new z4(r)})();return Zl(i.outputs,o)}const VB="x-batch-gateway:true";async function $_e(t){const{data:e,ccipRequest:n}=t,{args:[r]}=tQ({abi:i_,data:e}),i=[],o=[];return await Promise.all(r.map(async(s,a)=>{try{o[a]=await n(s),i[a]=!1}catch(l){i[a]=!0,o[a]=rQ(l)}})),nQ({abi:i_,functionName:"query",result:[i,o]})}function rQ(t){return t.name==="HttpRequestError"&&t.status?V5({abi:i_,errorName:"HttpError",args:[t.status,t.shortMessage]}):V5({abi:[jB],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function $B(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Gs(e)?e:null}function hy(t){let e=new Uint8Array(32).fill(0);if(!t)return or(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=$B(n[r]),o=i?Gf(i):Br($c(n[r]),"bytes");e=Br(Ws([e,o]),"bytes")}return or(e)}function iQ(t){return`[${t.slice(2)}]`}function oQ(t){const e=new Uint8Array(32).fill(0);return t?$B(t)||Br($c(t)):or(e)}function Zw(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array($c(e).byteLength+2);let r=0;const i=e.split(".");for(let o=0;o<i.length;o++){let s=$c(i[o]);s.byteLength>255&&(s=$c(iQ(oQ(i[o])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const sQ=3;function cu(t,{abi:e,address:n,args:r,docsPath:i,functionName:o,sender:s}){const a=t instanceof Jw?t:t instanceof ke?t.walk(p=>"data"in p)||t.walk():{},{code:l,data:c,details:u,message:d,shortMessage:f}=a,h=t instanceof Wm?new ZK({functionName:o}):[sQ,su.code].includes(l)&&(c||u||d||f)?new d_({abi:e,data:typeof c=="object"?c.data:c,functionName:o,message:a instanceof VC?u:f??d}):t;return new WB(h,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:o,sender:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sT=BigInt(0),f_=BigInt(1);function wv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function G0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function qB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?sT:BigInt("0x"+t)}function e1(t){return qB(Kp(t))}function KB(t){return fs(t),qB(Kp(Uint8Array.from(t).reverse()))}function aT(t,e){return BC(t.toString(16).padStart(e*2,"0"))}function QB(t,e){return aT(t,e).reverse()}function wo(t,e,n){let r;if(typeof e=="string")try{r=BC(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(OC(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Yb=t=>typeof t=="bigint"&&sT<=t;function aQ(t,e,n){return Yb(t)&&Yb(e)&&Yb(n)&&e<=t&&t<n}function lQ(t,e,n,r){if(!aQ(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function cQ(t){let e;for(e=0;t>sT;t>>=f_,e+=1);return e}const t1=t=>(f_<<BigInt(t))-f_;function uQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let o=r(t),s=r(t),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...h)=>n(s,o,...h),u=(h=r(0))=>{s=c(i(0),h),o=c(),h.length!==0&&(s=c(i(1),h),o=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){o=c();const m=o.slice();p.push(m),h+=o.length}return Pc(...p)};return(h,p)=>{l(),u(h);let m;for(;!(m=p(d()));)u();return l(),m}}function lT(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,s){const a=t[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function $5(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const dQ="0.1.1";function fQ(){return dQ}let Xn=class h_ extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof h_){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof h_&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${fQ()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return XB(this,e)}};function XB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?XB(t.cause,e):e?null:t}const hQ="#__bigint";function pQ(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+hQ:i,n)}function mQ(t,e){if(K5(t)>e)throw new SQ({givenSize:K5(t),maxSize:e})}const Js={zero:48,nine:57,A:65,F:70,a:97,f:102};function q5(t){if(t>=Js.zero&&t<=Js.nine)return t-Js.zero;if(t>=Js.A&&t<=Js.F)return t-(Js.A-10);if(t>=Js.a&&t<=Js.f)return t-(Js.a-10)}function gQ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new CQ({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let o=0;o<r;o++){const s=n==="right";i[s?o:r-o-1]=t[s?o:t.length-o-1]}return i}function cT(t,e){if(Oo(t)>e)throw new PQ({givenSize:Oo(t),maxSize:e})}function yQ(t,e){if(typeof e=="number"&&e>0&&e>Oo(t)-1)throw new tL({offset:e,position:"start",size:Oo(t)})}function vQ(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Oo(t)!==n-e)throw new tL({offset:n,position:"end",size:Oo(t)})}function YB(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new NQ({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const wQ=new TextEncoder;function bQ(t){return t instanceof Uint8Array?t:typeof t=="string"?EQ(t):xQ(t)}function xQ(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function EQ(t,e={}){const{size:n}=e;let r=t;n&&(cT(t,n),r=du(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,s=new Uint8Array(o);for(let a=0,l=0;a<o;a++){const c=q5(i.charCodeAt(l++)),u=q5(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new Xn(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);s[a]=c*16+u}return s}function AQ(t,e={}){const{size:n}=e,r=wQ.encode(t);return typeof n=="number"?(mQ(r,n),_Q(r,n)):r}function _Q(t,e){return gQ(t,{dir:"right",size:e})}function K5(t){return t.length}let SQ=class extends Xn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},CQ=class extends Xn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const TQ=new TextEncoder,MQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function IQ(t,e={}){const{strict:n=!1}=e;if(!t)throw new Q5(t);if(typeof t!="string")throw new Q5(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new X5(t);if(!t.startsWith("0x"))throw new X5(t)}function Vs(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function JB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(cT(n,e.size),uu(n,e.size)):n}function ZB(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=MQ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(cT(r,e.size),du(r,e.size)):r}function oi(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof t=="bigint"?"n":"";throw new eL({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${t}${c}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?uu(l,r):l}function uT(t,e={}){return ZB(TQ.encode(t),e)}function uu(t,e){return YB(t,{dir:"left",size:e})}function du(t,e){return YB(t,{dir:"right",size:e})}function dT(t,e,n,r={}){const{strict:i}=r;yQ(t,e);const o=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&vQ(o,e,n),o}function Oo(t){return Math.ceil((t.length-2)/2)}function RQ(t,e={}){const{strict:n=!1}=e;try{return IQ(t,{strict:n}),!0}catch{return!1}}class eL extends Xn{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number \`${o}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Q5 extends Xn{constructor(e){super(`Value \`${typeof e=="object"?pQ(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class X5 extends Xn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class PQ extends Xn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class tL extends Xn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class NQ extends Xn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function kQ(t){return{address:t.address,amount:oi(t.amount),index:oi(t.index),validatorIndex:oi(t.validatorIndex)}}function nL(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:oi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:oi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:oi(t.gasLimit)},...typeof t.number=="bigint"&&{number:oi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:oi(t.prevRandao)},...typeof t.time=="bigint"&&{time:oi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(kQ)}}}const FQ="0x82ad56cb",rL="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",OQ="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",BQ="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function iL(t,{docsPath:e,...n}){const r=(()=>{const i=Vw(t,n);return i instanceof Km?t:i})();return new GB(r,{docsPath:e,...n})}function fT(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Jb=new Map;function oL({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const o=async()=>{const u=l();s();const d=u.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p?.([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p?.(f)}})},s=()=>Jb.delete(e),a=()=>l().map(({args:u})=>u),l=()=>Jb.get(e)||[],c=u=>Jb.set(e,[...l(),u]);return{flush:s,async schedule(u){const{promise:d,resolve:f,reject:h}=fT();return n?.([...a(),u])&&o(),l().length>0?(c({args:u,resolve:f,reject:h}),d):(c({args:u,resolve:f,reject:h}),setTimeout(o,r),d)}}}async function n1(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:o,blockTag:s="latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:b,to:x,value:I,stateOverride:k,...A}=e,U=n?Wn(n):void 0;if(u&&(f||h))throw new ke("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&x)throw new ke("Cannot provide both `code` & `to` as parameters.");const S=u&&d,N=f&&h&&x&&d,P=S||N,G=S?UQ({code:u,data:d}):N?zQ({data:d,factory:f,factoryData:h,to:x}):d;try{Mu(e);const w=(typeof o=="bigint"?Ue(o):void 0)||s,E=c?nL(c):void 0,M=XC(k),O=t.chain?.formatters?.transactionRequest?.format,H=(O||Wf)({...$w(A,{format:O}),from:U?.address,accessList:a,authorizationList:r,blobs:l,data:G,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:v,nonce:b,to:P?void 0:x,value:I});if(i&&LQ({request:H})&&!M&&!E)try{return await DQ(t,{...H,blockNumber:o,blockTag:s})}catch(T){if(!(T instanceof sB)&&!(T instanceof qA))throw T}const W=(()=>{const T=[H,w];return M&&E?[...T,M,E]:M?[...T,M]:E?[...T,{},E]:T})(),D=await t.request({method:"eth_call",params:W});return D==="0x"?{data:void 0}:{data:D}}catch(B){const w=jQ(B),{offchainLookup:E,offchainLookupSignature:M}=await Ve(async()=>{const{offchainLookup:O,offchainLookupSignature:C}=await import("./ccip-DAiNsL4s.js");return{offchainLookup:O,offchainLookupSignature:C}},[]);if(t.ccipRead!==!1&&w?.slice(0,10)===M&&x)return{data:await E(t,{data:w,to:x})};throw P&&w?.slice(0,10)==="0x101bb98d"?new eQ({factory:f}):iL(B,{...e,account:U,chain:t.chain})}}function LQ({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(FQ)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function DQ(t,e){const{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:s,multicallAddress:a,to:l}=e;let c=a;if(!c){if(!t.chain)throw new sB;c=qf({blockNumber:i,chain:t.chain,contract:"multicall3"})}const d=(typeof i=="bigint"?Ue(i):void 0)||o,{schedule:f}=oL({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(m){return m.reduce((g,{data:v})=>g+(v.length-2),0)>n*2},fn:async m=>{const y=m.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),g=Uo({abi:r_,args:[y],functionName:"aggregate3"}),v=await t.request({method:"eth_call",params:[{data:g,to:c},d]});return Ru({abi:r_,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:h,success:p}]=await f({data:s,to:l});if(!p)throw new Jw({data:h});return h==="0x"?{data:void 0}:{data:h}}function UQ(t){const{code:e,data:n}=t;return Hw({abi:LB(["constructor(bytes, bytes)"]),bytecode:rL,args:[e,n]})}function zQ(t){const{data:e,factory:n,factoryData:r,to:i}=t;return Hw({abi:LB(["constructor(address, bytes, address, bytes)"]),bytecode:OQ,args:[i,e,n,r]})}function jQ(t){if(!(t instanceof ke))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function $s(t,e){const{abi:n,address:r,args:i,functionName:o,...s}=e,a=Uo({abi:n,args:i,functionName:o});try{const{data:l}=await It(t,n1,"call")({...s,data:a,to:r});return Ru({abi:n,args:i,functionName:o,data:l||"0x"})}catch(l){throw cu(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function HQ(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return qf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d=Uo({abi:U5,functionName:"addr",...i!=null?{args:[hy(o),BigInt(i)]}:{args:[hy(o)]}}),f={address:c,abi:_B,functionName:"resolve",args:[fi(Zw(o)),d,s??[VB]],blockNumber:n,blockTag:r},p=await It(t,$s,"readContract")(f);if(p[0]==="0x")return null;const m=Ru({abi:U5,args:i!=null?[hy(o),BigInt(i)]:void 0,functionName:"addr",data:p[0]});return m==="0x"||Fi(m)==="0x00"?null:m}catch(d){if(a)throw d;if(oT(d,"resolve"))return null;throw d}}class GQ extends ke{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Sh extends ke{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class hT extends ke{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class WQ extends ke{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const VQ=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,$Q=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,qQ=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,KQ=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function QQ(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function Y5(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function sL({uri:t,gatewayUrls:e}){const n=qQ.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=Y5(e?.ipfs,"https://ipfs.io"),i=Y5(e?.arweave,"https://arweave.net"),o=t.match(VQ),{protocol:s,subpath:a,target:l,subtarget:c=""}=o?.groups||{},u=s==="ipns:/"||a==="ipns/",d=s==="ipfs:/"||a==="ipfs/"||$Q.test(t);if(t.startsWith("http")&&!u&&!d){let h=t;return e?.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${r}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(KQ,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new hT({uri:t})}function aL(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new GQ({data:t});return t.image||t.image_url||t.image_data}async function XQ({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await pT({gatewayUrls:t,uri:aL(n)})}catch{throw new hT({uri:e})}}async function pT({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=sL({uri:e,gatewayUrls:t});if(r||await QQ(n))return n;throw new hT({uri:e})}function YQ(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[o,s]=n.split(":"),[a,l]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Sh({reason:"Only EIP-155 supported"});if(!s)throw new Sh({reason:"Chain ID not found"});if(!l)throw new Sh({reason:"Contract address not found"});if(!i)throw new Sh({reason:"Token ID not found"});if(!a)throw new Sh({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function JQ(t,{nft:e}){if(e.namespace==="erc721")return $s(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return $s(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new WQ({namespace:e.namespace})}async function ZQ(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?eX(t,{gatewayUrls:e,record:n}):pT({uri:n,gatewayUrls:e})}async function eX(t,{gatewayUrls:e,record:n}){const r=YQ(n),i=await JQ(t,{nft:r}),{uri:o,isOnChain:s,isEncoded:a}=sL({uri:i,gatewayUrls:e});if(s&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const c=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(c);return pT({uri:aL(u),gatewayUrls:e})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),XQ({gatewayUrls:e,uri:o.replace(/(?:0x)?{id}/,l)})}async function lL(t,e){const{blockNumber:n,blockTag:r,key:i,name:o,gatewayUrls:s,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return qf({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:c,abi:_B,functionName:"resolve",args:[fi(Zw(o)),Uo({abi:D5,functionName:"text",args:[hy(o),i]}),s??[VB]],blockNumber:n,blockTag:r},h=await It(t,$s,"readContract")(d);if(h[0]==="0x")return null;const p=Ru({abi:D5,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(a)throw d;if(oT(d,"resolve"))return null;throw d}}async function cL(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){const l=await It(t,lL,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!l)return null;try{return await ZQ(t,{record:l,gatewayUrls:r})}catch{return null}}async function uL(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=qf({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const l=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const c={address:a,abi:Qq,functionName:"reverse",args:[fi(Zw(l))],blockNumber:n,blockTag:r},u=It(t,$s,"readContract"),[d,f]=i?await u({...c,args:[...c.args,i]}):await u(c);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(c){if(o)throw c;if(oT(c,"reverse"))return null;throw c}}async function tX(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:o}=t,s=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return qf({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[l]=await It(t,$s,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[fi(Zw(i))],blockNumber:n,blockTag:r});return l}async function dL(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...p}=e,m=n?Wn(n):void 0;try{Mu(e);const g=(typeof r=="bigint"?Ue(r):void 0)||i,v=t.chain?.formatters?.transactionRequest?.format,x=(v||Wf)({...$w(p,{format:v}),from:m?.address,blobs:o,data:s,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h}),I=await t.request({method:"eth_createAccessList",params:[x,g]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(y){throw iL(y,{...e,account:m,chain:t.chain})}}function r1(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:o,transport:s})=>{o==="success"&&e===r&&(n[i]=s.request)}),r=>n[r]||t.request}async function nX(t){const e=r1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}class rX extends ke{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const J5="/docs/contract/encodeEventTopics";function Jm(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=Iu({abi:e,name:n});if(!l)throw new A5(n,{docsPath:J5});i=l}if(i.type!=="event")throw new A5(void 0,{docsPath:J5});const o=ds(i),s=Yw(o);let a=[];if(r&&"inputs"in i){const l=i.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?l?.map(u=>r[u.name])??[]:[];c.length>0&&(a=l?.map((u,d)=>Array.isArray(c[d])?c[d].map((f,h)=>Z5({param:u,value:c[d][h]})):typeof c[d]<"u"&&c[d]!==null?Z5({param:u,value:c[d]}):null)??[])}return[s,...a]}function Z5({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Br(Gf(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new rX(t.type);return Zl([t],[e])}async function fL(t,e){const{address:n,abi:r,args:i,eventName:o,fromBlock:s,strict:a,toBlock:l}=e,c=r1(t,{method:"eth_newFilter"}),u=o?Jm({abi:r,args:i,eventName:o}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?Ue(s):s,toBlock:typeof l=="bigint"?Ue(l):l,topics:u}]});return{abi:r,args:i,eventName:o,id:d,request:c(d),strict:!!a,type:"event"}}async function hL(t,{address:e,args:n,event:r,events:i,fromBlock:o,strict:s,toBlock:a}={}){const l=i??(r?[r]:void 0),c=r1(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(h=>Jm({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof o=="bigint"?Ue(o):o,toBlock:typeof a=="bigint"?Ue(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:c(d),strict:!!s,toBlock:a,type:"event"}}async function pL(t){const e=r1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function iX(t,e){const{abi:n,address:r,args:i,functionName:o,dataSuffix:s,...a}=e,l=Uo({abi:n,args:i,functionName:o});try{return await It(t,JC,"estimateGas")({data:`${l}${s?s.replace("0x",""):""}`,to:r,...a})}catch(c){const u=a.account?Wn(a.account):void 0;throw cu(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}async function oX(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const sX=new Map,aX=new Map;function lX(t){const e=(i,o)=>({clear:()=>o.delete(i),get:()=>o.get(i),set:s=>o.set(i,s)}),n=e(t,sX),r=e(t,aX);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function cX(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=lX(e),i=r.response.get();if(i&&n>0&&new Date().getTime()-i.created.getTime()<n)return i.data;let o=r.promise.get();o||(o=t(),r.promise.set(o));try{const s=await o;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const uX=t=>`blockNumber.${t}`;async function Zm(t,{cacheTime:e=t.cacheTime}={}){const n=await cX(()=>t.request({method:"eth_blockNumber"}),{cacheKey:uX(t.uid),cacheTime:e});return BigInt(n)}async function dX(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Ue(n):void 0;let o;return e?o=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):o=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),ko(o)}async function eI(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Ue(n):void 0,o=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(o!=="0x")return o}function i1(t,e){if(!sr(t,{strict:!1}))throw new mi({address:t});if(!sr(e,{strict:!1}))throw new mi({address:e});return t.toLowerCase()===e.toLowerCase()}const tI="/docs/contract/decodeEventLog";function mT(t){const{abi:e,data:n,strict:r,topics:i}=t,o=r??!0,[s,...a]=i;if(!s)throw new n$({docsPath:tI});const l=e.find(m=>m.type==="event"&&s===Yw(ds(m)));if(!(l&&"name"in l)||l.type!=="event")throw new D4(s,{docsPath:tI});const{name:c,inputs:u}=l,d=u?.some(m=>!("name"in m&&m.name)),f=d?[]:{},h=u.map((m,y)=>[m,y]).filter(([m])=>"indexed"in m&&m.indexed);for(let m=0;m<h.length;m++){const[y,g]=h[m],v=a[m];if(!v)throw new zw({abiItem:l,param:y});f[d?g:y.name||g]=fX({param:y,value:v})}const p=u.filter(m=>!("indexed"in m&&m.indexed));if(p.length>0){if(n&&n!=="0x")try{const m=Xm(p,n);if(m)if(d)for(let y=0;y<u.length;y++)f[y]=f[y]??m.shift();else for(let y=0;y<p.length;y++)f[p[y].name]=m[y]}catch(m){if(o)throw m instanceof B4||m instanceof nB?new $p({abiItem:l,data:n,params:p,size:Nn(n)}):m}else if(o)throw new $p({abiItem:l,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function fX({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Xm([t],e)||[])[0]}function gT(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,o=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{try{const a=e.find(c=>c.type==="event"&&s.topics[0]===Yw(c));if(!a)return null;const l=mT({...s,abi:[a],strict:i});return o&&!o.includes(l.eventName)||!hX({args:l.args,inputs:a.inputs,matchArgs:n})?null:{...l,...s}}catch(a){let l,c;if(a instanceof D4)return null;if(a instanceof $p||a instanceof zw){if(i)return null;l=a.abiItem.name,c=a.abiItem.inputs?.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:l}}}).filter(Boolean)}function hX(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(o,s,a){try{return o.type==="address"?i1(s,a):o.type==="string"||o.type==="bytes"?Br(Gf(s))===a:s===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((o,s)=>{if(o==null)return!0;const a=n[s];return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,s])=>{if(s==null)return!0;const a=n.find(c=>c.name===o);return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):!1}function La(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function yT(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:o,events:s,args:a,strict:l}={}){const c=l??!1,u=s??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(m=>Jm({abi:[m],eventName:m.name,args:s?void 0:a}))],o&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?Ue(r):r,toBlock:typeof i=="bigint"?Ue(i):i}]});const h=f.map(p=>La(p));return u?gT({abi:u,args:a,logs:h,strict:c}):h}async function mL(t,e){const{abi:n,address:r,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:l,strict:c}=e,u=s?Iu({abi:n,name:s}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return It(t,yT,"getLogs")({address:r,args:i,blockHash:o,event:u,events:d,fromBlock:a,toBlock:l,strict:c})}class pX extends ke{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function mX(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[o,s,a,l,c,u,d]=await It(t,$s,"readContract")({abi:gX,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:s,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:d,fields:o}}catch(o){const s=o;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new pX({address:n}):s}}const gX=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function yX(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function vX(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const o=typeof n=="bigint"?Ue(n):void 0,s=await t.request({method:"eth_feeHistory",params:[Ue(e),o||r,i]},{dedupe:!!o});return yX(s)}async function o1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(o=>La(o));return!("abi"in e)||!e.abi?i:gT({abi:e.abi,logs:i,strict:n})}async function wX(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>La(o));return e.abi?gT({abi:e.abi,logs:i,strict:n}):i}async function bX(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const o=n!==void 0?Ue(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,o||r]})}async function vT(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:o}){const s=r||"latest",a=n!==void 0?Ue(n):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ue(o)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,Ue(o)]},{dedupe:!!a}),!l)throw new lB({blockHash:e,blockNumber:n,blockTag:s,hash:i,index:o});return(t.chain?.formatters?.transaction?.format||Kw)(l)}async function xX(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([It(t,Zm,"getBlockNumber")({}),e?It(t,vT,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||i?.blockNumber;return o?r-o+1n:0n}const gL={"0x0":"reverted","0x1":"success"};function yL(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>La(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ko(t.transactionIndex):null,status:t.status?gL[t.status]:null,type:t.type?fB[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const EX=$C("transactionReceipt",yL);async function p_(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new cB({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||yL)(n)}async function vL(t,e){const{account:n,allowFailure:r=!0,batchSize:i,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:l}=e,c=e.contracts,u=i??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=qf({blockNumber:o,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,p=0;for(let g=0;g<c.length;g++){const{abi:v,address:b,args:x,functionName:I}=c[g];try{const k=Uo({abi:v,args:x,functionName:I});p+=(k.length-2)/2,u>0&&p>u&&f[h].length>0&&(h++,p=(k.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:k,target:b}]}catch(k){const A=cu(k,{abi:v,address:b,args:x,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!r)throw A;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:b}]}}const m=await Promise.allSettled(f.map(g=>It(t,$s,"readContract")({abi:r_,account:n,address:d,args:[g],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:l}))),y=[];for(let g=0;g<m.length;g++){const v=m[g];if(v.status==="rejected"){if(!r)throw v.reason;for(let x=0;x<f[g].length;x++)y.push({status:"failure",error:v.reason,result:void 0});continue}const b=v.value;for(let x=0;x<b.length;x++){const{returnData:I,success:k}=b[x],{callData:A}=f[g][x],{abi:U,address:S,functionName:N,args:P}=c[y.length];try{if(A==="0x")throw new Wm;if(!k)throw new Jw({data:I});const G=Ru({abi:U,args:P,data:I,functionName:N});y.push(r?{result:G,status:"success"}:G)}catch(G){const B=cu(G,{abi:U,address:S,args:P,docsPath:"/docs/contract/multicall",functionName:N});if(!r)throw B;y.push({error:B,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new ke("multicall results mismatch");return y}async function m_(t,e){const{blockNumber:n,blockTag:r="latest",blocks:i,returnFullTransactions:o,traceTransfers:s,validation:a}=e;try{const l=[];for(const f of i){const h=f.blockOverrides?nL(f.blockOverrides):void 0,p=f.calls.map(y=>{const g=y,v=g.account?Wn(g.account):void 0,b={...g,data:g.abi?Uo(g):g.data,from:g.from??v?.address};return Mu(b),Wf(b)}),m=f.stateOverrides?XC(f.stateOverrides):void 0;l.push({blockOverrides:h,calls:p,stateOverrides:m})}const u=(typeof n=="bigint"?Ue(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:o,traceTransfers:s,validation:a},u]})).map((f,h)=>({...KC(f),calls:f.calls.map((p,m)=>{const{abi:y,args:g,functionName:v,to:b}=i[h].calls[m],x=p.error?.data??p.returnData,I=BigInt(p.gasUsed),k=p.logs?.map(N=>La(N)),A=p.status==="0x1"?"success":"failure",U=y&&A==="success"&&x!=="0x"?Ru({abi:y,data:x,functionName:v}):null,S=(()=>{if(A==="success")return;let N;if(p.error?.data==="0x"?N=new Wm:p.error&&(N=new Jw(p.error)),!!N)return cu(N,{abi:y??[],address:b??"0x",args:g,functionName:v??"<unknown>"})})();return{data:x,gasUsed:I,logs:k,status:A,...A==="success"?{result:U}:{error:S}}})}))}catch(l){const c=l,u=Vw(c,{});throw u instanceof Km?c:u}}function wL(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=UC(bQ(t));return n==="Bytes"?r:ZB(r)}class AX extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const _X={checksum:new AX(8192)},Zb=_X.checksum,SX=/^0x[a-fA-F0-9]{40}$/;function s1(t,e={}){const{strict:n=!0}=e;if(!SX.test(t))throw new nI({address:t,cause:new TX});if(n){if(t.toLowerCase()===t)return;if(CX(t)!==t)throw new nI({address:t,cause:new MX})}}function CX(t){if(Zb.has(t))return Zb.get(t);s1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=wL(AQ(e),{as:"Bytes"}),r=e.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const i=`0x${r.join("")}`;return Zb.set(t,i),i}function g_(t,e={}){const{strict:n=!0}=e??{};try{return s1(t,{strict:n}),!0}catch{return!1}}class nI extends Xn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class TX extends Xn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class MX extends Xn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function y_(t){let e=!0,n="",r=0,i="",o=!1;for(let s=0;s<t.length;s++){const a=t[s];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){o=!0;break}continue}if(a===" "){t[s-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=a,n+=a}}if(!o)throw new Xn("Unable to normalize signature.");return i}function v_(t,e){const n=typeof t,r=e.type;switch(r){case"address":return g_(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,o)=>v_(Object.values(t)[o],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>v_(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function bL(t,e,n){for(const r in t){const i=t[r],o=e[r];if(i.type==="tuple"&&o.type==="tuple"&&"components"in i&&"components"in o)return bL(i.components,o.components,n[r]);const s=[i.type,o.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?g_(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?g_(n[r],{strict:!1}):!1)return s}}function xL(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?G5(t):t;return{...r,...n?{hash:Cd(r)}:{}}}function IX(t,e,n){const{args:r=[],prepare:i=!0}=n??{},o=RQ(e,{strict:!1}),s=t.filter(c=>o?c.type==="function"||c.type==="error"?EL(c)===dT(e,0,4):c.type==="event"?Cd(c)===e:!1:"name"in c&&c.name===e);if(s.length===0)throw new w_({name:e});if(s.length===1)return{...s[0],...i?{hash:Cd(s[0])}:{}};let a;for(const c of s){if(!("inputs"in c))continue;if(!r||r.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:Cd(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in c&&c.inputs[f];return h?v_(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=bL(c.inputs,a.inputs,r);if(d)throw new PX({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=s;return{...c,overloads:u}})();if(!l)throw new w_({name:e});return{...l,...i?{hash:Cd(l)}:{}}}function EL(t){return dT(Cd(t),0,4)}function RX(t){const e=typeof t=="string"?t:vv(t);return y_(e)}function Cd(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:wL(uT(RX(t)))}class PX extends Xn{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${y_(vv(e.abiItem))}\`, and`,`\`${n.type}\` in \`${y_(vv(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class w_ extends Xn{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const NX=/^(.*)\[([0-9]*)\]$/,kX=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,AL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function FX({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(wT({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function wT({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=HX(r.type);if(i){const[o,s]=i;return BX(n,{checksumAddress:t,length:o,parameter:{...r,type:s}})}if(r.type==="tuple")return jX(n,{checksumAddress:t,parameter:r});if(r.type==="address")return OX(n,{checksum:t});if(r.type==="bool")return DX(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,s="256"]=AL.exec(r.type)??[];return UX(n,{signed:o,size:Number(s)})}if(r.type.startsWith("bytes"))return LX(n,{type:r.type});if(r.type==="string")return zX(n);throw new TL(r.type)}function bT(t){let e=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?e+=32:e+=Oo(a)}const n=[],r=[];let i=0;for(let o=0;o<t.length;o++){const{dynamic:s,encoded:a}=t[o];s?(n.push(oi(e+i,{size:32})),r.push(a),i+=Oo(a)):n.push(a)}return Vs(...n,...r)}function OX(t,e){const{checksum:n=!1}=e;return s1(t,{strict:n}),{dynamic:!1,encoded:uu(t.toLowerCase())}}function BX(t,e){const{checksumAddress:n,length:r,parameter:i}=e,o=r===null;if(!Array.isArray(t))throw new WX(t);if(!o&&t.length!==r)throw new GX({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1;const a=[];for(let l=0;l<t.length;l++){const c=wT({checksumAddress:n,parameter:i,value:t[l]});c.dynamic&&(s=!0),a.push(c)}if(o||s){const l=bT(a);if(o){const c=oi(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Vs(c,l):c}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Vs(...a.map(({encoded:l})=>l))}}function LX(t,{type:e}){const[,n]=e.split("bytes"),r=Oo(t);if(!n){let i=t;return r%32!==0&&(i=du(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Vs(uu(oi(r,{size:32})),i)}}if(r!==Number.parseInt(n))throw new SL({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:du(t)}}function DX(t){if(typeof t!="boolean")throw new Xn(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:uu(JB(t))}}function UX(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new eL({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:oi(t,{size:32,signed:e})}}function zX(t){const e=uT(t),n=Math.ceil(Oo(e)/32),r=[];for(let i=0;i<n;i++)r.push(du(dT(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Vs(du(oi(Oo(e),{size:32})),...r)}}function jX(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const o=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],l=Array.isArray(t)?s:a.name,c=wT({checksumAddress:n,parameter:a,value:t[l]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?bT(o):Vs(...o.map(({encoded:s})=>s))}}function HX(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function _L(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new CL({expectedLength:t.length,givenLength:e.length});const i=FX({checksumAddress:r,parameters:t,values:e}),o=bT(i);return o.length===0?"0x":o}function b_(t,e){if(t.length!==e.length)throw new CL({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],o=e[r];n.push(b_.encode(i,o))}return Vs(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const l=r;return s1(l),uu(l.toLowerCase(),i?32:0)}if(n==="string")return uT(r);if(n==="bytes")return r;if(n==="bool")return uu(JB(r),i?32:1);const o=n.match(AL);if(o){const[l,c,u="256"]=o,d=Number.parseInt(u)/8;return oi(r,{size:i?32:d,signed:c==="int"})}const s=n.match(kX);if(s){const[l,c]=s;if(Number.parseInt(c)!==(r.length-2)/2)throw new SL({expectedSize:Number.parseInt(c),value:r});return du(r,i?32:0)}const a=n.match(NX);if(a&&Array.isArray(r)){const[l,c]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(c,r[d],!0));return u.length===0?"0x":Vs(...u)}throw new TL(n)}t.encode=e})(b_||(b_={}));class GX extends Xn{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class SL extends Xn{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Oo(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class CL extends Xn{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class WX extends Xn{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class TL extends Xn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function VX(t,e){const{bytecode:n,args:r}=e;return Vs(n,t.inputs?.length&&r?.length?_L(t.inputs,r):"0x")}function $X(t){return xL(t)}function qX(t,...e){const{overloads:n}=t,r=n?KX([t,...n],t.name,{args:e[0]}):t,i=QX(r),o=e.length>0?_L(r.inputs,e[0]):void 0;return o?Vs(i,o):i}function Gu(t,e={}){return xL(t,e)}function KX(t,e,n){const r=IX(t,e,n);if(r.type!=="function")throw new w_({name:e,type:"function"});return r}function QX(t){return EL(t)}const XX="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",bs="0x0000000000000000000000000000000000000000",W0=new jw(8192);function YX(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(W0.get(n))return W0.get(n);const r=t().finally(()=>W0.delete(n));return W0.set(n,r),r}async function x_(t){return new Promise(e=>setTimeout(e,t))}function bv(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,o)=>{const s=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await x_(u),s({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<n&&await r({count:a,error:c}))return l({error:c});o(c)}};s()})}function JX(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:o,retryDelay:s=150,retryCount:a=3,uid:l}={...e,...r},{method:c}=n;if(o?.exclude?.includes(c))throw new Nc(new Error("method not supported"),{method:c});if(o?.include&&!o.include.includes(c))throw new Nc(new Error("method not supported"),{method:c});const u=i?sf(`${l}.${pr(n)}`):void 0;return YX(()=>bv(async()=>{try{return await t(n)}catch(d){const f=d;switch(f.code){case Xp.code:throw new Xp(f);case Yp.code:throw new Yp(f);case Jp.code:throw new Jp(f,{method:n.method});case Zp.code:throw new Zp(f);case su.code:throw new su(f);case au.code:throw new au(f);case em.code:throw new em(f);case Ol.code:throw new Ol(f);case tm.code:throw new tm(f);case Nc.code:throw new Nc(f,{method:n.method});case uf.code:throw new uf(f);case nm.code:throw new nm(f);case Sn.code:throw new Sn(f);case rm.code:throw new rm(f);case im.code:throw new im(f);case om.code:throw new om(f);case sm.code:throw new sm(f);case Fo.code:throw new Fo(f);case df.code:throw new df(f);case am.code:throw new am(f);case lm.code:throw new lm(f);case cm.code:throw new cm(f);case um.code:throw new um(f);case dm.code:throw new dm(f);case ff.code:throw new ff(f);case 5e3:throw new Sn(f);default:throw d instanceof ke?d:new wq(f)}}},{delay:({count:d,error:f})=>{if(f&&f instanceof hp){const h=f?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h)*1e3}return~~(1<<d)*s},retryCount:a,shouldRetry:({error:d})=>ZX(d)}),{enabled:i,id:u})}}function ZX(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===uf.code||t.code===su.code:t instanceof hp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Pu(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function xT(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,o)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r?a.abort():o(e)},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(e),o(a)}finally{clearTimeout(s)}})()})}function eY(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rI=eY();function tY(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:s=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:c,signal:u}=a;try{const d=await xT(async({signal:h})=>{const p={...a,body:Array.isArray(r)?pr(r.map(v=>({jsonrpc:"2.0",id:v.id??rI.take(),...v}))):pr({jsonrpc:"2.0",id:r.id??rI.take(),...r}),headers:{"Content-Type":"application/json",...l},method:c||"POST",signal:u||(s>0?h:null)},m=new Request(t,p),y=await i?.(m,p)??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new N5({body:r,url:t}),timeout:s,signal:!0});o&&await o(d);let f;if(d.headers.get("Content-Type")?.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(h){if(d.ok)throw h;f={error:f}}}if(!d.ok)throw new hp({body:r,details:pr(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof hp||d instanceof N5?d:new hp({body:r,cause:d,url:t})}}}}class nY extends ke{constructor({domain:e}){super(`Invalid domain "${pr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class rY extends ke{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class iY extends ke{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function oY(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:kL({domain:e}),...t.types};NL({domain:e,message:n,primaryType:r,types:i});const o=["0x1901"];return e&&o.push(sY({domain:e,types:i})),r!=="EIP712Domain"&&o.push(ML({data:n,primaryType:r,types:i})),Br(Ws(o))}function sY({domain:t,types:e}){return ML({data:t,primaryType:"EIP712Domain",types:e})}function ML({data:t,primaryType:e,types:n}){const r=IL({data:t,primaryType:e,types:n});return Br(r)}function IL({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[aY({primaryType:e,types:n})];for(const o of n[e]){const[s,a]=PL({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(s),i.push(a)}return Zl(r,i)}function aY({primaryType:t,types:e}){const n=fi(lY({primaryType:t,types:e}));return Br(n)}function lY({primaryType:t,types:e}){let n="";const r=RL({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const o of i)n+=`${o}(${e[o].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function RL({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const o of e[i])RL({primaryType:o.type,types:e},n);return n}function PL({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Br(IL({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Br(r)];if(n==="string")return[{type:"bytes32"},Br(fi(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),o=r.map(s=>PL({name:e,type:i,types:t,value:s}));return[{type:"bytes32"},Br(Zl(o.map(([s])=>s),o.map(([,s])=>s)))]}return[{type:n},r]}function cY(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(l,c)=>{const u={...c};for(const d of l){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},s=i.EIP712Domain?e?o(i.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(i[r],n)})();return pr({domain:s,message:a,primaryType:r,types:i})}function NL(t){const{domain:e,message:n,primaryType:r,types:i}=t,o=(s,a)=>{for(const l of s){const{name:c,type:u}=l,d=a[c],f=u.match(eB);if(f&&(typeof d=="number"||typeof d=="bigint")){const[m,y,g]=f;Ue(d,{signed:y==="int",size:Number.parseInt(g)/8})}if(u==="address"&&typeof d=="string"&&!sr(d))throw new mi({address:d});const h=u.match(H$);if(h){const[m,y]=h;if(y&&Nn(d)!==Number.parseInt(y))throw new o$({expectedSize:Number.parseInt(y),givenSize:Nn(d)})}const p=i[u];p&&(uY(u),o(p,d))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new nY({domain:e});o(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])o(i[r],n);else throw new rY({primaryType:r,types:i})}function kL({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function uY(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new iY({type:t})}function dY(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!sr(i))throw new mi({address:i});if(r<0)throw new Gw({chainId:r})}ET(t)}function fY(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new wB;for(const n of e){const r=Nn(n),i=ko(iu(n,0,1));if(r!==32)throw new Vq({hash:n,size:r});if(i!==vB)throw new $q({hash:n,version:i})}}ET(t)}function ET(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Gw({chainId:e});if(i&&!sr(i))throw new mi({address:i});if(r&&r>qw)throw new ou({maxFeePerGas:r});if(n&&r&&n>r)throw new Qp({maxFeePerGas:r,maxPriorityFeePerGas:n})}function hY(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(e<=0)throw new Gw({chainId:e});if(o&&!sr(o))throw new mi({address:o});if(n||i)throw new ke("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>qw)throw new ou({maxFeePerGas:r})}function pY(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:o}=t;if(o&&!sr(o))throw new mi({address:o});if(typeof e<"u"&&e<=0)throw new Gw({chainId:e});if(n||i)throw new ke("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>qw)throw new ou({maxFeePerGas:r})}function a1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new pq({storageKey:i[o]});if(!sr(r,{strict:!1}))throw new mi({address:r});e.push([r,i])}return e}function mY(t,e){const n=xB(t);return n==="eip1559"?vY(t,e):n==="eip2930"?wY(t,e):n==="eip4844"?yY(t,e):n==="eip7702"?gY(t,e):bY(t,e)}function gY(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:o,to:s,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;dY(t);const f=a1(u),h=xY(n);return hs(["0x04",Hl([Ue(r),o?Ue(o):"0x",c?Ue(c):"0x",l?Ue(l):"0x",i?Ue(i):"0x",s??"0x",a?Ue(a):"0x",d??"0x",f,h,...e0(t,e)])])}function yY(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=t;fY(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const b=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(k=>or(k)),x=t.kzg,I=eT({blobs:b,kzg:x});if(typeof f>"u"&&(f=mB({commitments:I})),typeof h>"u"){const k=tT({blobs:b,commitments:I,kzg:x});h=bB({blobs:b,commitments:I,proofs:k})}}const p=a1(u),m=[Ue(n),i?Ue(i):"0x",c?Ue(c):"0x",l?Ue(l):"0x",r?Ue(r):"0x",o??"0x",s?Ue(s):"0x",d??"0x",p,a?Ue(a):"0x",f??[],...e0(t,e)],y=[],g=[],v=[];if(h)for(let b=0;b<h.length;b++){const{blob:x,commitment:I,proof:k}=h[b];y.push(x),g.push(I),v.push(k)}return hs(["0x03",Hl(h?[m,y,g,v]:m)])}function vY(t,e){const{chainId:n,gas:r,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;ET(t);const d=a1(c),f=[Ue(n),i?Ue(i):"0x",l?Ue(l):"0x",a?Ue(a):"0x",r?Ue(r):"0x",o??"0x",s?Ue(s):"0x",u??"0x",d,...e0(t,e)];return hs(["0x02",Hl(f)])}function wY(t,e){const{chainId:n,gas:r,data:i,nonce:o,to:s,value:a,accessList:l,gasPrice:c}=t;hY(t);const u=a1(l),d=[Ue(n),o?Ue(o):"0x",c?Ue(c):"0x",r?Ue(r):"0x",s??"0x",a?Ue(a):"0x",i??"0x",u,...e0(t,e)];return hs(["0x01",Hl(d)])}function bY(t,e){const{chainId:n=0,gas:r,data:i,nonce:o,to:s,value:a,gasPrice:l}=t;pY(t);let c=[o?Ue(o):"0x",l?Ue(l):"0x",r?Ue(r):"0x",s??"0x",a?Ue(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new fq({v:e.v});return h})(),d=Fi(e.r),f=Fi(e.s);c=[...c,Ue(u),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(c=[...c,Ue(n),"0x","0x"]);return Hl(c)}function e0(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const o=Fi(n.r),s=Fi(n.s);return[typeof i=="number"?i?Ue(1):"0x":r===0n?"0x":r===1n?Ue(1):r===27n?"0x":Ue(1),o==="0x00"?"0x":o,s==="0x00"?"0x":s]}function xY(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...o}=n,s=n.address;e.push([r?fi(r):"0x",s,i?fi(i):"0x",...e0({},o)])}return e}const EY=`Ethereum Signed Message:
`;function AY(t){const e=typeof t=="string"?sf(t):typeof t.raw=="string"?t.raw:or(t.raw),n=sf(`${EY}${Nn(e)}`);return Ws([n,e])}function FL(t,e){return Br(AY(t),e)}const OL="0x6492649264926492649264926492649264926492649264926492649264926492";function _Y(t){return yv(t,-32)===OL}function SY(t){const{address:e,data:n,signature:r,to:i="hex"}=t,o=hs([Zl([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),OL]);return i==="hex"?o:No(o)}const CY="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function TY(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:o,traceAssetChanges:s,traceTransfers:a,validation:l}=e,c=e.account?Wn(e.account):void 0;if(s&&!c)throw new ke("`account` is required when `traceAssetChanges` is true");const u=c?VX($X("constructor(bytes, bytes)"),{bytecode:rL,args:[CY,qX(Gu("function getBalance(address)"),[c.address])]}):void 0,d=s?await Promise.all(e.calls.map(async C=>{if(!C.data&&!C.abi)return;const{accessList:H}=await dL(t,{account:c.address,...C,data:C.abi?Uo(C):C.data});return H.map(({address:W,storageKeys:D})=>D.length>0?W:null)})).then(C=>C.flat().filter(Boolean)):[],f=await m_(t,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((C,H)=>({abi:[Gu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:C,from:bs,nonce:H})),stateOverrides:[{address:bs,nonce:0}]}]:[],{calls:[...i,{}].map(C=>({...C,from:c?.address})),stateOverrides:o},...s?[{calls:[{data:u}]},{calls:d.map((C,H)=>({abi:[Gu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:C,from:bs,nonce:H})),stateOverrides:[{address:bs,nonce:0}]},{calls:d.map((C,H)=>({to:C,abi:[Gu("function decimals() returns (uint256)")],functionName:"decimals",from:bs,nonce:H})),stateOverrides:[{address:bs,nonce:0}]},{calls:d.map((C,H)=>({to:C,abi:[Gu("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:bs,nonce:H})),stateOverrides:[{address:bs,nonce:0}]},{calls:d.map((C,H)=>({to:C,abi:[Gu("function symbol() returns (string)")],functionName:"symbol",from:bs,nonce:H})),stateOverrides:[{address:bs,nonce:0}]}]:[]],traceTransfers:a,validation:l}),h=s?f[2]:f[0],[p,m,,y,g,v,b,x]=s?f:[],{calls:I,...k}=h,A=I.slice(0,-1)??[],U=p?.calls??[],S=m?.calls??[],N=[...U,...S].map(C=>C.status==="success"?Ar(C.data):null),P=y?.calls??[],G=g?.calls??[],B=[...P,...G].map(C=>C.status==="success"?Ar(C.data):null),w=(v?.calls??[]).map(C=>C.status==="success"?C.result:null),E=(x?.calls??[]).map(C=>C.status==="success"?C.result:null),M=(b?.calls??[]).map(C=>C.status==="success"?C.result:null),O=[];for(const[C,H]of B.entries()){const W=N[C];if(typeof H!="bigint"||typeof W!="bigint")continue;const D=w[C-1],T=E[C-1],$=M[C-1],J=C===0?{address:XX,decimals:18,symbol:"ETH"}:{address:d[C-1],decimals:$||D?Number(D??1):void 0,symbol:T??void 0};O.some(Z=>Z.token.address===J.address)||O.push({token:J,value:{pre:W,post:H,diff:H-W}})}return{assetChanges:O,block:k,results:A}}const ex=new Map,iI=new Map;let MY=0;function Da(t,e,n){const r=++MY,i=()=>ex.get(t)||[],o=()=>{const u=i();ex.set(t,u.filter(d=>d.id!==r))},s=()=>{const u=i();if(!u.some(f=>f.id===r))return;const d=iI.get(t);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},a=i();if(ex.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return s;const l={};for(const u in e)l[u]=(...d)=>{const f=i();if(f.length!==0)for(const h of f)h.fns[u]?.(...d)};const c=n(l);return typeof c=="function"&&iI.set(t,c),s}function Kf(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const o=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:o}));const l=await n?.(a)??r;await x_(l);const c=async()=>{i&&(await t({unpoll:o}),await x_(r),c())};c()})(),o}function IY(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),u=s??!1;let d;return c?(()=>{const p=pr(["watchBlocks",t.uid,e,n,r,u,l]);return Da(p,{onBlock:i,onError:o},m=>Kf(async()=>{try{const y=await It(t,Bs,"getBlock")({blockTag:e,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let g=d?.number+1n;g<y.number;g++){const v=await It(t,Bs,"getBlock")({blockNumber:g,includeTransactions:u});m.onBlock(v,d),d=v}}(d?.number==null||e==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(m.onBlock(y,d),d=y)}catch(y){m.onError?.(y)}},{emitOnBegin:r,interval:l}))})():(()=>{let p=!0,m=!0,y=()=>p=!1;return(async()=>{try{r&&It(t,Bs,"getBlock")({blockTag:e,includeTransactions:u}).then(b=>{p&&m&&(i(b,void 0),m=!1)}).catch(o);const g=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(x=>x.config.type==="webSocket");return b?b.value:t.transport}return t.transport})(),{unsubscribe:v}=await g.subscribe({params:["newHeads"],async onData(b){if(!p)return;const x=await It(t,Bs,"getBlock")({blockNumber:b.result?.number,includeTransactions:u}).catch(()=>{});p&&(i(x,d),m=!1,d=x)},onError(b){o?.(b)}});y=v,p||y()}catch(g){o?.(g)}})(),()=>y()})()}function BL(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:o,pollingInterval:s=t.pollingInterval}){const a=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let l;return a?(()=>{const d=pr(["watchBlockNumber",t.uid,e,n,s]);return Da(d,{onBlockNumber:r,onError:i},f=>Kf(async()=>{try{const h=await It(t,Zm,"getBlockNumber")({cacheTime:0});if(l){if(h===l)return;if(h-l>1&&n)for(let p=l+1n;p<h;p++)f.onBlockNumber(p,l),l=p}(!l||h>l)&&(f.onBlockNumber(h,l),l=h)}catch(h){f.onError?.(h)}},{emitOnBegin:e,interval:s}))})():(()=>{const d=pr(["watchBlockNumber",t.uid,e,n]);return Da(d,{onBlockNumber:r,onError:i},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const m=(()=>{if(t.transport.type==="fallback"){const g=t.transport.transports.find(v=>v.config.type==="webSocket");return g?g.value:t.transport}return t.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(g){if(!h)return;const v=Ar(g.result?.number);f.onBlockNumber(v,l),l=v},onError(g){f.onError?.(g)}});p=y,h||p()}catch(m){i?.(m)}})(),()=>p()})})()}async function l1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function RY(t,{address:e,args:n,batch:r=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:d}){const f=typeof c<"u"?c:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const y=pr(["watchEvent",e,n,r,t.uid,i,u,s]);return Da(y,{onLogs:l,onError:a},g=>{let v;s!==void 0&&(v=s-1n);let b,x=!1;const I=Kf(async()=>{if(!x){try{b=await It(t,hL,"createEventFilter")({address:e,args:n,event:i,events:o,strict:h,fromBlock:s})}catch{}x=!0;return}try{let k;if(b)k=await It(t,o1,"getFilterChanges")({filter:b});else{const A=await It(t,Zm,"getBlockNumber")({});v&&v!==A?k=await It(t,yT,"getLogs")({address:e,args:n,event:i,events:o,fromBlock:v+1n,toBlock:A}):k=[],v=A}if(k.length===0)return;if(r)g.onLogs(k);else for(const A of k)g.onLogs([A])}catch(k){b&&k instanceof au&&(x=!1),g.onError?.(k)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await It(t,l1,"uninstallFilter")({filter:b}),I()}})})():(()=>{let y=!0,g=()=>y=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(A=>A.config.type==="webSocket");return k?k.value:t.transport}return t.transport})(),b=o??(i?[i]:void 0);let x=[];b&&(x=[b.flatMap(A=>Jm({abi:[A],eventName:A.name,args:n}))],i&&(x=x[0]));const{unsubscribe:I}=await v.subscribe({params:["logs",{address:e,topics:x}],onData(k){if(!y)return;const A=k.result;try{const{eventName:U,args:S}=mT({abi:b??[],data:A.data,topics:A.topics,strict:h}),N=La(A,{args:S,eventName:U});l([N])}catch(U){let S,N;if(U instanceof $p||U instanceof zw){if(d)return;S=U.abiItem.name,N=U.abiItem.inputs?.some(G=>!("name"in G&&G.name))}const P=La(A,{args:N?[]:{},eventName:S});l([P])}},onError(k){a?.(k)}});g=I,y||g()}catch(v){a?.(v)}})(),()=>g()})()}function PY(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:o=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const c=pr(["watchPendingTransactions",t.uid,e,o]);return Da(c,{onTransactions:r,onError:n},u=>{let d;const f=Kf(async()=>{try{if(!d)try{d=await It(t,pL,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const h=await It(t,o1,"getFilterChanges")({filter:d});if(h.length===0)return;if(e)u.onTransactions(h);else for(const p of h)u.onTransactions([p])}catch(h){u.onError?.(h)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await It(t,l1,"uninstallFilter")({filter:d}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const h=f.result;r([h])},onError(f){n?.(f)}});u=d,c||u()}catch(d){n?.(d)}})(),()=>u()})()}async function NY(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>$m(n))}async function kY(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function FY(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Wn(n):void 0,o=r?[i?.address,[Ue(r)]]:[i?.address],s=await t.request({method:"wallet_getCapabilities",params:o}),a={};for(const[l,c]of Object.entries(s)){a[Number(l)]={};for(let[u,d]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=d}return typeof r=="number"?a[r]:a}const LL="0x5792579257925792579257925792579257925792579257925792579257925792",DL=Ue(0,{size:32});async function OY(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:o,experimental_fallbackDelay:s=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=n?Wn(n):null,d=e.calls.map(f=>{const h=f;return{data:h.abi?Uo({abi:h.abi,functionName:h.functionName,args:h.args}):h.data,to:h.to,value:h.value?Ue(h.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:Ue(i.id),from:u?.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const h=f;if(o&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method"))){if(r&&Object.values(r).some(v=>!v.optional)){const v="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new df(new ke(v,{details:v}))}if(a&&d.length>1){const g="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new ff(new ke(g,{details:g}))}const p=[];for(const g of d){const v=Xw(t,{account:u,chain:i,data:g.data,to:g.to,value:g.value?Ar(g.value):void 0});p.push(v),s>0&&await new Promise(b=>setTimeout(b,s))}const m=await Promise.allSettled(p);if(m.every(g=>g.status==="rejected"))throw m[0].reason;const y=m.map(g=>g.status==="fulfilled"?g.value:DL);return{id:Ws([...y,Ue(i.id,{size:32}),LL])}}throw uB(f,{...e,account:u,chain:e.chain})}}async function UL(t,e){async function n(u){if(u.endsWith(LL.slice(2))){const f=Fi(yv(u,-64,-32)),h=yv(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(y=>DL.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),m=p.some(y=>y===null)?100:p.every(y=>y?.status==="0x1")?200:p.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:ko(f),receipts:p.filter(Boolean),status:m,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:i,receipts:o,version:s="2.0.0",...a}=await n(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:i?ko(i):void 0,receipts:o?.map(u=>({...u,blockNumber:Ar(u.blockNumber),gasUsed:Ar(u.gasUsed),status:gL[u.status]}))??[],statusCode:c,status:l,version:s}}async function BY(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function LY(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:f})=>f>=200,timeout:o=6e4}=e,s=pr(["waitForCallsStatus",t.uid,n]),{promise:a,resolve:l,reject:c}=fT();let u;const d=Da(s,{resolve:l,reject:c},f=>{const h=Kf(async()=>{const p=m=>{clearTimeout(u),h(),m(),d()};try{const m=await UL(t,{id:n});if(!i(m))return;p(()=>f.resolve(m))}catch(m){p(()=>f.reject(m))}},{interval:r,emitOnBegin:!0});return h});return u=o?setTimeout(()=>{d(),clearTimeout(u),c(new DY({id:n}))},o):void 0,await a}class DY extends ke{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function UY(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function zY(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ko(t.nonce):void 0,storageProof:t.storageProof?UY(t.storageProof):void 0}}async function jY(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const o=r??"latest",s=n!==void 0?Ue(n):void 0,a=await t.request({method:"eth_getProof",params:[e,i,s||o]});return zY(a)}async function HY(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:i=t.pollingInterval,retryCount:o=6,retryDelay:s=({count:l})=>~~(1<<l)*200,timeout:a=18e4}){const l=pr(["waitForTransactionReceipt",t.uid,n]);let c,u,d,f=!1,h,p;const{promise:m,resolve:y,reject:g}=fT(),v=a?setTimeout(()=>{p(),h(),g(new gq({hash:n}))},a):void 0;return h=Da(l,{onReplaced:r,resolve:y,reject:g},b=>{p=It(t,BL,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(x){const I=A=>{clearTimeout(v),p(),A(),h()};let k=x;if(!f)try{if(d){if(e>1&&(!d.blockNumber||k-d.blockNumber+1n<e))return;I(()=>b.resolve(d));return}if(c||(f=!0,await bv(async()=>{c=await It(t,vT,"getTransaction")({hash:n}),c.blockNumber&&(k=c.blockNumber)},{delay:s,retryCount:o}),f=!1),d=await It(t,p_,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||k-d.blockNumber+1n<e))return;I(()=>b.resolve(d))}catch(A){if(A instanceof lB||A instanceof cB){if(!c){f=!1;return}try{u=c,f=!0;const U=await bv(()=>It(t,Bs,"getBlock")({blockNumber:k,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:P})=>P instanceof dB});f=!1;const S=U.transactions.find(({from:P,nonce:G})=>P===u.from&&G===u.nonce);if(!S||(d=await It(t,p_,"getTransactionReceipt")({hash:S.hash}),e>1&&(!d.blockNumber||k-d.blockNumber+1n<e)))return;let N="replaced";S.to===u.to&&S.value===u.value&&S.input===u.input?N="repriced":S.from===S.to&&S.value===0n&&(N="cancelled"),I(()=>{b.onReplaced?.({reason:N,replacedTransaction:u,transaction:S,transactionReceipt:d}),b.resolve(d)})}catch(U){I(()=>b.reject(U))}}else I(()=>b.reject(A))}}})}),m}async function GY(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Lr(n))}async function WY(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function zL(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Tu({docsPath:"/docs/eip7702/prepareAuthorization"});const o=Wn(n),s=(()=>{if(e.executor)return e.executor==="self"?e.executor:Wn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await It(t,Vf,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await It(t,ZC,"getTransactionCount")({address:o.address,blockTag:"pending"}),(s==="self"||s?.address&&i1(s.address,o.address))&&(a.nonce+=1)),a}async function VY(t,e){const{account:n=t.account}=e;if(!n)throw new Tu({docsPath:"/docs/eip7702/signAuthorization"});const r=Wn(n);if(!r.signAuthorization)throw new fy({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await zL(t,e);return r.signAuthorization(i)}async function $Y(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Tu({docsPath:"/docs/actions/wallet/signTransaction"});const o=Wn(n);Mu({account:o,...e});const s=await It(t,Vf,"getChainId")({});r!==null&&aB({currentChainId:s,chain:r});const l=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Wf;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:Ue(s),from:o.address}]},{retryCount:0})}async function jL(t,{account:e=t.account,message:n}){if(!e)throw new Tu({docsPath:"/docs/actions/wallet/signMessage"});const r=Wn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?sf(n):n.raw instanceof Uint8Array?fi(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function qY(t,e){const{account:n=t.account,domain:r,message:i,primaryType:o}=e;if(!n)throw new Tu({docsPath:"/docs/actions/wallet/signTypedData"});const s=Wn(n),a={EIP712Domain:kL({domain:r}),...e.types};if(NL({domain:r,message:i,primaryType:o,types:a}),s.signTypedData)return s.signTypedData({domain:r,message:i,primaryType:o,types:a});const l=cY({domain:r,message:i,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[s.address,l]},{retryCount:0})}async function KY(t,e){const{abi:n,address:r,args:i,dataSuffix:o,functionName:s,...a}=e,l=a.account?Wn(a.account):t.account,c=Uo({abi:n,args:i,functionName:s});try{const{data:u}=await It(t,n1,"call")({batch:!1,data:`${c}${o?o.replace("0x",""):""}`,to:r,...a,account:l}),d=Ru({abi:n,args:i,functionName:s,data:u||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:i,dataSuffix:o,functionName:s,...a,account:l}}}catch(u){throw cu(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function QY(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ue(e)}]},{retryCount:0})}let HL=class extends LC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,g$(e);const r=Vm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),cf(o)}update(e){return lf(this),this.iHash.update(e),this}digestInto(e){lf(this),fs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const GL=(t,e,n)=>new HL(t,e).update(n).digest();GL.create=(t,e)=>new HL(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ti=BigInt(0),hi=BigInt(1),kc=BigInt(2),XY=BigInt(3),WL=BigInt(4),VL=BigInt(5),$L=BigInt(8);function xo(t,e){const n=t%e;return n>=Ti?n:e+n}function po(t,e,n){let r=t;for(;e-- >Ti;)r*=r,r%=n;return r}function oI(t,e){if(t===Ti)throw new Error("invert: expected non-zero number");if(e<=Ti)throw new Error("invert: expected positive modulus, got "+e);let n=xo(t,e),r=e,i=Ti,o=hi;for(;n!==Ti;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==hi)throw new Error("invert: does not exist");return xo(i,e)}function qL(t,e){const n=(t.ORDER+hi)/WL,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function YY(t,e){const n=(t.ORDER-VL)/$L,r=t.mul(e,kc),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,kc),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function JY(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-hi,n=0;for(;e%kc===Ti;)e/=kc,n++;let r=kc;const i=c1(t);for(;sI(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return qL;let o=i.pow(r,e);const s=(e+hi)/kc;return function(l,c){if(l.is0(c))return c;if(sI(l,c)!==1)throw new Error("Cannot find square root");let u=n,d=l.mul(l.ONE,o),f=l.pow(c,e),h=l.pow(c,s);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let p=1,m=l.sqr(f);for(;!l.eql(m,l.ONE);)if(p++,m=l.sqr(m),p===u)throw new Error("Cannot find square root");const y=hi<<BigInt(u-p-1),g=l.pow(d,y);u=p,d=l.sqr(g),f=l.mul(f,d),h=l.mul(h,g)}return h}}function ZY(t){return t%WL===XY?qL:t%$L===VL?YY:JY(t)}const eJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=eJ.reduce((r,i)=>(r[i]="function",r),e);return lT(t,n),t}function nJ(t,e,n){if(n<Ti)throw new Error("invalid exponent, negatives unsupported");if(n===Ti)return t.ONE;if(n===hi)return e;let r=t.ONE,i=e;for(;n>Ti;)n&hi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=hi;return r}function KL(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),o),r}function sI(t,e){const n=(t.ORDER-hi)/kc,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function rJ(t,e){e!==void 0&&qp(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function c1(t,e,n=!1,r={}){if(t<=Ti)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:s,nByteLength:a}=rJ(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:t1(s),ZERO:Ti,ONE:hi,create:u=>xo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Ti<=u&&u<t},is0:u=>u===Ti,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&hi)===hi,neg:u=>xo(-u,t),eql:(u,d)=>u===d,sqr:u=>xo(u*u,t),add:(u,d)=>xo(u+d,t),sub:(u,d)=>xo(u-d,t),mul:(u,d)=>xo(u*d,t),pow:(u,d)=>nJ(c,u,d),div:(u,d)=>xo(u*oI(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>oI(u,t),sqrt:o||(u=>(l||(l=ZY(t)),l(c,u))),toBytes:u=>n?QB(u,a):aT(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?KB(u):e1(u)},invertBatch:u=>KL(c,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(c)}function QL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function XL(t){const e=QL(t);return e+Math.ceil(e/2)}function iJ(t,e,n=!1){const r=t.length,i=QL(e),o=XL(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=n?KB(t):e1(t),a=xo(s,e-hi)+hi;return n?QB(a,i):aT(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hf=BigInt(0),Fc=BigInt(1);function pp(t,e){const n=e.negate();return t?n:e}function oJ(t,e,n){const r=s=>s.pz,i=KL(t.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function YL(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function tx(t,e){YL(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=t1(t),s=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:s}}function aI(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),l=t>>s;a>r&&(a-=o,l+=Fc);const c=e*r,u=c+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:c}}function sJ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function aJ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const nx=new WeakMap,JL=new WeakMap;function rx(t){return JL.get(t)||1}function lI(t){if(t!==hf)throw new Error("invalid wNAF")}function lJ(t,e){return{constTimeNegate:pp,hasPrecomputes(n){return rx(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>hf;)r&Fc&&(i=i.add(o)),o=o.double(),r>>=Fc;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=tx(r,e),s=[];let a=n,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(n,r,i){let o=t.ZERO,s=t.BASE;const a=tx(n,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=aI(i,l,a);i=c,d?s=s.add(pp(h,r[p])):o=o.add(pp(f,r[u]))}return lI(i),{p:o,f:s}},wNAFUnsafe(n,r,i,o=t.ZERO){const s=tx(n,e);for(let a=0;a<s.windows&&i!==hf;a++){const{nextN:l,offset:c,isZero:u,isNeg:d}=aI(i,a,s);if(i=l,!u){const f=r[c];o=o.add(d?f.negate():f)}}return lI(i),o},getPrecomputes(n,r,i){let o=nx.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),nx.set(r,o))),o},wNAFCached(n,r,i){const o=rx(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const s=rx(n);return s===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(s,this.getPrecomputes(s,n,i),r,o)},setWindowSize(n,r){YL(r,e),JL.set(n,r),nx.delete(n)}}}function cJ(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>hf||r>hf;)n&Fc&&(o=o.add(i)),r&Fc&&(s=s.add(i)),i=i.double(),n>>=Fc,r>>=Fc;return{p1:o,p2:s}}function uJ(t,e,n,r){sJ(n,t),aJ(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=cQ(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=t1(l),u=new Array(Number(c)+1).fill(s),d=Math.floor((e.BITS-1)/l)*l;let f=s;for(let h=d;h>=0;h-=l){u.fill(s);for(let m=0;m<o;m++){const y=r[m],g=Number(y>>BigInt(h)&c);u[g]=u[g].add(n[m])}let p=s;for(let m=u.length-1,y=s;m>0;m--)y=y.add(u[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<l;m++)f=f.double()}return f}function cI(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return tJ(e),e}else return c1(t)}function dJ(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>hf))throw new Error(`CURVE.${a} must be positive bigint`)}const r=cI(e.p,n.Fp),i=cI(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uI(t){t.lowS!==void 0&&wv("lowS",t.lowS),t.prehash!==void 0&&wv("prehash",t.prehash)}class fJ extends Error{constructor(e=""){super(e)}}const pa={Err:fJ,_tlv:{encode:(t,e)=>{const{Err:n}=pa;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=G0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?G0(i.length/2|128):"";return G0(t)+o+i+e},decode(t,e){const{Err:n}=pa;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=pa;if(t<mp)throw new e("integer: negative integers are not allowed");let n=G0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=pa;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return e1(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=pa,i=wo("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=pa,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},mp=BigInt(0),gp=BigInt(1),hJ=BigInt(2),V0=BigInt(3),pJ=BigInt(4);function mJ(t,e,n){function r(i){const o=t.sqr(i),s=t.mul(o,i);return t.add(t.add(s,t.mul(i,e)),n)}return r}function ZL(t,e,n){const{BYTES:r}=t;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=wo("private key",o);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(a,l.length-a.length),a=l}try{s=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(s=t.create(s)),!t.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function gJ(t,e={}){const{Fp:n,Fn:r}=dJ("weierstrass",t,e),{h:i,n:o}=t;lT(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!n.is0(t.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(U,S,N){const{x:P,y:G}=S.toAffine(),B=n.toBytes(P);if(wv("isCompressed",N),N){a();const w=!n.isOdd(G);return Pc(eD(w),B)}else return Pc(Uint8Array.of(4),B,n.toBytes(G))}function c(U){fs(U);const S=n.BYTES,N=S+1,P=2*S+1,G=U.length,B=U[0],w=U.subarray(1);if(G===N&&(B===2||B===3)){const E=n.fromBytes(w);if(!n.isValid(E))throw new Error("bad point: is not on curve, wrong x");const M=f(E);let O;try{O=n.sqrt(M)}catch(W){const D=W instanceof Error?": "+W.message:"";throw new Error("bad point: is not on curve, sqrt error"+D)}a();const C=n.isOdd(O);return(B&1)===1!==C&&(O=n.neg(O)),{x:E,y:O}}else if(G===P&&B===4){const E=n.fromBytes(w.subarray(S*0,S*1)),M=n.fromBytes(w.subarray(S*1,S*2));if(!h(E,M))throw new Error("bad point: is not on curve");return{x:E,y:M}}else throw new Error(`bad point: got length ${G}, expected compressed=${N} or uncompressed=${P}`)}const u=e.toBytes||l,d=e.fromBytes||c,f=mJ(n,t.a,t.b);function h(U,S){const N=n.sqr(S),P=f(U);return n.eql(N,P)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=n.mul(n.pow(t.a,V0),pJ),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(p,m)))throw new Error("bad curve params: a or b");function y(U,S,N=!1){if(!n.isValid(S)||N&&n.is0(S))throw new Error(`bad point coordinate ${U}`);return S}function g(U){if(!(U instanceof I))throw new Error("ProjectivePoint expected")}const v=$5((U,S)=>{const{px:N,py:P,pz:G}=U;if(n.eql(G,n.ONE))return{x:N,y:P};const B=U.is0();S==null&&(S=B?n.ONE:n.inv(G));const w=n.mul(N,S),E=n.mul(P,S),M=n.mul(G,S);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:w,y:E}}),b=$5(U=>{if(U.is0()){if(e.allowInfinityPoint&&!n.is0(U.py))return;throw new Error("bad point: ZERO")}const{x:S,y:N}=U.toAffine();if(!n.isValid(S)||!n.isValid(N))throw new Error("bad point: x or y not field elements");if(!h(S,N))throw new Error("bad point: equation left != right");if(!U.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(U,S,N,P,G){return N=new I(n.mul(N.px,U),N.py,N.pz),S=pp(P,S),N=pp(G,N),S.add(N)}class I{constructor(S,N,P){this.px=y("x",S),this.py=y("y",N,!0),this.pz=y("z",P),Object.freeze(this)}static fromAffine(S){const{x:N,y:P}=S||{};if(!S||!n.isValid(N)||!n.isValid(P))throw new Error("invalid affine point");if(S instanceof I)throw new Error("projective point not allowed");return n.is0(N)&&n.is0(P)?I.ZERO:new I(N,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){return oJ(I,"pz",S)}static fromBytes(S){return fs(S),I.fromHex(S)}static fromHex(S){const N=I.fromAffine(d(wo("pointHex",S)));return N.assertValidity(),N}static fromPrivateKey(S){const N=ZL(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return I.BASE.multiply(N(S))}static msm(S,N){return uJ(I,r,S,N)}precompute(S=8,N=!0){return A.setWindowSize(this,S),N||this.multiply(V0),this}_setWindowSize(S){this.precompute(S)}assertValidity(){b(this)}hasEvenY(){const{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){g(S);const{px:N,py:P,pz:G}=this,{px:B,py:w,pz:E}=S,M=n.eql(n.mul(N,E),n.mul(B,G)),O=n.eql(n.mul(P,E),n.mul(w,G));return M&&O}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:N}=t,P=n.mul(N,V0),{px:G,py:B,pz:w}=this;let E=n.ZERO,M=n.ZERO,O=n.ZERO,C=n.mul(G,G),H=n.mul(B,B),W=n.mul(w,w),D=n.mul(G,B);return D=n.add(D,D),O=n.mul(G,w),O=n.add(O,O),E=n.mul(S,O),M=n.mul(P,W),M=n.add(E,M),E=n.sub(H,M),M=n.add(H,M),M=n.mul(E,M),E=n.mul(D,E),O=n.mul(P,O),W=n.mul(S,W),D=n.sub(C,W),D=n.mul(S,D),D=n.add(D,O),O=n.add(C,C),C=n.add(O,C),C=n.add(C,W),C=n.mul(C,D),M=n.add(M,C),W=n.mul(B,w),W=n.add(W,W),C=n.mul(W,D),E=n.sub(E,C),O=n.mul(W,H),O=n.add(O,O),O=n.add(O,O),new I(E,M,O)}add(S){g(S);const{px:N,py:P,pz:G}=this,{px:B,py:w,pz:E}=S;let M=n.ZERO,O=n.ZERO,C=n.ZERO;const H=t.a,W=n.mul(t.b,V0);let D=n.mul(N,B),T=n.mul(P,w),$=n.mul(G,E),J=n.add(N,P),Z=n.add(B,w);J=n.mul(J,Z),Z=n.add(D,T),J=n.sub(J,Z),Z=n.add(N,G);let ce=n.add(B,E);return Z=n.mul(Z,ce),ce=n.add(D,$),Z=n.sub(Z,ce),ce=n.add(P,G),M=n.add(w,E),ce=n.mul(ce,M),M=n.add(T,$),ce=n.sub(ce,M),C=n.mul(H,Z),M=n.mul(W,$),C=n.add(M,C),M=n.sub(T,C),C=n.add(T,C),O=n.mul(M,C),T=n.add(D,D),T=n.add(T,D),$=n.mul(H,$),Z=n.mul(W,Z),T=n.add(T,$),$=n.sub(D,$),$=n.mul(H,$),Z=n.add(Z,$),D=n.mul(T,Z),O=n.add(O,D),D=n.mul(ce,Z),M=n.mul(J,M),M=n.sub(M,D),D=n.mul(J,T),C=n.mul(ce,C),C=n.add(C,D),new I(M,O,C)}subtract(S){return this.add(S.negate())}is0(){return this.equals(I.ZERO)}multiply(S){const{endo:N}=e;if(!r.isValidNot0(S))throw new Error("invalid scalar: out of range");let P,G;const B=w=>A.wNAFCached(this,w,I.normalizeZ);if(N){const{k1neg:w,k1:E,k2neg:M,k2:O}=N.splitScalar(S),{p:C,f:H}=B(E),{p:W,f:D}=B(O);G=H.add(D),P=x(N.beta,C,W,w,M)}else{const{p:w,f:E}=B(S);P=w,G=E}return I.normalizeZ([P,G])[0]}multiplyUnsafe(S){const{endo:N}=e,P=this;if(!r.isValid(S))throw new Error("invalid scalar: out of range");if(S===mp||P.is0())return I.ZERO;if(S===gp)return P;if(A.hasPrecomputes(this))return this.multiply(S);if(N){const{k1neg:G,k1:B,k2neg:w,k2:E}=N.splitScalar(S),{p1:M,p2:O}=cJ(I,P,B,E);return x(N.beta,M,O,G,w)}else return A.wNAFCachedUnsafe(P,S)}multiplyAndAddUnsafe(S,N,P){const G=this.multiplyUnsafe(N).add(S.multiplyUnsafe(P));return G.is0()?void 0:G}toAffine(S){return v(this,S)}isTorsionFree(){const{isTorsionFree:S}=e;return i===gp?!0:S?S(I,this):A.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:S}=e;return i===gp?this:S?S(I,this):this.multiplyUnsafe(i)}toBytes(S=!0){return wv("isCompressed",S),this.assertValidity(),u(I,this,S)}toRawBytes(S=!0){return this.toBytes(S)}toHex(S=!0){return Kp(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(t.Gx,t.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const k=r.BITS,A=lJ(I,e.endo?Math.ceil(k/2):k);return I}function eD(t){return Uint8Array.of(t?2:3)}function yJ(t,e,n={}){lT(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||_$,i=e.hmac||((P,...G)=>GL(e.hash,P,Pc(...G))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:l}=s;function c(P){const G=a>>gp;return P>G}function u(P){return c(P)?s.neg(P):P}function d(P,G){if(!s.isValidNot0(G))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class f{constructor(G,B,w){d("r",G),d("s",B),this.r=G,this.s=B,w!=null&&(this.recovery=w),Object.freeze(this)}static fromCompact(G){const B=s.BYTES,w=wo("compactSignature",G,B*2);return new f(s.fromBytes(w.subarray(0,B)),s.fromBytes(w.subarray(B,B*2)))}static fromDER(G){const{r:B,s:w}=pa.toSig(wo("DER",G));return new f(B,w)}assertValidity(){}addRecoveryBit(G){return new f(this.r,this.s,G)}recoverPublicKey(G){const B=o.ORDER,{r:w,s:E,recovery:M}=this;if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");if(a*hJ<B&&M>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=M===2||M===3?w+a:w;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const H=o.toBytes(C),W=t.fromHex(Pc(eD((M&1)===0),H)),D=s.inv(C),T=b(wo("msgHash",G)),$=s.create(-T*D),J=s.create(E*D),Z=t.BASE.multiplyUnsafe($).add(W.multiplyUnsafe(J));if(Z.is0())throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,s.neg(this.s),this.recovery):this}toBytes(G){if(G==="compact")return Pc(s.toBytes(this.r),s.toBytes(this.s));if(G==="der")return BC(pa.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Kp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Kp(this.toBytes("compact"))}}const h=ZL(s,n.allowedPrivateKeyLengths,n.wrapPrivateKey),p={isValidPrivateKey(P){try{return h(P),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const P=a;return iJ(r(XL(P)),P)},precompute(P=8,G=t.BASE){return G.precompute(P,!1)}};function m(P,G=!0){return t.fromPrivateKey(P).toBytes(G)}function y(P){if(typeof P=="bigint")return!1;if(P instanceof t)return!0;const B=wo("key",P).length,w=o.BYTES,E=w+1,M=2*w+1;if(!(n.allowedPrivateKeyLengths||s.BYTES===E))return B===E||B===M}function g(P,G,B=!0){if(y(P)===!0)throw new Error("first arg must be private key");if(y(G)===!1)throw new Error("second arg must be public key");return t.fromHex(G).multiply(h(P)).toBytes(B)}const v=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const G=e1(P),B=P.length*8-l;return B>0?G>>BigInt(B):G},b=e.bits2int_modN||function(P){return s.create(v(P))},x=t1(l);function I(P){return lQ("num < 2^"+l,P,mp,x),s.toBytes(P)}function k(P,G,B=A){if(["recovered","canonical"].some(J=>J in B))throw new Error("sign() legacy options not supported");const{hash:w}=e;let{lowS:E,prehash:M,extraEntropy:O}=B;E==null&&(E=!0),P=wo("msgHash",P),uI(B),M&&(P=wo("prehashed msgHash",w(P)));const C=b(P),H=h(G),W=[I(H),I(C)];if(O!=null&&O!==!1){const J=O===!0?r(o.BYTES):O;W.push(wo("extraEntropy",J))}const D=Pc(...W),T=C;function $(J){const Z=v(J);if(!s.isValidNot0(Z))return;const ce=s.inv(Z),ie=t.BASE.multiply(Z).toAffine(),xe=s.create(ie.x);if(xe===mp)return;const ue=s.create(ce*s.create(T+xe*H));if(ue===mp)return;let Ie=(ie.x===xe?0:2)|Number(ie.y&gp),Ge=ue;return E&&c(ue)&&(Ge=u(ue),Ie^=1),new f(xe,Ge,Ie)}return{seed:D,k2sig:$}}const A={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function S(P,G,B=A){const{seed:w,k2sig:E}=k(P,G,B);return uQ(e.hash.outputLen,s.BYTES,i)(w,E)}t.BASE.precompute(8);function N(P,G,B,w=U){const E=P;G=wo("msgHash",G),B=wo("publicKey",B),uI(w);const{lowS:M,prehash:O,format:C}=w;if("strict"in w)throw new Error("options.strict was renamed to lowS");if(C!==void 0&&!["compact","der","js"].includes(C))throw new Error('format must be "compact", "der" or "js"');const H=typeof E=="string"||OC(E),W=!H&&!C&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!H&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,T;try{if(W)if(C===void 0||C==="js")D=new f(E.r,E.s);else throw new Error("invalid format");if(H){try{C!=="compact"&&(D=f.fromDER(E))}catch(Ge){if(!(Ge instanceof pa.Err))throw Ge}!D&&C!=="der"&&(D=f.fromCompact(E))}T=t.fromHex(B)}catch{return!1}if(!D||M&&D.hasHighS())return!1;O&&(G=e.hash(G));const{r:$,s:J}=D,Z=b(G),ce=s.inv(J),ie=s.create(Z*ce),xe=s.create($*ce),ue=t.BASE.multiplyUnsafe(ie).add(T.multiplyUnsafe(xe));return ue.is0()?!1:s.create(ue.x)===$}return Object.freeze({getPublicKey:m,getSharedSecret:g,sign:S,verify:N,utils:p,Point:t,Signature:f})}function vJ(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=c1(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function wJ(t){const{CURVE:e,curveOpts:n}=vJ(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function bJ(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function xJ(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=wJ(t),i=gJ(e,n),o=yJ(i,r,n);return bJ(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function EJ(t,e){const n=r=>xJ({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const AJ=BigInt(1),E_=BigInt(2),dI=(t,e)=>(t+e/E_)/e;function _J(t){const e=xv.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=po(u,n,e)*u%e,f=po(d,n,e)*u%e,h=po(f,E_,e)*c%e,p=po(h,i,e)*h%e,m=po(p,o,e)*p%e,y=po(m,a,e)*m%e,g=po(y,l,e)*y%e,v=po(g,a,e)*m%e,b=po(v,n,e)*u%e,x=po(b,s,e)*p%e,I=po(x,r,e)*c%e,k=po(I,E_,e);if(!A_.eql(A_.sqr(k),t))throw new Error("Cannot find square root");return k}const A_=c1(xv.p,void 0,void 0,{sqrt:_J}),tD=EJ({...xv,Fp:A_,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=xv.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-AJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=dI(o*t,e),l=dI(-r*t,e);let c=xo(t-a*n-l*i,e),u=xo(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},pB),SJ=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:tD},Symbol.toStringTag,{value:"Module"}));function CJ({r:t,s:e,to:n="hex",v:r,yParity:i}){const o=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new tD.Signature(Ar(t),Ar(e)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?s:No(s)}async function AT(t,e){const{address:n,factory:r,factoryData:i,hash:o,signature:s,universalSignatureVerifierAddress:a=t.chain?.contracts?.universalSignatureVerifier?.address,...l}=e,c=Gs(s)?s:typeof s=="object"&&"r"in s&&"s"in s?CJ(s):or(s),u=await(async()=>!r&&!i||_Y(c)?c:SY({address:r,data:i,signature:c}))();try{const d=a?{to:a,data:Uo({abi:z5,functionName:"isValidSig",args:[n,o,u]}),...l}:{data:Hw({abi:z5,args:[n,o,u],bytecode:BQ}),...l},{data:f}=await It(t,n1,"call")(d);return VV(f??"0x0")}catch(d){try{if(i1(Lr(n),await tB({hash:o,signature:s})))return!0}catch{}if(d instanceof GB)return!1;throw d}}async function TJ(t,{address:e,message:n,factory:r,factoryData:i,signature:o,...s}){const a=FL(n);return AT(t,{address:e,factory:r,factoryData:i,hash:a,signature:o,...s})}async function MJ(t,e){const{address:n,factory:r,factoryData:i,signature:o,message:s,primaryType:a,types:l,domain:c,...u}=e,d=oY({message:s,primaryType:a,types:l,domain:c});return AT(t,{address:n,factory:r,factoryData:i,hash:d,signature:o,...u})}async function IJ(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function RJ(t,e){const{abi:n,address:r,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const y=f??!1,g=pr(["watchContractEvent",r,i,o,t.uid,s,d,y,a]);return Da(g,{onLogs:c,onError:l},v=>{let b;a!==void 0&&(b=a-1n);let x,I=!1;const k=Kf(async()=>{if(!I){try{x=await It(t,fL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:s,strict:y,fromBlock:a})}catch{}I=!0;return}try{let A;if(x)A=await It(t,o1,"getFilterChanges")({filter:x});else{const U=await It(t,Zm,"getBlockNumber")({});b&&b<U?A=await It(t,mL,"getContractEvents")({abi:n,address:r,args:i,eventName:s,fromBlock:b+1n,toBlock:U,strict:y}):A=[],b=U}if(A.length===0)return;if(o)v.onLogs(A);else for(const U of A)v.onLogs([U])}catch(A){x&&A instanceof au&&(I=!1),v.onError?.(A)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await It(t,l1,"uninstallFilter")({filter:x}),k()}})})():(()=>{const y=f??!1,g=pr(["watchContractEvent",r,i,o,t.uid,s,d,y]);let v=!0,b=()=>v=!1;return Da(g,{onLogs:c,onError:l},x=>((async()=>{try{const I=(()=>{if(t.transport.type==="fallback"){const U=t.transport.transports.find(S=>S.config.type==="webSocket");return U?U.value:t.transport}return t.transport})(),k=s?Jm({abi:n,eventName:s,args:i}):[],{unsubscribe:A}=await I.subscribe({params:["logs",{address:r,topics:k}],onData(U){if(!v)return;const S=U.result;try{const{eventName:N,args:P}=mT({abi:n,data:S.data,topics:S.topics,strict:f}),G=La(S,{args:P,eventName:N});x.onLogs([G])}catch(N){let P,G;if(N instanceof $p||N instanceof zw){if(f)return;P=N.abiItem.name,G=N.abiItem.inputs?.some(w=>!("name"in w&&w.name))}const B=La(S,{args:G?[]:{},eventName:P});x.onLogs([B])}},onError(U){x.onError?.(U)}});b=A,v||b()}catch(I){l?.(I)}})(),()=>b()))})()}async function PJ(t,e){const{abi:n,account:r=t.account,address:i,args:o,dataSuffix:s,functionName:a,...l}=e;if(typeof r>"u")throw new Tu({docsPath:"/docs/contract/writeContract"});const c=r?Wn(r):null,u=Uo({abi:n,args:o,functionName:a});try{return await It(t,Xw,"sendTransaction")({data:`${u}${s?s.replace("0x",""):""}`,to:i,account:c,...l})}catch(d){throw cu(d,{abi:n,address:i,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:c?.address})}}function Qf(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:o=>e(t,o)}const py="2.17.3",NJ=()=>`@wagmi/core@${py}`;var nD=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ev,rD;let $a=class __ extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return NJ()}constructor(e,n={}){super(),Ev.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof __?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof __&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return nD(this,Ev,"m",rD).call(this,this,e)}};Ev=new WeakSet,rD=function t(e,n){return n?.(e)?e:e.cause?nD(this,Ev,"m",t).call(this,e.cause,n):e};class fu extends $a{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class kJ extends $a{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class FJ extends $a{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class OJ extends $a{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class BJ extends $a{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class LJ extends $a{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function DJ(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new kJ;try{t.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...i}=e,o=await n.connect(i),s=o.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(r){throw t.setState(i=>({...i,status:i.current?"connected":"disconnected"})),r}}const S_=256;let $0=S_,q0;function iD(t=11){if(!q0||$0+t>S_*2){q0="",$0=0;for(let e=0;e<S_;e++)q0+=(256+Math.random()*256|0).toString(16).substring(1)}return q0.substring($0,$0+++t)}function _T(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:o="Base Client",type:s="base"}=t,a=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(a/2),500),4e3),c=t.pollingInterval??l,u=t.cacheTime??c,d=t.account?Wn(t.account):void 0,{config:f,request:h,value:p}=t.transport({chain:n,pollingInterval:c}),m={...f,...p},y={account:d,batch:e,cacheTime:u,ccipRead:r,chain:n,key:i,name:o,pollingInterval:c,request:h,transport:m,type:s,uid:iD()};function g(v){return b=>{const x=b(v);for(const k in y)delete x[k];const I={...v,...x};return Object.assign(I,{extend:g(I)})}}return Object.assign(y,{extend:g(y)})}function oD({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:o=150,timeout:s,type:a},l){const c=iD();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:o,timeout:s,type:a},request:JX(r,{methods:e,retryCount:i,retryDelay:o,uid:c}),value:l}}function UJ(t,e={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:o}=e;return({retryCount:s})=>oD({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??s,retryDelay:o,type:"custom"})}class zJ extends ke{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function la(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:o,name:s="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:l,retryDelay:c,raw:u}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:p=1e3,wait:m=0}=typeof n=="object"?n:{},y=e.retryCount??f,g=h??e.timeout??1e4,v=t||d?.rpcUrls.default.http[0];if(!v)throw new zJ;const b=tY(v,{fetchOptions:r,onRequest:a,onResponse:l,timeout:g});return oD({key:i,methods:o,name:s,async request({method:x,params:I}){const k={method:x,params:I},{schedule:A}=oL({id:v,wait:m,shouldSplitBatch(P){return P.length>p},fn:P=>b.request({body:P}),sort:(P,G)=>P.id-G.id}),U=async P=>n?A(P):[await b.request({body:P})],[{error:S,result:N}]=await U(k);if(u)return{error:S,result:N};if(S)throw new VC({body:k,error:S,url:v});return N},retryCount:y,retryDelay:c,timeout:g,type:"http"},{fetchOptions:r,url:v})}}function jJ(t){const{scheme:e,statement:n,...r}=t.match(HJ)?.groups??{},{chainId:i,expirationTime:o,issuedAt:s,notBefore:a,requestId:l,...c}=t.match(GJ)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...o?{expirationTime:new Date(o)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const HJ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,GJ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function WJ(t){const{address:e,domain:n,message:r,nonce:i,scheme:o,time:s=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||o&&r.scheme!==o||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!sr(r.address,{strict:!1})||e&&!i1(r.address,e))return!1}catch{return!1}return!0}async function VJ(t,e){const{address:n,domain:r,message:i,nonce:o,scheme:s,signature:a,time:l=new Date,...c}=e,u=jJ(i);if(!u.address||!WJ({address:n,domain:r,message:u,nonce:o,scheme:s,time:l}))return!1;const f=FL(i);return AT(t,{address:u.address,hash:f,signature:a,...c})}function sD(t){return{call:e=>n1(t,e),createAccessList:e=>dL(t,e),createBlockFilter:()=>nX(t),createContractEventFilter:e=>fL(t,e),createEventFilter:e=>hL(t,e),createPendingTransactionFilter:()=>pL(t),estimateContractGas:e=>iX(t,e),estimateGas:e=>JC(t,e),getBalance:e=>YC(t,e),getBlobBaseFee:()=>oX(t),getBlock:e=>Bs(t,e),getBlockNumber:e=>Zm(t,e),getBlockTransactionCount:e=>dX(t,e),getBytecode:e=>eI(t,e),getChainId:()=>Vf(t),getCode:e=>eI(t,e),getContractEvents:e=>mL(t,e),getEip712Domain:e=>mX(t,e),getEnsAddress:e=>HQ(t,e),getEnsAvatar:e=>cL(t,e),getEnsName:e=>uL(t,e),getEnsResolver:e=>tX(t,e),getEnsText:e=>lL(t,e),getFeeHistory:e=>vX(t,e),estimateFeesPerGas:e=>Mq(t,e),getFilterChanges:e=>o1(t,e),getFilterLogs:e=>wX(t,e),getGasPrice:()=>QC(t),getLogs:e=>yT(t,e),getProof:e=>jY(t,e),estimateMaxPriorityFeePerGas:e=>Tq(t,e),getStorageAt:e=>bX(t,e),getTransaction:e=>vT(t,e),getTransactionConfirmations:e=>xX(t,e),getTransactionCount:e=>ZC(t,e),getTransactionReceipt:e=>p_(t,e),multicall:e=>vL(t,e),prepareTransactionRequest:e=>Qw(t,e),readContract:e=>$s(t,e),sendRawTransaction:e=>rT(t,e),simulate:e=>m_(t,e),simulateBlocks:e=>m_(t,e),simulateCalls:e=>TY(t,e),simulateContract:e=>KY(t,e),verifyMessage:e=>TJ(t,e),verifySiweMessage:e=>VJ(t,e),verifyTypedData:e=>MJ(t,e),uninstallFilter:e=>l1(t,e),waitForTransactionReceipt:e=>HY(t,e),watchBlocks:e=>IY(t,e),watchBlockNumber:e=>BL(t,e),watchContractEvent:e=>RJ(t,e),watchEvent:e=>RY(t,e),watchPendingTransactions:e=>PY(t,e)}}function $J(t){const{key:e="public",name:n="Public Client"}=t;return _T({...t,key:e,name:n,type:"publicClient"}).extend(sD)}function qJ(t){return{addChain:e=>QV(t,e),deployContract:e=>Kq(t,e),getAddresses:()=>NY(t),getCallsStatus:e=>UL(t,e),getCapabilities:e=>FY(t,e),getChainId:()=>Vf(t),getPermissions:()=>kY(t),prepareAuthorization:e=>zL(t,e),prepareTransactionRequest:e=>Qw(t,e),requestAddresses:()=>GY(t),requestPermissions:e=>WY(t,e),sendCalls:e=>OY(t,e),sendRawTransaction:e=>rT(t,e),sendTransaction:e=>Xw(t,e),showCallsStatus:e=>BY(t,e),signAuthorization:e=>VY(t,e),signMessage:e=>jL(t,e),signTransaction:e=>$Y(t,e),signTypedData:e=>qY(t,e),switchChain:e=>QY(t,e),waitForCallsStatus:e=>LY(t,e),watchAsset:e=>IJ(t,e),writeContract:e=>PJ(t,e)}}async function aD(t,e={}){let n;if(e.connector){const{connector:c}=e;if(t.state.status==="reconnecting"&&!c.getAccounts&&!c.getChainId)throw new LJ({connector:c});const[u,d]=await Promise.all([c.getAccounts().catch(f=>{if(e.account===null)return[];throw f}),c.getChainId()]);n={accounts:u,chainId:d,connector:c}}else n=t.state.connections.get(t.state.current);if(!n)throw new FJ;const r=e.chainId??n.chainId,i=await n.connector.getChainId();if(i!==n.chainId)throw new BJ({connectionChainId:n.chainId,connectorChainId:i});const o=n.connector;if(o.getClient)return o.getClient({chainId:r});const s=Wn(e.account??n.accounts[0]);if(s&&(s.address=Lr(s.address)),e.account&&!n.accounts.some(c=>c.toLowerCase()===s.address.toLowerCase()))throw new OJ({address:s.address,connector:o});const a=t.chains.find(c=>c.id===r),l=await n.connector.getProvider({chainId:r});return _T({account:s,chain:a,name:"Connector Client",transport:c=>UJ(l)({...c,retryCount:0})})}async function KJ(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:i,current:o}=t.state;n=i.get(o)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const o=r.values().next().value;return{...i,connections:new Map(r),current:o.connector.uid}});{const i=t.state.current;if(!i)return;const o=t.state.connections.get(i)?.connector;if(!o)return;await t.storage?.setItem("recentConnectorId",o.id)}}function lD(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(uq[t])}function cD(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,i=r?.[0],o=t.chains.find(a=>a.id===n?.chainId),s=t.state.status;switch(s){case"connected":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:r,chain:o,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}async function QJ(t,e){const{allowFailure:n=!0,chainId:r,contracts:i,...o}=e,s=t.getClient({chainId:r});return Qf(s,vL,"multicall")({allowFailure:n,contracts:i,...o})}function XJ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Qf(i,$s,"readContract")(r)}async function YJ(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:i,...o}=e,s=e.contracts;try{const a={};for(const[d,f]of s.entries()){const h=f.chainId??t.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:f,index:d})}const l=()=>Object.entries(a).map(([d,f])=>QJ(t,{...o,allowFailure:n,blockNumber:r,blockTag:i,chainId:Number.parseInt(d),contracts:f.map(({contract:h})=>h)})),c=(await Promise.all(l())).flat(),u=Object.values(a).flatMap(d=>d.map(({index:f})=>f));return c.reduce((d,f,h)=>(d&&(d[u[h]]=f),d),[])}catch(a){if(a instanceof WB)throw a;const l=()=>s.map(c=>XJ(t,{...c,blockNumber:r,blockTag:i}));return n?(await Promise.allSettled(l())).map(c=>c.status==="fulfilled"?{result:c.value,status:"success"}:{error:c.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function JJ(t,e){const{address:n,blockNumber:r,blockTag:i,chainId:o,token:s,unit:a="ether"}=e;if(s)try{return await fI(t,{balanceAddress:n,chainId:o,symbolType:"string",tokenAddress:s})}catch(f){if(f.name==="ContractFunctionExecutionError"){const h=await fI(t,{balanceAddress:n,chainId:o,symbolType:"bytes32",tokenAddress:s}),p=$V(Fi(h.symbol,{dir:"right"}));return{...h,symbol:p}}throw f}const l=t.getClient({chainId:o}),u=await Qf(l,YC,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:i}),d=t.chains.find(f=>f.id===o)??l.chain;return{decimals:d.nativeCurrency.decimals,formatted:qm(u,lD(a)),symbol:d.nativeCurrency.symbol,value:u}}async function fI(t,e){const{balanceAddress:n,chainId:r,symbolType:i,tokenAddress:o,unit:s}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:o},[l,c,u]=await YJ(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=qm(l??"0",lD(s??c));return{decimals:c,formatted:d,symbol:u,value:l}}function hI(t){return t.state.chainId}function Gl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Gl(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(o&&!Gl(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}let ix=[];function pI(t){const e=t.chains;return Gl(ix,e)?ix:(ix=e,e)}function ZJ(t,e={}){let n;try{n=t.getClient(e)}catch{}return n}let K0=[];function C_(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Gl(K0,e)?K0:(K0=e,e)}let ox=[];function mI(t){const e=t.connectors;return Gl(ox,e)?ox:(ox=e,e)}function eZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Qf(i,cL,"getEnsAvatar")(r)}function tZ(t,e){const{chainId:n,...r}=e,i=t.getClient({chainId:n});return Qf(i,uL,"getEnsName")(r)}function T_(t,e={}){return ZJ(t,e)?.extend(sD)}async function nZ(t,e={}){return(await aD(t,e)).extend(qJ)}let sx=!1;async function rZ(t,e={}){if(sx)return[];sx=!0,t.setState(c=>({...c,status:c.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const c of e.connectors){let u;typeof c=="function"?u=t._internal.connectors.setup(c):u=c,n.push(u)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,c]of t.state.connections)i[c.connector.id]=1;r&&(i[r]=0);const o=Object.keys(i).length>0?[...n].sort((c,u)=>(i[c.id]??10)-(i[u.id]??10)):n;let s=!1;const a=[],l=[];for(const c of o){const u=await c.getProvider().catch(()=>{});if(!u||l.some(h=>h===u)||!await c.isAuthorized())continue;const f=await c.connect({isReconnecting:!0}).catch(()=>null);f&&(c.emitter.off("connect",t._internal.events.connect),c.emitter.on("change",t._internal.events.change),c.emitter.on("disconnect",t._internal.events.disconnect),t.setState(h=>{const p=new Map(s?h.connections:new Map).set(c.uid,{accounts:f.accounts,chainId:f.chainId,connector:c});return{...h,current:s?h.current:c.uid,connections:p}}),a.push({accounts:f.accounts,chainId:f.chainId,connector:c}),l.push(u),s=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(s?t.setState(c=>({...c,status:"connected"})):t.setState(c=>({...c,connections:new Map,current:null,status:"disconnected"}))),sx=!1,a}async function iZ(t,e){const{account:n,connector:r,...i}=e;let o;return typeof n=="object"&&n.type==="local"?o=t.getClient():o=await aD(t,{account:n,connector:r}),Qf(o,jL,"signMessage")({...i,...n?{account:n}:{}})}class _o extends $a{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class oZ extends $a{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function sZ(t,e){const{addEthereumChainParameter:n,chainId:r}=e,i=t.state.connections.get(e.connector?.uid??t.state.current);if(i){const s=i.connector;if(!s.switchChain)throw new oZ({connector:s});return await s.switchChain({addEthereumChainParameter:n,chainId:r})}const o=t.chains.find(s=>s.id===r);if(!o)throw new fu;return t.setState(s=>({...s,chainId:r})),o}function uD(t,e){const{onChange:n}=e;return t.subscribe(()=>cD(t),n,{equalityFn(r,i){const{connector:o,...s}=r,{connector:a,...l}=i;return Gl(s,l)&&o?.id===a?.id&&o?.uid===a?.uid}})}function aZ(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function lZ(t,e){const{onChange:n}=e;return t.subscribe(()=>C_(t),n,{equalityFn:Gl})}function cZ(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function uZ(t,e){const{onChange:n}=e;return t.subscribe(()=>T_(t),n,{equalityFn(r,i){return r?.uid===i?.uid}})}t0.type="injected";function t0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const l=t.target;if(typeof l=="function"){const c=l();if(c)return c}return typeof l=="object"?l:typeof l=="string"?{...dZ[l]??{id:l,name:`${l[0].toUpperCase()}${l.slice(1)}`,provider:`is${l[0].toUpperCase()}${l.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c?.ethereum}}}let i,o,s,a;return l=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:t0.type,async setup(){const c=await this.getProvider();c?.on&&t.target&&(s||(s=this.onConnect.bind(this),c.on("connect",s)),i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)))},async connect({chainId:c,isReconnecting:u}={}){const d=await this.getProvider();if(!d)throw new _o;let f=[];if(u)f=await this.getAccounts().catch(()=>[]);else if(e)try{f=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>Lr(p)),f.length>0&&(f=await this.getAccounts())}catch(h){const p=h;if(p.code===Sn.code)throw new Sn(p);if(p.code===Ol.code)throw p}try{!f?.length&&!u&&(f=(await d.request({method:"eth_requestAccounts"})).map(m=>Lr(m))),s&&(d.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),d.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let h=await this.getChainId();return c&&h!==c&&(h=(await this.switchChain({chainId:c}).catch(m=>{if(m.code===Sn.code)throw m;return{id:h}}))?.id??h),e&&await l.storage?.removeItem(`${this.id}.disconnected`),t.target||await l.storage?.setItem("injected.connected",!0),{accounts:f,chainId:h}}catch(h){const p=h;throw p.code===Sn.code?new Sn(p):p.code===Ol.code?new Ol(p):p}},async disconnect(){const c=await this.getProvider();if(!c)throw new _o;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),c.on("connect",s));try{await xT(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await l.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await l.storage?.removeItem("injected.connected")},async getAccounts(){const c=await this.getProvider();if(!c)throw new _o;return(await c.request({method:"eth_accounts"})).map(d=>Lr(d))},async getChainId(){const c=await this.getProvider();if(!c)throw new _o;const u=await c.request({method:"eth_chainId"});return Number(u)},async getProvider(){if(typeof window>"u")return;let c;const u=r();return typeof u.provider=="function"?c=u.provider(window):typeof u.provider=="string"?c=my(window,u.provider):c=u.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){try{if(e&&await l.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await l.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const f=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",f),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(m=>window.addEventListener("ethereum#initialized",()=>m(f()),{once:!0}))]:[],new Promise(m=>setTimeout(()=>m(f()),h))]))return!0}throw new _o}return!!(await bv(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:u}){const d=await this.getProvider();if(!d)throw new _o;const f=l.chains.find(p=>p.id===u);if(!f)throw new Fo(new fu);const h=new Promise(p=>{const m=y=>{"chainId"in y&&y.chainId===u&&(l.emitter.off("change",m),p())};l.emitter.on("change",m)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ue(u)}]}).then(async()=>{await this.getChainId()===u&&l.emitter.emit("change",{chainId:u})}),h]),f}catch(p){const m=p;if(m.code===4902||m?.data?.originalError?.code===4902)try{const{default:y,...g}=f.blockExplorers??{};let v;c?.blockExplorerUrls?v=c.blockExplorerUrls:y&&(v=[y.url,...Object.values(g).map(I=>I.url)]);let b;c?.rpcUrls?.length?b=c.rpcUrls:b=[f.rpcUrls.default?.http[0]??""];const x={blockExplorerUrls:v,chainId:Ue(u),chainName:c?.chainName??f.name,iconUrls:c?.iconUrls,nativeCurrency:c?.nativeCurrency??f.nativeCurrency,rpcUrls:b};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[x]}).then(async()=>{if(await this.getChainId()===u)l.emitter.emit("change",{chainId:u});else throw new Sn(new Error("User rejected switch after adding network."))}),h]),f}catch(y){throw new Sn(y)}throw m.code===Sn.code?new Sn(m):new Fo(m)}},async onAccountsChanged(c){if(c.length===0)this.onDisconnect();else if(l.emitter.listenerCount("connect")){const u=(await this.getChainId()).toString();this.onConnect({chainId:u}),e&&await l.storage?.removeItem(`${this.id}.disconnected`)}else l.emitter.emit("change",{accounts:c.map(u=>Lr(u))})},onChainChanged(c){const u=Number(c);l.emitter.emit("change",{chainId:u})},async onConnect(c){const u=await this.getAccounts();if(u.length===0)return;const d=Number(c.chainId);l.emitter.emit("connect",{accounts:u,chainId:d});const f=await this.getProvider();f&&(s&&(f.removeListener("connect",s),s=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),f.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a)))},async onDisconnect(c){const u=await this.getProvider();c&&c.code===1013&&u&&(await this.getAccounts()).length||(l.emitter.emit("disconnect"),u&&(o&&(u.removeListener("chainChanged",o),o=void 0),a&&(u.removeListener("disconnect",a),a=void 0),s||(s=this.onConnect.bind(this),u.on("connect",s))))}})}const dZ={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:my(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return my(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:my(t,"isPhantom")}}};function my(t,e){function n(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function fZ(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function hZ(){const t=new Set;let e=[];const n=()=>fZ(i=>{e.some(({info:o})=>o.uuid===i.info.uuid)||(e=[...e,i],t.forEach(o=>o(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(o=>o.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:o}={}){return t.add(i),o&&i(e,{added:e}),()=>t.delete(i)}}}const pZ=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let c=s;if(a){const u=l?.equalityFn||Object.is;let d=s(r.getState());c=f=>{const h=s(f);if(!u(d,h)){const p=d;a(d=h,p)}},l?.fireImmediately&&a(d,d)}return i(c)},t(e,n,r)},mZ=pZ;function gZ(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const M_=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return M_(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return M_(r)(n)}}}},yZ=(t,e)=>(n,r,i)=>{let o={storage:gZ(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...e},s=!1;const a=new Set,l=new Set;let c=o.storage;if(!c)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=()=>{const m=o.partialize({...r()});return c.setItem(o.name,{state:m,version:o.version})},d=i.setState;i.setState=(m,y)=>{d(m,y),u()};const f=t((...m)=>{n(...m),u()},r,i);i.getInitialState=()=>f;let h;const p=()=>{var m,y;if(!c)return;s=!1,a.forEach(v=>{var b;return v((b=r())!=null?b:f)});const g=((y=o.onRehydrateStorage)==null?void 0:y.call(o,(m=r())!=null?m:f))||void 0;return M_(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,I]=v;if(h=o.merge(I,(b=r())!=null?b:f),n(h,!0),x)return u()}).then(()=>{g?.(h,void 0),h=r(),s=!0,l.forEach(v=>v(h))}).catch(v=>{g?.(void 0,v)})};return i.persist={setOptions:m=>{o={...o,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},o.skipHydration||p(),h||f},vZ=yZ,gI=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},ax=t=>t?gI(t):gI;var dD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,p){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],g=arguments.length,v,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,p),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];y.fn.apply(y.context,v)}else{var x=y.length,I;for(b=0;b<x;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,d);break;case 4:y[b].fn.call(y[b].context,u,d,f);break;default:if(!v)for(I=1,v=new Array(g-1);I<g;I++)v[I-1]=arguments[I];y[b].fn.apply(y[b].context,v)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,y=[],g=p.length;m<g;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(dD);var wZ=dD.exports;const bZ=Bm(wZ);class xZ{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new bZ})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function EZ(t){return new xZ(t)}function AZ(t,e){return JSON.parse(t,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),e?.(n,i)??i})}function yI(t,e){return t.slice(0,e).join(".")||"."}function vI(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function _Z(t,e){const n=typeof t=="function",r=typeof e=="function",i=[],o=[];return function(a,l){if(typeof l=="object")if(i.length){const c=vI(i,this);c===0?i[i.length]=this:(i.splice(c),o.splice(c)),o[o.length]=a;const u=vI(i,l);if(u!==0)return r?e.call(this,a,l,yI(o,u)):`[ref=${yI(o,u)}]`}else i[0]=l,o[0]=a;return n?t.call(this,a,l):l}}function SZ(t,e,n,r){return JSON.stringify(t,_Z((i,o)=>{let s=o;return typeof s=="bigint"&&(s={__type:"bigint",value:o.toString()}),s instanceof Map&&(s={__type:"Map",value:Array.from(o.entries())}),e?.(i,s)??s},r),n??void 0)}function CZ(t){const{deserialize:e=AZ,key:n="wagmi",serialize:r=SZ,storage:i=fD}=t;function o(s){return s instanceof Promise?s.then(a=>a).catch(()=>null):s}return{...i,key:n,async getItem(s,a){const l=i.getItem(`${n}.${s}`),c=await o(l);return c?e(c)??null:a??null},async setItem(s,a){const l=`${n}.${s}`;a===null?await o(i.removeItem(l)):await o(i.setItem(l,r(a)))},async removeItem(s){await o(i.removeItem(`${n}.${s}`))}}}const fD={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function TZ(){const t=typeof window<"u"&&window.localStorage?window.localStorage:fD;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const I_=256;let Q0=I_,X0;function MZ(t=11){if(!X0||Q0+t>I_*2){X0="",Q0=0;for(let e=0;e<I_;e++)X0+=(256+Math.random()*256|0).toString(16).substring(1)}return X0.substring(Q0,Q0+++t)}function hD(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=CZ({storage:TZ()}),syncConnectedChain:r=!0,ssr:i=!1,...o}=t,s=typeof window<"u"&&e?hZ():void 0,a=ax(()=>o.chains),l=ax(()=>{const I=[],k=new Set;for(const A of o.connectors??[]){const U=c(A);if(I.push(U),!i&&U.rdns){const S=typeof U.rdns=="string"?[U.rdns]:U.rdns;for(const N of S)k.add(N)}}if(!i&&s){const A=s.getProviders();for(const U of A)k.has(U.info.rdns)||I.push(c(u(U)))}return I});function c(I){const k=EZ(MZ()),A={...I({emitter:k,chains:a.getState(),storage:n,transports:o.transports}),emitter:k,uid:k.uid};return k.on("connect",b),A.setup?.(),A}function u(I){const{info:k}=I,A=I.provider;return t0({target:{...k,id:k.rdns,provider:A}})}const d=new Map;function f(I={}){const k=I.chainId??y.getState().chainId,A=a.getState().find(S=>S.id===k);if(I.chainId&&!A)throw new fu;{const S=d.get(y.getState().chainId);if(S&&!A)return S;if(!A)throw new fu}{const S=d.get(k);if(S)return S}let U;if(o.client)U=o.client({chain:A});else{const S=A.id,N=a.getState().map(B=>B.id),P={},G=Object.entries(o);for(const[B,w]of G)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof w=="object")if(S in w)P[B]=w[S];else{if(N.some(M=>M in w))continue;P[B]=w}else P[B]=w;U=_T({...P,chain:A,batch:P.batch??{multicall:!0},transport:B=>o.transports[S]({...B,connectors:l})})}return d.set(k,U),U}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let p;const m="0.0.0-canary-";py.startsWith(m)?p=Number.parseInt(py.replace(m,"")):p=Number.parseInt(py.split(".")[0]??"0");const y=ax(mZ(n?vZ(h,{migrate(I,k){if(k===p)return I;const A=h(),U=g(I,A.chainId);return{...A,chainId:U}},name:"store",partialize(I){return{connections:{__type:"Map",value:Array.from(I.connections.entries()).map(([k,A])=>{const{id:U,name:S,type:N,uid:P}=A.connector;return[k,{...A,connector:{id:U,name:S,type:N,uid:P}}]})},chainId:I.chainId,current:I.current}},merge(I,k){typeof I=="object"&&I&&"status"in I&&delete I.status;const A=g(I,k.chainId);return{...k,...I,chainId:A}},skipHydration:i,storage:n,version:p}):h));y.setState(h());function g(I,k){return I&&typeof I=="object"&&"chainId"in I&&typeof I.chainId=="number"&&a.getState().some(A=>A.id===I.chainId)?I.chainId:k}r&&y.subscribe(({connections:I,current:k})=>k?I.get(k)?.chainId:void 0,I=>{if(a.getState().some(A=>A.id===I))return y.setState(A=>({...A,chainId:I??A.chainId}))}),s?.subscribe(I=>{const k=new Set,A=new Set;for(const S of l.getState())if(k.add(S.id),S.rdns){const N=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const P of N)A.add(P)}const U=[];for(const S of I){if(A.has(S.info.rdns))continue;const N=c(u(S));k.has(N.id)||U.push(N)}n&&!y.persist.hasHydrated()||l.setState(S=>[...S,...U],!0)});function v(I){y.setState(k=>{const A=k.connections.get(I.uid);return A?{...k,connections:new Map(k.connections).set(I.uid,{accounts:I.accounts??A.accounts,chainId:I.chainId??A.chainId,connector:A.connector})}:k})}function b(I){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(k=>{const A=l.getState().find(U=>U.uid===I.uid);return A?(A.emitter.listenerCount("connect")&&A.emitter.off("connect",v),A.emitter.listenerCount("change")||A.emitter.on("change",v),A.emitter.listenerCount("disconnect")||A.emitter.on("disconnect",x),{...k,connections:new Map(k.connections).set(I.uid,{accounts:I.accounts,chainId:I.chainId,connector:A}),current:I.uid,status:"connected"}):k})}function x(I){y.setState(k=>{const A=k.connections.get(I.uid);if(A){const S=A.connector;S.emitter.listenerCount("change")&&A.connector.emitter.off("change",v),S.emitter.listenerCount("disconnect")&&A.connector.emitter.off("disconnect",x),S.emitter.listenerCount("connect")||A.connector.emitter.on("connect",b)}if(k.connections.delete(I.uid),k.connections.size===0)return{...k,connections:new Map,current:null,status:"disconnected"};const U=k.connections.values().next().value;return{...k,connections:new Map(k.connections),current:U.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return l.getState()},storage:n,getClient:f,get state(){return y.getState()},setState(I){let k;typeof I=="function"?k=I(y.getState()):k=I;const A=h();typeof k!="object"&&(k=A),Object.keys(A).some(S=>!(S in k))&&(k=A),y.setState(k,!0)},subscribe(I,k,A){return y.subscribe(I,k,A?{...A,fireImmediately:A.emitImmediately}:void 0)},_internal:{mipd:s,store:y,ssr:!!i,syncConnectedChain:r,transports:o.transports,chains:{setState(I){const k=typeof I=="function"?I(a.getState()):I;if(k.length!==0)return a.setState(k,!0)},subscribe(I){return a.subscribe(I)}},connectors:{providerDetailToConnector:u,setup:c,setState(I){return l.setState(typeof I=="function"?I(l.getState()):I,!0)},subscribe(I){return l.subscribe(I)}},events:{change:v,connect:b,disconnect:x}}}}function IZ(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(i=>i.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{const o=new Set;for(const l of i??[])if(l.rdns){const c=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const u of c)o.add(u)}const s=[],a=t._internal.mipd?.getProviders()??[];for(const l of a){if(o.has(l.info.rdns))continue;const c=t._internal.connectors.providerDetailToConnector(l),u=t._internal.connectors.setup(c);s.push(u)}return[...i,...s]})),r?rZ(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function RZ(t){const{chain:e}=t,n=e.rpcUrls.default.http[0];if(!t.transports)return[n];const r=t.transports?.[e.id]?.({chain:e});return(r?.value?.transports||[r]).map(({value:o})=>o?.url||n)}function PZ(t){const{children:e,config:n,initialState:r,reconnectOnMount:i=!0}=t,{onMount:o}=IZ(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||o();const s=z.useRef(!0);return z.useEffect(()=>{if(s.current&&n._internal.ssr)return o(),()=>{s.current=!1}},[]),e}const pD=z.createContext(void 0);function NZ(t){const{children:e,config:n}=t,r={value:n};return z.createElement(PZ,t,z.createElement(pD.Provider,r,e))}const kZ="2.15.6",FZ=()=>`wagmi@${kZ}`;class OZ extends $a{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return FZ()}}class BZ extends OZ{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function yr(t={}){const e=t.config??z.useContext(pD);if(!e)throw new BZ;return e}function LZ(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,i)=>{n(r,i)})}var mD={exports:{}},gD={},yD={exports:{}},vD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=z;function DZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UZ=typeof Object.is=="function"?Object.is:DZ,zZ=pf.useState,jZ=pf.useEffect,HZ=pf.useLayoutEffect,GZ=pf.useDebugValue;function WZ(t,e){var n=e(),r=zZ({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return HZ(function(){i.value=n,i.getSnapshot=e,lx(i)&&o({inst:i})},[t,n,e]),jZ(function(){return lx(i)&&o({inst:i}),t(function(){lx(i)&&o({inst:i})})},[t]),GZ(n),n}function lx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!UZ(t,n)}catch{return!0}}function VZ(t,e){return e()}var $Z=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VZ:WZ;vD.useSyncExternalStore=pf.useSyncExternalStore!==void 0?pf.useSyncExternalStore:$Z;yD.exports=vD;var qZ=yD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=z,KZ=qZ;function QZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XZ=typeof Object.is=="function"?Object.is:QZ,YZ=KZ.useSyncExternalStore,JZ=u1.useRef,ZZ=u1.useEffect,eee=u1.useMemo,tee=u1.useDebugValue;gD.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=JZ(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=eee(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,XZ(u,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(u=h,p):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=YZ(t,o[0],o[1]);return ZZ(function(){s.hasValue=!0,s.value=a},[a]),tee(a),a};mD.exports=gD;var wD=mD.exports;const cx=t=>typeof t=="object"&&!Array.isArray(t);function nee(t,e,n=e,r=Gl){const i=z.useRef([]),o=wD.useSyncExternalStoreWithSelector(t,e,n,s=>s,(s,a)=>{if(cx(s)&&cx(a)&&i.current.length){for(const l of i.current)if(!r(s[l],a[l]))return!1;return!0}return r(s,a)});return z.useMemo(()=>{if(cx(o)){const s={...o};let a={};for(const[l,c]of Object.entries(s))a={...a,[l]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(l)||i.current.push(l),c)}};return Object.defineProperties(s,a),s}return o},[o])}function Tr(t={}){const e=yr(t);return nee(n=>uD(e,{onChange:n}),()=>cD(e))}function bD(t={}){const{onConnect:e,onDisconnect:n}=t,r=yr(t);z.useEffect(()=>uD(r,{onChange(i,o){if((o.status==="reconnecting"||o.status==="connecting"&&o.address===void 0)&&i.status==="connected"){const{address:s,addresses:a,chain:l,chainId:c,connector:u}=i,d=o.status==="reconnecting"||o.status===void 0;e?.({address:s,addresses:a,chain:l,chainId:c,connector:u,isReconnected:d})}else o.status==="connected"&&i.status==="disconnected"&&n?.()}}),[r,e,n])}var Xf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hu=typeof window>"u"||"Deno"in globalThis;function ri(){}function ree(t,e){return typeof t=="function"?t(e):t}function R_(t){return typeof t=="number"&&t>=0&&t!==1/0}function xD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bl(t,e){return typeof t=="function"?t(e):t}function Jo(t,e){return typeof t=="function"?t(e):t}function wI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==ST(s,e.options))return!1}else if(!hm(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function bI(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(pu(e.options.mutationKey)!==pu(o))return!1}else if(!hm(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ST(t,e){return(e?.queryKeyHashFn||pu)(t)}function pu(t){return JSON.stringify(t,(e,n)=>P_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function hm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>hm(t[n],e[n])):!1}function ED(t,e){if(t===e)return t;const n=xI(t)&&xI(e);if(n||P_(t)&&P_(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=ED(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function Av(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function xI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P_(t){if(!EI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!EI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function EI(t){return Object.prototype.toString.call(t)==="[object Object]"}function iee(t){return new Promise(e=>{setTimeout(e,t)})}function N_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ED(t,e):e}function oee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function see(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var CT=Symbol();function AD(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===CT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _D(t,e){return typeof t=="function"?t(...e):!!t}var aee=class extends Xf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!hu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},TT=new aee,lee=class extends Xf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!hu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},_v=new lee;function k_(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function cee(t){return Math.min(1e3*2**t,3e4)}function SD(t){return(t??"online")==="online"?_v.isOnline():!0}var CD=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ux(t){return t instanceof CD}function TD(t){let e=!1,n=0,r=!1,i;const o=k_(),s=m=>{r||(f(new CD(m)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>TT.isFocused()&&(t.networkMode==="always"||_v.isOnline())&&t.canRun(),u=()=>SD(t.networkMode)&&t.canRun(),d=m=>{r||(r=!0,t.onSuccess?.(m),i?.(),o.resolve(m))},f=m=>{r||(r=!0,t.onError?.(m),i?.(),o.reject(m))},h=()=>new Promise(m=>{i=y=>{(r||c())&&m(y)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),p=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(d).catch(g=>{if(r)return;const v=t.retry??(hu?0:3),b=t.retryDelay??cee,x=typeof b=="function"?b(n,g):b,I=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!I){f(g);return}n++,t.onFail?.(n,g),iee(x).then(()=>c()?void 0:h()).then(()=>{e?f(g):p()})})};return{promise:o,cancel:s,continue:()=>(i?.(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),o)}}var uee=t=>setTimeout(t,0);function dee(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=uee;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var dr=dee(),MD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},fee=class extends MD{#e;#t;#n;#r;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=hee(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=N_(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Jo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xD(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=AD(this.options,e),u=(()=>{const d={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const a=l=>{ux(l)&&l.silent||this.#a({type:"error",error:l}),ux(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=TD({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){a(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ID(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ux(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function ID(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hee(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pee=class extends Xf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??ST(r,e);let o=this.get(i);return o||(o=new fee({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>wI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>wI(t,n)):e}notify(t){dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mee=class extends MD{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||RD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=TD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),dr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function RD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gee=class extends Xf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new mee({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Y0(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Y0(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Y0(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Y0(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>bI(e,n))}findAll(t={}){return this.getAll().filter(e=>bI(t,e))}notify(t){dr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return dr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ri))))}};function Y0(t){return t.options.scope?.id}function AI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],s=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=AD(e.options,e.fetchOptions),h=async(p,m,y)=>{if(u)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const v=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:m,direction:y?"backward":"forward",meta:e.options.meta};return d(k),k})(),b=await f(v),{maxPages:x}=e.options,I=y?see:oee;return{pages:I(p.pages,b,x),pageParams:I(p.pageParams,m,x)}};if(i&&o.length){const p=i==="backward",m=p?yee:_I,y={pages:o,pageParams:s},g=m(r,y);a=await h(y,g,p)}else{const p=t??o.length;do{const m=l===0?s[0]??r.initialPageParam:_I(r,a);if(l>0&&m==null)break;a=await h(a,m),l++}while(l<p)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function _I(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function yee(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var vee=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new pee,this.#t=t.mutationCache||new gee,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=TT.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=_v.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Bl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,s=ree(e,o);if(s!==void 0)return this.#e.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return dr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;dr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return dr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=dr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ri).catch(ri)}invalidateQueries(t,e={}){return dr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=dr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(ri)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ri)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Bl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ri).catch(ri)}fetchInfiniteQuery(t){return t.behavior=AI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ri).catch(ri)}ensureInfiniteQueryData(t){return t.behavior=AI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _v.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(pu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{hm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(pu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{hm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ST(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===CT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},wee=class extends Xf{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=k_(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),SI(this.#t,this.options)?this.#f():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return F_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return F_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),e._defaulted&&!Av(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&CI(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||Jo(this.options.enabled,this.#t)!==Jo(e.enabled,this.#t)||Bl(this.options.staleTime,this.#t)!==Bl(e.staleTime,this.#t))&&this.#y();const i=this.#g();r&&(this.#t!==n||Jo(this.options.enabled,this.#t)!==Jo(e.enabled,this.#t)||i!==this.#c)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return xee(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#d.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ri)),e}#y(){this.#b();const t=Bl(this.options.staleTime,this.#t);if(hu||this.#r.isStale||!R_(t))return;const n=xD(this.#r.dataUpdatedAt,t)+1;this.#h=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#c=t,!(hu||Jo(this.options.enabled,this.#t)===!1||!R_(this.#c)||this.#c===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||TT.isFocused())&&this.#f()},this.#c))}#w(){this.#y(),this.#v(this.#g())}#b(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#x(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,s=this.#s,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,f;if(e._optimisticResults){const U=this.hasListeners(),S=!U&&SI(t,e),N=U&&CI(t,n,e,r);(S||N)&&(u={...u,...ID(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:m}=u;f=u.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&m==="pending"){let U;i?.isPlaceholderData&&e.placeholderData===s?.placeholderData?(U=i.data,y=!0):U=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,U!==void 0&&(m="success",f=N_(i?.data,U,e),d=!0)}if(e.select&&f!==void 0&&!y)if(i&&f===o?.data&&e.select===this.#p)f=this.#u;else try{this.#p=e.select,f=e.select(f),f=N_(i?.data,f,e),this.#u=f,this.#a=null}catch(U){this.#a=U}this.#a&&(h=this.#a,f=this.#u,p=Date.now(),m="error");const g=u.fetchStatus==="fetching",v=m==="pending",b=m==="error",x=v&&g,I=f!==void 0,A={status:m,fetchStatus:u.fetchStatus,isPending:v,isSuccess:m==="success",isError:b,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:b&&!I,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&I,isStale:MT(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const U=P=>{A.status==="error"?P.reject(A.error):A.data!==void 0&&P.resolve(A.data)},S=()=>{const P=this.#o=A.promise=k_();U(P)},N=this.#o;switch(N.status){case"pending":t.queryHash===n.queryHash&&U(N);break;case"fulfilled":(A.status==="error"||A.data!==N.value)&&S();break;case"rejected":(A.status!=="error"||A.error!==N.reason)&&S();break}}return A}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Av(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#d.size)return!0;const o=new Set(i??this.#d);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(s=>{const a=s;return this.#r[a]!==t[a]&&o.has(a)})};this.#A({listeners:n()})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#A(t){dr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function bee(t,e){return Jo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SI(t,e){return bee(t,e)||t.state.data!==void 0&&F_(t,e,e.refetchOnMount)}function F_(t,e,n){if(Jo(e.enabled,t)!==!1&&Bl(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&MT(t,e)}return!1}function CI(t,e,n,r){return(t!==e||Jo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&MT(t,n)}function MT(t,e){return Jo(e.enabled,t)!==!1&&t.isStaleByTime(Bl(e.staleTime,t))}function xee(t,e){return!Av(t.getCurrentResult(),e)}var Eee=class extends Xf{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Av(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&pu(n.mutationKey)!==pu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??RD();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){dr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function Aee(t){return JSON.stringify(t,(e,n)=>_ee(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function _ee(t){if(!TI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!TI(n)||!n.hasOwnProperty("isPrototypeOf"))}function TI(t){return Object.prototype.toString.call(t)==="[object Object]"}function d1(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:o,maxPages:s,meta:a,networkMode:l,queryFn:c,queryHash:u,queryKey:d,queryKeyHashFn:f,retry:h,retryDelay:p,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:v,_optimisticResults:b,enabled:x,notifyOnChangeProps:I,placeholderData:k,refetchInterval:A,refetchIntervalInBackground:U,refetchOnMount:S,refetchOnReconnect:N,refetchOnWindowFocus:P,retryOnMount:G,select:B,staleTime:w,suspense:E,throwOnError:M,config:O,connector:C,query:H,...W}=t;return W}function See(t){return{mutationFn(e){return DJ(t,e)},mutationKey:["connect"]}}function Cee(t){return{mutationFn(e){return KJ(t,e)},mutationKey:["disconnect"]}}function Tee(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return await JJ(t,{...o,address:r})??null},queryKey:Mee(e)}}function Mee(t={}){return["balance",d1(t)]}function Iee(t,e={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("name is required");return eZ(t,{...o,name:r})},queryKey:Ree(e)}}function Ree(t={}){return["ensAvatar",d1(t)]}function Pee(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...o}=n[1];if(!r)throw new Error("address is required");return tZ(t,{...o,address:r})},queryKey:Nee(e)}}function Nee(t={}){return["ensName",d1(t)]}function kee(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:i,scopeKey:o,...s}=n[1];return nZ(t,{...s,connector:r})},queryKey:Fee(e)}}function Fee(t={}){const{connector:e,...n}=t;return["walletClient",{...d1(n),connectorUid:e?.uid}]}function Oee(t){return{mutationFn(e){return iZ(t,e)},mutationKey:["signMessage"]}}function Bee(t){return{mutationFn(e){return sZ(t,e)},mutationKey:["switchChain"]}}var PD=z.createContext(void 0),IT=t=>{const e=z.useContext(PD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Lee=({client:t,children:e})=>(z.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),vn.jsx(PD.Provider,{value:t,children:e})),ND=z.createContext(!1),Dee=()=>z.useContext(ND);ND.Provider;function Uee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zee=z.createContext(Uee()),jee=()=>z.useContext(zee),Hee=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Gee=t=>{z.useEffect(()=>{t.clearReset()},[t])},Wee=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||_D(n,[t.error,r])),Vee=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$ee=(t,e)=>t.isLoading&&t.isFetching&&!e,qee=(t,e)=>t?.suspense&&e.isPending,MI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Kee(t,e,n){const r=Dee(),i=jee(),o=IT(),s=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",Vee(s),Hee(s,i),Gee(i);const a=!o.getQueryCache().get(s.queryHash),[l]=z.useState(()=>new e(o,s)),c=l.getOptimisticResult(s),u=!r&&t.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(d=>{const f=u?l.subscribe(dr.batchCalls(d)):ri;return l.updateResult(),f},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),z.useEffect(()=>{l.setOptions(s)},[s,l]),qee(s,c))throw MI(s,l,i);if(Wee({result:c,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!hu&&$ee(c,r)&&(a?MI(s,l,i):o.getQueryCache().get(s.queryHash)?.promise)?.catch(ri).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?c:l.trackResult(c)}function kD(t,e){return Kee(t,wee)}function f1(t,e){const n=IT(),[r]=z.useState(()=>new Eee(n,t));z.useEffect(()=>{r.setOptions(t)},[r,t]);const i=z.useSyncExternalStore(z.useCallback(s=>r.subscribe(dr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=z.useCallback((s,a)=>{r.mutate(s,a).catch(ri)},[r]);if(i.error&&_D(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function h1(t){const e=kD({...t,queryKeyHashFn:Aee});return e.queryKey=t.queryKey,e}function n0(t={}){const e=yr(t);return z.useSyncExternalStore(n=>aZ(e,{onChange:n}),()=>hI(e),()=>hI(e))}function FD(t={}){const{address:e,query:n={}}=t,r=yr(t),i=n0({config:r}),o=Tee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return h1({...n,...o,enabled:s})}function Qee(t={}){const e=yr(t);return z.useSyncExternalStore(n=>LZ(e,{onChange:n}),()=>pI(e),()=>pI(e))}function Xee(t={}){const e=yr(t);return z.useSyncExternalStore(n=>cZ(e,{onChange:n}),()=>mI(e),()=>mI(e))}function Yee(t={}){const{mutation:e}=t,n=yr(t),r=See(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return z.useEffect(()=>n.subscribe(({status:a})=>a,(a,l)=>{l==="connected"&&a==="disconnected"&&s.reset()}),[n,s.reset]),{...s,connect:i,connectAsync:o,connectors:Xee({config:n})}}function Jee(t={}){const e=yr(t);return z.useSyncExternalStore(n=>lZ(e,{onChange:n}),()=>C_(e),()=>C_(e))}function RT(t={}){const{mutation:e}=t,n=yr(t),r=Cee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return{...s,connectors:Jee({config:n}).map(a=>a.connector),disconnect:i,disconnectAsync:o}}function Zee(t={}){const{name:e,query:n={}}=t,r=yr(t),i=n0({config:r}),o=Iee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return h1({...n,...o,enabled:s})}function ete(t={}){const{address:e,query:n={}}=t,r=yr(t),i=n0({config:r}),o=Pee(r,{...t,chainId:t.chainId??i}),s=!!(e&&(n.enabled??!0));return h1({...n,...o,enabled:s})}function PT(t={}){const e=yr(t);return wD.useSyncExternalStoreWithSelector(n=>uZ(e,{onChange:n}),()=>T_(e,t),()=>T_(e,t),n=>n,(n,r)=>n?.uid===r?.uid)}function tte(t={}){const{mutation:e}=t,n=yr(t),r=Oee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return{...s,signMessage:i,signMessageAsync:o}}function OD(t={}){const{mutation:e}=t,n=yr(t),r=Bee(n),{mutate:i,mutateAsync:o,...s}=f1({...e,...r});return{...s,chains:Qee({config:n}),switchChain:i,switchChainAsync:o}}function BD(t={}){const{query:e={},...n}=t,r=yr(n),i=IT(),{address:o,connector:s,status:a}=Tr({config:r}),l=n0({config:r}),c=t.connector??s,{queryKey:u,...d}=kee(r,{...t,chainId:t.chainId??l,connector:t.connector??s}),f=!!((a==="connected"||a==="reconnecting"&&c?.getProvider)&&(e.enabled??!0)),h=z.useRef(o);return z.useEffect(()=>{const p=h.current;!o&&p?(i.removeQueries({queryKey:u}),h.current=void 0):o!==p&&(i.invalidateQueries({queryKey:u}),h.current=o)},[o,i]),h1({...e,...d,queryKey:u,enabled:f,staleTime:Number.POSITIVE_INFINITY})}var II='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',nte={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${II}`,system:II},Ch={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},rte={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},LD=({borderRadius:t="large",fontStack:e="rounded",overlayBlur:n="none"})=>({blurs:{modalOverlay:rte[n].modalOverlay},fonts:{body:nte[e]},radii:{actionButton:Ch[t].actionButton,connectButton:Ch[t].connectButton,menuButton:Ch[t].connectButton,modal:Ch[t].modal,modalMobile:Ch[t].modalMobile}}),gy="#1A1B1F",DD={blue:{accentColor:"#3898FF",accentColorForeground:"#FFF"},green:{accentColor:"#4BD166",accentColorForeground:gy},orange:{accentColor:"#FF983D",accentColorForeground:gy},pink:{accentColor:"#FF7AB8",accentColorForeground:gy},purple:{accentColor:"#7A70FF",accentColorForeground:"#FFF"},red:{accentColor:"#FF6257",accentColorForeground:"#FFF"}},RI=DD.blue,UD=({accentColor:t=RI.accentColor,accentColorForeground:e=RI.accentColorForeground,...n}={})=>({...LD(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(255, 255, 255, 0.04)",actionButtonBorderMobile:"rgba(255, 255, 255, 0.08)",actionButtonSecondaryBackground:"rgba(255, 255, 255, 0.08)",closeButton:"rgba(224, 232, 255, 0.6)",closeButtonBackground:"rgba(255, 255, 255, 0.08)",connectButtonBackground:gy,connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(255, 255, 255, 0.075), rgba(255, 255, 255, 0.15))",connectButtonText:"#FFF",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(0, 0, 0, 0) 9.49%, rgba(120, 120, 120, 0.2) 71.04%), #1A1B1F",downloadTopCardBackground:"linear-gradient(126deg, rgba(120, 120, 120, 0.2) 9.49%, rgba(0, 0, 0, 0) 71.04%), #1A1B1F",error:"#FF494A",generalBorder:"rgba(255, 255, 255, 0.08)",generalBorderDim:"rgba(255, 255, 255, 0.04)",menuItemBackground:"rgba(224, 232, 255, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.5)",modalBackground:"#1A1B1F",modalBorder:"rgba(255, 255, 255, 0.08)",modalText:"#FFF",modalTextDim:"rgba(224, 232, 255, 0.3)",modalTextSecondary:"rgba(255, 255, 255, 0.6)",profileAction:"rgba(224, 232, 255, 0.1)",profileActionHover:"rgba(224, 232, 255, 0.2)",profileForeground:"rgba(224, 232, 255, 0.05)",selectedOptionBorder:"rgba(224, 232, 255, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.24)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});UD.accentColors=DD;var zD={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},PI=zD.blue,jD=({accentColor:t=PI.accentColor,accentColorForeground:e=PI.accentColorForeground,...n}={})=>({...LD(n),colors:{accentColor:t,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});jD.accentColors=zD;var O_=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "berasig": {
      "extension": {
        "step1": {
          "title": "Install the BeraSig extension",
          "description": "We recommend pinning BeraSig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "best": {
      "qr_code": {
        "step1": {
          "title": "Open the Best Wallet app",
          "description": "Add Best Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "binance": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Binance on your home screen for faster access to your wallet.",
          "title": "Open the Binance app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "compass": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Compass Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Compass Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "iopay": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting ioPay on your home screen for faster access to your wallet.",
          "title": "Open the ioPay app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaia": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaia to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaia extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaia app",
          "description": "Put Kaia app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kraken": {
      "qr_code": {
        "step1": {
          "title": "Open the Kraken Wallet app",
          "description": "Add Kraken Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "magicEden": {
      "extension": {
        "step1": {
          "title": "Install the Magic Eden extension",
          "description": "We recommend pinning Magic Eden to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "nestwallet": {
      "extension": {
        "step1": {
          "title": "Install the NestWallet extension",
          "description": "We recommend pinning NestWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "paraswap": {
      "qr_code": {
        "step1": {
          "title": "Open the ParaSwap app",
          "description": "Add ParaSwap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "wigwam": {
      "extension": {
        "step1": {
          "title": "Install the Wigwam extension",
          "description": "We recommend pinning Wigwam to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "qr_code": {
        "step1": {
          "title": "Open the Zeal app",
          "description": "Add Zeal Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "valora": {
      "qr_code": {
        "step1": {
          "title": "Open the Valora app",
          "description": "We recommend putting Valora on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "gate": {
      "qr_code": {
        "step1": {
          "title": "Open the Gate app",
          "description": "We recommend putting Gate on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },
      "extension": {
        "step1": {
          "title": "Install the Gate extension",
          "description": "We recommend pinning Gate to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xportal": {
      "qr_code": {
        "step1": {
          "description": "Put xPortal on your home screen for faster access to your wallet.",
          "title": "Open the xPortal app"
        },
        "step2": {
          "description": "Create a wallet or import an existing one.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "mew": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting MEW Wallet on your home screen for quicker access.",
          "title": "Open the MEW Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    }
  },

  "zilpay": {
    "qr_code": {
      "step1": {
        "title": "Open the ZilPay app",
        "description": "Add ZilPay to your home screen for faster access to your wallet."
      },
      "step2": {
        "title": "Create or Import a Wallet",
        "description": "Create a new wallet or import an existing one."
      },
      "step3": {
        "title": "Tap the scan button",
        "description": "After you scan, a connection prompt will appear for you to connect your wallet."
      }
    }
  }
}
`;function ite(t,e){return Object.defineProperty(t,"__recipe__",{value:e,writable:!1}),t}var HD=ite;function GD(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");function n(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var i={};for(var o in e.responsiveArray)r[o]!=null&&(i[e.responsiveArray[o]]=r[o]);return i}return r}return HD(n,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:t.conditions}]})}function ote(t){var{conditions:e}=t;if(!e)throw new Error("Styles have no conditions");var n=GD(t);function r(i,o){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return o(i,e.defaultCondition)}var s=Array.isArray(i)?n(i):i,a={};for(var l in s)s[l]!=null&&(a[l]=o(s[l],l));return a}return HD(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:t.conditions}]})}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:String(e)}function lte(t,e,n){return e=ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var cte=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object.assign({},...n.map(l=>l.styles)),o=Object.keys(i),s=o.filter(l=>"mappings"in i[l]),a=l=>{var c=[],u={},d=dx({},l),f=!1;for(var h of s){var p=l[h];if(p!=null){var m=i[h];f=!0;for(var y of m.mappings)u[y]=p,d[y]==null&&delete d[y]}}var g=f?dx(dx({},u),d):l,v=function(){var I=g[b],k=i[b];try{if(k.mappings)return 1;if(typeof I=="string"||typeof I=="number")c.push(k.values[I].defaultClass);else if(Array.isArray(I))for(var A=0;A<I.length;A++){var U=I[A];if(U!=null){var S=k.responsiveArray[A];c.push(k.values[U].conditions[S])}}else for(var N in I){var P=I[N];P!=null&&c.push(k.values[P].conditions[N])}}catch(G){throw G}};for(var b in g)v();return t(c.join(" "))};return Object.assign(a,{properties:new Set(o)})},ute=t=>t,dte=function(){return cte(ute)(...arguments)};function WD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=WD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function VD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=WD(t))&&(r&&(r+=" "),r+=e);return r}var fte="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const kI=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),FI=4;function hte(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let I=1;I<r;I++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let I=0;I<d;I++)y=y<<1|u();let g=[],v=0,b=f;for(;;){let I=Math.floor(((y-v+1)*i-1)/b),k=0,A=r;for(;A-k>1;){let N=k+A>>>1;I<o[N]?A=N:k=N}if(k==0)break;g.push(k);let U=v+Math.floor(b*o[k]/i),S=v+Math.floor(b*o[k+1]/i)-1;for(;!((U^S)&h);)y=y<<1&m|u(),U=U<<1&m,S=S<<1&m|1;for(;U&~S&p;)y=y&h|y<<1&m>>>1|u(),U=U<<1^h,S=(S^h)<<1|h|1;v=U,b=1+S-U}let x=r-4;return g.map(I=>{switch(I-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return I-1}})}function pte(t){let e=0;return()=>t[e++]}function $D(t){return pte(hte(mte(t)))}function mte(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function gte(t){return t&1?~t>>1:t>>1}function yte(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=gte(e());return n}function pm(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function qD(t){return mm(()=>{let e=pm(t);if(e.length)return e})}function KD(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(vte(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(wte(n,t))}return e.flat()}function mm(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function QD(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)yte(t,n).forEach((o,s)=>r[s].push(o));return r}function vte(t,e){let n=1+e(),r=e(),i=mm(e);return QD(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function wte(t,e){let n=1+e();return QD(n,1+t,e).map(i=>[i[0],i.slice(1)])}function bte(t){let e=[],n=pm(t);return i(r([]),[]),e;function r(o){let s=t(),a=mm(()=>{let l=pm(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function xte(t){return t.toString(16).toUpperCase().padStart(2,"0")}function XD(t){return`{${xte(t)}}`}function Ete(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function mf(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function Ate(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var _te="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const gm=44032,Sv=4352,Cv=4449,Tv=4519,YD=19,JD=21,gf=28,Mv=JD*gf,Ste=YD*Mv,Cte=gm+Ste,Tte=Sv+YD,Mte=Cv+JD,Ite=Tv+gf;function Qh(t){return t>>24&255}function ZD(t){return t&16777215}let B_,OI,L_,yy;function Rte(){let t=$D(_te);B_=new Map(qD(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),OI=new Set(pm(t)),L_=new Map,yy=new Map;for(let[e,n]of KD(t)){if(!OI.has(e)&&n.length==2){let[r,i]=n,o=yy.get(r);o||(o=new Map,yy.set(r,o)),o.set(i,e)}L_.set(e,n.reverse())}}function eU(t){return t>=gm&&t<Cte}function Pte(t,e){if(t>=Sv&&t<Tte&&e>=Cv&&e<Mte)return gm+(t-Sv)*Mv+(e-Cv)*gf;if(eU(t)&&e>Tv&&e<Ite&&(t-gm)%gf==0)return t+(e-Tv);{let n=yy.get(t);return n&&(n=n.get(e),n)?n:-1}}function tU(t){B_||Rte();let e=[],n=[],r=!1;function i(o){let s=B_.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(eU(o)){let s=o-gm,a=s/Mv|0,l=s%Mv/gf|0,c=s%gf;i(Sv+a),i(Cv+l),c>0&&i(Tv+c)}else{let s=L_.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Qh(e[0]);for(let s=1;s<e.length;s++){let a=Qh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Qh(e[--l]),o<=a))break}o=Qh(e[s])}}return e}function Nte(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Qh(o),a=ZD(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=Pte(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function nU(t){return tU(t).map(ZD)}function kte(t){return Nte(tU(t))}const BI=45,rU=".",iU=65039,oU=1,Iv=t=>Array.from(t);function ym(t,e){return t.P.has(e)||t.Q.has(e)}let Fte=class extends Array{get is_emoji(){return!0}},D_,sU,Oc,U_,aU,zd,fx,dd,mc,LI,z_;function NT(){if(D_)return;let t=$D(fte);const e=()=>pm(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));D_=new Map(KD(t)),sU=n(),Oc=e(),U_=new Set(e().map(u=>Oc[u])),Oc=new Set(Oc),aU=n(),n();let i=qD(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};zd=mm(u=>{let d=mm(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=mf(d),f&&(d=`Restricted[${d}]`);let h=s(),p=s(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),fx=n(),dd=new Map;let a=e().concat(Iv(fx)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),fx.has(u)||dd.set(u,h)});for(let{V:u,M:d}of new Set(dd.values())){let f=[];for(let p of u){let m=zd.filter(g=>ym(g,p)),y=f.find(({G:g})=>m.some(v=>g.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),r(y.G,m)}let h=f.flatMap(p=>Iv(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(g=>!p.has(g)));for(let g of m)d.set(g,y)}}mc=new Set;let l=new Set;const c=u=>mc.has(u)?l.add(u):mc.add(u);for(let u of zd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of mc)!dd.has(u)&&!l.has(u)&&dd.set(u,oU);r(mc,nU(mc)),LI=bte(t).map(u=>Fte.from(u)).sort(Ate),z_=new Map;for(let u of LI){let d=[z_];for(let f of u){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===iU?d.push(...h):d=h}for(let f of d)f.V=u}}function kT(t){return(lU(t)?"":`${FT(p1([t]))} `)+XD(t)}function FT(t){return`"${t}"‎`}function Ote(t){if(t.length>=4&&t[2]==BI&&t[3]==BI)throw new Error(`invalid label extension: "${mf(t.slice(0,4))}"`)}function Bte(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Lte(t){let e=t[0],n=kI.get(e);if(n)throw yp(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=kI.get(e);if(s){if(i==o)throw yp(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw yp(`trailing ${n}`)}function p1(t,e=1/0,n=XD){let r=[];Dte(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];lU(a)&&(r.push(mf(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(mf(t.slice(i,o))),r.join("")}function Dte(t,e){return NT(),Oc.has(t)}function lU(t){return NT(),aU.has(t)}function Ute(t){return Gte(zte(t,kte,$te))}function zte(t,e,n){if(!t)return[];NT();let r=0;return t.split(rU).map(i=>{let o=Ete(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Vte(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(Bte(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))Ote(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Oc.has(u[0]))throw yp("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Oc.has(y[0]))throw yp(`emoji + combining mark: "${mf(a[m-1])} + ${p1([y[0]])}"`)}Lte(u);let h=Iv(new Set(f)),[p]=Hte(h);Wte(p,f),jte(p,h),c=p.N}}s.type=c}catch(a){s.error=a}return s})}function jte(t,e){let n,r=[];for(let i of e){let o=dd.get(i);if(o===oU)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Iv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>ym(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Hte(t){let e=zd;for(let n of t){let r=e.filter(i=>ym(i,n));if(!r.length)throw zd.some(i=>ym(i,n))?uU(e[0],n):cU(n);if(e=r,r.length==1)break}return e}function Gte(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${FT(p1(e,63))}: ${i}`)}return mf(r)}).join(rU)}function cU(t){return new Error(`disallowed character: ${kT(t)}`)}function uU(t,e){let n=kT(e),r=zd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function yp(t){return new Error(`illegal placement: ${t}`)}function Wte(t,e){for(let n of e)if(!ym(t,n))throw uU(t,n);if(t.M){let n=nU(e);for(let r=1,i=n.length;r<i;r++)if(U_.has(n[r])){let o=r+1;for(let s;o<i&&U_.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${kT(s)}`);if(o-r>FI)throw new Error(`excessive non-spacing marks: ${FT(p1(n.slice(r-1,o)))} (${o-r}/${FI})`);r=o}}}function Vte(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=qte(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(mc.has(s))i.push(s);else{let a=D_.get(s);if(a)i.push(...a);else if(!sU.has(s))throw cU(s)}}}return i.length&&r.push(e(i)),r}function $te(t){return t.filter(e=>e!=iU)}function qte(t,e){let n=z_,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}function Kte(t){return Ute(t)}function Qte(t){return Kte(t)}const Xte={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Yte={block:Cq({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=Kw(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?Ar(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:_q({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Ar(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:EX({format(t){return{l1GasPrice:t.l1GasPrice?Ar(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Ar(t.l1GasUsed):null,l1Fee:t.l1Fee?Ar(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Jte(t,e){return tne(t)?ene(t):mY(t,e)}const Zte={transaction:Jte};function ene(t){nne(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:o,mint:s,to:a,value:l}=t,c=[e,r,a??"0x",s?fi(s):"0x",l?fi(l):"0x",i?fi(i):"0x",o?"0x1":"0x",n??"0x"];return hs(["0x7e",Hl(c)])}function tne(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function nne(t){const{from:e,to:n}=t;if(e&&!sr(e))throw new mi({address:e});if(n&&!sr(n))throw new mi({address:n})}const Rv={blockTime:2e3,contracts:Xte,formatters:Yte,serializers:Zte},OT=Pu({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),m1=Pu({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),Th=1,g1=Pu({...Rv,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Rv.contracts,disputeGameFactory:{[Th]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Th]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Th]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Th]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Th}),y1=Pu({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Nu=Pu({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Mh=1,BT=Pu({...Rv,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Rv.contracts,disputeGameFactory:{[Mh]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Mh]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Mh]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Mh]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Mh}),v1=Pu({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});var j_=function(t,e){return j_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},j_(t,e)};function dU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var So=function(){return So=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},So.apply(this,arguments)};function w1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fU(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function hU(t,e){return function(n,r){e(n,r,t)}}function rne(t,e,n,r,i,o){function s(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=n.length-1;h>=0;h--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(g||null))};var y=(0,n[h])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=s(y.get))&&(u.get=d),(d=s(y.set))&&(u.set=d),(d=s(y.init))&&i.unshift(d)}else(d=s(y))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function ine(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function one(t){return typeof t=="symbol"?t:"".concat(t)}function sne(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function pU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mU(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function gU(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var b1=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function yU(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&b1(e,t,n)}function Pv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function LT(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function vU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(LT(arguments[e]));return t}function wU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function DT(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function yf(t){return this instanceof yf?(this.v=t,this):new yf(t)}function bU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(y,g){o.push([h,m,y,g])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(m){f(o[0][3],m)}}function c(h){h.value instanceof yf?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function xU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(s){return(n=!n)?{value:yf(t[i](s)),done:!1}:o?o(s):s}:o}}function EU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Pv=="function"?Pv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function AU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ane=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function _U(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&b1(e,t,n);return ane(e,t),e}function SU(t){return t&&t.__esModule?t:{default:t}}function CU(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function TU(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function MU(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function IU(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var lne=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function RU(t){function e(o){t.error=t.hasError?new lne(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const cne={__extends:dU,__assign:So,__rest:w1,__decorate:fU,__param:hU,__metadata:pU,__awaiter:mU,__generator:gU,__createBinding:b1,__exportStar:yU,__values:Pv,__read:LT,__spread:vU,__spreadArrays:wU,__spreadArray:DT,__await:yf,__asyncGenerator:bU,__asyncDelegator:xU,__asyncValues:EU,__makeTemplateObject:AU,__importStar:_U,__importDefault:SU,__classPrivateFieldGet:CU,__classPrivateFieldSet:TU,__classPrivateFieldIn:MU,__addDisposableResource:IU,__disposeResources:RU},J_e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:IU,get __assign(){return So},__asyncDelegator:xU,__asyncGenerator:bU,__asyncValues:EU,__await:yf,__awaiter:mU,__classPrivateFieldGet:CU,__classPrivateFieldIn:MU,__classPrivateFieldSet:TU,__createBinding:b1,__decorate:fU,__disposeResources:RU,__esDecorate:rne,__exportStar:yU,__extends:dU,__generator:gU,__importDefault:SU,__importStar:_U,__makeTemplateObject:AU,__metadata:pU,__param:hU,__propKey:one,__read:LT,__rest:w1,__runInitializers:ine,__setFunctionName:sne,__spread:vU,__spreadArray:DT,__spreadArrays:wU,__values:Pv,default:cne},Symbol.toStringTag,{value:"Module"}));var vy="right-scroll-bar-position",wy="width-before-scroll-bar",une="with-scroll-bars-hidden",dne="--removed-body-scroll-bar-size";function hx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function fne(t,e){var n=z.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var hne=typeof window<"u"?z.useLayoutEffect:z.useEffect,DI=new WeakMap;function pne(t,e){var n=fne(null,function(r){return t.forEach(function(i){return hx(i,r)})});return hne(function(){var r=DI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||hx(a,null)}),o.forEach(function(a){i.has(a)||hx(a,s)})}DI.set(n,t)},[t]),n}function mne(t){return t}function gne(t,e){e===void 0&&(e=mne);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function yne(t){t===void 0&&(t={});var e=gne(null);return e.options=So({async:!0,ssr:!1},t),e}var PU=function(t){var e=t.sideCar,n=w1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return z.createElement(r,So({},n))};PU.isSideCarExport=!0;function vne(t,e){return t.useMedium(e),PU}var NU=yne(),px=function(){},x1=z.forwardRef(function(t,e){var n=z.useRef(null),r=z.useState({onScrollCapture:px,onWheelCapture:px,onTouchMoveCapture:px}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,m=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,v=t.gapMode,b=w1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,I=pne([n,e]),k=So(So({},b),i);return z.createElement(z.Fragment,null,u&&z.createElement(x,{sideCar:NU,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?z.cloneElement(z.Children.only(a),So(So({},k),{ref:I})):z.createElement(g,So({},k,{className:l,ref:I}),a))});x1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};x1.classNames={fullWidth:wy,zeroRight:vy};var wne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wne();return e&&t.setAttribute("nonce",e),t}function xne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ene(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Ane=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bne())&&(xne(e,n),Ene(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_ne=function(){var t=Ane();return function(e,n){z.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kU=function(){var t=_ne(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Sne={left:0,top:0,right:0,gap:0},mx=function(t){return parseInt(t||"",10)||0},Cne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[mx(n),mx(r),mx(i)]},Tne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Sne;var e=Cne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Mne=kU(),jd="data-scroll-locked",Ine=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(une,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vy,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wy,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vy," .").concat(vy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wy," .").concat(wy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(dne,": ").concat(a,`px;
  }
`)},UI=function(){var t=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(t)?t:0},Rne=function(){z.useEffect(function(){return document.body.setAttribute(jd,(UI()+1).toString()),function(){var t=UI()-1;t<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,t.toString())}},[])},Pne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Rne();var o=z.useMemo(function(){return Tne(i)},[i]);return z.createElement(Mne,{styles:Ine(o,!e,i,n?"":"!important")})},H_=!1;if(typeof window<"u")try{var J0=Object.defineProperty({},"passive",{get:function(){return H_=!0,!0}});window.addEventListener("test",J0,J0),window.removeEventListener("test",J0,J0)}catch{H_=!1}var Wu=H_?{passive:!1}:!1,Nne=function(t){return t.tagName==="TEXTAREA"},FU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nne(t)&&n[e]==="visible")},kne=function(t){return FU(t,"overflowY")},Fne=function(t){return FU(t,"overflowX")},zI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=OU(t,r);if(i){var o=BU(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},One=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Bne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OU=function(t,e){return t==="v"?kne(e):Fne(e)},BU=function(t,e){return t==="v"?One(e):Bne(e)},Lne=function(t,e){return t==="h"&&e==="rtl"?-1:1},Dne=function(t,e,n,r,i){var o=Lne(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=BU(t,a),p=h[0],m=h[1],y=h[2],g=m-y-o*p;(p||g)&&OU(t,a)&&(d+=g,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Z0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jI=function(t){return[t.deltaX,t.deltaY]},HI=function(t){return t&&"current"in t?t.current:t},Une=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jne=0,Vu=[];function Hne(t){var e=z.useRef([]),n=z.useRef([0,0]),r=z.useRef(),i=z.useState(jne++)[0],o=z.useState(kU)[0],s=z.useRef(t);z.useEffect(function(){s.current=t},[t]),z.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=DT([t.lockRef.current],(t.shards||[]).map(HI),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=z.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var g=Z0(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-g[0],x="deltaY"in m?m.deltaY:v[1]-g[1],I,k=m.target,A=Math.abs(b)>Math.abs(x)?"h":"v";if("touches"in m&&A==="h"&&k.type==="range")return!1;var U=zI(A,k);if(!U)return!0;if(U?I=A:(I=A==="v"?"h":"v",U=zI(A,k)),!U)return!1;if(!r.current&&"changedTouches"in m&&(b||x)&&(r.current=I),!I)return!0;var S=r.current||I;return Dne(S,y,m,S==="h"?b:x)},[]),l=z.useCallback(function(m){var y=m;if(!(!Vu.length||Vu[Vu.length-1]!==o)){var g="deltaY"in y?jI(y):Z0(y),v=e.current.filter(function(I){return I.name===y.type&&(I.target===y.target||y.target===I.shadowParent)&&Une(I.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(HI).filter(Boolean).filter(function(I){return I.contains(y.target)}),x=b.length>0?a(y,b[0]):!s.current.noIsolation;x&&y.cancelable&&y.preventDefault()}}},[]),c=z.useCallback(function(m,y,g,v){var b={name:m,delta:y,target:g,should:v,shadowParent:Gne(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(x){return x!==b})},1)},[]),u=z.useCallback(function(m){n.current=Z0(m),r.current=void 0},[]),d=z.useCallback(function(m){c(m.type,jI(m),m.target,a(m,t.lockRef.current))},[]),f=z.useCallback(function(m){c(m.type,Z0(m),m.target,a(m,t.lockRef.current))},[]);z.useEffect(function(){return Vu.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Wu),document.addEventListener("touchmove",l,Wu),document.addEventListener("touchstart",u,Wu),function(){Vu=Vu.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Wu),document.removeEventListener("touchmove",l,Wu),document.removeEventListener("touchstart",u,Wu)}},[]);var h=t.removeScrollBar,p=t.inert;return z.createElement(z.Fragment,null,p?z.createElement(o,{styles:zne(i)}):null,h?z.createElement(Pne,{gapMode:t.gapMode}):null)}function Gne(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Wne=vne(NU,Hne);var LU=z.forwardRef(function(t,e){return z.createElement(x1,So({},t,{ref:e,sideCar:Wne}))});LU.classNames=x1.classNames;function GI(t){var e=t.match(/^var\((.*)\)$/);return e?e[1]:t}function Vne(t,e){var n=t;for(var r of e){if(!(r in n))throw new Error("Path ".concat(e.join(" -> ")," does not exist in object"));n=n[r]}return n}function DU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in t){var o=t[i],s=[...n,i];typeof o=="string"||typeof o=="number"||o==null?r[i]=e(o,s):typeof o=="object"&&!Array.isArray(o)?r[i]=DU(o,e,s):console.warn('Skipping invalid key "'.concat(s.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"'))}return r}function WI(t,e){var n={};if(typeof e=="object"){var r=t;DU(e,(a,l)=>{if(a!=null){var c=Vne(r,l);n[GI(c)]=String(a)}})}else{var i=t;for(var o in i){var s=i[o];s!=null&&(n[GI(o)]=s)}}return Object.defineProperty(n,"toString",{value:function(){return Object.keys(this).map(l=>"".concat(l,":").concat(this[l])).join(";")},writable:!1}),n}var G_={exports:{}};(function(t,e){(function(n,r){var i="1.0.40",o="",s="?",a="function",l="undefined",c="object",u="string",d="major",f="model",h="name",p="type",m="vendor",y="version",g="architecture",v="console",b="mobile",x="tablet",I="smarttv",k="wearable",A="embedded",U=500,S="Amazon",N="Apple",P="ASUS",G="BlackBerry",B="Browser",w="Chrome",E="Edge",M="Firefox",O="Google",C="Huawei",H="LG",W="Microsoft",D="Motorola",T="Opera",$="Samsung",J="Sharp",Z="Sony",ce="Xiaomi",ie="Zebra",xe="Facebook",ue="Chromium OS",Ie="Mac OS",Ge=" Browser",Fe=function(me,j){var _={};for(var R in me)j[R]&&j[R].length%2===0?_[R]=j[R].concat(me[R]):_[R]=me[R];return _},At=function(me){for(var j={},_=0;_<me.length;_++)j[me[_].toUpperCase()]=me[_];return j},oe=function(me,j){return typeof me===u?ct(j).indexOf(ct(me))!==-1:!1},ct=function(me){return me.toLowerCase()},Tt=function(me){return typeof me===u?me.replace(/[^\d\.]/g,o).split(".")[0]:r},ut=function(me,j){if(typeof me===u)return me=me.replace(/^\s\s*/,o),typeof j===l?me:me.substring(0,U)},Ye=function(me,j){for(var _=0,R,Q,Y,ee,te,Be;_<j.length&&!te;){var Ne=j[_],He=j[_+1];for(R=Q=0;R<Ne.length&&!te&&Ne[R];)if(te=Ne[R++].exec(me),te)for(Y=0;Y<He.length;Y++)Be=te[++Q],ee=He[Y],typeof ee===c&&ee.length>0?ee.length===2?typeof ee[1]==a?this[ee[0]]=ee[1].call(this,Be):this[ee[0]]=ee[1]:ee.length===3?typeof ee[1]===a&&!(ee[1].exec&&ee[1].test)?this[ee[0]]=Be?ee[1].call(this,Be,ee[2]):r:this[ee[0]]=Be?Be.replace(ee[1],ee[2]):r:ee.length===4&&(this[ee[0]]=Be?ee[3].call(this,Be.replace(ee[1],ee[2])):r):this[ee]=Be||r;_+=2}},Nt=function(me,j){for(var _ in j)if(typeof j[_]===c&&j[_].length>0){for(var R=0;R<j[_].length;R++)if(oe(j[_][R],me))return _===s?r:_}else if(oe(j[_],me))return _===s?r:_;return j.hasOwnProperty("*")?j["*"]:me},nt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,T+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,T+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,T]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+B],y],[/\bfocus\/([\w\.]+)/i],[y,[h,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,T+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,T+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+Ge]],[/fxios\/([\w\.-]+)/i],[y,[h,M]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+Ge],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,$+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,xe],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,w+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,w+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,Nt,nt]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,ct]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,ct]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,ct]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,$],[p,x]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,$],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,N],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,N],[p,x]],[/(macintosh);/i],[f,[m,N]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,J],[p,b]],[/(?:honor)([-\w ]+)[;\)]/i],[f,[m,"Honor"],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,C],[p,x]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,C],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[m,ce],[p,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,ce],[p,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[p,b]],[/\b(opd2\d{3}a?) bui/i],[f,[m,"OPPO"],[p,x]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,D],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,D],[p,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,H],[p,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,H],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[p,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[p,b]],[/(pixel c)\b/i],[f,[m,O],[p,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,O],[p,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,Z],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,Z],[p,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,S],[p,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,S],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[p,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,G],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,P],[p,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,P],[p,b]],[/(nexus 9)/i],[f,[m,"HTC"],[p,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[p,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[m,"TCL"],[p,x]],[/(itel) ((\w+))/i],[[m,ct],f,[p,Nt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[p,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[p,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[m,"Energizer"],[p,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[m,"Cat"],[p,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[m,"Smartfren"],[p,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[m,"Nothing"],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[p,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[p,x]],[/(surface duo)/i],[f,[m,W],[p,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[p,b]],[/(u304aa)/i],[f,[m,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[p,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[p,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[p,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[p,x]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[p,x]],[/\b(k88) b/i],[f,[m,"ZTE"],[p,x]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[p,x]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[p,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[p,x]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[p,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[p,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[p,b]],[/\b(ph-1) /i],[f,[m,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[p,x]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[p,x]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[p,x]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[p,x]],[/(sprint) (\w+)/i],[m,f,[p,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,W],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,ie],[p,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,ie],[p,b]],[/smart-tv.+(samsung)/i],[m,[p,I]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,$],[p,I]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,H],[p,I]],[/(apple) ?tv/i],[m,[f,N+" TV"],[p,I]],[/crkey/i],[[f,w+"cast"],[m,O],[p,I]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,S],[p,I]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,J],[p,I]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,Z],[p,I]],[/(mitv-\w{5}) bui/i],[f,[m,ce],[p,I]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[p,I]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,ut],[f,ut],[p,I]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[p,v]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[p,v]],[/(playstation [345portablevi]+)/i],[f,[m,Z],[p,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,W],[p,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[m,$],[p,k]],[/((pebble))app/i],[m,f,[p,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,N],[p,k]],[/droid.+; (glass) \d/i],[f,[m,O],[p,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,ie],[p,k]],[/droid.+; (glass) \d/i],[f,[m,O],[p,k]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,f,[p,k]],[/; (quest( \d| pro)?)/i],[f,[m,xe],[p,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,A]],[/(aeobc)\b/i],[f,[m,S],[p,A]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[p,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,E+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[y,Nt,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,Nt,X],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,Ie],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,y],[/\(bb(10);/i],[y,[h,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,w+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,ue],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},de=function(me,j){if(typeof me===c&&(j=me,me=r),!(this instanceof de))return new de(me,j).getResult();var _=typeof n!==l&&n.navigator?n.navigator:r,R=me||(_&&_.userAgent?_.userAgent:o),Q=_&&_.userAgentData?_.userAgentData:r,Y=j?Fe(V,j):V,ee=_&&_.userAgent==R;return this.getBrowser=function(){var te={};return te[h]=r,te[y]=r,Ye.call(te,R,Y.browser),te[d]=Tt(te[y]),ee&&_&&_.brave&&typeof _.brave.isBrave==a&&(te[h]="Brave"),te},this.getCPU=function(){var te={};return te[g]=r,Ye.call(te,R,Y.cpu),te},this.getDevice=function(){var te={};return te[m]=r,te[f]=r,te[p]=r,Ye.call(te,R,Y.device),ee&&!te[p]&&Q&&Q.mobile&&(te[p]=b),ee&&te[f]=="Macintosh"&&_&&typeof _.standalone!==l&&_.maxTouchPoints&&_.maxTouchPoints>2&&(te[f]="iPad",te[p]=x),te},this.getEngine=function(){var te={};return te[h]=r,te[y]=r,Ye.call(te,R,Y.engine),te},this.getOS=function(){var te={};return te[h]=r,te[y]=r,Ye.call(te,R,Y.os),ee&&!te[h]&&Q&&Q.platform&&Q.platform!="Unknown"&&(te[h]=Q.platform.replace(/chrome os/i,ue).replace(/macos/i,Ie)),te},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return R},this.setUA=function(te){return R=typeof te===u&&te.length>U?ut(te,U):te,this},this.setUA(R),this};de.VERSION=i,de.BROWSER=At([h,y,d]),de.CPU=At([g]),de.DEVICE=At([f,m,p,v,b,I,x,k,A]),de.ENGINE=de.OS=At([h,y]),t.exports&&(e=t.exports=de),e.UAParser=de;var be=typeof n!==l&&(n.jQuery||n.Zepto);if(be&&!be.ua){var Me=new de;be.ua=Me.getResult(),be.ua.get=function(){return Me.getUA()},be.ua.set=function(me){Me.setUA(me);var j=Me.getResult();for(var _ in j)be.ua[_]=j[_]}}})(typeof window=="object"?window:qk)})(G_,G_.exports);var $ne=G_.exports;/*!
Copyright (c) 2023 Paul Miller (paulmillr.com)
The library paulmillr-qr is dual-licensed under the Apache 2.0 OR MIT license.
You can select a license of your choice.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/const Ih={newline:10,reset:27};function qne(t){if(!Number.isSafeInteger(t))throw new Error(`integer expected: ${t}`)}function Kne(t){if(!Number.isSafeInteger(t)||t<1||t>40)throw new Error(`Invalid version=${t}. Expected number [1..40]`)}function ic(t,e){return t.toString(2).padStart(e,"0")}function VI(t,e){const n=t%e;return n>=0?n:e+n}function Xi(t,e){return new Array(t).fill(e)}function $I(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function qI(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function Qne(){let t,e=1/0;return{add(n,r){n>=e||(t=r,e=n)},get:()=>t,score:()=>e}}function KI(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(qne(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})}}}class Ki{static size(e,n){if(typeof e=="number"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: invalid height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: invalid width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){e=e.replace(/^\n+/g,"").replace(/\n+$/g,"");const n=e.split(String.fromCharCode(Ih.newline)),r=n.length,i=new Array(r);let o;for(const s of n){const a=s.split("").map(l=>{if(l==="X")return!0;if(l===" ")return!1;if(l!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${l}`)});if(o&&a.length!==o)throw new Error(`Bitmap.fromString different row sizes: width=${o} cur=${a.length}`);o=a.length,i.push(a)}return o||(o=0),new Ki({height:r,width:o},i)}data;height;width;constructor(e,n){const{height:r,width:i}=Ki.size(e);this.data=n||Array.from({length:r},()=>Xi(i,void 0)),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e=="number"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: invalid x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: invalid y=${e.y}`);return e.x=VI(e.x,this.width),e.y=VI(e.y,this.height),e}rect(e,n,r){const{x:i,y:o}=this.xy(e),{height:s,width:a}=Ki.size(n,this.size({x:i,y:o}));for(let l=0;l<s;l++)for(let c=0;c<a;c++)this.data[o+l][i+c]=typeof r=="function"?r({x:c,y:l},this.data[o+l][i+c]):r;return this}rectRead(e,n,r){return this.rect(e,n,(i,o)=>(r(i,o),o))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,o=Xi(e,n),s=Array.from({length:e},()=>Xi(i,n));return new Ki({height:r,width:i},[...s,...this.data.map(a=>[...o,...a,...o]),...s])}embed(e,n){return this.rect(e,n.size(),({x:r,y:i})=>n.data[i][r])}rectSlice(e,n=this.size()){const r=new Ki(Ki.size(n,this.size(this.xy(e))));return this.rect(e,n,({x:i,y:o},s)=>r.data[o][i]=s),r}inverse(){const{height:e,width:n}=this;return new Ki({height:n,width:e}).rect({x:0,y:0},1/0,({x:i,y:o})=>this.data[i][o])}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`invalid scale factor: ${e}`);const{height:n,width:r}=this;return new Ki({height:e*n,width:e*r}).rect({x:0,y:0},1/0,({x:o,y:s})=>this.data[Math.floor(s/e)][Math.floor(o/e)])}clone(){return new Ki(this.size()).rect({x:0,y:0},this.size(),({x:n,y:r})=>this.data[r][n])}assertDrawn(){this.rectRead(0,1/0,(e,n)=>{if(typeof n!="boolean")throw new Error(`Invalid color type=${typeof n}`)})}toString(){return this.data.map(e=>e.map(n=>n===void 0?"?":n?"X":" ").join("")).join(String.fromCharCode(Ih.newline))}toASCII(){const{height:e,width:n,data:r}=this;let i="";for(let o=0;o<e;o+=2){for(let s=0;s<n;s++){const a=r[o][s],l=o+1>=e?!0:r[o+1][s];!a&&!l?i+="█":!a&&l?i+="▀":a&&!l?i+="▄":a&&l&&(i+=" ")}i+=String.fromCharCode(Ih.newline)}return i}toTerm(){const e=String.fromCharCode(Ih.reset),n=e+"[0m",r=e+"[1;47m  "+n,i=e+"[40m  "+n;return this.data.map(o=>o.map(s=>s?i:r).join("")).join(String.fromCharCode(Ih.newline))}toSVG(e=!0){let n=`<svg viewBox="0 0 ${this.width} ${this.height}" xmlns="http://www.w3.org/2000/svg">`,r="",i;return this.rectRead(0,1/0,(o,s)=>{if(!s)return;const{x:a,y:l}=o;if(!e){n+=`<rect x="${a}" y="${l}" width="1" height="1" />`;return}let c=`M${a} ${l}`;if(i){const d=`m${a-i.x} ${l-i.y}`;d.length<=c.length&&(c=d)}const u=a<10?`H${a}`:"h-1";r+=`${c}h1v1${u}Z`,i=o}),e&&(n+=`<path d="${r}"/>`),n+="</svg>",n}toGIF(){const e=a=>[a&255,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,(a,l)=>r.push(+(l===!0)));const i=126,o=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Xi(3*127,0),44,0,0,0,0,...n,0,7],s=Math.floor(r.length/i);for(let a=0;a<s;a++)o.push(i+1,128,...r.slice(i*a,i*(a+1)).map(l=>+l));return o.push(r.length%i+1,128,...r.slice(s*i).map(a=>+a)),o.push(1,129,0,59),new Uint8Array(o)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let o=0;for(let s=0;s<n;s++)for(let a=0;a<r;a++){const l=this.data[s][a]?0:255;i[o++]=l,i[o++]=l,i[o++]=l,e||(i[o++]=255)}return{height:n,width:r,data:i}}}const QI=["low","medium","quartile","high"],XI=["numeric","alphanumeric","byte","kanji","eci"],Xne=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Yne={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Jne={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Kr={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=6,n=Kr.size.encode(t)-e-1,r=n-e,i=Math.ceil(r/28);let o=Math.floor(r/i);o%2?o+=1:r%i*2>=i&&(o+=2);const s=[e];for(let a=1;a<i;a++)s.push(n-(i-a)*o);return s.push(n),s},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=Kr.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^(r>>9)*1335;return(n<<10|r)^Kr.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^(e>>11)*7973;return t<<12|e},alphabet:{numeric:KI("0123456789"),alphanumerc:KI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits(t,e){return{numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]}[e][Kr.sizeType(t)]},modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(t,e){const n=Xne[t-1],r=Yne[e][t-1],i=Jne[e][t-1],o=Math.floor(n/i)-r,s=i-n%i;return{words:r,numBlocks:i,shortBlocks:s,blockLen:o,capacity:(n-r*i)*8,total:(r+o)*i+i-s}}},UT=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],yt={tables:(t=>{const e=Xi(256,0),n=Xi(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,i&256&&(i^=t);return{exp:e,log:n}})(285),exp:t=>yt.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: invalid arg=${t}`);return yt.tables.log[t]%255},mul(t,e){return t===0||e===0?0:yt.tables.exp[(yt.tables.log[t]+yt.tables.log[e])%255]},add:(t,e)=>t^e,pow:(t,e)=>yt.tables.exp[yt.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: invalid arg=${t}`);return yt.tables.exp[255-yt.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error("GF.polymomial: invalid length");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: invalid degree=${t}`);if(e==0)return[0];let n=Xi(t+1,0);return n[0]=e,yt.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[yt.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Xi(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=yt.add(n[r+i],yt.mul(t[r],e[i]));return yt.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Xi(t.length,0);for(let r=0;r<t.length;r++)n[r]=yt.mul(t[r],e);return yt.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error("GF.mulPolyMonomial: invalid degree");if(n==0)return[0];const r=Xi(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=yt.mul(t[i],n);return yt.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Xi(r.length,0),o=r.length-n.length,s=r.slice(0,o);for(let a=0;a<s.length;a++)i[a]=s[a];for(let a=o;a<r.length;a++)i[a]=yt.add(n[a-o],r[a]);return yt.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let o=1;o<e.length;o++)e[o]!==0&&(n[r+o]=yt.add(n[r+o],yt.mul(e[o],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=yt.mulPoly(e,[1,yt.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return yt.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=yt.add(yt.mul(e,n),t[r]);return n},euclidian(t,e,n){yt.degree(t)<yt.degree(e)&&([t,e]=[e,t]);let r=t,i=e,o=[0],s=[1];for(;2*yt.degree(i)>=n;){let c=r,u=o;if(r=i,o=s,r[0]===0)throw new Error("rLast[0] === 0");i=c;let d=[0];const f=yt.inv(r[0]);for(;yt.degree(i)>=yt.degree(r)&&i[0]!==0;){const h=yt.degree(i)-yt.degree(r),p=yt.mul(i[0],f);d=yt.addPoly(d,yt.monomial(h,p)),i=yt.addPoly(i,yt.mulPolyMonomial(r,h,p))}if(d=yt.mulPoly(d,o),s=yt.addPoly(d,u),yt.degree(i)>=yt.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=yt.coefficient(s,0);if(a==0)throw new Error("sigmaTilde(0) was zero");const l=yt.inv(a);return[yt.mulPolyScalar(s,l),yt.mulPolyScalar(i,l)]}};function Zne(t){return{encode(e){const n=yt.divisorPoly(t),r=Array.from(e);return r.push(...n.slice(0,-1).fill(0)),Uint8Array.from(yt.remainderPoly(r,n))},decode(e){const n=e.slice(),r=yt.polynomial(Array.from(e));let i=Xi(t,0),o=!1;for(let d=0;d<t;d++){const f=yt.evalPoly(r,yt.exp(d));i[i.length-1-d]=f,f!==0&&(o=!0)}if(!o)return n;i=yt.polynomial(i);const s=yt.monomial(t,1),[a,l]=yt.euclidian(s,i,t),c=Xi(yt.degree(a),0);let u=0;for(let d=1;d<256&&u<c.length;d++)yt.evalPoly(a,d)===0&&(c[u++]=yt.inv(d));if(u!==c.length)throw new Error("RS.decode: invalid errors number");for(let d=0;d<c.length;d++){const f=n.length-1-yt.log(c[d]);if(f<0)throw new Error("RS.decode: invalid error location");const h=yt.inv(c[d]);let p=1;for(let m=0;m<c.length;m++)d!==m&&(p=yt.mul(p,yt.add(1,yt.mul(c[m],h))));n[f]=yt.add(n[f],yt.mul(yt.evalPoly(l,h),yt.inv(p)))}return n}}}function ere(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:o,total:s}=Kr.capacity(t,e),a=Zne(n);return{encode(l){const c=[],u=[];for(let p=0;p<i;p++){const m=p<r,y=o+(m?0:1);c.push(l.subarray(0,y)),u.push(a.encode(l.subarray(0,y))),l=l.subarray(y)}const d=$I(...c),f=$I(...u),h=new Uint8Array(d.length+f.length);return h.set(d),h.set(f,d.length),h},decode(l){if(l.length!==s)throw new Error(`interleave.decode: len(data)=${l.length}, total=${s}`);const c=[];for(let f=0;f<i;f++){const h=f<r;c.push(new Uint8Array(n+o+(h?0:1)))}let u=0;for(let f=0;f<o;f++)for(let h=0;h<i;h++)c[h][f]=l[u++];for(let f=r;f<i;f++)c[f][o]=l[u++];for(let f=o;f<o+n;f++)for(let h=0;h<i;h++){const p=h<r;c[h][f+(p?0:1)]=l[u++]}const d=[];for(const f of c)d.push(...Array.from(a.decode(f)).slice(0,-n));return Uint8Array.from(d)}}}function tre(t,e,n,r=!1){const i=Kr.size.encode(t);let o=new Ki(i+2);const s=new Ki(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);o=o.embed(0,s).embed({x:-s.width,y:0},s).embed({x:0,y:-s.height},s),o=o.rectSlice(1,i);const a=new Ki(1).rect(0,1,!0).border(1,!1).border(1,!0),l=Kr.alignmentPatterns(t);for(const c of l)for(const u of l)o.data[c][u]===void 0&&o.embed({x:u-2,y:c-2},a);o=o.hLine({x:0,y:6},1/0,({x:c},u)=>u===void 0?c%2==0:u).vLine({x:6,y:0},1/0,({y:c},u)=>u===void 0?c%2==0:u);{const c=Kr.formatBits(e,n),u=d=>!r&&(c>>d&1)==1;for(let d=0;d<6;d++)o.data[d][8]=u(d);for(let d=6;d<8;d++)o.data[d+1][8]=u(d);for(let d=8;d<15;d++)o.data[i-15+d][8]=u(d);for(let d=0;d<8;d++)o.data[8][i-d-1]=u(d);for(let d=8;d<9;d++)o.data[8][15-d-1+1]=u(d);for(let d=9;d<15;d++)o.data[8][15-d-1]=u(d);o.data[i-8][8]=!r}if(t>=7){const c=Kr.versionBits(t);for(let u=0;u<18;u+=1){const d=!r&&(c>>u&1)==1,f=Math.floor(u/3),h=u%3+i-8-3;o.data[f][h]=d,o.data[h][f]=d}}return o}function nre(t,e,n){const r=t.height,i=UT[e];let o=-1,s=r-1;for(let a=r-1;a>0;a-=2){for(a==6&&(a=5);;s+=o){for(let l=0;l<2;l+=1){const c=a-l;t.data[s][c]===void 0&&n(c,s,i(c,s))}if(s+o<0||s+o>=r)break}o=-o}}function rre(t){let e="numeric";for(let n of t)if(!Kr.alphabet.numeric.has(n)&&(e="alphanumeric",!Kr.alphabet.alphanumerc.has(n)))return"byte";return e}function ire(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function YI(t,e,n,r){let i="",o=n.length;if(r==="numeric"){const d=Kr.alphabet.numeric.decode(n.split("")),f=d.length;for(let h=0;h<f-2;h+=3)i+=ic(d[h]*100+d[h+1]*10+d[h+2],10);f%3===1?i+=ic(d[f-1],4):f%3===2&&(i+=ic(d[f-2]*10+d[f-1],7))}else if(r==="alphanumeric"){const d=Kr.alphabet.alphanumerc.decode(n.split("")),f=d.length;for(let h=0;h<f-1;h+=2)i+=ic(d[h]*45+d[h+1],11);f%2==1&&(i+=ic(d[f-1],6))}else if(r==="byte"){const d=ire(n);o=d.length,i=Array.from(d).map(f=>ic(f,8)).join("")}else throw new Error("encode: unsupported type");const{capacity:s}=Kr.capacity(t,e),a=ic(o,Kr.lengthBits(t,r));let l=Kr.modeBits[r]+a+i;if(l.length>s)throw new Error("Capacity overflow");l+="0".repeat(Math.min(4,Math.max(0,s-l.length))),l.length%8&&(l+="0".repeat(8-l.length%8));const c="1110110000010001";for(let d=0;l.length!==s;d++)l+=c[d%c.length];const u=Uint8Array.from(l.match(/(.{8})/g).map(d=>+`0b${d}`));return ere(t,e).encode(u)}function JI(t,e,n,r,i=!1){const o=tre(t,e,r,i);let s=0;const a=8*n.length;if(nre(o,r,(l,c,u)=>{let d=!1;s<a&&(d=(n[s>>>3]>>(7-s&7)&1)!==0,s++),o.data[c][l]=d!==u}),s!==a)throw new Error("QR: bytes left after draw");return o}function ore(t){const e=t.inverse(),n=h=>{let p=0;for(let m=0,y=1,g=void 0;m<h.length;m++)g===h[m]&&(y++,m!==h.length-1)||(y>=5&&(p+=3+(y-5)),g=h[m],y=1);return p};let r=0;t.data.forEach(h=>r+=n(h)),e.data.forEach(h=>r+=n(h));let i=0,o=t.data;const s=t.width-1,a=t.height-1;for(let h=0;h<s;h++)for(let p=0;p<a;p++){const m=h+1,y=p+1;o[h][p]===o[m][p]&&o[m][p]===o[h][y]&&o[m][p]===o[m][y]&&(i+=3)}const l=h=>{const p=[!0,!1,!0,!0,!0,!1,!0],m=[!1,!1,!1,!1],y=[...p,...m],g=[...m,...p];let v=0;for(let b=0;b<h.length;b++)qI(h,y,b)&&(v+=40),qI(h,g,b)&&(v+=40);return v};let c=0;for(const h of t.data)c+=l(h);for(const h of e.data)c+=l(h);let u=0;t.rectRead(0,1/0,(h,p)=>u+=p?1:0);const d=u/(t.height*t.width)*100,f=10*Math.floor(Math.abs(d-50)/5);return r+i+c+f}function sre(t,e,n,r){if(r===void 0){const i=Qne();for(let o=0;o<UT.length;o++)i.add(ore(JI(t,e,n,o,!0)),o);r=i.get()}if(r===void 0)throw new Error("Cannot find mask");return JI(t,e,n,r)}function are(t){if(!QI.includes(t))throw new Error(`Invalid error correction mode=${t}. Expected: ${QI}`)}function lre(t){if(!XI.includes(t))throw new Error(`Encoding: invalid mode=${t}. Expected: ${XI}`);if(t==="kanji"||t==="eci")throw new Error(`Encoding: ${t} is not supported (yet?).`)}function cre(t){if(![0,1,2,3,4,5,6,7].includes(t)||!UT[t])throw new Error(`Invalid mask=${t}. Expected number [0..7]`)}function ure(t,e="raw",n={}){const r=n.ecc!==void 0?n.ecc:"medium";are(r);const i=n.encoding!==void 0?n.encoding:rre(t);lre(i),n.mask!==void 0&&cre(n.mask);let o=n.version,s,a=new Error("Unknown error");if(o!==void 0)Kne(o),s=YI(o,r,t,i);else for(let u=1;u<=40;u++)try{s=YI(u,r,t,i),o=u;break}catch(d){a=d}if(!o||!s)throw a;let l=sre(o,r,s,n.mask);l.assertDrawn();const c=n.border===void 0?2:n.border;if(!Number.isSafeInteger(c))throw new Error(`invalid border type=${typeof c}`);if(l=l.border(c,!1),n.scale!==void 0&&(l=l.scale(n.scale)),e==="raw")return l.data;if(e==="ascii")return l.toASCII();if(e==="svg")return l.toSVG(n.optimize);if(e==="gif")return l.toGIF();if(e==="term")return l.toTerm();throw new Error(`Unknown output: ${e}`)}function dre(t,e={}){const{errorCorrection:n,version:r}=e,i=ure(t,"raw",{border:0,ecc:n,scale:1,version:r});return{edgeLength:i.length,finderLength:7,grid:i,value:t}}function Ls(t){const{arena:e,...n}=t;return vn.jsxs(Ls.Root,{...n,children:[vn.jsx(Ls.Finder,{}),vn.jsx(Ls.Cells,{}),e&&vn.jsx(Ls.Arena,{children:typeof e=="string"?vn.jsx("img",{alt:"Arena",src:e,style:{borderRadius:1,height:"100%",objectFit:"cover",width:"100%"}}):e})]})}(function(t){t.Context=z.createContext(null);function e(o){const{children:s,size:a="100%",value:l,version:c,...u}=o,d=z.useMemo(()=>(z.Children.map(s,v=>!z.isValidElement(v)||typeof v.type=="string"?null:"displayName"in v.type&&v.type.displayName==="Arena"?!0:null)??[]).some(Boolean),[s]),f=z.useMemo(()=>{let v=o.errorCorrection;return d&&v==="low"&&(v="medium"),dre(l,{errorCorrection:v,version:c})},[l,d,o.errorCorrection,c]),h=1,p=f.edgeLength*h,m=f.finderLength*h/2,y=d?Math.floor(p/4):0,g=z.useMemo(()=>({arenaSize:y,cellSize:h,edgeSize:p,qrcode:f,finderSize:m}),[y,p,f,m]);return vn.jsx(t.Context.Provider,{value:g,children:vn.jsxs("svg",{...u,width:a,height:a,viewBox:`0 0 ${p} ${p}`,xmlns:"http://www.w3.org/2000/svg",children:[vn.jsx("title",{children:"QR Code"}),s]})})}t.Root=e,function(o){o.displayName="Root"}(e=t.Root||(t.Root={}));function n(o){const{className:s,fill:a,innerClassName:l,radius:c=.25}=o,{cellSize:u,edgeSize:d,finderSize:f}=z.useContext(t.Context);function h({position:p}){let m=f-(f-u)-u/2;p==="top-right"&&(m=d-f-(f-u)-u/2);let y=f-(f-u)-u/2;p==="bottom-left"&&(y=d-f-(f-u)-u/2);let g=f-u*1.5;p==="top-right"&&(g=d-f-u*1.5);let v=f-u*1.5;return p==="bottom-left"&&(v=d-f-u*1.5),vn.jsxs(vn.Fragment,{children:[vn.jsx("rect",{className:s,stroke:a??"currentColor",fill:"transparent",x:m,y,width:u+(f-u)*2,height:u+(f-u)*2,rx:2*c*(f-u),ry:2*c*(f-u),strokeWidth:u}),vn.jsx("rect",{className:l,fill:a??"currentColor",x:g,y:v,width:u*3,height:u*3,rx:2*c*u,ry:2*c*u})]})}return vn.jsxs(vn.Fragment,{children:[vn.jsx(h,{position:"top-left"}),vn.jsx(h,{position:"top-right"}),vn.jsx(h,{position:"bottom-left"})]})}t.Finder=n,function(o){o.displayName="Finder"}(n=t.Finder||(t.Finder={}));function r(o){const{className:s,fill:a="currentColor",inset:l=!0,radius:c=1}=o,{arenaSize:u,cellSize:d,qrcode:f}=z.useContext(t.Context),{edgeLength:h,finderLength:p}=f,m=z.useMemo(()=>{let y="";for(let g=0;g<f.grid.length;g++){const v=f.grid[g];if(v)for(let b=0;b<v.length;b++){if(!v[b])continue;const I=h/2-u/2,k=I+u;if(g>=I&&g<=k&&b>=I&&b<=k)continue;const A=g<p&&b<p,U=g<p&&b>=h-p,S=g>=h-p&&b<p;if(A||U||S)continue;const N=l?d*.1:0,P=(d-N*2)/2,G=b*d+d/2,B=g*d+d/2,w=G-P,E=G+P,M=B-P,O=B+P,C=c*P;y+=[`M ${w+C},${M}`,`L ${E-C},${M}`,`A ${C},${C} 0 0,1 ${E},${M+C}`,`L ${E},${O-C}`,`A ${C},${C} 0 0,1 ${E-C},${O}`,`L ${w+C},${O}`,`A ${C},${C} 0 0,1 ${w},${O-C}`,`L ${w},${M+C}`,`A ${C},${C} 0 0,1 ${w+C},${M}`,"z"].join(" ")}}return y},[u,d,h,p,f.grid,l,c]);return vn.jsx("path",{className:s,d:m,fill:a})}t.Cells=r,function(o){o.displayName="Cells"}(r=t.Cells||(t.Cells={}));function i(o){const{children:s}=o,{arenaSize:a,cellSize:l,edgeSize:c}=z.useContext(t.Context),u=Math.ceil(c/2-a/2),d=a+a%2,f=l/2;return vn.jsx("foreignObject",{x:u,y:u,width:d,height:d,children:vn.jsx("div",{style:{alignItems:"center",display:"flex",fontSize:1,justifyContent:"center",height:"100%",overflow:"hidden",width:"100%",padding:f,boxSizing:"border-box"},children:s})})}t.Arena=i,function(o){o.displayName="Arena"}(i=t.Arena||(t.Arena={}))})(Ls||(Ls={}));r0.type="coinbaseWallet";function r0(t={}){return t.version==="3"||t.headlessMode?hre(t):fre(t)}function fre(t){let e,n,r,i;return o=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:r0.type,async connect({chainId:s,...a}={}){try{const l=await this.getProvider(),c=(await l.request({method:"eth_requestAccounts",params:"instantOnboarding"in a&&a.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>Lr(d));n||(n=this.onAccountsChanged.bind(this),l.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),i||(i=this.onDisconnect.bind(this),l.on("disconnect",i));let u=await this.getChainId();return s&&u!==s&&(u=(await this.switchChain({chainId:s}).catch(f=>{if(f.code===Sn.code)throw f;return{id:u}}))?.id??u),{accounts:c,chainId:u}}catch(l){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(l.message)?new Sn(l):l}},async disconnect(){const s=await this.getProvider();n&&(s.removeListener("accountsChanged",n),n=void 0),r&&(s.removeListener("chainChanged",r),r=void 0),i&&(s.removeListener("disconnect",i),i=void 0),s.disconnect(),s.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Lr(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const s=typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:t.preference?.options??"all"},{createCoinbaseWalletSDK:a}=await Ve(async()=>{const{createCoinbaseWalletSDK:c}=await import("./index-D2F1sqk8.js");return{createCoinbaseWalletSDK:c}},__vite__mapDeps([0,1]));e=a({...t,appChainIds:o.chains.map(c=>c.id),preference:s}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:s,chainId:a}){const l=o.chains.find(u=>u.id===a);if(!l)throw new Fo(new fu);const c=await this.getProvider();try{return await c.request({method:"wallet_switchEthereumChain",params:[{chainId:Ue(l.id)}]}),l}catch(u){if(u.code===4902)try{let d;s?.blockExplorerUrls?d=s.blockExplorerUrls:d=l.blockExplorers?.default.url?[l.blockExplorers?.default.url]:[];let f;s?.rpcUrls?.length?f=s.rpcUrls:f=[l.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:d,chainId:Ue(a),chainName:s?.chainName??l.name,iconUrls:s?.iconUrls,nativeCurrency:s?.nativeCurrency??l.nativeCurrency,rpcUrls:f};return await c.request({method:"wallet_addEthereumChain",params:[h]}),l}catch(d){throw new Sn(d)}throw new Fo(u)}},onAccountsChanged(s){s.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:s.map(a=>Lr(a))})},onChainChanged(s){const a=Number(s);o.emitter.emit("change",{chainId:a})},async onDisconnect(s){o.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}function hre(t){let n,r,i,o,s;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:r0.type,async connect({chainId:l}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts"})).map(f=>Lr(f));i||(i=this.onAccountsChanged.bind(this),c.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),c.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let d=await this.getChainId();return l&&d!==l&&(d=(await this.switchChain({chainId:l}).catch(h=>{if(h.code===Sn.code)throw h;return{id:d}}))?.id??d),{accounts:u,chainId:d}}catch(c){throw/(user closed modal|accounts received is empty|user denied account)/i.test(c.message)?new Sn(c):c}},async disconnect(){const l=await this.getProvider();i&&(l.removeListener("accountsChanged",i),i=void 0),o&&(l.removeListener("chainChanged",o),o=void 0),s&&(l.removeListener("disconnect",s),s=void 0),l.disconnect(),l.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(c=>Lr(c))},async getChainId(){const c=await(await this.getProvider()).request({method:"eth_chainId"});return Number(c)},async getProvider(){if(!r){const l=await(async()=>{const{default:h}=await Ve(async()=>{const{default:p}=await import("./index-B6Jb0Mqz.js").then(m=>m.i);return{default:p}},__vite__mapDeps([2,3,1,4]));return typeof h!="function"&&typeof h.default=="function"?h.default:h})();n=new l({...t,reloadOnDisconnect:!1});const c=n.walletExtension?.getChainId(),u=a.chains.find(h=>t.chainId?h.id===t.chainId:h.id===c)||a.chains[0],d=t.chainId||u?.id,f=t.jsonRpcUrl||u?.rpcUrls.default.http[0];r=n.makeWeb3Provider(f,d)}return r},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:c}){const u=a.chains.find(f=>f.id===c);if(!u)throw new Fo(new fu);const d=await this.getProvider();try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:Ue(u.id)}]}),u}catch(f){if(f.code===4902)try{let h;l?.blockExplorerUrls?h=l.blockExplorerUrls:h=u.blockExplorers?.default.url?[u.blockExplorers?.default.url]:[];let p;l?.rpcUrls?.length?p=l.rpcUrls:p=[u.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:h,chainId:Ue(c),chainName:l?.chainName??u.name,iconUrls:l?.iconUrls,nativeCurrency:l?.nativeCurrency??u.nativeCurrency,rpcUrls:p};return await d.request({method:"wallet_addEthereumChain",params:[m]}),u}catch(h){throw new Sn(h)}throw new Fo(f)}},onAccountsChanged(l){l.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:l.map(c=>Lr(c))})},onChainChanged(l){const c=Number(l);a.emitter.emit("change",{chainId:c})},async onDisconnect(l){a.emitter.emit("disconnect");const c=await this.getProvider();i&&(c.removeListener("accountsChanged",i),i=void 0),o&&(c.removeListener("chainChanged",o),o=void 0),s&&(c.removeListener("disconnect",s),s=void 0)}})}zT.type="safe";function zT(t={}){const{shimDisconnect:e=!1}=t;let n,r;return i=>({id:"safe",name:"Safe",type:zT.type,async connect(){const o=await this.getProvider();if(!o)throw new _o;const s=await this.getAccounts(),a=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),e&&await i.storage?.removeItem("safe.disconnected"),{accounts:s,chainId:a}},async disconnect(){const o=await this.getProvider();if(!o)throw new _o;r&&(o.removeListener("disconnect",r),r=void 0),e&&await i.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const o=await this.getProvider();if(!o)throw new _o;return(await o.request({method:"eth_accounts"})).map(Lr)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!n){const{default:s}=await Ve(async()=>{const{default:u}=await import("./index-D5Czl9Ot.js").then(d=>d.e);return{default:u}},[]),a=new s(t),l=await xT(()=>a.safe.getInfo(),{timeout:t.unstable_getInfoTimeout??10});if(!l)throw new Error("Could not load Safe information");const c=await(async()=>{const u=await Ve(()=>import("./index-CmHBMuGu.js").then(d=>d.i),__vite__mapDeps([5,6,4]));return typeof u.SafeAppProvider!="function"&&typeof u.default.SafeAppProvider=="function"?u.default.SafeAppProvider:u.SafeAppProvider})();n=new c(l,a)}return n}},async getChainId(){const o=await this.getProvider();if(!o)throw new _o;return Number(o.chainId)},async isAuthorized(){try{return e&&await i.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){i.emitter.emit("disconnect")}})}E1.type="walletConnect";function E1(t){const e=t.isNewChainsStale??!0;let n,r;const i="eip155";let o,s,a,l,c,u;return d=>({id:"walletConnect",name:"WalletConnect",type:E1.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(a||(a=this.onConnect.bind(this),f.on("connect",a)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({chainId:f,...h}={}){try{const p=await this.getProvider();if(!p)throw new _o;l||(l=this.onDisplayUri,p.on("display_uri",l));let m=f;if(!m){const b=await d.storage?.getItem("state")??{};d.chains.some(I=>I.id===b.chainId)?m=b.chainId:m=d.chains[0]?.id}if(!m)throw new Error("No chains found on connector.");const y=await this.isChainsStale();if(p.session&&y&&await p.disconnect(),!p.session||y){const b=d.chains.filter(x=>x.id!==m).map(x=>x.id);await p.connect({optionalChains:[m,...b],..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(d.chains.map(x=>x.id))}const g=(await p.enable()).map(b=>Lr(b)),v=await this.getChainId();return l&&(p.removeListener("display_uri",l),l=void 0),a&&(p.removeListener("connect",a),a=void 0),o||(o=this.onAccountsChanged.bind(this),p.on("accountsChanged",o)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),u||(u=this.onDisconnect.bind(this),p.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),p.on("session_delete",c)),{accounts:g,chainId:v}}catch(p){throw/(user rejected|connection request reset)/i.test(p?.message)?new Sn(p):p}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{s&&(f?.removeListener("chainChanged",s),s=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),a||(a=this.onConnect.bind(this),f?.on("connect",a)),o&&(f?.removeListener("accountsChanged",o),o=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>Lr(h))},async getProvider({chainId:f}={}){async function h(){const p=d.chains.map(y=>y.id);if(!p.length)return;const{EthereumProvider:m}=await Ve(async()=>{const{EthereumProvider:y}=await import("./index.es-BDFShmtu.js").then(g=>g.a0);return{EthereumProvider:y}},__vite__mapDeps([7,4]));return await m.init({...t,disableProviderPing:!0,optionalChains:p,projectId:t.projectId,rpcMap:Object.fromEntries(d.chains.map(y=>{const[g]=RZ({chain:y,transports:d.transports});return[y.id,g]})),showQrModal:t.showQrModal??!0})}return n||(r||(r=h()),n=await r,n?.events.setMaxListeners(Number.POSITIVE_INFINITY)),f&&await this.switchChain?.({chainId:f}),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[f,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:h}){const p=await this.getProvider();if(!p)throw new _o;const m=d.chains.find(y=>y.id===h);if(!m)throw new Fo(new fu);try{await Promise.all([new Promise(g=>{const v=({chainId:b})=>{b===h&&(d.emitter.off("change",v),g())};d.emitter.on("change",v)}),p.request({method:"wallet_switchEthereumChain",params:[{chainId:Ue(h)}]})]);const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,h]),m}catch(y){const g=y;if(/(user rejected)/i.test(g.message))throw new Sn(g);try{let v;f?.blockExplorerUrls?v=f.blockExplorerUrls:v=m.blockExplorers?.default.url?[m.blockExplorers?.default.url]:[];let b;f?.rpcUrls?.length?b=f.rpcUrls:b=[...m.rpcUrls.default.http];const x={blockExplorerUrls:v,chainId:Ue(h),chainName:f?.chainName??m.name,iconUrls:f?.iconUrls,nativeCurrency:f?.nativeCurrency??m.nativeCurrency,rpcUrls:b};await p.request({method:"wallet_addEthereumChain",params:[x]});const I=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...I,h]),m}catch(v){throw new Sn(v)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():d.emitter.emit("change",{accounts:f.map(h=>Lr(h))})},onChainChanged(f){const h=Number(f);d.emitter.emit("change",{chainId:h})},async onConnect(f){const h=Number(f.chainId),p=await this.getAccounts();d.emitter.emit("connect",{accounts:p,chainId:h})},async onDisconnect(f){this.setRequestedChainsIds([]),d.emitter.emit("disconnect");const h=await this.getProvider();o&&(h.removeListener("accountsChanged",o),o=void 0),s&&(h.removeListener("chainChanged",s),s=void 0),u&&(h.removeListener("disconnect",u),u=void 0),c&&(h.removeListener("session_delete",c),c=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(f){d.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?n.session?.namespaces[i]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||""))??[]:[]},async getRequestedChainsIds(){return await d.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!e)return!1;const f=d.chains.map(m=>m.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(m=>f.includes(m)))return!1;const p=await this.getRequestedChainsIds();return!f.every(m=>p.includes(m))},async setRequestedChainsIds(f){await d.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}var Nv={},pre=768,$u=ote({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),UU=GD({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),W_=dte({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),ZI={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},mre={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},gre="_12cbo8i3 ju367v8r",yre={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function ir({active:t,hover:e}){return[gre,e&&yre[e],mre[t]]}var zU=z.createContext(null);function vre(){const{adapter:t}=z.useContext(zU)??{};if(!t)throw new Error("No authentication adapter found");return t}function A1(){return z.useContext(zU)?.status??null}function jT(){const t=A1(),{isConnected:e}=Tr();return e?t&&(t==="loading"||t==="unauthenticated")?t:"connected":"disconnected"}function HT(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function wre(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function bre(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function ku(){return wre()||bre()}function Ir(){return HT()||ku()}var xre="iekbcc0",Ere={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},Are=({reset:t,...e})=>{if(!t)return W_(e);const n=Ere[t],r=W_(e);return VD(xre,n,r)},ne=L.forwardRef(({as:t="div",className:e,testId:n,...r},i)=>{const o={},s={};for(const l in r)W_.properties.has(l)?o[l]=r[l]:s[l]=r[l];const a=Are({reset:typeof t=="string"?t:"div",...o});return L.createElement(t,{className:VD(a,e),...s,"data-testid":n?`rk-${n.replace(/^rk-/,"")}`:void 0,ref:i})});ne.displayName="Box";var jU=new Map,gx=new Map;async function HU(t){const e=gx.get(t);if(e)return e;const n=async()=>t().then(async i=>(jU.set(t,i),i)),r=n().catch(i=>n().catch(o=>{gx.delete(t)}));return gx.set(t,r),r}async function qs(...t){return await Promise.all(t.map(e=>typeof e=="function"?HU(e):e))}function _re(){const[,t]=z.useReducer(e=>e+1,0);return t}function _1(t){const e=typeof t=="function"?jU.get(t):void 0,n=_re();return z.useEffect(()=>{typeof t=="function"&&!e&&HU(t).then(n)},[t,e,n]),typeof t=="function"?e:t}function Cr({alt:t,background:e,borderColor:n,borderRadius:r,useAsImage:i,boxShadow:o,height:s,src:a,width:l,testId:c}){const u=ku(),d=_1(a),f=d&&/^http/.test(d),[h,p]=z.useReducer(()=>!0,!1);return L.createElement(ne,{"aria-label":t,borderRadius:r,boxShadow:o,height:typeof s=="string"?s:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:e,height:typeof s=="number"?s:void 0,width:typeof l=="number"?l:void 0},width:typeof l=="string"?l:void 0,testId:c},L.createElement(ne,{...f?{"aria-hidden":!0,as:"img",onLoad:p,src:d}:{"aria-hidden":!0,as:"img",src:d},height:"full",position:"absolute",...u?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...!i&&f?{opacity:h?1:0}:{}},width:"full"}),n?L.createElement(ne,{...typeof n=="object"&&"custom"in n?{style:{borderColor:n.custom}}:{borderColor:n},borderRadius:r,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var Sre="_1luule42",Cre="_1luule43",Tre=t=>z.useMemo(()=>`${t}_${Math.round(Math.random()*1e9)}`,[t]),vm=({height:t=21,width:e=21})=>{const n=Tre("spinner");return L.createElement("svg",{className:Sre,fill:"none",height:t,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Loading"),L.createElement("clipPath",{id:n},L.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),L.createElement("foreignObject",{clipPath:`url(#${n})`,height:"21",width:"21",x:"0",y:"0"},L.createElement("div",{className:Cre})))},Qt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],eR=[{color:Qt[0],emoji:"🌶"},{color:Qt[1],emoji:"🤑"},{color:Qt[2],emoji:"🐙"},{color:Qt[3],emoji:"🫐"},{color:Qt[4],emoji:"🐳"},{color:Qt[0],emoji:"🤶"},{color:Qt[5],emoji:"🌲"},{color:Qt[6],emoji:"🌞"},{color:Qt[7],emoji:"🐒"},{color:Qt[8],emoji:"🐵"},{color:Qt[9],emoji:"🦊"},{color:Qt[10],emoji:"🐼"},{color:Qt[11],emoji:"🦄"},{color:Qt[12],emoji:"🐷"},{color:Qt[13],emoji:"🐧"},{color:Qt[8],emoji:"🦩"},{color:Qt[14],emoji:"👽"},{color:Qt[0],emoji:"🎈"},{color:Qt[8],emoji:"🍉"},{color:Qt[1],emoji:"🎉"},{color:Qt[15],emoji:"🐲"},{color:Qt[16],emoji:"🌎"},{color:Qt[17],emoji:"🍊"},{color:Qt[18],emoji:"🐭"},{color:Qt[19],emoji:"🍣"},{color:Qt[1],emoji:"🐥"},{color:Qt[20],emoji:"👾"},{color:Qt[15],emoji:"🥦"},{color:Qt[0],emoji:"👹"},{color:Qt[17],emoji:"🙀"},{color:Qt[4],emoji:"⛱"},{color:Qt[21],emoji:"⛵️"},{color:Qt[17],emoji:"🥳"},{color:Qt[8],emoji:"🤯"},{color:Qt[22],emoji:"🤠"}];function Mre(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}function Ire(t){const n=Math.abs(Mre((typeof t=="string"?t:"").toLowerCase())%eR.length);return eR[n??0]}var Rre=({address:t,ensImage:e,size:n})=>{const[r,i]=z.useState(!1);z.useEffect(()=>{if(e){const a=new Image;a.src=e,a.onload=()=>i(!0)}},[e]);const{color:o,emoji:s}=z.useMemo(()=>Ire(t),[t]);return e?r?L.createElement(ne,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:n,width:n}}):L.createElement(ne,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:n,width:n}},L.createElement(vm,null)):L.createElement(ne,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:o},height:n,width:n}},s)},GU=Rre,WU=z.createContext(GU);function VU({address:t,imageUrl:e,loading:n,size:r}){const i=z.useContext(WU);return L.createElement(ne,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${r}px`,width:`${r}px`},userSelect:"none"},L.createElement(ne,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(r*.55)}px`,height:`${r}px`,transform:n?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:n?void 0:".1s",width:`${r}px`,willChange:"transform"},userSelect:"none"},L.createElement(i,{address:t,ensImage:e,size:r})),n&&L.createElement(ne,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},L.createElement(vm,{height:"100%",width:"100%"})))}var tR=()=>L.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Dropdown"),L.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),nR={defaultLocale:"en",locale:"en"},Pre=class{constructor(t){this.listeners=new Set,this.defaultLocale=nR.defaultLocale,this.enableFallback=!1,this.locale=nR.locale,this.cachedLocales=[],this.translations={};for(const[e,n]of Object.entries(t))this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(n,e)}}missingMessage(t){return`[missing: "${this.locale}.${t}" translation]`}flattenTranslation(t,e){const n={},r=(i,o)=>{for(const s of Object.keys(i)){const a=`${o}.${s}`,l=i[s];typeof l=="object"&&l!==null?r(l,a):n[a]=l}};return r(t,e),n}translateWithReplacements(t,e={}){let n=t;for(const r in e){const i=e[r];n=n.replace(`%{${r}}`,i)}return n}t(t,e,n){const r=`${this.locale}.${t}`,i=this.translations[r];if(!i){if(this.enableFallback){const o=`${this.defaultLocale}.${t}`,s=this.translations[o];if(s)return this.translateWithReplacements(s,e)}return n?.rawKeyIfTranslationMissing?t:this.missingMessage(t)}return this.translateWithReplacements(i,e)}isLocaleCached(t){return this.cachedLocales.includes(t)}updateLocale(t){this.locale=t,this.notifyListeners()}setTranslations(t,e){this.isLocaleCached(t)||(this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(e,t)}),this.locale=t,this.notifyListeners()}notifyListeners(){for(const t of this.listeners)t()}onChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}},Co=new Pre({en:JSON.parse(O_),"en-US":JSON.parse(O_)});Co.defaultLocale="en-US";Co.locale="en-US";Co.enableFallback=!0;var Nre=async t=>{switch(t){case"ar":case"ar-AR":return(await Ve(async()=>{const{default:e}=await import("./ar_AR-CTNWGWSS-DlAFo0vZ.js");return{default:e}},[])).default;case"de":case"de-DE":return(await Ve(async()=>{const{default:e}=await import("./de_DE-P43L3PR7-pJRS3eyz.js");return{default:e}},[])).default;case"en":case"en-US":return(await Ve(async()=>{const{default:e}=await Promise.resolve().then(()=>Vk);return{default:e}},void 0)).default;case"es":case"es-419":return(await Ve(async()=>{const{default:e}=await import("./es_419-JBX5FS3Q-Bk-MlIq_.js");return{default:e}},[])).default;case"fr":case"fr-FR":return(await Ve(async()=>{const{default:e}=await import("./fr_FR-CM2EDAQC-DvlCXiU9.js");return{default:e}},[])).default;case"hi":case"hi-IN":return(await Ve(async()=>{const{default:e}=await import("./hi_IN-GYVCUYRD-CQnOa8U_.js");return{default:e}},[])).default;case"id":case"id-ID":return(await Ve(async()=>{const{default:e}=await import("./id_ID-7ZWSMOOE-ZzIoBaiI.js");return{default:e}},[])).default;case"ja":case"ja-JP":return(await Ve(async()=>{const{default:e}=await import("./ja_JP-CGMP6VLZ-BBxPp4Hq.js");return{default:e}},[])).default;case"ko":case"ko-KR":return(await Ve(async()=>{const{default:e}=await import("./ko_KR-YCZDTF7X-4W342j3x.js");return{default:e}},[])).default;case"ms":case"ms-MY":return(await Ve(async()=>{const{default:e}=await import("./ms_MY-5LHAYMS7-BUU8UB2I.js");return{default:e}},[])).default;case"pt":case"pt-BR":return(await Ve(async()=>{const{default:e}=await import("./pt_BR-3JTS4PSK-Cou37HE0.js");return{default:e}},[])).default;case"ru":case"ru-RU":return(await Ve(async()=>{const{default:e}=await import("./ru_RU-6J6XERHI-BEDPqa1p.js");return{default:e}},[])).default;case"th":case"th-TH":return(await Ve(async()=>{const{default:e}=await import("./th_TH-STXOD4CR-DmwaGyKS.js");return{default:e}},[])).default;case"tr":case"tr-TR":return(await Ve(async()=>{const{default:e}=await import("./tr_TR-P7QAUUZU-DHzPxq5a.js");return{default:e}},[])).default;case"ua":case"uk-UA":return(await Ve(async()=>{const{default:e}=await import("./uk_UA-JTTBGJGQ-bEPIKyyu.js");return{default:e}},[])).default;case"vi":case"vi-VN":return(await Ve(async()=>{const{default:e}=await import("./vi_VN-5XUUAVWW-DvcbUvCZ.js");return{default:e}},[])).default;case"zh":case"zh-CN":case"zh-Hans":return(await Ve(async()=>{const{default:e}=await import("./zh_CN-RGMLPFEP-CPkk4IYh.js");return{default:e}},[])).default;case"zh-HK":return(await Ve(async()=>{const{default:e}=await import("./zh_HK-YM3T6EI5-BYHcXtXC.js");return{default:e}},[])).default;case"zh-Hant":case"zh-TW":return(await Ve(async()=>{const{default:e}=await import("./zh_TW-HAEH6VE5-r-nym7hs.js");return{default:e}},[])).default;default:return(await Ve(async()=>{const{default:e}=await Promise.resolve().then(()=>Vk);return{default:e}},void 0)).default}};async function rR(t){if(Co.isLocaleCached(t)){Co.updateLocale(t);return}const n=await Nre(t);Co.setTranslations(t,JSON.parse(n))}var kre=()=>{if(typeof window<"u"&&typeof navigator<"u"){if(navigator.languages?.length)return navigator.languages[0];if(navigator.language)return navigator.language}},ar=z.createContext({i18n:Co}),Fre=({children:t,locale:e})=>{const[n,r]=z.useState(0),i=z.useMemo(()=>kre(),[]);z.useEffect(()=>Co.onChange(()=>{r(a=>a+1)}),[]),z.useEffect(()=>{e&&e!==Co.locale?rR(e):!e&&i&&i!==Co.locale&&rR(i)},[e,i]);const o=z.useMemo(()=>({t:(a,l)=>Co.t(a,l),i18n:Co}),[n]);return L.createElement(ar.Provider,{value:o},t)};function $U(t){return t!=null}var iR={iconBackground:"#7290CC",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./apechain-SX5YFU6N-q5qBv-mp.js");return{default:t}},[])).default},yx={iconBackground:"#96bedc",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./arbitrum-WURIBY6W-CqVkHBr5.js");return{default:t}},[])).default},oR={iconBackground:"#e84141",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./avalanche-KOMJD3XY-Dsn_JPR4.js");return{default:t}},[])).default},vx={iconBackground:"#0052ff",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./base-OAXLRA4F-CoYTVIiL.js");return{default:t}},[])).default},wx={iconBackground:"#814625",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./berachain-NJECWIVC-DumxnFvf.js");return{default:t}},[])).default},sR={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./blast-V555OVXZ-BbhJh1tj.js");return{default:t}},[])).default},aR={iconBackground:"#ebac0e",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./bsc-N647EYR2-B2nLKXWV.js");return{default:t}},[])).default},lR={iconBackground:"#FCFF52",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./celo-GEP4TUHG-CenIBYLU.js");return{default:t}},[])).default},cR={iconBackground:"#002D74",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./cronos-HJPAQTAE-BEOvlOC4.js");return{default:t}},[])).default},Ore={iconBackground:"#A36EFD",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./degen-FQQ4XGHB-CeHTs88l.js");return{default:t}},[])).default},el={iconBackground:"#484c50",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./ethereum-RGGVA4PY-SWGOlkuk.js");return{default:t}},[])).default},uR={iconBackground:"transparent",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./flow-5FQJFCTK-CUie2reO.js");return{default:t}},[])).default},Bre={iconBackground:"#04795c",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./gnosis-37ZC4RBL-B137OtHZ.js");return{default:t}},[])).default},dR={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./gravity-J5YQHTYH-Bj6B0uod.js");return{default:t}},[])).default},Lre={iconBackground:"#f9f7ec",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./hardhat-TX56IT5N-CV1FY-wE.js");return{default:t}},[])).default},Dre={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./hyperevm-VKPAA4SA-CHwraEsx.js");return{default:t}},[])).default},fR={iconBackground:"#7132F5",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./ink-FZMYZWHG-62p-5IK5.js");return{default:t}},[])).default},hR={iconBackground:"transparent",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./kaia-65D2U3PU-JmuLQ4gC.js");return{default:t}},[])).default},bx={iconBackground:"#ffffff",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./linea-QRMVQ5DY-DuI3vv0d.js");return{default:t}},[])).default},xx={iconBackground:"#ffffff",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./manta-SI27YFEJ-CpVOKa06.js");return{default:t}},[])).default},pR={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./mantle-CKIUT334-DR2WgqzU.js");return{default:t}},[])).default},eg={iconBackground:"#ff5a57",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./optimism-HAF2GUT7-ec6Nqxs9.js");return{default:t}},[])).default},Ex={iconBackground:"#9f71ec",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./polygon-WW6ZI7PM-DXlmm4L1.js");return{default:t}},[])).default},Ure={iconBackground:"#1273EA",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./ronin-EMCPYXZT-N-QBHZdV.js");return{default:t}},[])).default},zre={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./sanko-RHQYXGM5-OX010CbN.js");return{default:t}},[])).default},jre={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./superposition-HG6MMR2Y-bRkgatRO.js");return{default:t}},[])).default},mR={iconBackground:"#FFEEDA",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./scroll-5OBGQVOV-DJFECiai.js");return{default:t}},[])).default},gR={iconBackground:"#F50DB4",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./unichain-C5BWO2ZY-BfguYsnu.js");return{default:t}},[])).default},yR={iconBackground:"#f9f7ec",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./xdc-KJ3TDBYO-DNV6zchh.js");return{default:t}},[])).default},vR={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./zetachain-TLDS5IPW-Udhyw16T.js");return{default:t}},[])).default},wR={iconBackground:"#f9f7ec",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./zksync-DH7HK5U4-Dt4usFw6.js");return{default:t}},[])).default},Ax={iconBackground:"#000000",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./zora-FYL5H3IO-iB4wygST.js");return{default:t}},[])).default},Hre={apechain:{chainId:33139,name:"ApeChain",...iR},apechainCurtis:{chainId:33111,name:"ApeChain Curtis",...iR},arbitrum:{chainId:42161,name:"Arbitrum",...yx},arbitrumGoerli:{chainId:421613,...yx},arbitrumSepolia:{chainId:421614,...yx},avalanche:{chainId:43114,...oR},avalancheFuji:{chainId:43113,...oR},base:{chainId:8453,name:"Base",...vx},baseGoerli:{chainId:84531,...vx},baseSepolia:{chainId:84532,...vx},berachain:{chainId:80094,name:"Berachain",...wx},berachainArtio:{chainId:80085,name:"Berachain Artio",...wx},berachainBArtio:{chainId:80084,name:"Berachain bArtio",...wx},blast:{chainId:81457,name:"Blast",...sR},blastSepolia:{chainId:168587773,...sR},bsc:{chainId:56,name:"BSC",...aR},bscTestnet:{chainId:97,...aR},celo:{chainId:42220,name:"Celo",...lR},celoAlfajores:{chainId:44787,name:"Celo Alfajores",...lR},cronos:{chainId:25,...cR},cronosTestnet:{chainId:338,...cR},degen:{chainId:666666666,name:"Degen",...Ore},flow:{chainId:747,...uR},flowTestnet:{chainId:545,...uR},gnosis:{chainId:100,name:"Gnosis",...Bre},goerli:{chainId:5,...el},gravity:{chainId:1625,name:"Gravity",...dR},gravitySepolia:{chainId:13505,name:"Gravity Sepolia",...dR},hardhat:{chainId:31337,...Lre},holesky:{chainId:17e3,...el},hyperevm:{chainId:999,...Dre},ink:{chainId:57073,...fR},inkSepolia:{chainId:763373,...fR},kaia:{chainId:8217,name:"Kaia",...hR},kairos:{chainId:1001,name:"Kairos",...hR},kovan:{chainId:42,...el},linea:{chainId:59144,name:"Linea",...bx},lineaGoerli:{chainId:59140,name:"Linea Goerli",...bx},lineaSepolia:{chainId:59141,name:"Linea Sepolia",...bx},localhost:{chainId:1337,...el},mainnet:{chainId:1,name:"Ethereum",...el},manta:{chainId:169,name:"Manta",...xx},mantaSepolia:{chainId:3441006,...xx},mantaTestnet:{chainId:3441005,...xx},mantle:{chainId:5e3,...pR},mantleTestnet:{chainId:5001,...pR},optimism:{chainId:10,name:"Optimism",...eg},optimismGoerli:{chainId:420,...eg},optimismKovan:{chainId:69,...eg},optimismSepolia:{chainId:11155420,...eg},polygon:{chainId:137,name:"Polygon",...Ex},polygonAmoy:{chainId:80002,...Ex},polygonMumbai:{chainId:80001,...Ex},rinkeby:{chainId:4,...el},ronin:{chainId:2020,...Ure},ropsten:{chainId:3,...el},sanko:{chainId:1996,name:"Sanko",...zre},scroll:{chainId:534352,...mR},scrollSepolia:{chainId:534351,...mR},sepolia:{chainId:11155111,...el},superposition:{chainId:55244,name:"Superposition",...jre},unichain:{chainId:130,...gR},unichainSepolia:{chainId:1301,...gR},xdc:{chainId:50,name:"XDC",...yR},xdcTestnet:{chainId:51,...yR},zetachain:{chainId:7e3,name:"ZetaChain",...vR},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...vR},zkSync:{chainId:324,name:"zkSync",...wR},zkSyncTestnet:{chainId:280,...wR},zora:{chainId:7777777,name:"Zora",...Ax},zoraSepolia:{chainId:999999999,...Ax},zoraTestnet:{chainId:999,...Ax}},Gre=Object.fromEntries(Object.values(Hre).filter($U).map(({chainId:t,...e})=>[t,e])),Wre=t=>t.map(e=>{const n=Gre[e.id]??{};return{...e,name:n.name??e.name,iconUrl:e.iconUrl??n.iconUrl,iconBackground:e.iconBackground??n.iconBackground}}),GT=z.createContext({chains:[]});function Vre({children:t,initialChain:e}){const{chains:n}=yr();return L.createElement(GT.Provider,{value:z.useMemo(()=>({chains:Wre(n),initialChainId:typeof e=="number"?e:e?.id}),[n,e])},t)}var Fu=()=>z.useContext(GT).chains,$re=()=>z.useContext(GT).initialChainId,qre=()=>{const t=Fu();return z.useMemo(()=>{const e={};for(const n of t)e[n.id]=n;return e},[t])},qU=z.createContext({showBalance:void 0,setShowBalance:()=>{}});function Kre({children:t}){const[e,n]=z.useState();return L.createElement(qU.Provider,{value:{showBalance:e,setShowBalance:n}},t)}var KU=()=>z.useContext(qU);function Qre(){const[t,e]=z.useState(!1);return z.useEffect(()=>(e(!0),()=>{e(!1)}),[]),z.useCallback(()=>t,[t])}function QU(){const t=Fu(),e=Nu.id;return t.some(r=>r.id===e)}function Xre(t){const e=QU(),n=i=>{try{return Qte(i)}catch{}},{data:r}=Zee({chainId:Nu.id,name:t?n(t):void 0,query:{enabled:e}});return r}async function oc(t,e){if(e={headers:{},method:"get",...e,timeout:e.timeout??1e4},!t)throw new Error("rainbowFetch: Missing url argument");const n=new AbortController,r=setTimeout(()=>n.abort(),e.timeout),{body:i,params:o,headers:s,...a}=e,l=i&&typeof i=="object"?JSON.stringify(e.body):e.body,c=await fetch(`${t}${Jre(o)}`,{...a,body:l,headers:{Accept:"application/json","Content-Type":"application/json",...s},signal:n.signal});clearTimeout(r);const u=await Yre(c);if(c.ok){const{headers:h,status:p}=c;return{data:u,headers:h,status:p}}throw Zre({requestBody:i,response:c,responseBody:typeof u=="string"?{error:u}:u})}function Yre(t){return t.headers.get("Content-Type")?.startsWith("application/json")?t.json():t.text()}function Jre(t){return t&&Object.keys(t).length?`?${new URLSearchParams(t)}`:""}function Zre({requestBody:t,response:e,responseBody:n}){const r=n?.error||e?.statusText||"There was an error with the request.",i=new Error(r);return i.response=e,i.responseBody=n,i.requestBody=t,i}var eie=class{constructor(t={}){const{baseUrl:e="",...n}=t;this.baseUrl=e,this.opts=n}get(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"get"})}delete(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"delete"})}head(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"head"})}options(t,e){return oc(`${this.baseUrl}${t}`,{...this.opts,...e||{},method:"options"})}post(t,e,n){return oc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"post"})}put(t,e,n){return oc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"put"})}patch(t,e,n){return oc(`${this.baseUrl}${t}`,{...this.opts,...n||{},body:e,method:"patch"})}};function tie({baseUrl:t,headers:e,params:n,timeout:r}){return new eie({baseUrl:t,headers:e,params:n,timeout:r})}var nie=!!(typeof process<"u"&&typeof Nv<"u"&&Nv.RAINBOW_PROVIDER_API_KEY),rie=tie({baseUrl:"https://enhanced-provider.rainbow.me",headers:{"x-api-key":typeof process<"u"&&typeof Nv<"u"&&Nv.RAINBOW_PROVIDER_API_KEY||"LzbasoBiLqltex3VkcQ7LRmL4PtfiiZ1EMJrizrgfonWN6byJReu/l6yrUoo3zLW"}});function iie(t,e,n={}){return[t,e,n]}function by(t){return`rk-ens-name-${t}`}function oie(t){try{const e=t?JSON.parse(t):null;return typeof e=="object"?e:null}catch{return null}}function sie(t,e){if(!sr(t))return;const n=new Date,r=new Date(n.getTime()+180*6e4);localStorage.setItem(by(t),JSON.stringify({ensName:e,expires:r.getTime()}))}function aie(t){const e=oie(localStorage.getItem(by(t)));if(!e)return null;const{ensName:n,expires:r}=e;return typeof n!="string"||Number.isNaN(Number(r))||new Date().getTime()>Number(r)?(localStorage.removeItem(by(t)),null):n}async function lie({address:t}){const e=aie(t);if(e)return e;const r=(await rie.get("/v1/resolve-ens",{params:{address:t}})).data.data;return r&&sie(t,r),r}function cie(t){const e=QU(),{data:n}=ete({chainId:Nu.id,address:t,query:{enabled:e}}),{data:r}=kD({queryKey:iie("address",t),queryFn:()=>lie({address:t}),enabled:!e&&!!t&&nie,staleTime:10*(60*1e3),retry:1});return n||r}function XU({address:t,includeBalance:e}){const n=cie(t),r=Xre(n),{data:i}=FD({address:e?t:void 0});return{ensName:n,ensAvatar:r,balance:i}}function WT(){const{chain:t}=Tr();return t?.id??null}var YU="rk-transactions";function uie(t){try{const e=t?JSON.parse(t):{};return typeof e=="object"?e:{}}catch{return{}}}function bR(){return uie(typeof localStorage<"u"?localStorage.getItem(YU):null)}var die=/^0x([A-Fa-f0-9]{64})$/;function fie(t){const e=[];return die.test(t.hash)||e.push("Invalid transaction hash"),typeof t.description!="string"&&e.push("Transaction must have a description"),typeof t.confirmations<"u"&&(!Number.isInteger(t.confirmations)||t.confirmations<1)&&e.push("Transaction confirmations must be a positiver integer"),e}function hie({provider:t}){let e=bR(),n=t;const r=new Set,i=new Set,o=new Map;function s(v){n=v}function a(v,b){return e[v]?.[b]??[]}function l(v,b,x){const I=fie(x);if(I.length>0)throw new Error(["Unable to add transaction",...I].join(`
`));f(v,b,k=>[{...x,status:"pending"},...k.filter(({hash:A})=>A!==x.hash)])}function c(v,b){f(v,b,()=>[])}function u(v,b,x,I){f(v,b,k=>k.map(A=>A.hash===x?{...A,status:I}:A))}async function d(v,b){await Promise.all(a(v,b).filter(x=>x.status==="pending").map(async x=>{const{confirmations:I,hash:k}=x,A=o.get(k);if(A)return await A;const U=n.waitForTransactionReceipt({confirmations:I,hash:k,timeout:3e5}).then(({status:S})=>{o.delete(k),S!==void 0&&(u(v,b,k,S===0||S==="reverted"?"failed":"confirmed"),m(S))}).catch(()=>{u(v,b,k,"failed")});return o.set(k,U),await U}))}function f(v,b,x){e=bR(),e[v]=e[v]??{};let I=0;const k=10,A=x(e[v][b]??[]).filter(({status:U})=>U==="pending"?!0:I++<=k);e[v][b]=A.length>0?A:void 0,h(),p(),d(v,b)}function h(){localStorage.setItem(YU,JSON.stringify(e))}function p(){for(const v of r)v()}function m(v){for(const b of i)b(v)}function y(v){return r.add(v),()=>{r.delete(v)}}function g(v){return i.add(v),()=>{i.delete(v)}}return{addTransaction:l,clearTransactions:c,getTransactions:a,onTransactionStatus:g,onChange:y,setProvider:s,waitForPendingTransactions:d}}var xR,JU=L.createContext(null);function pie({children:t}){const e=PT(),{address:n}=Tr(),r=WT(),{refetch:i}=FD({address:n,query:{enabled:!1}}),[o]=L.useState(()=>xR??(xR=hie({provider:e}))),s=L.useCallback(a=>{a==="success"&&i()},[i]);return L.useEffect(()=>{o.setProvider(e)},[o,e]),L.useEffect(()=>{n&&r&&o.waitForPendingTransactions(n,r)},[o,n,r]),L.useEffect(()=>{if(o&&n&&r)return o.onTransactionStatus(s)},[o,n,r,s]),L.createElement(JU.Provider,{value:o},t)}function ZU(){const t=L.useContext(JU);if(!t)throw new Error("Transaction hooks must be used within RainbowKitProvider");return t}function e8(){const t=ZU(),{address:e}=Tr(),n=WT(),[r,i]=z.useState(()=>t&&e&&n?t.getTransactions(e,n):[]);return z.useEffect(()=>{if(t&&e&&n)return i(t.getTransactions(e,n)),t.onChange(()=>{i(t.getTransactions(e,n))})},[t,e,n]),r}var ER=t=>typeof t=="function"?t():t;function mie(t,{extends:e}={}){const n={...WI(ZI,ER(t))};if(!e)return n;const r=WI(ZI,ER(e));return Object.fromEntries(Object.entries(n).filter(([o,s])=>s!==r[o]))}function AR(t,e={}){return Object.entries(mie(t,e)).map(([n,r])=>`${n}:${r.replace(/[:;{}</>]/g,"")};`).join("")}var t8={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},i0=z.createContext(t8),n8=z.createContext(!1);function gie(t,e){let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}}var r8=()=>{const[t,e]=z.useState({height:void 0,width:void 0});return z.useEffect(()=>{const n=gie(()=>{e({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t},o0=z.createContext({connector:null,setConnector:()=>{}});function yie({children:t}){const[e,n]=z.useState(null);return L.createElement(o0.Provider,{value:z.useMemo(()=>({connector:e,setConnector:n}),[e])},t)}var s0={COMPACT:"compact",WIDE:"wide"},S1=z.createContext(s0.WIDE);function vie({children:t,modalSize:e}){const{width:n}=r8(),r=n&&n<pre,{connector:i}=z.useContext(o0);return L.createElement(S1.Provider,{value:r||i?s0.COMPACT:e},t)}var VT=z.createContext(!1),wie="rk-version";function bie({version:t}){localStorage.setItem(wie,t)}function xie(){const t=z.useCallback(()=>{bie({version:"2.2.7"})},[]);z.useEffect(()=>{t()},[t])}function Eie(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]=r)}return n}function $T(){return typeof navigator<"u"&&typeof navigator.userAgent<"u"&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function Aie(){return typeof document<"u"&&getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")!==""}function qT(){if(typeof navigator>"u")return"Browser";const t=navigator.userAgent?.toLowerCase();return navigator.brave?.isBrave?"Brave":t?.indexOf("edg/")>-1?"Edge":t?.indexOf("op")>-1?"Opera":Aie()?"Arc":t?.indexOf("chrome")>-1?"Chrome":t?.indexOf("firefox")>-1?"Firefox":$T()?"Safari":"Browser"}var _ie=$ne.UAParser(),{os:KT}=_ie;function Sie(){return KT.name==="Windows"}function Cie(){return KT.name==="Mac OS"}function Tie(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(KT.name)}function QT(){return Sie()?"Windows":Cie()?"macOS":Tie()?"Linux":"Desktop"}var Mie=t=>{const e=qT();return{Arc:t?.downloadUrls?.chrome,Brave:t?.downloadUrls?.chrome,Chrome:t?.downloadUrls?.chrome,Edge:t?.downloadUrls?.edge||t?.downloadUrls?.chrome,Firefox:t?.downloadUrls?.firefox,Opera:t?.downloadUrls?.opera||t?.downloadUrls?.chrome,Safari:t?.downloadUrls?.safari,Browser:t?.downloadUrls?.browserExtension}[e]??t?.downloadUrls?.browserExtension},Iie=t=>(ku()?t?.downloadUrls?.ios:t?.downloadUrls?.android)??t?.downloadUrls?.mobile,Rie=t=>{const e=QT();return{Windows:t?.downloadUrls?.windows,macOS:t?.downloadUrls?.macos,Linux:t?.downloadUrls?.linux,Desktop:t?.downloadUrls?.desktop}[e]??t?.downloadUrls?.desktop},i8=(t,e)=>t.some(n=>n.id===e),Pie=t=>!!t.isRainbowKitConnector,_R=t=>!!(!t.isRainbowKitConnector&&t.icon?.replace(/\n/g,"").startsWith("data:image")&&t.uid&&t.name),Nie=(t,e)=>t.id==="walletConnect"&&e?{...t,walletConnectModalConnector:e}:t,kie=({wallets:t,recentWallets:e})=>[...e,...t.filter(n=>!i8(e,n.id))],o8="rk-recent";function Fie(t){try{const e=t?JSON.parse(t):[];return Array.isArray(e)?e:[]}catch{return[]}}function s8(){return typeof localStorage<"u"?Fie(localStorage.getItem(o8)):[]}function Oie(t){return[...new Set(t)]}function Bie(t){const e=Oie([t,...s8()]);localStorage.setItem(o8,JSON.stringify(e))}function wm(t=!1){const e=Fu(),n=$re(),{connectAsync:r,connectors:i}=Yee(),o=i,{setIsWalletConnectModalOpen:s}=P8(),a=o.map(x=>({...x,...x.rkDetails||{}}));async function l(x){const I=await x.getChainId(),k=await r({chainId:n??e.find(({id:A})=>A===I)?.id??e[0]?.id,connector:x});return k&&Bie(x.id),k}async function c(x){try{s(!0),await l(x),s(!1)}catch(I){const k=I.name==="UserRejectedRequestError"||I.message==="Connection request reset. Please try again.";if(s(!1),!k)throw I}}const u=async(x,I)=>{const k=await x.getProvider();return x.id==="coinbase"?k.qrUrl:new Promise(A=>k.once("display_uri",U=>{A(I(U))}))},d=a.find(x=>x.id==="walletConnect"&&x.isWalletConnectModalConnector),f=a.filter(_R).map(x=>({...x,groupIndex:0})),h=a.filter(Pie).filter(x=>!x.isWalletConnectModalConnector).filter(x=>t?!f.some(k=>k.id===x.rdns):!0).map(x=>Nie(x,d)),p=[...f,...h],m=Eie(p,x=>x.id),g=s8().map(x=>m[x]).filter(Boolean).slice(0,3),v=[],b=kie({wallets:p,recentWallets:g});for(const x of b){if(!x)continue;const I=_R(x),k=i8(g,x.id);if(I){v.push({...x,iconUrl:x.icon,ready:!0,connect:()=>l(x),groupName:"Installed",recent:k});continue}v.push({...x,ready:x.installed??!0,connect:()=>l(x),desktopDownloadUrl:Rie(x),extensionDownloadUrl:Mie(x),groupName:x.groupName,mobileDownloadUrl:Iie(x),getQrCodeUri:x.qrCode?.getUri?()=>u(x,x.qrCode.getUri):void 0,getDesktopUri:x.desktop?.getUri?()=>u(x,x.desktop.getUri):void 0,getMobileUri:x.mobile?.getUri?()=>u(x,x.mobile?.getUri):void 0,recent:k,showWalletConnectModal:x.walletConnectModalConnector?()=>c(x.walletConnectModalConnector):void 0})}return v}var a8=async()=>(await Ve(async()=>{const{default:t}=await import("./assets-Q6ZU7ZJ5-P8HioiAD.js");return{default:t}},[])).default,Lie=()=>qs(a8),Die=()=>L.createElement(Cr,{background:"#d0d5de",borderRadius:"10",height:"48",src:a8,width:"48"}),l8=async()=>(await Ve(async()=>{const{default:t}=await import("./login-UP3DZBGS-Db_wM5oQ.js");return{default:t}},[])).default,Uie=()=>qs(l8),zie=()=>L.createElement(Cr,{background:"#d0d5de",borderRadius:"10",height:"48",src:l8,width:"48"}),_t=L.forwardRef(({as:t="div",children:e,className:n,color:r,display:i,font:o="body",id:s,size:a="16",style:l,tabIndex:c,textAlign:u="inherit",weight:d="regular",testId:f},h)=>L.createElement(ne,{as:t,className:n,color:r,display:i,fontFamily:o,fontSize:a,fontWeight:d,id:s,ref:h,style:l,tabIndex:c,textAlign:u,testId:f},e));_t.displayName="Text";var jie={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function pi({disabled:t=!1,href:e,label:n,onClick:r,rel:i="noreferrer noopener",size:o="medium",target:s="_blank",testId:a,type:l="primary"}){const c=l==="primary",u=o!=="large",d=Ir(),f=t?"actionButtonSecondaryBackground":c?"accentColor":u?"actionButtonSecondaryBackground":null,{fontSize:h,height:p,paddingX:m,paddingY:y}=jie[o],g=!d||!u;return L.createElement(ne,{...e?t?{}:{as:"a",href:e,rel:i,target:s}:{as:"button",type:"button"},onClick:t?void 0:r,...g?{borderColor:d&&!u&&!c?"actionButtonBorderMobile":"actionButtonBorder",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!t&&ir({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:y,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...f?{background:f}:{},...p?{height:p}:{}},L.createElement(_t,{color:t?"modalTextSecondary":c?"accentColorForeground":"accentColor",size:h,weight:"bold"},n))}var Hie=()=>Ir()?L.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Close"),L.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):L.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Close"),L.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),mu=({"aria-label":t="Close",onClose:e})=>{const n=Ir();return L.createElement(ne,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:ir({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},L.createElement(Hie,null))},c8=async()=>(await Ve(async()=>{const{default:t}=await import("./sign-A7IJEUT5-CGsRnPrd.js");return{default:t}},[])).default;function Gie({onClose:t,onCloseModal:e}){const{i18n:n}=z.useContext(ar),[{status:r,...i},o]=L.useState({status:"idle"}),s=vre(),a=z.useCallback(async()=>{try{const p=await s.getNonce();o(m=>({...m,nonce:p}))}catch{o(p=>({...p,errorMessage:n.t("sign_in.message.preparing_error"),status:"idle"}))}},[s,n.t]),l=z.useRef(!1);L.useEffect(()=>{l.current||(l.current=!0,a())},[a]);const c=Ir(),{address:u,chain:d}=Tr(),{signMessageAsync:f}=tte(),h=async()=>{try{const p=d?.id,{nonce:m}=i;if(!u||!p||!m)return;o(v=>({...v,errorMessage:void 0,status:"signing"}));const y=s.createMessage({address:u,chainId:p,nonce:m});let g;try{g=await f({message:y})}catch(v){return v instanceof Sn?o(b=>({...b,status:"idle"})):o(b=>({...b,errorMessage:n.t("sign_in.signature.signing_error"),status:"idle"}))}o(v=>({...v,status:"verifying"}));try{if(await s.verify({message:y,signature:g})){e();return}throw new Error}catch{return o(v=>({...v,errorMessage:n.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:n.t("sign_in.signature.oops_error"),status:"idle"})}};return L.createElement(ne,{position:"relative"},L.createElement(ne,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},L.createElement(mu,{onClose:t})),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:c?"60px":"36px"}},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"6":"4",style:{maxWidth:c?320:280}},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"32":"16"},L.createElement(Cr,{height:40,src:c8,width:40}),L.createElement(_t,{color:"modalText",size:c?"20":"18",textAlign:"center",weight:"heavy"},n.t("sign_in.label"))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:c?"16":"12"},L.createElement(_t,{color:"modalTextSecondary",size:c?"16":"14",textAlign:"center"},n.t("sign_in.description")),r==="idle"&&i.errorMessage?L.createElement(_t,{color:"error",size:c?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),L.createElement(ne,{alignItems:c?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},L.createElement(pi,{disabled:!i.nonce||r==="signing"||r==="verifying",label:i.nonce?r==="signing"?n.t("sign_in.signature.waiting"):r==="verifying"?n.t("sign_in.signature.verifying"):n.t("sign_in.message.send"):n.t("sign_in.message.preparing"),onClick:h,size:c?"large":"medium",testId:"auth-message-button"}),c?L.createElement(pi,{label:"Cancel",onClick:t,size:"large",type:"secondary"}):L.createElement(ne,{as:"button",borderRadius:"full",className:ir({active:"shrink",hover:"grow"}),display:"block",onClick:t,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(_t,{color:"closeButton",size:c?"16":"14",weight:"bold"},n.t("sign_in.message.cancel"))))))}function Wie(){const t=Fu(),e=wm(),n=A1()==="unauthenticated",r=z.useCallback(()=>{qs(...e.map(i=>i.iconUrl),...t.map(i=>i.iconUrl).filter($U)),Ir()||(Lie(),Uie()),n&&qs(c8)},[e,t,n]);z.useEffect(()=>{r()},[r])}var u8="WALLETCONNECT_DEEPLINK_CHOICE";function Vie({mobileUri:t,name:e}){localStorage.setItem(u8,JSON.stringify({href:t.split("?")[0],name:e}))}function $ie(){localStorage.removeItem(u8)}var d8=z.createContext(void 0),V_="data-rk",f8=t=>({[V_]:t||""}),qie=t=>{if(t&&!/^[a-zA-Z0-9_]+$/.test(t))throw new Error(`Invalid ID: ${t}`);return t?`[${V_}="${t}"]`:`[${V_}]`},Kie=()=>{const t=z.useContext(d8);return f8(t)},Qie=jD();function Xie({appInfo:t,avatar:e,children:n,coolMode:r=!1,id:i,initialChain:o,locale:s,modalSize:a=s0.WIDE,showRecentTransactions:l=!1,theme:c=Qie}){if(Wie(),xie(),bD({onDisconnect:$ie}),typeof c=="function")throw new Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');const u=qie(i),d={...t8,...t},f=e??GU;return L.createElement(Vre,{initialChain:o},L.createElement(yie,null,L.createElement(Fre,{locale:s},L.createElement(n8.Provider,{value:r},L.createElement(vie,{modalSize:a},L.createElement(VT.Provider,{value:l},L.createElement(pie,null,L.createElement(WU.Provider,{value:f},L.createElement(i0.Provider,{value:d},L.createElement(d8.Provider,{value:i},L.createElement(Kre,null,L.createElement(use,null,c?L.createElement("div",{...f8(i)},L.createElement("style",{dangerouslySetInnerHTML:{__html:[`${u}{${AR("lightMode"in c?c.lightMode:c)}}`,"darkMode"in c?`@media(prefers-color-scheme:dark){${u}{${AR(c.darkMode,{extends:c.lightMode})}}}`:null].join("")}}),n):n))))))))))))}var Yie="_9pm4ki5 ju367va ju367v15 ju367v8r",Jie="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",SR=(t,e)=>{const n=t.querySelectorAll("button:not(:disabled), a[href]");n.length!==0&&n[e==="end"?n.length-1:0].focus()};function Zie(t){const e=z.useRef(null);return z.useEffect(()=>{const n=document.activeElement;return()=>{n.focus?.()}},[]),z.useEffect(()=>{if(e.current){const n=e.current.querySelector("[data-auto-focus]");n?n.focus():e.current.focus()}},[]),L.createElement(L.Fragment,null,L.createElement("div",{onFocus:z.useCallback(()=>e.current&&SR(e.current,"end"),[]),tabIndex:0}),L.createElement("div",{ref:e,style:{outline:"none"},tabIndex:-1,...t}),L.createElement("div",{onFocus:z.useCallback(()=>e.current&&SR(e.current,"start"),[]),tabIndex:0}))}var eoe=t=>t.stopPropagation();function kv({children:t,onClose:e,open:n,titleId:r}){z.useEffect(()=>{const c=u=>n&&u.key==="Escape"&&e();return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n,e]);const[i,o]=z.useState(!0);z.useEffect(()=>{o(getComputedStyle(window.document.body).overflow!=="hidden")},[]);const s=z.useCallback(()=>e(),[e]),a=Kie(),l=Ir();return L.createElement(L.Fragment,null,n?Dw.createPortal(L.createElement(LU,{enabled:i},L.createElement(ne,{...a},L.createElement(ne,{...a,alignItems:l?"flex-end":"center","aria-labelledby":r,"aria-modal":!0,className:Jie,onClick:s,position:"fixed",role:"dialog"},L.createElement(Zie,{className:Yie,onClick:eoe,role:"document"},t)))),document.body):null)}var toe="_1ckjpok7",noe="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",roe="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",ioe="_1ckjpok6 ju367vq",ooe="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",soe="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function Fv({bottomSheetOnMobile:t=!1,children:e,marginTop:n,padding:r="16",paddingBottom:i,wide:o=!1}){const s=Ir(),l=z.useContext(S1)===s0.COMPACT;return L.createElement(ne,{marginTop:n},L.createElement(ne,{className:[o?s?soe:l?roe:ooe:noe,s?ioe:null,s&&t?toe:null].join(" ")},L.createElement(ne,{padding:r,paddingBottom:i??r},e)))}var CR=["k","m","b","t"];function tg(t,e=1){return t.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function h8(t){if(t<1)return tg(t,3);if(t<10**2)return tg(t,2);if(t<10**4)return new Intl.NumberFormat().format(Number.parseFloat(tg(t,1)));const e=10**1;let n=String(t);for(let r=CR.length-1;r>=0;r--){const i=10**((r+1)*3);if(i<=t){t=t*e/i/e,n=tg(t,1)+CR[r];break}}return n}function p8(t){return t.length<8?t:`${t.substring(0,4)}…${t.substring(t.length-4)}`}function m8(t){if(!t)return"";const e=t.split("."),n=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${n}`}var aoe=()=>L.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Copied"),L.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),loe=()=>L.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Copy"),L.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),coe=()=>L.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Disconnect"),L.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function uoe(){const t=ZU(),{address:e}=Tr(),n=WT();return z.useCallback(()=>{if(!e||!n)throw new Error("No address or chain ID found");t.clearTransactions(e,n)},[t,e,n])}var g8=t=>t?.blockExplorers?.default?.url,y8=()=>L.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Link"),L.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),doe=()=>L.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Cancel"),L.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),foe=()=>L.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Success"),L.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),hoe=t=>{switch(t){case"pending":return vm;case"confirmed":return foe;case"failed":return doe;default:return vm}};function poe({tx:t}){const e=Ir(),n=hoe(t.status),r=t.status==="failed"?"error":"accentColor",{chain:i}=Tr(),o=t.status==="confirmed"?"Confirmed":t.status==="failed"?"Failed":"Pending",s=g8(i);return L.createElement(L.Fragment,null,L.createElement(ne,{...s?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:ir({active:"shrink"}),href:`${s}/tx/${t.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:e?"16":"14"},L.createElement(ne,{color:r},L.createElement(n,null)),L.createElement(ne,{display:"flex",flexDirection:"column",gap:e?"3":"1"},L.createElement(ne,null,L.createElement(_t,{color:"modalText",font:"body",size:e?"16":"14",weight:"bold"},t?.description)),L.createElement(ne,null,L.createElement(_t,{color:t.status==="pending"?"modalTextSecondary":r,font:"body",size:"14",weight:e?"medium":"regular"},o)))),s&&L.createElement(ne,{alignItems:"center",color:"modalTextDim",display:"flex"},L.createElement(y8,null))))}var moe=3;function goe({address:t}){const e=e8(),n=uoe(),{chain:r}=Tr(),i=g8(r),o=e.slice(0,moe),s=o.length>0,a=Ir(),{appName:l}=z.useContext(i0),{i18n:c}=z.useContext(ar);return L.createElement(L.Fragment,null,L.createElement(ne,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},s&&L.createElement(ne,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},L.createElement(ne,{display:"flex",justifyContent:"space-between"},L.createElement(_t,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.recent.title")),L.createElement(ne,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},L.createElement(ne,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:ir({active:"shrink"}),onClick:n,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},L.createElement(_t,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},c.t("profile.transactions.clear.label")))))),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},s?o.map(u=>L.createElement(poe,{key:u.hash,tx:u})):L.createElement(L.Fragment,null,L.createElement(ne,{padding:a?"12":"8"},L.createElement(_t,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},l?c.t("profile.transactions.description",{appName:l}):c.t("profile.transactions.description_fallback"))),a&&L.createElement(ne,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&L.createElement(ne,{paddingBottom:"18",paddingX:a?"8":"18"},L.createElement(ne,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:ir({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${t}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},L.createElement(_t,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},c.t("profile.explorer.label")),L.createElement(y8,null))))}function TR({action:t,icon:e,label:n,testId:r,url:i}){const o=Ir();return L.createElement(ne,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:ir({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:t,padding:o?"6":"8",style:{willChange:"transform"},testId:r,transition:"default",width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},L.createElement(ne,{color:"modalText",height:"max"},e),L.createElement(ne,null,L.createElement(_t,{color:"modalText",size:o?"12":"13",weight:"semibold"},n))))}function yoe({address:t,ensAvatar:e,ensName:n,balance:r,onClose:i,onDisconnect:o}){const s=z.useContext(VT),[a,l]=z.useState(!1),c=z.useCallback(()=>{t&&(navigator.clipboard.writeText(t),l(!0))},[t]);if(z.useEffect(()=>{if(a){const y=setTimeout(()=>{l(!1)},1500);return()=>clearTimeout(y)}},[a]),!t)return null;const u=n?m8(n):p8(t),d=r?.formatted,f=d?h8(Number.parseFloat(d)):void 0,h="rk_profile_title",p=Ir(),{i18n:m}=z.useContext(ar);return L.createElement(L.Fragment,null,L.createElement(ne,{display:"flex",flexDirection:"column"},L.createElement(ne,{background:"profileForeground",padding:"16"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:p?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},L.createElement(ne,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},L.createElement(mu,{onClose:i}))," ",L.createElement(ne,{marginTop:p?"24":"0"},L.createElement(VU,{address:t,imageUrl:e,size:p?82:74})),L.createElement(ne,{display:"flex",flexDirection:"column",gap:p?"4":"0",textAlign:"center"},L.createElement(ne,{textAlign:"center"},L.createElement(_t,{as:"h1",color:"modalText",id:h,size:p?"20":"18",weight:"heavy"},u)),!!r&&L.createElement(ne,{textAlign:"center"},L.createElement(_t,{as:"h1",color:"modalTextSecondary",id:h,size:p?"16":"14",weight:"semibold"},f," ",r.symbol)))),L.createElement(ne,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},L.createElement(TR,{action:c,icon:a?L.createElement(aoe,null):L.createElement(loe,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),L.createElement(TR,{action:o,icon:L.createElement(coe,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),s&&L.createElement(L.Fragment,null,L.createElement(ne,{background:"generalBorder",height:"1",marginTop:"-1"}),L.createElement(ne,null,L.createElement(goe,{address:t})))))}function voe({onClose:t,open:e}){const{address:n}=Tr(),{balance:r,ensAvatar:i,ensName:o}=XU({address:n,includeBalance:e}),{disconnect:s}=RT();return n?L.createElement(L.Fragment,null,n&&L.createElement(kv,{onClose:t,open:e,titleId:"rk_account_modal_title"},L.createElement(Fv,{bottomSheetOnMobile:!0,padding:"0"},L.createElement(yoe,{address:n,ensAvatar:i,ensName:o,balance:r,onClose:t,onDisconnect:s})))):null}var woe=({size:t})=>L.createElement("svg",{fill:"none",height:t,viewBox:"0 0 28 28",width:t,xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Disconnect"),L.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),boe="v9horb0",XT=L.forwardRef(({children:t,currentlySelected:e=!1,onClick:n,testId:r,...i},o)=>{const s=Ir();return L.createElement(ne,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:n,ref:o,testId:r,type:"button"},L.createElement(ne,{borderRadius:"menuButton",className:[s?boe:void 0,!e&&ir({active:"shrink"})],padding:s?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},t))});XT.displayName="MenuButton";var xoe=({chainId:t,currentChainId:e,switchChain:n,chainIconSize:r,isLoading:i,src:o,name:s,iconBackground:a,idx:l})=>{const c=Ir(),{i18n:u}=z.useContext(ar),d=Fu(),f=e===t;return L.createElement(z.Fragment,null,L.createElement(XT,{currentlySelected:f,onClick:f?void 0:()=>n({chainId:t}),testId:`chain-option-${t}`},L.createElement(ne,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:r},o&&L.createElement(ne,{height:"full",marginRight:"8"},L.createElement(Cr,{alt:s,background:a,borderRadius:"full",height:r,src:o,width:r,testId:`chain-option-${t}-icon`})),L.createElement("div",null,s??s)),f&&L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},L.createElement(_t,{color:"accentColorForeground",size:"14",weight:"medium"},u.t("chains.connected")),L.createElement(ne,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},L.createElement(_t,{color:"modalText",size:"14",weight:"medium"},u.t("chains.confirm")),L.createElement(ne,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),c&&l<d.length-1&&L.createElement(ne,{background:"generalBorderDim",height:"1",marginX:"8"}))},Eoe=xoe,Aoe="_18dqw9x0",_oe="_18dqw9x1";function Soe({onClose:t,open:e}){const{chainId:n}=Tr(),{chains:r}=yr(),[i,o]=z.useState(null),{switchChain:s}=OD({mutation:{onMutate:({chainId:p})=>{o(p)},onSuccess:()=>{i&&o(null)},onError:()=>{i&&o(null)},onSettled:()=>{t()}}}),{i18n:a}=z.useContext(ar),{disconnect:l}=RT(),c="rk_chain_modal_title",u=Ir(),d=r.some(p=>p.id===n),f=u?"36":"28",h=Fu();return n?L.createElement(kv,{onClose:t,open:e,titleId:c},L.createElement(Fv,{bottomSheetOnMobile:!0,paddingBottom:"0"},L.createElement(ne,{display:"flex",flexDirection:"column",gap:"14"},L.createElement(ne,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u&&L.createElement(ne,{width:"30"}),L.createElement(ne,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},L.createElement(_t,{as:"h1",color:"modalText",id:c,size:u?"20":"18",weight:"heavy"},a.t("chains.title"))),L.createElement(mu,{onClose:t})),!d&&L.createElement(ne,{marginX:"8",textAlign:u?"center":"left"},L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),L.createElement(ne,{className:u?_oe:Aoe,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},h.map(({iconBackground:p,iconUrl:m,id:y,name:g},v)=>L.createElement(Eoe,{key:y,chainId:y,currentChainId:n,switchChain:s,chainIconSize:f,isLoading:i===y,src:m,name:g,iconBackground:p,idx:v})),!d&&L.createElement(L.Fragment,null,L.createElement(ne,{background:"generalBorderDim",height:"1",marginX:"8"}),L.createElement(XT,{onClick:()=>l(),testId:"chain-option-disconnect"},L.createElement(ne,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:f},L.createElement(ne,{alignItems:"center",color:"error",height:f,justifyContent:"center",marginRight:"8"},L.createElement(woe,{size:Number(f)})),L.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function Coe(t,e){const n={};for(const r of t){const i=e(r);i&&(n[i]||(n[i]=[]),n[i].push(r))}return n}var YT=({children:t,href:e})=>L.createElement(ne,{as:"a",color:"accentColor",href:e,rel:"noreferrer",target:"_blank"},t),JT=({children:t})=>L.createElement(_t,{color:"modalTextSecondary",size:"12",weight:"medium"},t);function MR({compactModeEnabled:t=!1,getWallet:e}){const{disclaimer:n,learnMoreUrl:r}=z.useContext(i0),{i18n:i}=z.useContext(ar);return L.createElement(L.Fragment,null,L.createElement(ne,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},L.createElement(ne,{marginBottom:"10"},!t&&L.createElement(_t,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},L.createElement(ne,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},L.createElement(Die,null)),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},L.createElement(ne,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},L.createElement(zie,null)),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},L.createElement(pi,{label:i.t("intro.get.label"),onClick:e}),L.createElement(ne,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:r,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(_t,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),n&&!t&&L.createElement(ne,{marginBottom:"8",marginTop:"12",textAlign:"center"},L.createElement(n,{Link:YT,Text:JT}))))}var v8=()=>L.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Back"),L.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),Toe=()=>L.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},L.createElement("title",null,"Info"),L.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),Moe=({"aria-label":t="Info",onClick:e})=>{const n=Ir();return L.createElement(ne,{alignItems:"center","aria-label":t,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:n?"0":"1",className:ir({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:n?"30":"28",justifyContent:"center",onClick:e,style:{willChange:"transform"},transition:"default",type:"button",width:n?"30":"28"},L.createElement(Toe,null))},w8=t=>{const e=z.useRef(null),n=z.useContext(n8),r=_1(t);return z.useEffect(()=>{if(n&&e.current&&r)return Roe(e.current,r)},[n,r]),e},Ioe=()=>{const t="_rk_coolMode",e=document.getElementById(t);if(e)return e;const n=document.createElement("div");return n.setAttribute("id",t),n.setAttribute("style",["overflow:hidden","position:fixed","height:100%","top:0","left:0","right:0","bottom:0","pointer-events:none","z-index:2147483647"].join(";")),document.body.appendChild(n),n},IR=0;function Roe(t,e){IR++;const n=[15,20,25,35,45],r=35;let i=[],o=!1,s=0,a=0;const l=Ioe();function c(){const x=n[Math.floor(Math.random()*n.length)],I=Math.random()*10,k=Math.random()*25,A=Math.random()*360,U=Math.random()*35*(Math.random()<=.5?-1:1),S=a-x/2,N=s-x/2,P=Math.random()<=.5?-1:1,G=document.createElement("div");G.innerHTML=`<img src="${e}" width="${x}" height="${x}" style="border-radius: 25%">`,G.setAttribute("style",["position:absolute","will-change:transform",`top:${S}px`,`left:${N}px`,`transform:rotate(${A}deg)`].join(";")),l.appendChild(G),i.push({direction:P,element:G,left:N,size:x,speedHorz:I,speedUp:k,spinSpeed:U,spinVal:A,top:S})}function u(){for(const x of i)x.left=x.left-x.speedHorz*x.direction,x.top=x.top-x.speedUp,x.speedUp=Math.min(x.size,x.speedUp-1),x.spinVal=x.spinVal+x.spinSpeed,x.top>=Math.max(window.innerHeight,document.body.clientHeight)+x.size&&(i=i.filter(I=>I!==x),x.element.remove()),x.element.setAttribute("style",["position:absolute","will-change:transform",`top:${x.top}px`,`left:${x.left}px`,`transform:rotate(${x.spinVal}deg)`].join(";"))}let d;function f(){o&&i.length<r&&c(),u(),d=requestAnimationFrame(f)}f();const h="ontouchstart"in window||navigator.msMaxTouchPoints,p=h?"touchstart":"mousedown",m=h?"touchend":"mouseup",y=h?"touchmove":"mousemove",g=x=>{"touches"in x?(s=x.touches?.[0].clientX,a=x.touches?.[0].clientY):(s=x.clientX,a=x.clientY)},v=x=>{g(x),o=!0},b=()=>{o=!1};return t.addEventListener(y,g,{passive:!1}),t.addEventListener(p,v),t.addEventListener(m,b),t.addEventListener("mouseleave",b),()=>{t.removeEventListener(y,g),t.removeEventListener(p,v),t.removeEventListener(m,b),t.removeEventListener("mouseleave",b);const x=setInterval(()=>{d&&i.length===0&&(cancelAnimationFrame(d),clearInterval(x),--IR===0&&l.remove())},500)}}var Poe="g5kl0l0",b8=({as:t="button",currentlySelected:e=!1,iconBackground:n,iconUrl:r,name:i,onClick:o,ready:s,recent:a,testId:l,isRainbowKitConnector:c,...u})=>{const d=w8(r),[f,h]=L.useState(!1),{i18n:p}=L.useContext(ar);return L.createElement(ne,{display:"flex",flexDirection:"column",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),ref:d},L.createElement(ne,{as:t,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:e?void 0:[Poe,ir({active:"shrink"})],disabled:e,onClick:o,padding:"5",style:{willChange:"transform"},testId:l,transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...u},L.createElement(ne,{color:e?"accentColorForeground":"modalText",disabled:!s,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},L.createElement(Cr,{background:n,...!f&&c?{borderColor:"actionButtonBorder"}:{},useAsImage:!c,borderRadius:"6",height:"28",src:r,width:"28"}),L.createElement(ne,null,L.createElement(ne,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&L.createElement(_t,{color:e?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},p.t("connect.recent")))))))};b8.displayName="ModalSelection";var Noe="rk-latest-id";function koe(t){localStorage.setItem(Noe,t)}var _x=(t,e=1)=>{let n=t.replace("#","");n.length===3&&(n=`${n[0]}${n[0]}${n[1]}${n[1]}${n[2]}${n[2]}`);const r=Number.parseInt(n.substring(0,2),16),i=Number.parseInt(n.substring(2,4),16),o=Number.parseInt(n.substring(4,6),16);return e>1&&e<=100&&(e=e/100),`rgba(${r},${i},${o},${e})`},Foe=t=>t?[_x(t,.2),_x(t,.14),_x(t,.1)]:null,Ooe=t=>/^#([0-9a-f]{3}){1,2}$/i.test(t),x8=async()=>(await Ve(async()=>{const{default:t}=await import("./connect-UA7M4XW6-IY3X6Bmr.js");return{default:t}},[])).default,Boe=()=>qs(x8),Loe=()=>L.createElement(Cr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:x8,width:"48"}),E8=async()=>(await Ve(async()=>{const{default:t}=await import("./create-FASO7PVG-D_rvSpre.js");return{default:t}},[])).default,A8=()=>qs(E8),Doe=()=>L.createElement(Cr,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:E8,width:"48"}),_8=async()=>(await Ve(async()=>{const{default:t}=await import("./refresh-S4T5V5GX-CwqIaaxK.js");return{default:t}},[])).default,Uoe=()=>qs(_8),zoe=()=>L.createElement(Cr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:_8,width:"48"}),S8=async()=>(await Ve(async()=>{const{default:t}=await import("./scan-4UYSQ56Q-CjMz6-XC.js");return{default:t}},[])).default,C8=()=>qs(S8),joe=()=>L.createElement(Cr,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:S8,width:"48"}),Hoe="_1vwt0cg0",Goe="_1vwt0cg2 ju367v7a ju367v7v",Woe="_1vwt0cg3",Voe="_1vwt0cg4";function T8({ecc:t="medium",logoBackground:e,logoSize:n=50,logoUrl:r,size:i=200,uri:o}){const s="20",a=i-Number.parseInt(s,10)*2,l=_1(r);return L.createElement(ne,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:Hoe,padding:s,width:"max"},L.createElement(ne,{style:{height:a,userSelect:"none",width:a},userSelect:"none"},L.createElement(Ls.Root,{errorCorrection:t,size:a,value:o},L.createElement(Ls.Cells,{radius:1}),L.createElement(Ls.Finder,{radius:.25}),l&&L.createElement(Ls.Arena,null,L.createElement("img",{alt:"Wallet Logo",src:l,style:{objectFit:"cover",height:"88%",width:"88%",borderRadius:"22.5%",backgroundColor:e}})))))}var M8=async()=>{switch(qT()){case"Arc":return(await Ve(async()=>{const{default:e}=await import("./Arc-VDBY7LNS-BChRXCXW.js");return{default:e}},[])).default;case"Brave":return(await Ve(async()=>{const{default:e}=await import("./Brave-BRAKJXDS-mq-Xo37j.js");return{default:e}},[])).default;case"Chrome":return(await Ve(async()=>{const{default:e}=await import("./Chrome-65Q5P54Y-DR9MQEVr.js");return{default:e}},[])).default;case"Edge":return(await Ve(async()=>{const{default:e}=await import("./Edge-XSPUTORV-DEoZslQE.js");return{default:e}},[])).default;case"Firefox":return(await Ve(async()=>{const{default:e}=await import("./Firefox-AAHGJQIP-Bp_Hm04m.js");return{default:e}},[])).default;case"Opera":return(await Ve(async()=>{const{default:e}=await import("./Opera-KQZLSACL-Cwv5MDFy.js");return{default:e}},[])).default;case"Safari":return(await Ve(async()=>{const{default:e}=await import("./Safari-ZPL37GXR-C4Ggg6rz.js");return{default:e}},[])).default;default:return(await Ve(async()=>{const{default:e}=await import("./Browser-76IHF3Y2-BMhRaC5Z.js");return{default:e}},[])).default}},$oe=()=>qs(M8),I8=async()=>{switch(QT()){case"Windows":return(await Ve(async()=>{const{default:e}=await import("./Windows-PPTHQER6-BlyV2p7Y.js");return{default:e}},[])).default;case"macOS":return(await Ve(async()=>{const{default:e}=await import("./Macos-MW4AE7LN-Vvm8Drw3.js");return{default:e}},[])).default;case"Linux":return(await Ve(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default;default:return(await Ve(async()=>{const{default:e}=await import("./Linux-OO4TNCLJ-B0aw93n9.js");return{default:e}},[])).default}},qoe=()=>qs(I8);function Koe({getWalletDownload:t,compactModeEnabled:e}){const r=wm().filter(o=>o.isRainbowKitConnector).splice(0,5),{i18n:i}=z.useContext(ar);return L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},r?.filter(o=>o.extensionDownloadUrl||o.desktopDownloadUrl||o.qrCode&&o.downloadUrls?.qrCode).map(o=>{const{downloadUrls:s,iconBackground:a,iconUrl:l,id:c,name:u,qrCode:d}=o,f=s?.qrCode&&d,h=!!o.extensionDownloadUrl,p=s?.qrCode&&h,m=s?.qrCode&&!!o.desktopDownloadUrl;return L.createElement(ne,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:o.id,width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},L.createElement(Cr,{background:a,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:l,width:"48"}),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"2"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},u),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},p?i.t("get.mobile_and_extension.description"):m?i.t("get.mobile_and_desktop.description"):f?i.t("get.mobile.description"):h?i.t("get.extension.description"):null))),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(pi,{label:i.t("get.action.label"),onClick:()=>t(c),type:"secondary"})))})),L.createElement(ne,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},i.t("get.looking_for.title")),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},e?i.t("get.looking_for.desktop.compact_description"):i.t("get.looking_for.desktop.wide_description"))))}var Sx="44";function Qoe({changeWalletStep:t,compactModeEnabled:e,connectionError:n,onClose:r,qrCodeUri:i,reconnect:o,wallet:s}){const{downloadUrls:a,iconBackground:l,iconUrl:c,name:u,qrCode:d,ready:f,showWalletConnectModal:h,getDesktopUri:p}=s,m=!!p,y=$T(),{i18n:g}=z.useContext(ar),v=!!s.extensionDownloadUrl,b=a?.qrCode&&v,x=a?.qrCode&&!!s.desktopDownloadUrl,I=d&&i,k=async()=>{const N=await p?.();window.open(N,y?"_blank":"_self")},A=h?{description:e?g.t("connect.walletconnect.description.compact"):g.t("connect.walletconnect.description.full"),label:g.t("connect.walletconnect.open.label"),onClick:()=>{r(),h()}}:I?{description:g.t("connect.secondary_action.get.description",{wallet:u}),label:g.t("connect.secondary_action.get.label"),onClick:()=>t(b||x?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:U}=r8(),S=U&&U<768;return z.useEffect(()=>{$oe(),qoe()},[]),L.createElement(ne,{display:"flex",flexDirection:"column",height:"full",width:"full"},I?L.createElement(ne,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},L.createElement(T8,{logoBackground:l,logoSize:e?60:72,logoUrl:c,size:e?318:S?Math.max(280,Math.min(U-308,382)):382,uri:i})):L.createElement(ne,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},L.createElement(ne,{borderRadius:"10",height:Sx,overflow:"hidden"},L.createElement(Cr,{useAsImage:!s.isRainbowKitConnector,height:Sx,src:c,width:Sx})),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},L.createElement(_t,{color:"modalText",size:"18",weight:"bold"},f?g.t("connect.status.opening",{wallet:u}):v?g.t("connect.status.not_installed",{wallet:u}):g.t("connect.status.not_available",{wallet:u})),!f&&v?L.createElement(ne,{paddingTop:"20"},L.createElement(pi,{href:s.extensionDownloadUrl,label:g.t("connect.secondary_action.install.label"),type:"secondary"})):null,f&&!I&&L.createElement(L.Fragment,null,L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},L.createElement(_t,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},g.t("connect.status.confirm"))),L.createElement(ne,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},n?L.createElement(pi,{label:g.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&k(),o(s)}}):L.createElement(ne,{color:"modalTextSecondary"},L.createElement(vm,null))))))),L.createElement(ne,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},f&&A&&L.createElement(L.Fragment,null,L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},A.description),L.createElement(pi,{label:A.label,onClick:A.onClick,type:"secondary"}))))}var Cx=({actionLabel:t,description:e,iconAccent:n,iconBackground:r,iconUrl:i,isCompact:o,onAction:s,title:a,url:l,variant:c})=>{const u=c==="browser",d=!u&&n&&Foe(n);return L.createElement(ne,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},L.createElement(ne,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),u&&L.createElement(ne,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},L.createElement(ne,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},L.createElement(ne,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},L.createElement(Cr,{borderRadius:"full",height:"200",src:i,width:"200"})),L.createElement(ne,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},L.createElement(Cr,{borderRadius:"full",height:"200",src:i,width:"200"})))),!u&&d&&L.createElement(ne,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},L.createElement(ne,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[0]} 0%, ${d[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),L.createElement(ne,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),L.createElement(ne,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},L.createElement(ne,null,L.createElement(Cr,{height:"60",src:i,width:"60",...r?{background:r,borderColor:"generalBorder",borderRadius:"10"}:null})),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},a),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},e),L.createElement(ne,{marginTop:"14",width:"max"},L.createElement(pi,{href:l,label:t,onClick:s,size:"medium"})))))};function Xoe({changeWalletStep:t,wallet:e}){const n=qT(),r=QT(),o=z.useContext(S1)==="compact",{desktop:s,desktopDownloadUrl:a,extension:l,extensionDownloadUrl:c,mobileDownloadUrl:u}=e,{i18n:d}=z.useContext(ar);return z.useEffect(()=>{A8(),C8(),Uoe(),Boe()},[]),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},c&&L.createElement(Cx,{actionLabel:d.t("get_options.extension.download.label",{browser:n}),description:d.t("get_options.extension.description"),iconUrl:M8,isCompact:o,onAction:()=>t(l?.instructions?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:d.t("get_options.extension.title",{wallet:e.name,browser:n}),url:c,variant:"browser"}),a&&L.createElement(Cx,{actionLabel:d.t("get_options.desktop.download.label",{platform:r}),description:d.t("get_options.desktop.description"),iconUrl:I8,isCompact:o,onAction:()=>t(s?.instructions?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:d.t("get_options.desktop.title",{wallet:e.name,platform:r}),url:a,variant:"desktop"}),u&&L.createElement(Cx,{actionLabel:d.t("get_options.mobile.download.label",{wallet:e.name}),description:d.t("get_options.mobile.description"),iconAccent:e.iconAccent,iconBackground:e.iconBackground,iconUrl:e.iconUrl,isCompact:o,onAction:()=>{t("DOWNLOAD")},title:d.t("get_options.mobile.title",{wallet:e.name}),variant:"app"})))}function Yoe({changeWalletStep:t,wallet:e}){const{downloadUrls:n,qrCode:r}=e,{i18n:i}=z.useContext(ar);return z.useEffect(()=>{A8(),C8()},[]),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},L.createElement(ne,{style:{maxWidth:220,textAlign:"center"}},L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),L.createElement(ne,{height:"full"},n?.qrCode?L.createElement(T8,{logoSize:0,size:268,uri:n.qrCode}):null),L.createElement(ne,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},L.createElement(pi,{label:i.t("get_mobile.continue.label"),onClick:()=>t(r?.instructions?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var ZT={connect:()=>L.createElement(Loe,null),create:()=>L.createElement(Doe,null),install:t=>L.createElement(Cr,{background:t.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:t.iconUrl,width:"48"}),refresh:()=>L.createElement(zoe,null),scan:()=>L.createElement(joe,null)};function Joe({connectWallet:t,wallet:e}){const{i18n:n}=z.useContext(ar);return L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},L.createElement(ne,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.qrCode?.instructions?.steps.map((r,i)=>L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},L.createElement(ne,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},ZT[r.step]?.(e)),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},L.createElement(pi,{label:n.t("get_instructions.mobile.connect.label"),onClick:()=>t(e)}),L.createElement(ne,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:e?.qrCode?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(_t,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.mobile.learn_more.label")))))}function Zoe({wallet:t}){const{i18n:e}=z.useContext(ar);return L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},L.createElement(ne,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},t?.extension?.instructions?.steps.map((n,r)=>L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},L.createElement(ne,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},ZT[n.step]?.(t)),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},e.t(n.title,void 0,{rawKeyIfTranslationMissing:!0})),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},e.t(n.description,void 0,{rawKeyIfTranslationMissing:!0})))))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},L.createElement(pi,{label:e.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),L.createElement(ne,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:t?.extension?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(_t,{color:"accentColor",size:"14",weight:"bold"},e.t("get_instructions.extension.learn_more.label")))))}function ese({connectWallet:t,wallet:e}){const{i18n:n}=z.useContext(ar);return L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},L.createElement(ne,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},e?.desktop?.instructions?.steps.map((r,i)=>L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:i},L.createElement(ne,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},ZT[r.step]?.(e)),L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},L.createElement(_t,{color:"modalText",size:"14",weight:"bold"},n.t(r.title,void 0,{rawKeyIfTranslationMissing:!0})),L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},n.t(r.description,void 0,{rawKeyIfTranslationMissing:!0})))))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},L.createElement(pi,{label:n.t("get_instructions.desktop.connect.label"),onClick:()=>t(e)}),L.createElement(ne,{as:"a",className:ir({active:"shrink",hover:"grow"}),display:"block",href:e?.desktop?.instructions?.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},L.createElement(_t,{color:"accentColor",size:"14",weight:"bold"},n.t("get_instructions.desktop.learn_more.label")))))}function tse({onClose:t}){const e="rk_connect_title",[n,r]=z.useState(),[i,o]=z.useState(),[s,a]=z.useState(),l=!!i?.qrCode&&s,[c,u]=z.useState(!1),f=z.useContext(S1)===s0.COMPACT,{disclaimer:h}=z.useContext(i0),{i18n:p}=z.useContext(ar),m=$T(),y=z.useRef(!1),{connector:g}=z.useContext(o0),b=wm(!g).filter(J=>J.ready||!!J.extensionDownloadUrl).sort((J,Z)=>J.groupIndex-Z.groupIndex),x=wm(),I=Coe(b,J=>J.groupName),k=["Recommended","Other","Popular","More","Others","Installed"];z.useEffect(()=>{g&&!y.current&&(B("CONNECT"),N(g),y.current=!0)},[g]);const A=J=>{u(!1),J.ready&&J?.connect?.()?.catch(()=>{u(!0)})},U=async J=>{const Z=b.find(ce=>J.id===ce.id);Z?.getDesktopUri&&setTimeout(async()=>{const ce=await Z?.getDesktopUri?.();ce&&window.open(ce,m?"_blank":"_self")},0)},S=async J=>{const Z=b.find(ie=>J.id===ie.id),ce=await Z?.getQrCodeUri?.();a(ce),setTimeout(()=>{o(Z),B("CONNECT")},ce?0:50)},N=async J=>{koe(J.id),J.ready&&(S(J),U(J)),A(J),r(J.id),J.ready||(o(J),B(J?.extensionDownloadUrl?"DOWNLOAD_OPTIONS":"CONNECT"))},P=J=>{const Z=x.find(ue=>J===ue.id),ce=Z?.downloadUrls?.qrCode,ie=!!Z?.desktopDownloadUrl,xe=!!Z?.extensionDownloadUrl;o(Z),B(ce&&(xe||ie)?"DOWNLOAD_OPTIONS":ce?"DOWNLOAD":ie?"INSTRUCTIONS_DESKTOP":"INSTRUCTIONS_EXTENSION")},G=()=>{r(void 0),o(void 0),a(void 0)},B=(J,Z=!1)=>{Z&&J==="GET"&&w==="GET"?G():!Z&&J==="GET"?E("GET"):!Z&&J==="CONNECT"&&E("CONNECT"),O(J)},[w,E]=z.useState("NONE"),[M,O]=z.useState("NONE");let C=null,H=null,W=null,D;z.useEffect(()=>{u(!1)},[M,i]);const $=!!(!!i?.extensionDownloadUrl&&i?.mobileDownloadUrl);switch(M){case"NONE":C=L.createElement(MR,{getWallet:()=>B("GET")});break;case"LEARN_COMPACT":C=L.createElement(MR,{compactModeEnabled:f,getWallet:()=>B("GET")}),H=p.t("intro.title"),W="NONE";break;case"GET":C=L.createElement(Koe,{getWalletDownload:P,compactModeEnabled:f}),H=p.t("get.title"),W=f?"LEARN_COMPACT":"NONE";break;case"CONNECT":C=i&&L.createElement(Qoe,{changeWalletStep:B,compactModeEnabled:f,connectionError:c,onClose:t,qrCodeUri:s,reconnect:A,wallet:i}),H=l&&(i.name==="WalletConnect"?p.t("connect_scan.fallback_title"):p.t("connect_scan.title",{wallet:i.name})),W=f?g?null:"NONE":null,D=f?g?()=>{}:G:()=>{};break;case"DOWNLOAD_OPTIONS":C=i&&L.createElement(Xoe,{changeWalletStep:B,wallet:i}),H=i&&p.t("get_options.short_title",{wallet:i.name}),W=g?"CONNECT":f?"NONE":w;break;case"DOWNLOAD":C=i&&L.createElement(Yoe,{changeWalletStep:B,wallet:i}),H=i&&p.t("get_mobile.title",{wallet:i.name}),W=$?"DOWNLOAD_OPTIONS":w;break;case"INSTRUCTIONS_MOBILE":C=i&&L.createElement(Joe,{connectWallet:N,wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),W="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":C=i&&L.createElement(Zoe,{wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),W="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":C=i&&L.createElement(ese,{connectWallet:N,wallet:i}),H=i&&p.t("get_options.title",{wallet:f&&i.shortName||i.name}),W="DOWNLOAD_OPTIONS";break}return L.createElement(ne,{display:"flex",flexDirection:"row",style:{maxHeight:f?468:504}},(f?M==="NONE":!0)&&L.createElement(ne,{className:f?Voe:Woe,display:"flex",flexDirection:"column",marginTop:"16"},L.createElement(ne,{display:"flex",justifyContent:"space-between"},f&&h&&L.createElement(ne,{marginLeft:"16",width:"28"},L.createElement(Moe,{onClick:()=>B("LEARN_COMPACT")})),f&&!h&&L.createElement(ne,{marginLeft:"16",width:"28"}),L.createElement(ne,{marginLeft:f?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},L.createElement(_t,{as:"h1",color:"modalText",id:e,size:"18",weight:"heavy",testId:"connect-header-label"},p.t("connect.title"))),f&&L.createElement(ne,{marginRight:"16"},L.createElement(mu,{onClose:t}))),L.createElement(ne,{className:Goe,paddingBottom:"18"},Object.entries(I).map(([J,Z],ce)=>Z.length>0&&L.createElement(z.Fragment,{key:ce},J?L.createElement(ne,{marginBottom:"8",marginTop:"16",marginX:"6"},L.createElement(_t,{color:J==="Installed"?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},k.includes(J)?p.t(`connector_group.${J.toLowerCase()}`):J)):null,L.createElement(ne,{display:"flex",flexDirection:"column",gap:"4"},Z.map(ie=>L.createElement(b8,{currentlySelected:ie.id===n,iconBackground:ie.iconBackground,iconUrl:ie.iconUrl,key:ie.id,name:ie.name,onClick:()=>N(ie),ready:ie.ready,recent:ie.recent,testId:`wallet-option-${ie.id}`,isRainbowKitConnector:ie.isRainbowKitConnector})))))),f&&L.createElement(L.Fragment,null,L.createElement(ne,{background:"generalBorder",height:"1",marginTop:"-1"}),h?L.createElement(ne,{paddingX:"24",paddingY:"16",textAlign:"center"},L.createElement(h,{Link:YT,Text:JT})):L.createElement(ne,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},L.createElement(ne,{paddingY:"4"},L.createElement(_t,{color:"modalTextSecondary",size:"14",weight:"medium"},p.t("connect.new_to_ethereum.description"))),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},L.createElement(ne,{className:ir({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>B("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},L.createElement(_t,{color:"accentColor",size:"14",weight:"bold"},p.t("connect.new_to_ethereum.learn_more.label"))))))),(f?M!=="NONE":!0)&&L.createElement(L.Fragment,null,!f&&L.createElement(ne,{background:"generalBorder",minWidth:"1",width:"1"}),L.createElement(ne,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},L.createElement(ne,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},L.createElement(ne,{width:"28"},W&&L.createElement(ne,{as:"button",className:ir({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{W&&B(W,!0),D?.()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},L.createElement(v8,null))),L.createElement(ne,{display:"flex",justifyContent:"center",style:{flexGrow:1}},H&&L.createElement(_t,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},H)),L.createElement(mu,{onClose:t})),L.createElement(ne,{display:"flex",flexDirection:"column",style:{minHeight:f?396:432}},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},C)))))}var nse="_1am14412",rse="_1am14410",ise="_1am14413",ose=({wallet:t})=>L.createElement("svg",{className:ise,viewBox:"0 0 86 86",width:"86",height:"86"},L.createElement("title",null,"Loading"),L.createElement("rect",{x:"3",y:"3",width:80,height:80,rx:20,ry:20,strokeDasharray:`${160/3} ${2*160/3}`,strokeDashoffset:160,className:nse,style:{stroke:t?.iconAccent||"#0D3887"}}));function R8({onClose:t,wallet:e,connecting:n}){const{connect:r,iconBackground:i,iconUrl:o,id:s,name:a,getMobileUri:l,ready:c,shortName:u,showWalletConnectModal:d}=e,f=w8(o),h=z.useRef(!1),{i18n:p}=z.useContext(ar),m=z.useCallback(async()=>{if(s!=="walletConnect"&&(async()=>{const g=await l?.();if(g)if(g&&Vie({mobileUri:g,name:a}),g.startsWith("http")){const v=document.createElement("a");v.href=g,v.target="_blank",v.rel="noreferrer noopener",v.click()}else window.location.href=g})(),d){d(),t?.();return}try{await r?.()}catch{}},[r,l,d,t,a,s]);return z.useEffect(()=>{n&&!h.current&&(m(),h.current=!0)},[n,m]),L.createElement(ne,{as:"button",color:c?"modalText":"modalTextSecondary",disabled:!c,fontFamily:"body",key:s,onClick:m,ref:f,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${s}`,type:"button",width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},L.createElement(ne,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},n?L.createElement(ose,{wallet:e}):null,L.createElement(Cr,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),n?null:L.createElement(ne,{display:"flex",flexDirection:"column",textAlign:"center"},L.createElement(_t,{as:"h2",color:e.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},L.createElement(ne,{as:"span",position:"relative"},u??a,!e.ready&&" (unsupported)")),e.recent&&L.createElement(_t,{color:"accentColor",size:"12",weight:"medium"},p.t("connect.recent")))))}function sse({onClose:t}){const e="rk_connect_title",n=wm().filter(h=>h.isRainbowKitConnector),{disclaimer:r,learnMoreUrl:i}=z.useContext(i0);let o=null,s=null,a=!1,l=null;const[c,u]=z.useState("CONNECT"),{i18n:d}=z.useContext(ar),f=ku();switch(c){case"CONNECT":{o=d.t("connect.title"),a=!0,s=L.createElement(ne,null,L.createElement(ne,{background:"profileForeground",className:rse,display:"flex",paddingBottom:"20",paddingTop:"6"},L.createElement(ne,{display:"flex",style:{margin:"0 auto"}},n.filter(h=>h.ready).map(h=>L.createElement(ne,{key:h.id,paddingX:"20"},L.createElement(ne,{width:"60"},L.createElement(R8,{onClose:t,wallet:h})))))),L.createElement(ne,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},L.createElement(ne,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},L.createElement(_t,{color:"modalText",size:"16",weight:"bold"},d.t("intro.title")),L.createElement(_t,{color:"modalTextSecondary",size:"16"},d.t("intro.description")))),L.createElement(ne,{paddingTop:"32",paddingX:"20"},L.createElement(ne,{display:"flex",gap:"14",justifyContent:"center"},L.createElement(pi,{label:d.t("intro.get.label"),onClick:()=>u("GET"),size:"large",type:"secondary"}),L.createElement(pi,{href:i,label:d.t("intro.learn_more.label"),size:"large",type:"secondary"}))),r&&L.createElement(ne,{marginTop:"28",marginX:"32",textAlign:"center"},L.createElement(r,{Link:YT,Text:JT})));break}case"GET":{o=d.t("get.title"),l="CONNECT";const h=n?.filter(p=>p.downloadUrls?.ios||p.downloadUrls?.android||p.downloadUrls?.mobile)?.splice(0,3);s=L.createElement(ne,null,L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},h.map((p,m)=>{const{downloadUrls:y,iconBackground:g,iconUrl:v,name:b}=p;return!y?.ios&&!y?.android&&!y?.mobile?null:L.createElement(ne,{display:"flex",gap:"16",key:p.id,paddingX:"20",width:"full"},L.createElement(ne,{style:{minHeight:48,minWidth:48}},L.createElement(Cr,{background:g,borderColor:"generalBorder",borderRadius:"10",height:"48",src:v,width:"48"})),L.createElement(ne,{display:"flex",flexDirection:"column",width:"full"},L.createElement(ne,{alignItems:"center",display:"flex",height:"48"},L.createElement(ne,{width:"full"},L.createElement(_t,{color:"modalText",size:"18",weight:"bold"},b)),L.createElement(pi,{href:(f?y?.ios:y?.android)||y?.mobile,label:d.t("get.action.label"),size:"small",type:"secondary"})),m<h.length-1&&L.createElement(ne,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"})))})),L.createElement(ne,{style:{marginBottom:"42px"}}),L.createElement(ne,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},L.createElement(ne,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},L.createElement(_t,{color:"modalText",size:"16",weight:"bold"},d.t("get.looking_for.title")),L.createElement(_t,{color:"modalTextSecondary",size:"16"},d.t("get.looking_for.mobile.description")))));break}}return L.createElement(ne,{display:"flex",flexDirection:"column",paddingBottom:"36"},L.createElement(ne,{background:a?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},L.createElement(ne,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},l&&L.createElement(ne,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},L.createElement(ne,{alignItems:"center",as:"button",className:ir({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>u(l),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},L.createElement(v8,null))),L.createElement(ne,{marginTop:"4",textAlign:"center",width:"full"},L.createElement(_t,{as:"h1",color:"modalText",id:e,size:"20",weight:"bold"},o)),L.createElement(ne,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},L.createElement(ne,{style:{marginBottom:-20,marginTop:-20}},L.createElement(mu,{onClose:t}))))),L.createElement(ne,{display:"flex",flexDirection:"column"},s))}var ase=({onClose:t})=>{const{connector:e}=z.useContext(o0),{i18n:n}=z.useContext(ar),r=e?.name||"";return L.createElement(ne,null,L.createElement(ne,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},L.createElement(ne,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},L.createElement(mu,{onClose:t})),L.createElement(ne,{width:"60"},L.createElement(R8,{onClose:t,wallet:e,connecting:!0})),L.createElement(ne,{marginTop:"20"},L.createElement(_t,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},n.t("connect.status.connect_mobile",{wallet:r}))),L.createElement(ne,{maxWidth:"full",marginTop:"8"},L.createElement(_t,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},n.t("connect.status.confirm_mobile",{wallet:r})))))};function lse({onClose:t}){const{connector:e}=z.useContext(o0);return Ir()?e?L.createElement(ase,{onClose:t}):L.createElement(sse,{onClose:t}):L.createElement(tse,{onClose:t})}function cse({onClose:t,open:e}){const n="rk_connect_title",r=jT(),{disconnect:i}=RT(),{isConnecting:o}=Tr(),s=L.useCallback(()=>{t(),i()},[t,i]),a=L.useCallback(()=>{o&&i(),t()},[t,i,o]);return r==="disconnected"?L.createElement(kv,{onClose:a,open:e,titleId:n},L.createElement(Fv,{bottomSheetOnMobile:!0,padding:"0",wide:!0},L.createElement(lse,{onClose:a}))):r==="unauthenticated"?L.createElement(kv,{onClose:s,open:e,titleId:n},L.createElement(Fv,{bottomSheetOnMobile:!0,padding:"0"},L.createElement(Gie,{onClose:s,onCloseModal:t}))):null}function Tx(){const[t,e]=z.useState(!1);return{closeModal:z.useCallback(()=>e(!1),[]),isModalOpen:t,openModal:z.useCallback(()=>e(!0),[])}}var Yf=z.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function use({children:t}){const{closeModal:e,isModalOpen:n,openModal:r}=Tx(),{closeModal:i,isModalOpen:o,openModal:s}=Tx(),{closeModal:a,isModalOpen:l,openModal:c}=Tx(),[u,d]=z.useState(!1),f=jT(),{chainId:h}=Tr(),{chains:p}=yr(),m=p.some(v=>v.id===h),y=z.useCallback(({keepConnectModalOpen:v=!1}={})=>{v||e(),i(),a()},[e,i,a]),g=A1()==="unauthenticated";return bD({onConnect:()=>y({keepConnectModalOpen:g}),onDisconnect:()=>y()}),z.useEffect(()=>{g&&y()},[g,y]),L.createElement(Yf.Provider,{value:z.useMemo(()=>({accountModalOpen:o,chainModalOpen:l,connectModalOpen:n,isWalletConnectModalOpen:u,openAccountModal:m&&f==="connected"?s:void 0,openChainModal:f==="connected"?c:void 0,openConnectModal:f==="disconnected"||f==="unauthenticated"?r:void 0,setIsWalletConnectModalOpen:d}),[f,o,l,n,s,c,r,m,u])},t,L.createElement(cse,{onClose:e,open:n}),L.createElement(voe,{onClose:i,open:o}),L.createElement(Soe,{onClose:a,open:l}))}function dse(){const{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}=z.useContext(Yf);return{accountModalOpen:t,chainModalOpen:e,connectModalOpen:n}}function fse(){const{accountModalOpen:t,openAccountModal:e}=z.useContext(Yf);return{accountModalOpen:t,openAccountModal:e}}function hse(){const{chainModalOpen:t,openChainModal:e}=z.useContext(Yf);return{chainModalOpen:t,openChainModal:e}}function P8(){const{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}=z.useContext(Yf);return{isWalletConnectModalOpen:t,setIsWalletConnectModalOpen:e}}function pse(){const{connectModalOpen:t,openConnectModal:e}=z.useContext(Yf),{isWalletConnectModalOpen:n}=P8();return{connectModalOpen:t||n,openConnectModal:e}}var Mx=()=>{};function e3({children:t}){const e=Qre(),{address:n}=Tr(),{chainId:r}=Tr(),{chains:i}=yr(),o=i.some(G=>G.id===r),s=qre(),a=A1()??void 0,l=r?s[r]:void 0,c=l?.name??void 0,u=l?.iconUrl??void 0,d=l?.iconBackground??void 0,f=_1(u),h=z.useContext(VT),p=e8().some(({status:G})=>G==="pending")&&h,{showBalance:m}=KU(),g=typeof m=="boolean"?m:m?UU(m)[Ir()?"smallScreen":"largeScreen"]:!0,{balance:v,ensAvatar:b,ensName:x}=XU({address:n,includeBalance:g}),I=v?`${h8(Number.parseFloat(v.formatted))} ${v.symbol}`:void 0,{openConnectModal:k}=pse(),{openChainModal:A}=hse(),{openAccountModal:U}=fse(),{accountModalOpen:S,chainModalOpen:N,connectModalOpen:P}=dse();return L.createElement(L.Fragment,null,t({account:n?{address:n,balanceDecimals:v?.decimals,balanceFormatted:v?.formatted,balanceSymbol:v?.symbol,displayBalance:I,displayName:x?m8(x):p8(n),ensAvatar:b??void 0,ensName:x??void 0,hasPendingTransactions:p}:void 0,accountModalOpen:S,authenticationStatus:a,chain:r?{hasIcon:!!u,iconBackground:d,iconUrl:f,id:r,name:c,unsupported:!o}:void 0,chainModalOpen:N,connectModalOpen:P,mounted:e(),openAccountModal:U??Mx,openChainModal:A??Mx,openConnectModal:k??Mx}))}e3.displayName="ConnectButton.Custom";var Xh={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};function Ou({accountStatus:t=Xh.accountStatus,chainStatus:e=Xh.chainStatus,label:n=Xh.label,showBalance:r=Xh.showBalance}){const i=Fu(),o=jT(),{setShowBalance:s}=KU(),[a,l]=z.useState(!1),{i18n:c}=z.useContext(ar);return z.useEffect(()=>{s(r),a||l(!0)},[r,s]),a?L.createElement(e3,null,({account:u,chain:d,mounted:f,openAccountModal:h,openChainModal:p,openConnectModal:m})=>{const y=f&&o!=="loading",g=d?.unsupported??!1;return L.createElement(ne,{display:"flex",gap:"12",...!y&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},y&&u&&o==="connected"?L.createElement(L.Fragment,null,d&&(i.length>1||g)&&L.createElement(ne,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:g?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:g?"connectButtonTextError":"connectButtonText",display:$u(e,v=>v==="none"?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:g?"unsupported":"supported",onClick:p,paddingX:"10",paddingY:"8",testId:g?"wrong-network-button":"chain-button",transition:"default",type:"button"},g?L.createElement(ne,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},c.t("connect_wallet.wrong_network.label")):L.createElement(ne,{alignItems:"center",display:"flex",gap:"6"},d.hasIcon?L.createElement(ne,{display:$u(e,v=>v==="full"||v==="icon"?"block":"none"),height:"24",width:"24"},L.createElement(Cr,{alt:d.name??"Chain icon",background:d.iconBackground,borderRadius:"full",height:"24",src:d.iconUrl,width:"24"})):null,L.createElement(ne,{display:$u(e,v=>v==="icon"&&!d.iconUrl||v==="full"||v==="name"?"block":"none")},d.name??d.id)),L.createElement(tR,null)),!g&&L.createElement(ne,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:h,testId:"account-button",transition:"default",type:"button"},u.displayBalance&&L.createElement(ne,{display:$u(r,v=>v?"block":"none"),padding:"8",paddingLeft:"12"},u.displayBalance),L.createElement(ne,{background:UU(r)[Ir()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},L.createElement(ne,{alignItems:"center",display:"flex",gap:"6",height:"24"},L.createElement(ne,{display:$u(t,v=>v==="full"||v==="avatar"?"block":"none")},L.createElement(VU,{address:u.address,imageUrl:u.ensAvatar,loading:u.hasPendingTransactions,size:24})),L.createElement(ne,{alignItems:"center",display:"flex",gap:"6"},L.createElement(ne,{display:$u(t,v=>v==="full"||v==="address"?"block":"none")},u.displayName),L.createElement(tR,null)))))):L.createElement(ne,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:ir({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:m,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},f&&n==="Connect Wallet"?c.t("connect_wallet.label"):n))}):L.createElement(L.Fragment,null)}Ou.__defaultProps=Xh;Ou.Custom=e3;var N8=({appName:t,appDescription:e,appUrl:n,appIcon:r})=>({name:t,description:e??t,url:n??(typeof window<"u"?window.location.origin:""),icons:[...r?[r]:[]]});function mse(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>n!==void 0))}function gse(t,e){const n=[];for(const r of t)n.some(i=>i[e]===r[e])||n.push(r);return n}var k8=(t,{projectId:e,walletConnectParameters:n,appName:r,appDescription:i,appUrl:o,appIcon:s})=>{if(!t.length)throw new Error("No wallet list was provided");for(const{wallets:h,groupName:p}of t)if(!h.length)throw new Error(`No wallets provided for group: ${p}`);let a=-1;const l=[],c=[],u=[],d=N8({appName:r,appDescription:i,appUrl:o,appIcon:s});for(const[h,{groupName:p,wallets:m}]of t.entries())for(const y of m){a++;const g=y({projectId:e,appName:r,appIcon:s,options:{metadata:d,...n},walletConnectParameters:{metadata:d,...n}});if(g?.iconAccent&&!Ooe(g?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${g.name}`);const v={...g,groupIndex:h+1,groupName:p,index:a};typeof g.hidden=="function"?u.push(v):c.push(v)}const f=gse([...c,...u],"id");for(const{createConnector:h,groupIndex:p,groupName:m,hidden:y,...g}of f){if(typeof y=="function"&&y())continue;const v=I=>({rkDetails:mse({...g,groupIndex:p,groupName:m,isRainbowKitConnector:!0,...I||{}})});g.id==="walletConnect"&&l.push(h(v({isWalletConnectModalConnector:!0,showQrModal:!0})));const x=h(v());l.push(x)}return l},RR=new Map,yse=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=RR.get(o);if(s)return s;const a=E1(i);return RR.set(o,a),a};function vse({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...yse({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function t3({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>vse({projectId:t,walletDetails:r,walletConnectParameters:e})}function F8(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function O8(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function B8({flag:t,namespace:e}){return!!(e&&typeof O8(e)<"u"||t&&typeof F8(t)<"u")}function wse({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=O8(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=F8(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function bse(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...t0(n)(r),...e})}}function L8({flag:t,namespace:e,target:n}){const r=n||wse({flag:t,namespace:e});return bse(r)}var D8=({appName:t,appIcon:e})=>{const n=i=>i,r=ku();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await Ve(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-DnGdeF1T.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=D8,s=r0({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};function xse(t){return!(!t?.isMetaMask||t.isBraveWallet&&!t._events&&!t._state||t.isApexWallet||t.isAvalanche||t.isBackpack||t.isBifrost||t.isBitKeep||t.isBitski||t.isBlockWallet||t.isCoinbaseWallet||t.isDawn||t.isEnkrypt||t.isExodus||t.isFrame||t.isFrontier||t.isGamestop||t.isHyperPay||t.isImToken||t.isKuCoinWallet||t.isMathWallet||t.isNestWallet||t.isOkxWallet||t.isOKExWallet||t.isOneInchIOSWallet||t.isOneInchAndroidWallet||t.isOpera||t.isPhantom||t.isPortal||t.isRabby||t.isRainbow||t.isStatus||t.isTalisman||t.isTally||t.isTokenPocket||t.isTokenary||t.isTrust||t.isTrustWallet||t.isXDEFI||t.isZeal||t.isZerion||t.__seif)}var Ese=({projectId:t,walletConnectParameters:e})=>{const n=B8({flag:"isMetaMask"}),r=!n,i=o=>HT()?o:ku()?`metamask://wc?uri=${encodeURIComponent(o)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await Ve(async()=>{const{default:o}=await import("./metaMaskWallet-SITXT2FV-BlemcphV.js");return{default:o}},[])).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:r?t3({projectId:t,walletConnectParameters:e}):L8({target:typeof window<"u"?window.ethereum?.providers?.find(xse)??window.ethereum:void 0})}},Ase=({projectId:t,walletConnectParameters:e})=>{const n=B8({flag:"isRainbow"}),r=!n,i=o=>HT()?o:ku()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await Ve(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-DUhYus-9.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?t3({projectId:t,walletConnectParameters:e}):L8({flag:"isRainbow"})}},_se=()=>({id:"safe",name:"Safe",iconAccent:"#12ff80",iconBackground:"#fff",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./safeWallet-5MNKTR5Z-D-5imDLD.js");return{default:t}},[])).default,installed:!(typeof window>"u")&&window?.parent!==window,downloadUrls:{},createConnector:t=>e=>({...zT()(e),...t})}),Sse=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await Ve(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-D3lyiczV.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:t3({projectId:t,walletConnectParameters:e})}),Cse=t=>t.reduce((n,r)=>{const i=r.id;return n[i]=la(),n},{}),Tse=({appName:t,appDescription:e,appUrl:n,appIcon:r,wallets:i,projectId:o,...s})=>{const{transports:a,chains:l,...c}=s,u=N8({appName:t,appDescription:e,appUrl:n,appIcon:r}),d=k8(i||[{groupName:"Popular",wallets:[_se,Ase,D8,Ese,Sse]}],{projectId:o,appName:t,appDescription:e,appUrl:n,appIcon:r,walletConnectParameters:{metadata:u}});return hD({connectors:d,chains:l,transports:a||Cse(l),...c})};const U8=z.createContext(),ps=()=>{const t=z.useContext(U8);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Mse=({children:t})=>{const[e,n]=z.useState([]),r=z.useRef(0),i=(l,c="info",u=3e3)=>{const d=`toast-${++r.current}-${Math.random().toString(36).substr(2,9)}-${Date.now()}`;n(f=>[...f,{id:d,message:l,type:c}]),setTimeout(()=>{n(f=>f.filter(h=>h.id!==d))},u)},o=l=>i(l,"success"),s=l=>i(l,"error"),a=l=>i(l,"info");return K(U8.Provider,{value:{showToast:i,showSuccess:o,showError:s,showInfo:a},children:[t,F("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(l=>F("div",{className:`status-message status-${l.type} animate-slide-in`,role:"alert",children:l.message},l.id))})]})},Ise="logger/5.8.0";let PR=!1,NR=!1;const xy={debug:1,default:2,info:2,warning:3,error:4,off:5};let kR=xy.default,Ix=null;function Rse(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const FR=Rse();var $_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})($_||($_={}));var Vo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Vo||(Vo={}));const OR="0123456789abcdef";let Mi=class cr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();xy[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(kR>xy[r])&&console.log.apply(console,n)}debug(...e){this._log(cr.levels.DEBUG,e)}info(...e){this._log(cr.levels.INFO,e)}warn(...e){this._log(cr.levels.WARNING,e)}makeError(e,n,r){if(NR)return this.makeError("censored error",n,{});n||(n=cr.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=OR[c[d]>>4],u+=OR[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case Vo.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Vo.CALL_EXCEPTION:case Vo.INSUFFICIENT_FUNDS:case Vo.MISSING_NEW:case Vo.NONCE_EXPIRED:case Vo.REPLACEMENT_UNDERPRICED:case Vo.TRANSACTION_REPLACED:case Vo.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,cr.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){FR&&this.throwError("platform missing String.prototype.normalize",cr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:FR})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,cr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,cr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,cr.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,cr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",cr.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",cr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",cr.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Ix||(Ix=new cr(Ise)),Ix}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",cr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),PR){if(!e)return;this.globalLogger().throwError("error censorship permanent",cr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}NR=!!e,PR=!!n}static setLogLevel(e){const n=xy[e.toLowerCase()];if(n==null){cr.globalLogger().warn("invalid log level - "+e);return}kR=n}static from(e){return new cr(e)}};Mi.errors=Vo;Mi.levels=$_;const Pse="bytes/5.8.0",Bn=new Mi(Pse);function z8(t){return!!t.toHexString}function Hd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Hd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Nse(t){return Bi(t)&&!(t.length%2)||Jf(t)}function BR(t){return typeof t=="number"&&t==t&&t%1===0}function Jf(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!BR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!BR(n)||n<0||n>=256)return!1}return!0}function qc(t,e){if(e||(e={}),typeof t=="number"){Bn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Hd(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),z8(t)&&(t=t.toHexString()),Bi(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Bn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Hd(new Uint8Array(r))}return Jf(t)?Hd(new Uint8Array(t)):Bn.throwArgumentError("invalid arrayify value","value",t)}function Z_e(t){const e=t.map(i=>qc(i)),n=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);return e.reduce((i,o)=>(r.set(o,i),i+o.length),0),Hd(r)}function e2e(t){let e=qc(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function kse(t,e){t=qc(t),t.length>e&&Bn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Hd(n)}function Bi(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Rx="0123456789abcdef";function ii(t,e){if(e||(e={}),typeof t=="number"){Bn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Rx[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),z8(t))return t.toHexString();if(Bi(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Bn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Jf(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=Rx[(i&240)>>4]+Rx[i&15]}return n}return Bn.throwArgumentError("invalid hexlify value","value",t)}function t2e(t){if(typeof t!="string")t=ii(t);else if(!Bi(t)||t.length%2)return null;return(t.length-2)/2}function n2e(t,e,n){return typeof t!="string"?t=ii(t):(!Bi(t)||t.length%2)&&Bn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function r2e(t){let e="0x";return t.forEach(n=>{e+=ii(n).substring(2)}),e}function Fse(t){const e=j8(ii(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function j8(t){typeof t!="string"&&(t=ii(t)),Bi(t)||Bn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function vp(t,e){for(typeof t!="string"?t=ii(t):Bi(t)||Bn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Bn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function i2e(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Nse(t)){let n=qc(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=ii(n.slice(0,32)),e.s=ii(n.slice(32,64))):n.length===65?(e.r=ii(n.slice(0,32)),e.s=ii(n.slice(32,64)),e.v=n[64]):Bn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Bn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=ii(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=kse(qc(e._vs),32);e._vs=ii(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&Bn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=ii(i);e.s==null?e.s=s:e.s!==s&&Bn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Bn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Bn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Bi(e.r)?Bn.throwArgumentError("signature missing or invalid r","signature",t):e.r=vp(e.r,32),e.s==null||!Bi(e.s)?Bn.throwArgumentError("signature missing or invalid s","signature",t):e.s=vp(e.s,32);const n=qc(e.s);n[0]>=128&&Bn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=ii(n);e._vs&&(Bi(e._vs)||Bn.throwArgumentError("signature invalid _vs","signature",t),e._vs=vp(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&Bn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var n3={exports:{}};n3.exports;(function(t){(function(e,n){function r(B,w){if(!B)throw new Error(w||"Assertion failed")}function i(B,w){B.super_=w;var E=function(){};E.prototype=w.prototype,B.prototype=new E,B.prototype.constructor=B}function o(B,w,E){if(o.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((w==="le"||w==="be")&&(E=w,w=10),this._init(B||0,w||10,E||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=GS.Buffer}catch{}o.isBN=function(w){return w instanceof o?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===o.wordSize&&Array.isArray(w.words)},o.max=function(w,E){return w.cmp(E)>0?w:E},o.min=function(w,E){return w.cmp(E)<0?w:E},o.prototype._init=function(w,E,M){if(typeof w=="number")return this._initNumber(w,E,M);if(typeof w=="object")return this._initArray(w,E,M);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),w=w.toString().replace(/\s+/g,"");var O=0;w[0]==="-"&&(O++,this.negative=1),O<w.length&&(E===16?this._parseHex(w,O,M):(this._parseBase(w,E,O),M==="le"&&this._initArray(this.toArray(),E,M)))},o.prototype._initNumber=function(w,E,M){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},o.prototype._initArray=function(w,E,M){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C,H,W=0;if(M==="be")for(O=w.length-1,C=0;O>=0;O-=3)H=w[O]|w[O-1]<<8|w[O-2]<<16,this.words[C]|=H<<W&67108863,this.words[C+1]=H>>>26-W&67108863,W+=24,W>=26&&(W-=26,C++);else if(M==="le")for(O=0,C=0;O<w.length;O+=3)H=w[O]|w[O+1]<<8|w[O+2]<<16,this.words[C]|=H<<W&67108863,this.words[C+1]=H>>>26-W&67108863,W+=24,W>=26&&(W-=26,C++);return this._strip()};function a(B,w){var E=B.charCodeAt(w);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;r(!1,"Invalid character in "+B)}function l(B,w,E){var M=a(B,E);return E-1>=w&&(M|=a(B,E-1)<<4),M}o.prototype._parseHex=function(w,E,M){this.length=Math.ceil((w.length-E)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C=0,H=0,W;if(M==="be")for(O=w.length-1;O>=E;O-=2)W=l(w,E,O)<<C,this.words[H]|=W&67108863,C>=18?(C-=18,H+=1,this.words[H]|=W>>>26):C+=8;else{var D=w.length-E;for(O=D%2===0?E+1:E;O<w.length;O+=2)W=l(w,E,O)<<C,this.words[H]|=W&67108863,C>=18?(C-=18,H+=1,this.words[H]|=W>>>26):C+=8}this._strip()};function c(B,w,E,M){for(var O=0,C=0,H=Math.min(B.length,E),W=w;W<H;W++){var D=B.charCodeAt(W)-48;O*=M,D>=49?C=D-49+10:D>=17?C=D-17+10:C=D,r(D>=0&&C<M,"Invalid character"),O+=C}return O}o.prototype._parseBase=function(w,E,M){this.words=[0],this.length=1;for(var O=0,C=1;C<=67108863;C*=E)O++;O--,C=C/E|0;for(var H=w.length-M,W=H%O,D=Math.min(H,H-W)+M,T=0,$=M;$<D;$+=O)T=c(w,$,$+O,E),this.imuln(C),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(W!==0){var J=1;for(T=c(w,$,w.length,E),$=0;$<W;$++)J*=E;this.imuln(J),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},o.prototype.copy=function(w){w.words=new Array(this.length);for(var E=0;E<this.length;E++)w.words[E]=this.words[E];w.length=this.length,w.negative=this.negative,w.red=this.red};function u(B,w){B.words=w.words,B.length=w.length,B.negative=w.negative,B.red=w.red}if(o.prototype._move=function(w){u(w,this)},o.prototype.clone=function(){var w=new o(null);return this.copy(w),w},o.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(w,E){w=w||10,E=E|0||1;var M;if(w===16||w==="hex"){M="";for(var O=0,C=0,H=0;H<this.length;H++){var W=this.words[H],D=((W<<O|C)&16777215).toString(16);C=W>>>24-O&16777215,O+=2,O>=26&&(O-=26,H--),C!==0||H!==this.length-1?M=f[6-D.length]+D+M:M=D+M}for(C!==0&&(M=C.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(w===(w|0)&&w>=2&&w<=36){var T=h[w],$=p[w];M="";var J=this.clone();for(J.negative=0;!J.isZero();){var Z=J.modrn($).toString(w);J=J.idivn($),J.isZero()?M=Z+M:M=f[T-Z.length]+Z+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(w,E){return this.toArrayLike(s,w,E)}),o.prototype.toArray=function(w,E){return this.toArrayLike(Array,w,E)};var m=function(w,E){return w.allocUnsafe?w.allocUnsafe(E):new w(E)};o.prototype.toArrayLike=function(w,E,M){this._strip();var O=this.byteLength(),C=M||Math.max(1,O);r(O<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var H=m(w,C),W=E==="le"?"LE":"BE";return this["_toArrayLike"+W](H,O),H},o.prototype._toArrayLikeLE=function(w,E){for(var M=0,O=0,C=0,H=0;C<this.length;C++){var W=this.words[C]<<H|O;w[M++]=W&255,M<w.length&&(w[M++]=W>>8&255),M<w.length&&(w[M++]=W>>16&255),H===6?(M<w.length&&(w[M++]=W>>24&255),O=0,H=0):(O=W>>>24,H+=2)}if(M<w.length)for(w[M++]=O;M<w.length;)w[M++]=0},o.prototype._toArrayLikeBE=function(w,E){for(var M=w.length-1,O=0,C=0,H=0;C<this.length;C++){var W=this.words[C]<<H|O;w[M--]=W&255,M>=0&&(w[M--]=W>>8&255),M>=0&&(w[M--]=W>>16&255),H===6?(M>=0&&(w[M--]=W>>24&255),O=0,H=0):(O=W>>>24,H+=2)}if(M>=0)for(w[M--]=O;M>=0;)w[M--]=0},Math.clz32?o.prototype._countBits=function(w){return 32-Math.clz32(w)}:o.prototype._countBits=function(w){var E=w,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},o.prototype._zeroBits=function(w){if(w===0)return 26;var E=w,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},o.prototype.bitLength=function(){var w=this.words[this.length-1],E=this._countBits(w);return(this.length-1)*26+E};function y(B){for(var w=new Array(B.bitLength()),E=0;E<w.length;E++){var M=E/26|0,O=E%26;w[E]=B.words[M]>>>O&1}return w}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(w+=M,M!==26)break}return w},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},o.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var E=0;E<w.length;E++)this.words[E]=this.words[E]|w.words[E];return this._strip()},o.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},o.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},o.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},o.prototype.iuand=function(w){var E;this.length>w.length?E=w:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&w.words[M];return this.length=E.length,this._strip()},o.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},o.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},o.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},o.prototype.iuxor=function(w){var E,M;this.length>w.length?(E=this,M=w):(E=w,M=this);for(var O=0;O<M.length;O++)this.words[O]=E.words[O]^M.words[O];if(this!==E)for(;O<E.length;O++)this.words[O]=E.words[O];return this.length=E.length,this._strip()},o.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},o.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},o.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},o.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var E=Math.ceil(w/26)|0,M=w%26;this._expand(E),M>0&&E--;for(var O=0;O<E;O++)this.words[O]=~this.words[O]&67108863;return M>0&&(this.words[O]=~this.words[O]&67108863>>26-M),this._strip()},o.prototype.notn=function(w){return this.clone().inotn(w)},o.prototype.setn=function(w,E){r(typeof w=="number"&&w>=0);var M=w/26|0,O=w%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<O:this.words[M]=this.words[M]&~(1<<O),this._strip()},o.prototype.iadd=function(w){var E;if(this.negative!==0&&w.negative===0)return this.negative=0,E=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,E=this.isub(w),w.negative=1,E._normSign();var M,O;this.length>w.length?(M=this,O=w):(M=w,O=this);for(var C=0,H=0;H<O.length;H++)E=(M.words[H]|0)+(O.words[H]|0)+C,this.words[H]=E&67108863,C=E>>>26;for(;C!==0&&H<M.length;H++)E=(M.words[H]|0)+C,this.words[H]=E&67108863,C=E>>>26;if(this.length=M.length,C!==0)this.words[this.length]=C,this.length++;else if(M!==this)for(;H<M.length;H++)this.words[H]=M.words[H];return this},o.prototype.add=function(w){var E;return w.negative!==0&&this.negative===0?(w.negative=0,E=this.sub(w),w.negative^=1,E):w.negative===0&&this.negative!==0?(this.negative=0,E=w.sub(this),this.negative=1,E):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},o.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var E=this.iadd(w);return w.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var M=this.cmp(w);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,C;M>0?(O=this,C=w):(O=w,C=this);for(var H=0,W=0;W<C.length;W++)E=(O.words[W]|0)-(C.words[W]|0)+H,H=E>>26,this.words[W]=E&67108863;for(;H!==0&&W<O.length;W++)E=(O.words[W]|0)+H,H=E>>26,this.words[W]=E&67108863;if(H===0&&W<O.length&&O!==this)for(;W<O.length;W++)this.words[W]=O.words[W];return this.length=Math.max(this.length,W),O!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(w){return this.clone().isub(w)};function g(B,w,E){E.negative=w.negative^B.negative;var M=B.length+w.length|0;E.length=M,M=M-1|0;var O=B.words[0]|0,C=w.words[0]|0,H=O*C,W=H&67108863,D=H/67108864|0;E.words[0]=W;for(var T=1;T<M;T++){for(var $=D>>>26,J=D&67108863,Z=Math.min(T,w.length-1),ce=Math.max(0,T-B.length+1);ce<=Z;ce++){var ie=T-ce|0;O=B.words[ie]|0,C=w.words[ce]|0,H=O*C+J,$+=H/67108864|0,J=H&67108863}E.words[T]=J|0,D=$|0}return D!==0?E.words[T]=D|0:E.length--,E._strip()}var v=function(w,E,M){var O=w.words,C=E.words,H=M.words,W=0,D,T,$,J=O[0]|0,Z=J&8191,ce=J>>>13,ie=O[1]|0,xe=ie&8191,ue=ie>>>13,Ie=O[2]|0,Ge=Ie&8191,Fe=Ie>>>13,At=O[3]|0,oe=At&8191,ct=At>>>13,Tt=O[4]|0,ut=Tt&8191,Ye=Tt>>>13,Nt=O[5]|0,nt=Nt&8191,X=Nt>>>13,V=O[6]|0,de=V&8191,be=V>>>13,Me=O[7]|0,me=Me&8191,j=Me>>>13,_=O[8]|0,R=_&8191,Q=_>>>13,Y=O[9]|0,ee=Y&8191,te=Y>>>13,Be=C[0]|0,Ne=Be&8191,He=Be>>>13,dt=C[1]|0,et=dt&8191,le=dt>>>13,tt=C[2]|0,we=tt&8191,Se=tt>>>13,Je=C[3]|0,ze=Je&8191,at=Je>>>13,dn=C[4]|0,Ft=dn&8191,Mt=dn>>>13,lr=C[5]|0,Kt=lr&8191,re=lr>>>13,pe=C[6]|0,ye=pe&8191,Ce=pe>>>13,Xe=C[7]|0,rt=Xe&8191,Ze=Xe>>>13,ft=C[8]|0,$e=ft&8191,We=ft>>>13,xt=C[9]|0,vt=xt&8191,St=xt>>>13;M.negative=w.negative^E.negative,M.length=19,D=Math.imul(Z,Ne),T=Math.imul(Z,He),T=T+Math.imul(ce,Ne)|0,$=Math.imul(ce,He);var yn=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(yn>>>26)|0,yn&=67108863,D=Math.imul(xe,Ne),T=Math.imul(xe,He),T=T+Math.imul(ue,Ne)|0,$=Math.imul(ue,He),D=D+Math.imul(Z,et)|0,T=T+Math.imul(Z,le)|0,T=T+Math.imul(ce,et)|0,$=$+Math.imul(ce,le)|0;var q=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(q>>>26)|0,q&=67108863,D=Math.imul(Ge,Ne),T=Math.imul(Ge,He),T=T+Math.imul(Fe,Ne)|0,$=Math.imul(Fe,He),D=D+Math.imul(xe,et)|0,T=T+Math.imul(xe,le)|0,T=T+Math.imul(ue,et)|0,$=$+Math.imul(ue,le)|0,D=D+Math.imul(Z,we)|0,T=T+Math.imul(Z,Se)|0,T=T+Math.imul(ce,we)|0,$=$+Math.imul(ce,Se)|0;var se=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(se>>>26)|0,se&=67108863,D=Math.imul(oe,Ne),T=Math.imul(oe,He),T=T+Math.imul(ct,Ne)|0,$=Math.imul(ct,He),D=D+Math.imul(Ge,et)|0,T=T+Math.imul(Ge,le)|0,T=T+Math.imul(Fe,et)|0,$=$+Math.imul(Fe,le)|0,D=D+Math.imul(xe,we)|0,T=T+Math.imul(xe,Se)|0,T=T+Math.imul(ue,we)|0,$=$+Math.imul(ue,Se)|0,D=D+Math.imul(Z,ze)|0,T=T+Math.imul(Z,at)|0,T=T+Math.imul(ce,ze)|0,$=$+Math.imul(ce,at)|0;var ge=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(ge>>>26)|0,ge&=67108863,D=Math.imul(ut,Ne),T=Math.imul(ut,He),T=T+Math.imul(Ye,Ne)|0,$=Math.imul(Ye,He),D=D+Math.imul(oe,et)|0,T=T+Math.imul(oe,le)|0,T=T+Math.imul(ct,et)|0,$=$+Math.imul(ct,le)|0,D=D+Math.imul(Ge,we)|0,T=T+Math.imul(Ge,Se)|0,T=T+Math.imul(Fe,we)|0,$=$+Math.imul(Fe,Se)|0,D=D+Math.imul(xe,ze)|0,T=T+Math.imul(xe,at)|0,T=T+Math.imul(ue,ze)|0,$=$+Math.imul(ue,at)|0,D=D+Math.imul(Z,Ft)|0,T=T+Math.imul(Z,Mt)|0,T=T+Math.imul(ce,Ft)|0,$=$+Math.imul(ce,Mt)|0;var ve=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(ve>>>26)|0,ve&=67108863,D=Math.imul(nt,Ne),T=Math.imul(nt,He),T=T+Math.imul(X,Ne)|0,$=Math.imul(X,He),D=D+Math.imul(ut,et)|0,T=T+Math.imul(ut,le)|0,T=T+Math.imul(Ye,et)|0,$=$+Math.imul(Ye,le)|0,D=D+Math.imul(oe,we)|0,T=T+Math.imul(oe,Se)|0,T=T+Math.imul(ct,we)|0,$=$+Math.imul(ct,Se)|0,D=D+Math.imul(Ge,ze)|0,T=T+Math.imul(Ge,at)|0,T=T+Math.imul(Fe,ze)|0,$=$+Math.imul(Fe,at)|0,D=D+Math.imul(xe,Ft)|0,T=T+Math.imul(xe,Mt)|0,T=T+Math.imul(ue,Ft)|0,$=$+Math.imul(ue,Mt)|0,D=D+Math.imul(Z,Kt)|0,T=T+Math.imul(Z,re)|0,T=T+Math.imul(ce,Kt)|0,$=$+Math.imul(ce,re)|0;var fe=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(fe>>>26)|0,fe&=67108863,D=Math.imul(de,Ne),T=Math.imul(de,He),T=T+Math.imul(be,Ne)|0,$=Math.imul(be,He),D=D+Math.imul(nt,et)|0,T=T+Math.imul(nt,le)|0,T=T+Math.imul(X,et)|0,$=$+Math.imul(X,le)|0,D=D+Math.imul(ut,we)|0,T=T+Math.imul(ut,Se)|0,T=T+Math.imul(Ye,we)|0,$=$+Math.imul(Ye,Se)|0,D=D+Math.imul(oe,ze)|0,T=T+Math.imul(oe,at)|0,T=T+Math.imul(ct,ze)|0,$=$+Math.imul(ct,at)|0,D=D+Math.imul(Ge,Ft)|0,T=T+Math.imul(Ge,Mt)|0,T=T+Math.imul(Fe,Ft)|0,$=$+Math.imul(Fe,Mt)|0,D=D+Math.imul(xe,Kt)|0,T=T+Math.imul(xe,re)|0,T=T+Math.imul(ue,Kt)|0,$=$+Math.imul(ue,re)|0,D=D+Math.imul(Z,ye)|0,T=T+Math.imul(Z,Ce)|0,T=T+Math.imul(ce,ye)|0,$=$+Math.imul(ce,Ce)|0;var Le=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(Le>>>26)|0,Le&=67108863,D=Math.imul(me,Ne),T=Math.imul(me,He),T=T+Math.imul(j,Ne)|0,$=Math.imul(j,He),D=D+Math.imul(de,et)|0,T=T+Math.imul(de,le)|0,T=T+Math.imul(be,et)|0,$=$+Math.imul(be,le)|0,D=D+Math.imul(nt,we)|0,T=T+Math.imul(nt,Se)|0,T=T+Math.imul(X,we)|0,$=$+Math.imul(X,Se)|0,D=D+Math.imul(ut,ze)|0,T=T+Math.imul(ut,at)|0,T=T+Math.imul(Ye,ze)|0,$=$+Math.imul(Ye,at)|0,D=D+Math.imul(oe,Ft)|0,T=T+Math.imul(oe,Mt)|0,T=T+Math.imul(ct,Ft)|0,$=$+Math.imul(ct,Mt)|0,D=D+Math.imul(Ge,Kt)|0,T=T+Math.imul(Ge,re)|0,T=T+Math.imul(Fe,Kt)|0,$=$+Math.imul(Fe,re)|0,D=D+Math.imul(xe,ye)|0,T=T+Math.imul(xe,Ce)|0,T=T+Math.imul(ue,ye)|0,$=$+Math.imul(ue,Ce)|0,D=D+Math.imul(Z,rt)|0,T=T+Math.imul(Z,Ze)|0,T=T+Math.imul(ce,rt)|0,$=$+Math.imul(ce,Ze)|0;var Ke=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,D=Math.imul(R,Ne),T=Math.imul(R,He),T=T+Math.imul(Q,Ne)|0,$=Math.imul(Q,He),D=D+Math.imul(me,et)|0,T=T+Math.imul(me,le)|0,T=T+Math.imul(j,et)|0,$=$+Math.imul(j,le)|0,D=D+Math.imul(de,we)|0,T=T+Math.imul(de,Se)|0,T=T+Math.imul(be,we)|0,$=$+Math.imul(be,Se)|0,D=D+Math.imul(nt,ze)|0,T=T+Math.imul(nt,at)|0,T=T+Math.imul(X,ze)|0,$=$+Math.imul(X,at)|0,D=D+Math.imul(ut,Ft)|0,T=T+Math.imul(ut,Mt)|0,T=T+Math.imul(Ye,Ft)|0,$=$+Math.imul(Ye,Mt)|0,D=D+Math.imul(oe,Kt)|0,T=T+Math.imul(oe,re)|0,T=T+Math.imul(ct,Kt)|0,$=$+Math.imul(ct,re)|0,D=D+Math.imul(Ge,ye)|0,T=T+Math.imul(Ge,Ce)|0,T=T+Math.imul(Fe,ye)|0,$=$+Math.imul(Fe,Ce)|0,D=D+Math.imul(xe,rt)|0,T=T+Math.imul(xe,Ze)|0,T=T+Math.imul(ue,rt)|0,$=$+Math.imul(ue,Ze)|0,D=D+Math.imul(Z,$e)|0,T=T+Math.imul(Z,We)|0,T=T+Math.imul(ce,$e)|0,$=$+Math.imul(ce,We)|0;var gt=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(gt>>>26)|0,gt&=67108863,D=Math.imul(ee,Ne),T=Math.imul(ee,He),T=T+Math.imul(te,Ne)|0,$=Math.imul(te,He),D=D+Math.imul(R,et)|0,T=T+Math.imul(R,le)|0,T=T+Math.imul(Q,et)|0,$=$+Math.imul(Q,le)|0,D=D+Math.imul(me,we)|0,T=T+Math.imul(me,Se)|0,T=T+Math.imul(j,we)|0,$=$+Math.imul(j,Se)|0,D=D+Math.imul(de,ze)|0,T=T+Math.imul(de,at)|0,T=T+Math.imul(be,ze)|0,$=$+Math.imul(be,at)|0,D=D+Math.imul(nt,Ft)|0,T=T+Math.imul(nt,Mt)|0,T=T+Math.imul(X,Ft)|0,$=$+Math.imul(X,Mt)|0,D=D+Math.imul(ut,Kt)|0,T=T+Math.imul(ut,re)|0,T=T+Math.imul(Ye,Kt)|0,$=$+Math.imul(Ye,re)|0,D=D+Math.imul(oe,ye)|0,T=T+Math.imul(oe,Ce)|0,T=T+Math.imul(ct,ye)|0,$=$+Math.imul(ct,Ce)|0,D=D+Math.imul(Ge,rt)|0,T=T+Math.imul(Ge,Ze)|0,T=T+Math.imul(Fe,rt)|0,$=$+Math.imul(Fe,Ze)|0,D=D+Math.imul(xe,$e)|0,T=T+Math.imul(xe,We)|0,T=T+Math.imul(ue,$e)|0,$=$+Math.imul(ue,We)|0,D=D+Math.imul(Z,vt)|0,T=T+Math.imul(Z,St)|0,T=T+Math.imul(ce,vt)|0,$=$+Math.imul(ce,St)|0;var ht=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(ht>>>26)|0,ht&=67108863,D=Math.imul(ee,et),T=Math.imul(ee,le),T=T+Math.imul(te,et)|0,$=Math.imul(te,le),D=D+Math.imul(R,we)|0,T=T+Math.imul(R,Se)|0,T=T+Math.imul(Q,we)|0,$=$+Math.imul(Q,Se)|0,D=D+Math.imul(me,ze)|0,T=T+Math.imul(me,at)|0,T=T+Math.imul(j,ze)|0,$=$+Math.imul(j,at)|0,D=D+Math.imul(de,Ft)|0,T=T+Math.imul(de,Mt)|0,T=T+Math.imul(be,Ft)|0,$=$+Math.imul(be,Mt)|0,D=D+Math.imul(nt,Kt)|0,T=T+Math.imul(nt,re)|0,T=T+Math.imul(X,Kt)|0,$=$+Math.imul(X,re)|0,D=D+Math.imul(ut,ye)|0,T=T+Math.imul(ut,Ce)|0,T=T+Math.imul(Ye,ye)|0,$=$+Math.imul(Ye,Ce)|0,D=D+Math.imul(oe,rt)|0,T=T+Math.imul(oe,Ze)|0,T=T+Math.imul(ct,rt)|0,$=$+Math.imul(ct,Ze)|0,D=D+Math.imul(Ge,$e)|0,T=T+Math.imul(Ge,We)|0,T=T+Math.imul(Fe,$e)|0,$=$+Math.imul(Fe,We)|0,D=D+Math.imul(xe,vt)|0,T=T+Math.imul(xe,St)|0,T=T+Math.imul(ue,vt)|0,$=$+Math.imul(ue,St)|0;var Ct=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,D=Math.imul(ee,we),T=Math.imul(ee,Se),T=T+Math.imul(te,we)|0,$=Math.imul(te,Se),D=D+Math.imul(R,ze)|0,T=T+Math.imul(R,at)|0,T=T+Math.imul(Q,ze)|0,$=$+Math.imul(Q,at)|0,D=D+Math.imul(me,Ft)|0,T=T+Math.imul(me,Mt)|0,T=T+Math.imul(j,Ft)|0,$=$+Math.imul(j,Mt)|0,D=D+Math.imul(de,Kt)|0,T=T+Math.imul(de,re)|0,T=T+Math.imul(be,Kt)|0,$=$+Math.imul(be,re)|0,D=D+Math.imul(nt,ye)|0,T=T+Math.imul(nt,Ce)|0,T=T+Math.imul(X,ye)|0,$=$+Math.imul(X,Ce)|0,D=D+Math.imul(ut,rt)|0,T=T+Math.imul(ut,Ze)|0,T=T+Math.imul(Ye,rt)|0,$=$+Math.imul(Ye,Ze)|0,D=D+Math.imul(oe,$e)|0,T=T+Math.imul(oe,We)|0,T=T+Math.imul(ct,$e)|0,$=$+Math.imul(ct,We)|0,D=D+Math.imul(Ge,vt)|0,T=T+Math.imul(Ge,St)|0,T=T+Math.imul(Fe,vt)|0,$=$+Math.imul(Fe,St)|0;var Rt=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,D=Math.imul(ee,ze),T=Math.imul(ee,at),T=T+Math.imul(te,ze)|0,$=Math.imul(te,at),D=D+Math.imul(R,Ft)|0,T=T+Math.imul(R,Mt)|0,T=T+Math.imul(Q,Ft)|0,$=$+Math.imul(Q,Mt)|0,D=D+Math.imul(me,Kt)|0,T=T+Math.imul(me,re)|0,T=T+Math.imul(j,Kt)|0,$=$+Math.imul(j,re)|0,D=D+Math.imul(de,ye)|0,T=T+Math.imul(de,Ce)|0,T=T+Math.imul(be,ye)|0,$=$+Math.imul(be,Ce)|0,D=D+Math.imul(nt,rt)|0,T=T+Math.imul(nt,Ze)|0,T=T+Math.imul(X,rt)|0,$=$+Math.imul(X,Ze)|0,D=D+Math.imul(ut,$e)|0,T=T+Math.imul(ut,We)|0,T=T+Math.imul(Ye,$e)|0,$=$+Math.imul(Ye,We)|0,D=D+Math.imul(oe,vt)|0,T=T+Math.imul(oe,St)|0,T=T+Math.imul(ct,vt)|0,$=$+Math.imul(ct,St)|0;var pt=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(pt>>>26)|0,pt&=67108863,D=Math.imul(ee,Ft),T=Math.imul(ee,Mt),T=T+Math.imul(te,Ft)|0,$=Math.imul(te,Mt),D=D+Math.imul(R,Kt)|0,T=T+Math.imul(R,re)|0,T=T+Math.imul(Q,Kt)|0,$=$+Math.imul(Q,re)|0,D=D+Math.imul(me,ye)|0,T=T+Math.imul(me,Ce)|0,T=T+Math.imul(j,ye)|0,$=$+Math.imul(j,Ce)|0,D=D+Math.imul(de,rt)|0,T=T+Math.imul(de,Ze)|0,T=T+Math.imul(be,rt)|0,$=$+Math.imul(be,Ze)|0,D=D+Math.imul(nt,$e)|0,T=T+Math.imul(nt,We)|0,T=T+Math.imul(X,$e)|0,$=$+Math.imul(X,We)|0,D=D+Math.imul(ut,vt)|0,T=T+Math.imul(ut,St)|0,T=T+Math.imul(Ye,vt)|0,$=$+Math.imul(Ye,St)|0;var ae=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(ae>>>26)|0,ae&=67108863,D=Math.imul(ee,Kt),T=Math.imul(ee,re),T=T+Math.imul(te,Kt)|0,$=Math.imul(te,re),D=D+Math.imul(R,ye)|0,T=T+Math.imul(R,Ce)|0,T=T+Math.imul(Q,ye)|0,$=$+Math.imul(Q,Ce)|0,D=D+Math.imul(me,rt)|0,T=T+Math.imul(me,Ze)|0,T=T+Math.imul(j,rt)|0,$=$+Math.imul(j,Ze)|0,D=D+Math.imul(de,$e)|0,T=T+Math.imul(de,We)|0,T=T+Math.imul(be,$e)|0,$=$+Math.imul(be,We)|0,D=D+Math.imul(nt,vt)|0,T=T+Math.imul(nt,St)|0,T=T+Math.imul(X,vt)|0,$=$+Math.imul(X,St)|0;var Re=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(Re>>>26)|0,Re&=67108863,D=Math.imul(ee,ye),T=Math.imul(ee,Ce),T=T+Math.imul(te,ye)|0,$=Math.imul(te,Ce),D=D+Math.imul(R,rt)|0,T=T+Math.imul(R,Ze)|0,T=T+Math.imul(Q,rt)|0,$=$+Math.imul(Q,Ze)|0,D=D+Math.imul(me,$e)|0,T=T+Math.imul(me,We)|0,T=T+Math.imul(j,$e)|0,$=$+Math.imul(j,We)|0,D=D+Math.imul(de,vt)|0,T=T+Math.imul(de,St)|0,T=T+Math.imul(be,vt)|0,$=$+Math.imul(be,St)|0;var Te=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(Te>>>26)|0,Te&=67108863,D=Math.imul(ee,rt),T=Math.imul(ee,Ze),T=T+Math.imul(te,rt)|0,$=Math.imul(te,Ze),D=D+Math.imul(R,$e)|0,T=T+Math.imul(R,We)|0,T=T+Math.imul(Q,$e)|0,$=$+Math.imul(Q,We)|0,D=D+Math.imul(me,vt)|0,T=T+Math.imul(me,St)|0,T=T+Math.imul(j,vt)|0,$=$+Math.imul(j,St)|0;var ot=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(ot>>>26)|0,ot&=67108863,D=Math.imul(ee,$e),T=Math.imul(ee,We),T=T+Math.imul(te,$e)|0,$=Math.imul(te,We),D=D+Math.imul(R,vt)|0,T=T+Math.imul(R,St)|0,T=T+Math.imul(Q,vt)|0,$=$+Math.imul(Q,St)|0;var qe=(W+D|0)+((T&8191)<<13)|0;W=($+(T>>>13)|0)+(qe>>>26)|0,qe&=67108863,D=Math.imul(ee,vt),T=Math.imul(ee,St),T=T+Math.imul(te,vt)|0,$=Math.imul(te,St);var it=(W+D|0)+((T&8191)<<13)|0;return W=($+(T>>>13)|0)+(it>>>26)|0,it&=67108863,H[0]=yn,H[1]=q,H[2]=se,H[3]=ge,H[4]=ve,H[5]=fe,H[6]=Le,H[7]=Ke,H[8]=gt,H[9]=ht,H[10]=Ct,H[11]=Rt,H[12]=pt,H[13]=ae,H[14]=Re,H[15]=Te,H[16]=ot,H[17]=qe,H[18]=it,W!==0&&(H[19]=W,M.length++),M};Math.imul||(v=g);function b(B,w,E){E.negative=w.negative^B.negative,E.length=B.length+w.length;for(var M=0,O=0,C=0;C<E.length-1;C++){var H=O;O=0;for(var W=M&67108863,D=Math.min(C,w.length-1),T=Math.max(0,C-B.length+1);T<=D;T++){var $=C-T,J=B.words[$]|0,Z=w.words[T]|0,ce=J*Z,ie=ce&67108863;H=H+(ce/67108864|0)|0,ie=ie+W|0,W=ie&67108863,H=H+(ie>>>26)|0,O+=H>>>26,H&=67108863}E.words[C]=W,M=H,H=O}return M!==0?E.words[C]=M:E.length--,E._strip()}function x(B,w,E){return b(B,w,E)}o.prototype.mulTo=function(w,E){var M,O=this.length+w.length;return this.length===10&&w.length===10?M=v(this,w,E):O<63?M=g(this,w,E):O<1024?M=b(this,w,E):M=x(this,w,E),M},o.prototype.mul=function(w){var E=new o(null);return E.words=new Array(this.length+w.length),this.mulTo(w,E)},o.prototype.mulf=function(w){var E=new o(null);return E.words=new Array(this.length+w.length),x(this,w,E)},o.prototype.imul=function(w){return this.clone().mulTo(w,this)},o.prototype.imuln=function(w){var E=w<0;E&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var M=0,O=0;O<this.length;O++){var C=(this.words[O]|0)*w,H=(C&67108863)+(M&67108863);M>>=26,M+=C/67108864|0,M+=H>>>26,this.words[O]=H&67108863}return M!==0&&(this.words[O]=M,this.length++),this.length=w===0?1:this.length,E?this.ineg():this},o.prototype.muln=function(w){return this.clone().imuln(w)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(w){var E=y(w);if(E.length===0)return new o(1);for(var M=this,O=0;O<E.length&&E[O]===0;O++,M=M.sqr());if(++O<E.length)for(var C=M.sqr();O<E.length;O++,C=C.sqr())E[O]!==0&&(M=M.mul(C));return M},o.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var E=w%26,M=(w-E)/26,O=67108863>>>26-E<<26-E,C;if(E!==0){var H=0;for(C=0;C<this.length;C++){var W=this.words[C]&O,D=(this.words[C]|0)-W<<E;this.words[C]=D|H,H=W>>>26-E}H&&(this.words[C]=H,this.length++)}if(M!==0){for(C=this.length-1;C>=0;C--)this.words[C+M]=this.words[C];for(C=0;C<M;C++)this.words[C]=0;this.length+=M}return this._strip()},o.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},o.prototype.iushrn=function(w,E,M){r(typeof w=="number"&&w>=0);var O;E?O=(E-E%26)/26:O=0;var C=w%26,H=Math.min((w-C)/26,this.length),W=67108863^67108863>>>C<<C,D=M;if(O-=H,O=Math.max(0,O),D){for(var T=0;T<H;T++)D.words[T]=this.words[T];D.length=H}if(H!==0)if(this.length>H)for(this.length-=H,T=0;T<this.length;T++)this.words[T]=this.words[T+H];else this.words[0]=0,this.length=1;var $=0;for(T=this.length-1;T>=0&&($!==0||T>=O);T--){var J=this.words[T]|0;this.words[T]=$<<26-C|J>>>C,$=J&W}return D&&$!==0&&(D.words[D.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(w,E,M){return r(this.negative===0),this.iushrn(w,E,M)},o.prototype.shln=function(w){return this.clone().ishln(w)},o.prototype.ushln=function(w){return this.clone().iushln(w)},o.prototype.shrn=function(w){return this.clone().ishrn(w)},o.prototype.ushrn=function(w){return this.clone().iushrn(w)},o.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var E=w%26,M=(w-E)/26,O=1<<E;if(this.length<=M)return!1;var C=this.words[M];return!!(C&O)},o.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var E=w%26,M=(w-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var O=67108863^67108863>>>E<<E;this.words[this.length-1]&=O}return this._strip()},o.prototype.maskn=function(w){return this.clone().imaskn(w)},o.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},o.prototype._iaddn=function(w){this.words[0]+=w;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},o.prototype.addn=function(w){return this.clone().iaddn(w)},o.prototype.subn=function(w){return this.clone().isubn(w)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(w,E,M){var O=w.length+M,C;this._expand(O);var H,W=0;for(C=0;C<w.length;C++){H=(this.words[C+M]|0)+W;var D=(w.words[C]|0)*E;H-=D&67108863,W=(H>>26)-(D/67108864|0),this.words[C+M]=H&67108863}for(;C<this.length-M;C++)H=(this.words[C+M]|0)+W,W=H>>26,this.words[C+M]=H&67108863;if(W===0)return this._strip();for(r(W===-1),W=0,C=0;C<this.length;C++)H=-(this.words[C]|0)+W,W=H>>26,this.words[C]=H&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(w,E){var M=this.length-w.length,O=this.clone(),C=w,H=C.words[C.length-1]|0,W=this._countBits(H);M=26-W,M!==0&&(C=C.ushln(M),O.iushln(M),H=C.words[C.length-1]|0);var D=O.length-C.length,T;if(E!=="mod"){T=new o(null),T.length=D+1,T.words=new Array(T.length);for(var $=0;$<T.length;$++)T.words[$]=0}var J=O.clone()._ishlnsubmul(C,1,D);J.negative===0&&(O=J,T&&(T.words[D]=1));for(var Z=D-1;Z>=0;Z--){var ce=(O.words[C.length+Z]|0)*67108864+(O.words[C.length+Z-1]|0);for(ce=Math.min(ce/H|0,67108863),O._ishlnsubmul(C,ce,Z);O.negative!==0;)ce--,O.negative=0,O._ishlnsubmul(C,1,Z),O.isZero()||(O.negative^=1);T&&(T.words[Z]=ce)}return T&&T._strip(),O._strip(),E!=="div"&&M!==0&&O.iushrn(M),{div:T||null,mod:O}},o.prototype.divmod=function(w,E,M){if(r(!w.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var O,C,H;return this.negative!==0&&w.negative===0?(H=this.neg().divmod(w,E),E!=="mod"&&(O=H.div.neg()),E!=="div"&&(C=H.mod.neg(),M&&C.negative!==0&&C.iadd(w)),{div:O,mod:C}):this.negative===0&&w.negative!==0?(H=this.divmod(w.neg(),E),E!=="mod"&&(O=H.div.neg()),{div:O,mod:H.mod}):this.negative&w.negative?(H=this.neg().divmod(w.neg(),E),E!=="div"&&(C=H.mod.neg(),M&&C.negative!==0&&C.isub(w)),{div:H.div,mod:C}):w.length>this.length||this.cmp(w)<0?{div:new o(0),mod:this}:w.length===1?E==="div"?{div:this.divn(w.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new o(this.modrn(w.words[0]))}:this._wordDiv(w,E)},o.prototype.div=function(w){return this.divmod(w,"div",!1).div},o.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},o.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},o.prototype.divRound=function(w){var E=this.divmod(w);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(w):E.mod,O=w.ushrn(1),C=w.andln(1),H=M.cmp(O);return H<0||C===1&&H===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modrn=function(w){var E=w<0;E&&(w=-w),r(w<=67108863);for(var M=(1<<26)%w,O=0,C=this.length-1;C>=0;C--)O=(M*O+(this.words[C]|0))%w;return E?-O:O},o.prototype.modn=function(w){return this.modrn(w)},o.prototype.idivn=function(w){var E=w<0;E&&(w=-w),r(w<=67108863);for(var M=0,O=this.length-1;O>=0;O--){var C=(this.words[O]|0)+M*67108864;this.words[O]=C/w|0,M=C%w}return this._strip(),E?this.ineg():this},o.prototype.divn=function(w){return this.clone().idivn(w)},o.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var E=this,M=w.clone();E.negative!==0?E=E.umod(w):E=E.clone();for(var O=new o(1),C=new o(0),H=new o(0),W=new o(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var T=M.clone(),$=E.clone();!E.isZero();){for(var J=0,Z=1;!(E.words[0]&Z)&&J<26;++J,Z<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(O.isOdd()||C.isOdd())&&(O.iadd(T),C.isub($)),O.iushrn(1),C.iushrn(1);for(var ce=0,ie=1;!(M.words[0]&ie)&&ce<26;++ce,ie<<=1);if(ce>0)for(M.iushrn(ce);ce-- >0;)(H.isOdd()||W.isOdd())&&(H.iadd(T),W.isub($)),H.iushrn(1),W.iushrn(1);E.cmp(M)>=0?(E.isub(M),O.isub(H),C.isub(W)):(M.isub(E),H.isub(O),W.isub(C))}return{a:H,b:W,gcd:M.iushln(D)}},o.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var E=this,M=w.clone();E.negative!==0?E=E.umod(w):E=E.clone();for(var O=new o(1),C=new o(0),H=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var W=0,D=1;!(E.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(E.iushrn(W);W-- >0;)O.isOdd()&&O.iadd(H),O.iushrn(1);for(var T=0,$=1;!(M.words[0]&$)&&T<26;++T,$<<=1);if(T>0)for(M.iushrn(T);T-- >0;)C.isOdd()&&C.iadd(H),C.iushrn(1);E.cmp(M)>=0?(E.isub(M),O.isub(C)):(M.isub(E),C.isub(O))}var J;return E.cmpn(1)===0?J=O:J=C,J.cmpn(0)<0&&J.iadd(w),J},o.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var E=this.clone(),M=w.clone();E.negative=0,M.negative=0;for(var O=0;E.isEven()&&M.isEven();O++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var C=E.cmp(M);if(C<0){var H=E;E=M,M=H}else if(C===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(O)},o.prototype.invm=function(w){return this.egcd(w).a.umod(w)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(w){return this.words[0]&w},o.prototype.bincn=function(w){r(typeof w=="number");var E=w%26,M=(w-E)/26,O=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=O,this;for(var C=O,H=M;C!==0&&H<this.length;H++){var W=this.words[H]|0;W+=C,C=W>>>26,W&=67108863,this.words[H]=W}return C!==0&&(this.words[H]=C,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(w){var E=w<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var M;if(this.length>1)M=1;else{E&&(w=-w),r(w<=67108863,"Number is too big");var O=this.words[0]|0;M=O===w?0:O<w?-1:1}return this.negative!==0?-M|0:M},o.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var E=this.ucmp(w);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var O=this.words[M]|0,C=w.words[M]|0;if(O!==C){O<C?E=-1:O>C&&(E=1);break}}return E},o.prototype.gtn=function(w){return this.cmpn(w)===1},o.prototype.gt=function(w){return this.cmp(w)===1},o.prototype.gten=function(w){return this.cmpn(w)>=0},o.prototype.gte=function(w){return this.cmp(w)>=0},o.prototype.ltn=function(w){return this.cmpn(w)===-1},o.prototype.lt=function(w){return this.cmp(w)===-1},o.prototype.lten=function(w){return this.cmpn(w)<=0},o.prototype.lte=function(w){return this.cmp(w)<=0},o.prototype.eqn=function(w){return this.cmpn(w)===0},o.prototype.eq=function(w){return this.cmp(w)===0},o.red=function(w){return new P(w)},o.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(w){return this.red=w,this},o.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},o.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},o.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},o.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},o.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},o.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},o.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},o.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var I={k256:null,p224:null,p192:null,p25519:null};function k(B,w){this.name=B,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var w=new o(null);return w.words=new Array(Math.ceil(this.n/13)),w},k.prototype.ireduce=function(w){var E=w,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var O=M<this.n?-1:E.ucmp(this.p);return O===0?(E.words[0]=0,E.length=1):O>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},k.prototype.split=function(w,E){w.iushrn(this.n,0,E)},k.prototype.imulK=function(w){return w.imul(this.k)};function A(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(A,k),A.prototype.split=function(w,E){for(var M=4194303,O=Math.min(w.length,9),C=0;C<O;C++)E.words[C]=w.words[C];if(E.length=O,w.length<=9){w.words[0]=0,w.length=1;return}var H=w.words[9];for(E.words[E.length++]=H&M,C=10;C<w.length;C++){var W=w.words[C]|0;w.words[C-10]=(W&M)<<4|H>>>22,H=W}H>>>=22,w.words[C-10]=H,H===0&&w.length>10?w.length-=10:w.length-=9},A.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var E=0,M=0;M<w.length;M++){var O=w.words[M]|0;E+=O*977,w.words[M]=E&67108863,E=O*64+(E/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function U(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,k);function S(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(S,k);function N(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(N,k),N.prototype.imulK=function(w){for(var E=0,M=0;M<w.length;M++){var O=(w.words[M]|0)*19+E,C=O&67108863;O>>>=26,w.words[M]=C,E=O}return E!==0&&(w.words[w.length++]=E),w},o._prime=function(w){if(I[w])return I[w];var E;if(w==="k256")E=new A;else if(w==="p224")E=new U;else if(w==="p192")E=new S;else if(w==="p25519")E=new N;else throw new Error("Unknown prime "+w);return I[w]=E,E};function P(B){if(typeof B=="string"){var w=o._prime(B);this.m=w.p,this.prime=w}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}P.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},P.prototype._verify2=function(w,E){r((w.negative|E.negative)===0,"red works only with positives"),r(w.red&&w.red===E.red,"red works only with red numbers")},P.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(u(w,w.umod(this.m)._forceRed(this)),w)},P.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},P.prototype.add=function(w,E){this._verify2(w,E);var M=w.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},P.prototype.iadd=function(w,E){this._verify2(w,E);var M=w.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},P.prototype.sub=function(w,E){this._verify2(w,E);var M=w.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},P.prototype.isub=function(w,E){this._verify2(w,E);var M=w.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},P.prototype.shl=function(w,E){return this._verify1(w),this.imod(w.ushln(E))},P.prototype.imul=function(w,E){return this._verify2(w,E),this.imod(w.imul(E))},P.prototype.mul=function(w,E){return this._verify2(w,E),this.imod(w.mul(E))},P.prototype.isqr=function(w){return this.imul(w,w.clone())},P.prototype.sqr=function(w){return this.mul(w,w)},P.prototype.sqrt=function(w){if(w.isZero())return w.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var M=this.m.add(new o(1)).iushrn(2);return this.pow(w,M)}for(var O=this.m.subn(1),C=0;!O.isZero()&&O.andln(1)===0;)C++,O.iushrn(1);r(!O.isZero());var H=new o(1).toRed(this),W=H.redNeg(),D=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new o(2*T*T).toRed(this);this.pow(T,D).cmp(W)!==0;)T.redIAdd(W);for(var $=this.pow(T,O),J=this.pow(w,O.addn(1).iushrn(1)),Z=this.pow(w,O),ce=C;Z.cmp(H)!==0;){for(var ie=Z,xe=0;ie.cmp(H)!==0;xe++)ie=ie.redSqr();r(xe<ce);var ue=this.pow($,new o(1).iushln(ce-xe-1));J=J.redMul(ue),$=ue.redSqr(),Z=Z.redMul($),ce=xe}return J},P.prototype.invm=function(w){var E=w._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},P.prototype.pow=function(w,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return w.clone();var M=4,O=new Array(1<<M);O[0]=new o(1).toRed(this),O[1]=w;for(var C=2;C<O.length;C++)O[C]=this.mul(O[C-1],w);var H=O[0],W=0,D=0,T=E.bitLength()%26;for(T===0&&(T=26),C=E.length-1;C>=0;C--){for(var $=E.words[C],J=T-1;J>=0;J--){var Z=$>>J&1;if(H!==O[0]&&(H=this.sqr(H)),Z===0&&W===0){D=0;continue}W<<=1,W|=Z,D++,!(D!==M&&(C!==0||J!==0))&&(H=this.mul(H,O[W]),D=0,W=0)}T=26}return H},P.prototype.convertTo=function(w){var E=w.umod(this.m);return E===w?E.clone():E},P.prototype.convertFrom=function(w){var E=w.clone();return E.red=null,E},o.mont=function(w){return new G(w)};function G(B){P.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,P),G.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},G.prototype.convertFrom=function(w){var E=this.imod(w.mul(this.rinv));return E.red=null,E},G.prototype.imul=function(w,E){if(w.isZero()||E.isZero())return w.words[0]=0,w.length=1,w;var M=w.imul(E),O=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=M.isub(O).iushrn(this.shift),H=C;return C.cmp(this.m)>=0?H=C.isub(this.m):C.cmpn(0)<0&&(H=C.iadd(this.m)),H._forceRed(this)},G.prototype.mul=function(w,E){if(w.isZero()||E.isZero())return new o(0)._forceRed(this);var M=w.mul(E),O=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=M.isub(O).iushrn(this.shift),H=C;return C.cmp(this.m)>=0?H=C.isub(this.m):C.cmpn(0)<0&&(H=C.iadd(this.m)),H._forceRed(this)},G.prototype.invm=function(w){var E=this.imod(w._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,qk)})(n3);var Ose=n3.exports;const Bse=Bm(Ose),H8="bignumber/5.8.0";var Ov=Bse.BN;const ca=new Mi(H8),Px={},LR=9007199254740991;function Lse(t){return t!=null&&($t.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Bi(t)||typeof t=="bigint"||Jf(t))}let DR=!1;class $t{constructor(e,n){e!==Px&&ca.throwError("cannot call constructor directly; use BigNumber.from",Mi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return wi(Vt(this).fromTwos(e))}toTwos(e){return wi(Vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?$t.from(this._hex.substring(1)):this}add(e){return wi(Vt(this).add(Vt(e)))}sub(e){return wi(Vt(this).sub(Vt(e)))}div(e){return $t.from(e).isZero()&&mo("division-by-zero","div"),wi(Vt(this).div(Vt(e)))}mul(e){return wi(Vt(this).mul(Vt(e)))}mod(e){const n=Vt(e);return n.isNeg()&&mo("division-by-zero","mod"),wi(Vt(this).umod(n))}pow(e){const n=Vt(e);return n.isNeg()&&mo("negative-power","pow"),wi(Vt(this).pow(n))}and(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&mo("unbound-bitwise-result","and"),wi(Vt(this).and(n))}or(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&mo("unbound-bitwise-result","or"),wi(Vt(this).or(n))}xor(e){const n=Vt(e);return(this.isNegative()||n.isNeg())&&mo("unbound-bitwise-result","xor"),wi(Vt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&mo("negative-width","mask"),wi(Vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&mo("negative-width","shl"),wi(Vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&mo("negative-width","shr"),wi(Vt(this).shrn(e))}eq(e){return Vt(this).eq(Vt(e))}lt(e){return Vt(this).lt(Vt(e))}lte(e){return Vt(this).lte(Vt(e))}gt(e){return Vt(this).gt(Vt(e))}gte(e){return Vt(this).gte(Vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Vt(this).isZero()}toNumber(){try{return Vt(this).toNumber()}catch{mo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ca.throwError("this platform does not support BigInt",Mi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?DR||(DR=!0,ca.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ca.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Mi.errors.UNEXPECTED_ARGUMENT,{}):ca.throwError("BigNumber.toString does not accept parameters",Mi.errors.UNEXPECTED_ARGUMENT,{})),Vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof $t)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new $t(Px,bm(e)):e.match(/^-?[0-9]+$/)?new $t(Px,bm(new Ov(e))):ca.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&mo("underflow","BigNumber.from",e),(e>=LR||e<=-LR)&&mo("overflow","BigNumber.from",e),$t.from(String(e));const n=e;if(typeof n=="bigint")return $t.from(n.toString());if(Jf(n))return $t.from(ii(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return $t.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(Bi(r)||r[0]==="-"&&Bi(r.substring(1))))return $t.from(r)}return ca.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function bm(t){if(typeof t!="string")return bm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ca.throwArgumentError("invalid hex","value",t),t=bm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function wi(t){return $t.from(bm(t))}function Vt(t){const e=$t.from(t).toHexString();return e[0]==="-"?new Ov("-"+e.substring(3),16):new Ov(e.substring(2),16)}function mo(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),ca.throwError(t,Mi.errors.NUMERIC_FAULT,r)}function o2e(t){return new Ov(t,36).toString(16)}const si=new Mi(H8),wp={},G8=$t.from(0),W8=$t.from(-1);function V8(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),si.throwError(t,Mi.errors.NUMERIC_FAULT,i)}let bp="0";for(;bp.length<256;)bp+=bp;function r3(t){if(typeof t!="number")try{t=$t.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+bp.substring(0,t):si.throwArgumentError("invalid decimal size","decimals",t)}function Ey(t,e){e==null&&(e=0);const n=r3(e);t=$t.from(t);const r=t.lt(G8);r&&(t=t.mul(W8));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+i,r&&(t="-"+t),t}function Zs(t,e){e==null&&(e=0);const n=r3(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&si.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&si.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&si.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&V8("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const a=$t.from(o),l=$t.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(W8)),c}class Gd{constructor(e,n,r,i){e!==wp&&si.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Mi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=r3(i),Object.freeze(this)}static from(e){if(e instanceof Gd)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||si.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",r=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&si.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);n=o("signed","boolean",n),r=o("width","number",r),i=o("decimals","number",i)}return r%8&&si.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&si.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Gd(wp,n,r,i)}}class Rr{constructor(e,n,r,i){e!==wp&&si.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Mi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&si.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Zs(this._value,this.format.decimals),r=Zs(e._value,e.format.decimals);return Rr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Zs(this._value,this.format.decimals),r=Zs(e._value,e.format.decimals);return Rr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Zs(this._value,this.format.decimals),r=Zs(e._value,e.format.decimals);return Rr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Zs(this._value,this.format.decimals),r=Zs(e._value,e.format.decimals);return Rr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Rr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(UR.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Rr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(UR.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&si.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Rr.from("1"+bp.substring(0,e),this.format),i=Dse.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&si.throwArgumentError("invalid byte width","width",e);const n=$t.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return vp(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Rr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!Lse(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Rr.fromString(Ey(e,n),Gd.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Gd.from(n),i=Zs(e,r.decimals);!r.signed&&i.lt(G8)&&V8("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=vp(o,r.width/8));const s=Ey(i,r.decimals);return new Rr(wp,o,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Gd.from(n);if(qc(e).length>r.width/8)throw new Error("overflow");let i=$t.from(e);r.signed&&(i=i.fromTwos(r.width));const o=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=Ey(i,r.decimals);return new Rr(wp,o,s,r)}static from(e,n){if(typeof e=="string")return Rr.fromString(e,n);if(Jf(e))return Rr.fromBytes(e,n);try{return Rr.fromValue(e,0,n)}catch(r){if(r.code!==Mi.errors.INVALID_ARGUMENT)throw r}return si.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const UR=Rr.from(1),Dse=Rr.from("0.5"),Use=["wei","kwei","mwei","gwei","szabo","finney","ether"];function zse(t,e){if(typeof e=="string"){const n=Use.indexOf(e);n!==-1&&(e=3*n)}return Ey(t,e??18)}function $8(t,e){return function(){return t.apply(e,arguments)}}const{toString:jse}=Object.prototype,{getPrototypeOf:i3}=Object,{iterator:C1,toStringTag:q8}=Symbol,T1=(t=>e=>{const n=jse.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ms=t=>(t=t.toLowerCase(),e=>T1(e)===t),M1=t=>e=>typeof e===t,{isArray:Zf}=Array,xm=M1("undefined");function Hse(t){return t!==null&&!xm(t)&&t.constructor!==null&&!xm(t.constructor)&&Li(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const K8=ms("ArrayBuffer");function Gse(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&K8(t.buffer),e}const Wse=M1("string"),Li=M1("function"),Q8=M1("number"),I1=t=>t!==null&&typeof t=="object",Vse=t=>t===!0||t===!1,Ay=t=>{if(T1(t)!=="object")return!1;const e=i3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(q8 in t)&&!(C1 in t)},$se=ms("Date"),qse=ms("File"),Kse=ms("Blob"),Qse=ms("FileList"),Xse=t=>I1(t)&&Li(t.pipe),Yse=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Li(t.append)&&((e=T1(t))==="formdata"||e==="object"&&Li(t.toString)&&t.toString()==="[object FormData]"))},Jse=ms("URLSearchParams"),[Zse,eae,tae,nae]=["ReadableStream","Request","Response","Headers"].map(ms),rae=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Zf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function X8(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Y8=t=>!xm(t)&&t!==Bc;function q_(){const{caseless:t}=Y8(this)&&this||{},e={},n=(r,i)=>{const o=t&&X8(e,i)||i;Ay(e[o])&&Ay(r)?e[o]=q_(e[o],r):Ay(r)?e[o]=q_({},r):Zf(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&a0(arguments[r],n);return e}const iae=(t,e,n,{allOwnKeys:r}={})=>(a0(e,(i,o)=>{n&&Li(i)?t[o]=$8(i,n):t[o]=i},{allOwnKeys:r}),t),oae=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sae=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},aae=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&i3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},lae=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cae=t=>{if(!t)return null;if(Zf(t))return t;let e=t.length;if(!Q8(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},uae=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&i3(Uint8Array)),dae=(t,e)=>{const r=(t&&t[C1]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},fae=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},hae=ms("HTMLFormElement"),pae=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),mae=ms("RegExp"),J8=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};a0(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},gae=t=>{J8(t,(e,n)=>{if(Li(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Li(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yae=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Zf(t)?r(t):r(String(t).split(e)),n},vae=()=>{},wae=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bae(t){return!!(t&&Li(t.append)&&t[q8]==="FormData"&&t[C1])}const xae=t=>{const e=new Array(10),n=(r,i)=>{if(I1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Zf(r)?[]:{};return a0(r,(s,a)=>{const l=n(s,i+1);!xm(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},Eae=ms("AsyncFunction"),Aae=t=>t&&(I1(t)||Li(t))&&Li(t.then)&&Li(t.catch),Z8=((t,e)=>t?setImmediate:e?((n,r)=>(Bc.addEventListener("message",({source:i,data:o})=>{i===Bc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Bc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Li(Bc.postMessage)),_ae=typeof queueMicrotask<"u"?queueMicrotask.bind(Bc):typeof process<"u"&&process.nextTick||Z8,Sae=t=>t!=null&&Li(t[C1]),_e={isArray:Zf,isArrayBuffer:K8,isBuffer:Hse,isFormData:Yse,isArrayBufferView:Gse,isString:Wse,isNumber:Q8,isBoolean:Vse,isObject:I1,isPlainObject:Ay,isReadableStream:Zse,isRequest:eae,isResponse:tae,isHeaders:nae,isUndefined:xm,isDate:$se,isFile:qse,isBlob:Kse,isRegExp:mae,isFunction:Li,isStream:Xse,isURLSearchParams:Jse,isTypedArray:uae,isFileList:Qse,forEach:a0,merge:q_,extend:iae,trim:rae,stripBOM:oae,inherits:sae,toFlatObject:aae,kindOf:T1,kindOfTest:ms,endsWith:lae,toArray:cae,forEachEntry:dae,matchAll:fae,isHTMLForm:hae,hasOwnProperty:zR,hasOwnProp:zR,reduceDescriptors:J8,freezeMethods:gae,toObjectSet:yae,toCamelCase:pae,noop:vae,toFiniteNumber:wae,findKey:X8,global:Bc,isContextDefined:Y8,isSpecCompliantForm:bae,toJSONObject:xae,isAsyncFn:Eae,isThenable:Aae,setImmediate:Z8,asap:_ae,isIterable:Sae};function Bt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_e.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const e7=Bt.prototype,t7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{t7[t]={value:t}});Object.defineProperties(Bt,t7);Object.defineProperty(e7,"isAxiosError",{value:!0});Bt.from=(t,e,n,r,i,o)=>{const s=Object.create(e7);return _e.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Bt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Cae=null;function K_(t){return _e.isPlainObject(t)||_e.isArray(t)}function n7(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function jR(t,e,n){return t?t.concat(e).map(function(i,o){return i=n7(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function Tae(t){return _e.isArray(t)&&!t.some(K_)}const Mae=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function R1(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!_e.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(_e.isDate(p))return p.toISOString();if(_e.isBoolean(p))return p.toString();if(!l&&_e.isBlob(p))throw new Bt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(p)||_e.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let g=p;if(p&&!y&&typeof p=="object"){if(_e.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(_e.isArray(p)&&Tae(p)||(_e.isFileList(p)||_e.endsWith(m,"[]"))&&(g=_e.toArray(p)))return m=n7(m),g.forEach(function(b,x){!(_e.isUndefined(b)||b===null)&&e.append(s===!0?jR([m],x,o):s===null?m:m+"[]",c(b))}),!1}return K_(p)?!0:(e.append(jR(y,m,o),c(p)),!1)}const d=[],f=Object.assign(Mae,{defaultVisitor:u,convertValue:c,isVisitable:K_});function h(p,m){if(!_e.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),_e.forEach(p,function(g,v){(!(_e.isUndefined(g)||g===null)&&i.call(e,g,_e.isString(v)?v.trim():v,m,f))===!0&&h(g,m?m.concat(v):[v])}),d.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return h(t),e}function HR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function o3(t,e){this._pairs=[],t&&R1(t,this,e)}const r7=o3.prototype;r7.append=function(e,n){this._pairs.push([e,n])};r7.toString=function(e){const n=e?function(r){return e.call(this,r,HR)}:HR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Iae(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i7(t,e,n){if(!e)return t;const r=n&&n.encode||Iae;_e.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=_e.isURLSearchParams(e)?e.toString():new o3(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class GR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(r){r!==null&&e(r)})}}const o7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rae=typeof URLSearchParams<"u"?URLSearchParams:o3,Pae=typeof FormData<"u"?FormData:null,Nae=typeof Blob<"u"?Blob:null,kae={isBrowser:!0,classes:{URLSearchParams:Rae,FormData:Pae,Blob:Nae},protocols:["http","https","file","blob","url","data"]},s3=typeof window<"u"&&typeof document<"u",Q_=typeof navigator=="object"&&navigator||void 0,Fae=s3&&(!Q_||["ReactNative","NativeScript","NS"].indexOf(Q_.product)<0),Oae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bae=s3&&window.location.href||"http://localhost",Lae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s3,hasStandardBrowserEnv:Fae,hasStandardBrowserWebWorkerEnv:Oae,navigator:Q_,origin:Bae},Symbol.toStringTag,{value:"Module"})),Qr={...Lae,...kae};function Dae(t,e){return R1(t,new Qr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Qr.isNode&&_e.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Uae(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zae(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function s7(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&_e.isArray(i)?i.length:s,l?(_e.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!_e.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&_e.isArray(i[s])&&(i[s]=zae(i[s])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,(r,i)=>{e(Uae(r),i,n,0)}),n}return null}function jae(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const l0={transitional:o7,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=_e.isObject(e);if(o&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return i?JSON.stringify(s7(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Dae(e,this.formSerializer).toString();if((a=_e.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return R1(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),jae(e)):e}],transformResponse:[function(e){const n=this.transitional||l0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Bt.from(a,Bt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qr.classes.FormData,Blob:Qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{l0.headers[t]={}});const Hae=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gae=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Hae[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},WR=Symbol("internals");function Rh(t){return t&&String(t).trim().toLowerCase()}function _y(t){return t===!1||t==null?t:_e.isArray(t)?t.map(_y):String(t)}function Wae(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Vae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nx(t,e,n,r,i){if(_e.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_e.isString(e)){if(_e.isString(r))return e.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(e)}}function $ae(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function qae(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Di=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,c){const u=Rh(l);if(!u)throw new Error("header name must be a non-empty string");const d=_e.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=_y(a))}const s=(a,l)=>_e.forEach(a,(c,u)=>o(c,u,l));if(_e.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(_e.isString(e)&&(e=e.trim())&&!Vae(e))s(Gae(e),n);else if(_e.isObject(e)&&_e.isIterable(e)){let a={},l,c;for(const u of e){if(!_e.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?_e.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Rh(e),e){const r=_e.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Wae(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Rh(e),e){const r=_e.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Nx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Rh(s),s){const a=_e.findKey(r,s);a&&(!n||Nx(r,r[a],a,n))&&(delete r[a],i=!0)}}return _e.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Nx(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return _e.forEach(this,(i,o)=>{const s=_e.findKey(r,o);if(s){n[s]=_y(i),delete n[o];return}const a=e?$ae(o):String(o).trim();a!==o&&delete n[o],n[a]=_y(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[WR]=this[WR]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Rh(s);r[a]||(qae(i,s),r[a]=!0)}return _e.isArray(e)?e.forEach(o):o(e),this}};Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Di.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_e.freezeMethods(Di);function kx(t,e){const n=this||l0,r=e||n,i=Di.from(r.headers);let o=r.data;return _e.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function a7(t){return!!(t&&t.__CANCEL__)}function eh(t,e,n){Bt.call(this,t??"canceled",Bt.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(eh,Bt,{__CANCEL__:!0});function l7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Bt("Request failed with status code "+n.status,[Bt.ERR_BAD_REQUEST,Bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kae(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Qae(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function Xae(t,e){let n=0,r=1e3/e,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const Bv=(t,e,n=3)=>{let r=0;const i=Qae(50,250);return Xae(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},VR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$R=t=>(...e)=>_e.asap(()=>t(...e)),Yae=Qr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qr.origin),Qr.navigator&&/(msie|trident)/i.test(Qr.navigator.userAgent)):()=>!0,Jae=Qr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&s.push("path="+r),_e.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zae(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ele(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function c7(t,e,n){let r=!Zae(e);return t&&(r||n==!1)?ele(t,e):e}const qR=t=>t instanceof Di?{...t}:t;function gu(t,e){e=e||{};const n={};function r(c,u,d,f){return _e.isPlainObject(c)&&_e.isPlainObject(u)?_e.merge.call({caseless:f},c,u):_e.isPlainObject(u)?_e.merge({},u):_e.isArray(u)?u.slice():u}function i(c,u,d,f){if(_e.isUndefined(u)){if(!_e.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function o(c,u){if(!_e.isUndefined(u))return r(void 0,u)}function s(c,u){if(_e.isUndefined(u)){if(!_e.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(qR(c),qR(u),d,!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);_e.isUndefined(f)&&d!==a||(n[u]=f)}),n}const u7=t=>{const e=gu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Di.from(s),e.url=i7(c7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(_e.isFormData(n)){if(Qr.hasStandardBrowserEnv||Qr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Qr.hasStandardBrowserEnv&&(r&&_e.isFunction(r)&&(r=r(e)),r||r!==!1&&Yae(e.url))){const c=i&&o&&Jae.read(o);c&&s.set(i,c)}return e},tle=typeof XMLHttpRequest<"u",nle=tle&&function(t){return new Promise(function(n,r){const i=u7(t);let o=i.data;const s=Di.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,h,p;function m(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function g(){if(!y)return;const b=Di.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),I={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};l7(function(A){n(A),m()},function(A){r(A),m()},I),y=null}"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(g)},y.onabort=function(){y&&(r(new Bt("Request aborted",Bt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Bt("Network Error",Bt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||o7;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new Bt(x,I.clarifyTimeoutError?Bt.ETIMEDOUT:Bt.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&_e.forEach(s.toJSON(),function(x,I){y.setRequestHeader(I,x)}),_e.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),c&&([f,p]=Bv(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,h]=Bv(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=b=>{y&&(r(!b||b.type?new eh(null,t,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=Kae(i.url);if(v&&Qr.protocols.indexOf(v)===-1){r(new Bt("Unsupported protocol "+v+":",Bt.ERR_BAD_REQUEST,t));return}y.send(o||null)})},rle=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Bt?u:new eh(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new Bt(`timeout ${e} of ms exceeded`,Bt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>_e.asap(a),l}},ile=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},ole=async function*(t,e){for await(const n of sle(t))yield*ile(n,e)},sle=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},KR=(t,e,n,r)=>{const i=ole(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},P1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",d7=P1&&typeof ReadableStream=="function",ale=P1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),f7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lle=d7&&f7(()=>{let t=!1;const e=new Request(Qr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),QR=64*1024,X_=d7&&f7(()=>_e.isReadableStream(new Response("").body)),Lv={stream:X_&&(t=>t.body)};P1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lv[e]&&(Lv[e]=_e.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Bt(`Response type '${e}' is not supported`,Bt.ERR_NOT_SUPPORT,r)})})})(new Response);const cle=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(Qr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t)||_e.isArrayBuffer(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await ale(t)).byteLength},ule=async(t,e)=>{const n=_e.toFiniteNumber(t.getContentLength());return n??cle(e)},dle=P1&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=u7(t);c=c?(c+"").toLowerCase():"text";let h=rle([i,o&&o.toAbortSignal()],s),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(l&&lle&&n!=="get"&&n!=="head"&&(y=await ule(u,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(_e.isFormData(r)&&(k=I.headers.get("content-type"))&&u.setContentType(k),I.body){const[A,U]=VR(y,Bv($R(l)));r=KR(I.body,QR,A,U)}}_e.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let v=await fetch(p,f);const b=X_&&(c==="stream"||c==="response");if(X_&&(a||b&&m)){const I={};["status","statusText","headers"].forEach(S=>{I[S]=v[S]});const k=_e.toFiniteNumber(v.headers.get("content-length")),[A,U]=a&&VR(k,Bv($R(a),!0))||[];v=new Response(KR(v.body,QR,A,()=>{U&&U(),m&&m()}),I)}c=c||"text";let x=await Lv[_e.findKey(Lv,c)||"text"](v,t);return!b&&m&&m(),await new Promise((I,k)=>{l7(I,k,{data:x,headers:Di.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(g){throw m&&m(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new Bt("Network Error",Bt.ERR_NETWORK,t,p),{cause:g.cause||g}):Bt.from(g,g&&g.code,t,p)}}),Y_={http:Cae,xhr:nle,fetch:dle};_e.forEach(Y_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XR=t=>`- ${t}`,fle=t=>_e.isFunction(t)||t===null||t===!1,h7={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!fle(n)&&(r=Y_[(s=String(n)).toLowerCase()],r===void 0))throw new Bt(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(XR).join(`
`):" "+XR(o[0]):"as no adapter specified";throw new Bt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Y_};function Fx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new eh(null,t)}function YR(t){return Fx(t),t.headers=Di.from(t.headers),t.data=kx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),h7.getAdapter(t.adapter||l0.adapter)(t).then(function(r){return Fx(t),r.data=kx.call(t,t.transformResponse,r),r.headers=Di.from(r.headers),r},function(r){return a7(r)||(Fx(t),r&&r.response&&(r.response.data=kx.call(t,t.transformResponse,r.response),r.response.headers=Di.from(r.response.headers))),Promise.reject(r)})}const p7="1.10.0",N1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{N1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const JR={};N1.transitional=function(e,n,r){function i(o,s){return"[Axios v"+p7+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Bt(i(s," has been removed"+(n?" in "+n:"")),Bt.ERR_DEPRECATED);return n&&!JR[s]&&(JR[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};N1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function hle(t,e,n){if(typeof t!="object")throw new Bt("options must be an object",Bt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Bt("option "+o+" must be "+l,Bt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Bt("Unknown option "+o,Bt.ERR_BAD_OPTION)}}const Sy={assertOptions:hle,validators:N1},xs=Sy.validators;let Kc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new GR,response:new GR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=gu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Sy.assertOptions(r,{silentJSONParsing:xs.transitional(xs.boolean),forcedJSONParsing:xs.transitional(xs.boolean),clarifyTimeoutError:xs.transitional(xs.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:Sy.assertOptions(i,{encode:xs.function,serialize:xs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sy.assertOptions(n,{baseUrl:xs.spelling("baseURL"),withXsrfToken:xs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&_e.merge(o.common,o[n.method]);o&&_e.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=Di.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const p=[YR.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{u=YR.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=gu(this.defaults,e);const n=c7(e.baseURL,e.url,e.allowAbsoluteUrls);return i7(n,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){Kc.prototype[e]=function(n,r){return this.request(gu(r||{},{method:e,url:n,data:(r||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(gu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Kc.prototype[e]=n(),Kc.prototype[e+"Form"]=n(!0)});let ple=class m7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new eh(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new m7(function(i){e=i}),cancel:e}}};function mle(t){return function(n){return t.apply(null,n)}}function gle(t){return _e.isObject(t)&&t.isAxiosError===!0}const J_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J_).forEach(([t,e])=>{J_[e]=t});function g7(t){const e=new Kc(t),n=$8(Kc.prototype.request,e);return _e.extend(n,Kc.prototype,e,{allOwnKeys:!0}),_e.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return g7(gu(t,i))},n}const Vn=g7(l0);Vn.Axios=Kc;Vn.CanceledError=eh;Vn.CancelToken=ple;Vn.isCancel=a7;Vn.VERSION=p7;Vn.toFormData=R1;Vn.AxiosError=Bt;Vn.Cancel=Vn.CanceledError;Vn.all=function(e){return Promise.all(e)};Vn.spread=mle;Vn.isAxiosError=gle;Vn.mergeConfig=gu;Vn.AxiosHeaders=Di;Vn.formToJSON=t=>s7(_e.isHTMLForm(t)?new FormData(t):t);Vn.getAdapter=h7.getAdapter;Vn.HttpStatusCode=J_;Vn.default=Vn;const{Axios:l2e,AxiosError:c2e,CanceledError:u2e,isCancel:d2e,CancelToken:f2e,VERSION:h2e,all:p2e,Cancel:m2e,isAxiosError:g2e,spread:y2e,toFormData:v2e,AxiosHeaders:w2e,HttpStatusCode:b2e,formToJSON:x2e,getAdapter:E2e,mergeConfig:A2e}=Vn;var Pe;(function(t){t.ETH_MAINNET="eth-mainnet",t.ETH_GOERLI="eth-goerli",t.ETH_SEPOLIA="eth-sepolia",t.ETH_HOLESKY="eth-holesky",t.ETH_HOODI="eth-hoodi",t.OPT_MAINNET="opt-mainnet",t.OPT_GOERLI="opt-goerli",t.OPT_SEPOLIA="opt-sepolia",t.ARB_MAINNET="arb-mainnet",t.ARB_GOERLI="arb-goerli",t.ARB_SEPOLIA="arb-sepolia",t.MATIC_MAINNET="polygon-mainnet",t.MATIC_MUMBAI="polygon-mumbai",t.MATIC_AMOY="polygon-amoy",t.ASTAR_MAINNET="astar-mainnet",t.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",t.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",t.POLYGONZKEVM_CARDONA="polygonzkevm-cardona",t.BASE_MAINNET="base-mainnet",t.BASE_GOERLI="base-goerli",t.BASE_SEPOLIA="base-sepolia",t.ZKSYNC_MAINNET="zksync-mainnet",t.ZKSYNC_SEPOLIA="zksync-sepolia",t.SHAPE_MAINNET="shape-mainnet",t.SHAPE_SEPOLIA="shape-sepolia",t.LINEA_MAINNET="linea-mainnet",t.LINEA_SEPOLIA="linea-sepolia",t.FANTOM_MAINNET="fantom-mainnet",t.FANTOM_TESTNET="fantom-testnet",t.ZETACHAIN_MAINNET="zetachain-mainnet",t.ZETACHAIN_TESTNET="zetachain-testnet",t.ARBNOVA_MAINNET="arbnova-mainnet",t.BLAST_MAINNET="blast-mainnet",t.BLAST_SEPOLIA="blast-sepolia",t.MANTLE_MAINNET="mantle-mainnet",t.MANTLE_SEPOLIA="mantle-sepolia",t.SCROLL_MAINNET="scroll-mainnet",t.SCROLL_SEPOLIA="scroll-sepolia",t.GNOSIS_MAINNET="gnosis-mainnet",t.GNOSIS_CHIADO="gnosis-chiado",t.BNB_MAINNET="bnb-mainnet",t.BNB_TESTNET="bnb-testnet",t.AVAX_MAINNET="avax-mainnet",t.AVAX_FUJI="avax-fuji",t.CELO_MAINNET="celo-mainnet",t.CELO_ALFAJORES="celo-alfajores",t.CELO_BAKLAVA="celo-baklava",t.METIS_MAINNET="metis-mainnet",t.OPBNB_MAINNET="opbnb-mainnet",t.OPBNB_TESTNET="opbnb-testnet",t.BERACHAIN_BARTIO="berachain-bartio",t.BERACHAIN_MAINNET="berachain-mainnet",t.BERACHAIN_BEPOLIA="berachain-bepolia",t.SONEIUM_MAINNET="soneium-mainnet",t.SONEIUM_MINATO="soneium-minato",t.WORLDCHAIN_MAINNET="worldchain-mainnet",t.WORLDCHAIN_SEPOLIA="worldchain-sepolia",t.ROOTSTOCK_MAINNET="rootstock-mainnet",t.ROOTSTOCK_TESTNET="rootstock-testnet",t.FLOW_MAINNET="flow-mainnet",t.FLOW_TESTNET="flow-testnet",t.ZORA_MAINNET="zora-mainnet",t.ZORA_SEPOLIA="zora-sepolia",t.FRAX_MAINNET="frax-mainnet",t.FRAX_SEPOLIA="frax-sepolia",t.POLYNOMIAL_MAINNET="polynomial-mainnet",t.POLYNOMIAL_SEPOLIA="polynomial-sepolia",t.CROSSFI_MAINNET="crossfi-mainnet",t.CROSSFI_TESTNET="crossfi-testnet",t.APECHAIN_MAINNET="apechain-mainnet",t.APECHAIN_CURTIS="apechain-curtis",t.LENS_MAINNET="lens-mainnet",t.LENS_SEPOLIA="lens-sepolia",t.GEIST_MAINNET="geist-mainnet",t.GEIST_POLTER="geist-polter",t.LUMIA_PRISM="lumia-prism",t.LUMIA_TESTNET="lumia-testnet",t.UNICHAIN_MAINNET="unichain-mainnet",t.UNICHAIN_SEPOLIA="unichain-sepolia",t.SONIC_MAINNET="sonic-mainnet",t.SONIC_BLAZE="sonic-blaze",t.XMTP_TESTNET="xmtp-testnet",t.ABSTRACT_MAINNET="abstract-mainnet",t.ABSTRACT_TESTNET="abstract-testnet",t.DEGEN_MAINNET="degen-mainnet",t.INK_MAINNET="ink-mainnet",t.INK_SEPOLIA="ink-sepolia",t.SEI_MAINNET="sei-mainnet",t.SEI_TESTNET="sei-testnet",t.RONIN_MAINNET="ronin-mainnet",t.RONIN_SAIGON="ronin-saigon",t.MONAD_TESTNET="monad-testnet",t.SETTLUS_SEPTESTNET="settlus-septestnet",t.SETTLUS_MAINNET="settlus-mainnet",t.SOLANA_MAINNET="solana-mainnet",t.SOLANA_DEVNET="solana-devnet",t.GENSYN_TESTNET="gensyn-testnet",t.SUPERSEED_MAINNET="superseed-mainnet",t.SUPERSEED_SEPOLIA="superseed-sepolia",t.TEA_SEPOLIA="tea-sepolia",t.ANIME_MAINNET="anime-mainnet",t.ANIME_SEPOLIA="anime-sepolia",t.STORY_MAINNET="story-mainnet",t.STORY_AENEID="story-aeneid",t.MEGAETH_TESTNET="megaeth-testnet"})(Pe||(Pe={}));var xp;(function(t){t.DEFAULT_TOKENS="DEFAULT_TOKENS",t.ERC20="erc20"})(xp||(xp={}));var To;(function(t){t.EXTERNAL="external",t.INTERNAL="internal",t.ERC20="erc20",t.ERC721="erc721",t.ERC1155="erc1155",t.SPECIALNFT="specialnft"})(To||(To={}));var Z_;(function(t){t.TO="TO",t.FROM="FROM"})(Z_||(Z_={}));var ZR;(function(t){t.ASCENDING="asc",t.DESCENDING="desc"})(ZR||(ZR={}));var e2;(function(t){t.VERIFIED="verified",t.APPROVED="approved",t.REQUESTED="requested",t.NOT_REQUESTED="not_requested"})(e2||(e2={}));var Wl;(function(t){t.PENDING_TRANSACTIONS="alchemy_pendingTransactions",t.MINED_TRANSACTIONS="alchemy_minedTransactions"})(Wl||(Wl={}));var eP;(function(t){t.NATIVE="NATIVE",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SPECIAL_NFT="SPECIAL_NFT"})(eP||(eP={}));var tP;(function(t){t.APPROVE="APPROVE",t.TRANSFER="TRANSFER"})(tP||(tP={}));var nP;(function(t){t.ETHERSCAN="ETHERSCAN"})(nP||(nP={}));var rP;(function(t){t.CREATE="CREATE",t.CALL="CALL",t.STATICCALL="STATICCALL",t.DELEGATECALL="DELEGATECALL"})(rP||(rP={}));var iP;(function(t){t.UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETE="COMPLETE",t.ABANDONED="ABANDONED"})(iP||(iP={}));var oP;(function(t){t.V1="V1",t.V2="V2"})(oP||(oP={}));var _s;(function(t){t.MINED_TRANSACTION="MINED_TRANSACTION",t.DROPPED_TRANSACTION="DROPPED_TRANSACTION",t.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",t.NFT_ACTIVITY="NFT_ACTIVITY",t.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",t.GRAPHQL="GRAPHQL"})(_s||(_s={}));var sP;(function(t){t.PENDING="pending",t.LATEST="latest",t.SAFE="safe",t.FINALIZED="finalized",t.EARLIEST="earliest"})(sP||(sP={}));var aP;(function(t){t.CALL_TRACER="callTracer",t.PRESTATE_TRACER="prestateTracer"})(aP||(aP={}));var Zi;(function(t){t.ERC721="ERC721",t.ERC1155="ERC1155",t.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",t.NOT_A_CONTRACT="NOT_A_CONTRACT",t.UNKNOWN="UNKNOWN"})(Zi||(Zi={}));var Dv;(function(t){t.Erc721TooManyOwners="Erc721TooManyOwners",t.Erc721TooManyTokens="Erc721TooManyTokens",t.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",t.MostlyHoneyPotOwners="MostlyHoneyPotOwners",t.OwnedByMostHoneyPots="OwnedByMostHoneyPots",t.LowDistinctOwnersPercent="LowDistinctOwnersPercent",t.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",t.HighHoneyPotPercent="HighHoneyPotPercent",t.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",t.NoSalesActivity="NoSalesActivity",t.HighAirdropPercent="HighAirdropPercent",t.Unknown="Unknown"})(Dv||(Dv={}));var lP;(function(t){t.SPAM="SPAM",t.AIRDROPS="AIRDROPS"})(lP||(lP={}));var cP;(function(t){t.TRANSFERTIME="TRANSFERTIME"})(cP||(cP={}));var ua;(function(t){t.SEAPORT="seaport",t.LOOKSRARE="looksrare",t.X2Y2="x2y2",t.WYVERN="wyvern",t.CRYPTOPUNKS="cryptopunks",t.BLUR="blur",t.UNKNOWN="unknown"})(ua||(ua={}));var Uv;(function(t){t.BUYER="buyer",t.SELLER="seller"})(Uv||(Uv={}));var yl;(function(t){t.DOES_NOT_EXIST="does_not_exist",t.ALREADY_QUEUED="already_queued",t.IN_PROGRESS="in_progress",t.FINISHED="finished",t.QUEUED="queued",t.QUEUE_FAILED="queue_failed"})(yl||(yl={}));var t2;(function(t){t.OPENSEA="OpenSea"})(t2||(t2={}));var uP;(function(t){t.FIVE_MINUTE="5m",t.ONE_HOUR="1h",t.ONE_DAY="1d"})(uP||(uP={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Oe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})}function dP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function as(t){return this instanceof as?(this.v=t,this):new as(t)}function a3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(p){d(o[0][3],p)}}function l(f){f.value instanceof as?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function y7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dP=="function"?dP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}const yle="demo",vle=Pe.ETH_MAINNET,wle=5,ble=0;function xle(t,e){return`https://${t}.g.alchemy.com/v2/${e}`}function Ele(t,e){return`https://${t}.g.alchemy.com/nft/v3/${e}`}function _2e(t,e){return`wss://${t}.g.alchemy.com/v2/${e}`}function Ale(){return"https://dashboard.alchemy.com/api"}function _le(t){return`https://api.g.alchemy.com/prices/v1/${t}`}function Sle(t){return`https://api.g.alchemy.com/data/v1/${t}`}var jt;(function(t){t[t.BASE=0]="BASE",t[t.NFT=1]="NFT",t[t.WEBHOOK=2]="WEBHOOK",t[t.PRICES=3]="PRICES",t[t.PORTFOLIO=4]="PORTFOLIO"})(jt||(jt={}));const S2e={[Pe.ETH_MAINNET]:"mainnet",[Pe.ETH_GOERLI]:"goerli",[Pe.ETH_SEPOLIA]:"sepolia",[Pe.ETH_HOLESKY]:"holesky",[Pe.ETH_HOODI]:"hoodi",[Pe.OPT_MAINNET]:"opt-mainnet",[Pe.OPT_GOERLI]:"optimism-goerli",[Pe.OPT_SEPOLIA]:"optimism-sepolia",[Pe.ARB_MAINNET]:"arbitrum",[Pe.ARB_GOERLI]:"arbitrum-goerli",[Pe.ARB_SEPOLIA]:"arbitrum-sepolia",[Pe.MATIC_MAINNET]:"matic",[Pe.MATIC_MUMBAI]:"maticmum",[Pe.MATIC_AMOY]:"maticamoy",[Pe.SOLANA_MAINNET]:null,[Pe.SOLANA_DEVNET]:null,[Pe.ASTAR_MAINNET]:"astar-mainnet",[Pe.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[Pe.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[Pe.POLYGONZKEVM_CARDONA]:"polygonzkevm-cardona",[Pe.BASE_MAINNET]:"base-mainnet",[Pe.BASE_GOERLI]:"base-goerli",[Pe.BASE_SEPOLIA]:"base-sepolia",[Pe.ZKSYNC_MAINNET]:"zksync-mainnet",[Pe.ZKSYNC_SEPOLIA]:"zksync-sepolia",[Pe.SHAPE_MAINNET]:"shape-mainnet",[Pe.SHAPE_SEPOLIA]:"shape-sepolia",[Pe.LINEA_MAINNET]:"linea-mainnet",[Pe.LINEA_SEPOLIA]:"linea-sepolia",[Pe.FANTOM_MAINNET]:"fantom-mainnet",[Pe.FANTOM_TESTNET]:"fantom-testnet",[Pe.ZETACHAIN_MAINNET]:"zetachain-mainnet",[Pe.ZETACHAIN_TESTNET]:"zetachain-testnet",[Pe.ARBNOVA_MAINNET]:"arbnova-mainnet",[Pe.BLAST_MAINNET]:"blast-mainnet",[Pe.BLAST_SEPOLIA]:"blast-sepolia",[Pe.MANTLE_MAINNET]:"mantle-mainnet",[Pe.MANTLE_SEPOLIA]:"mantle-sepolia",[Pe.SCROLL_MAINNET]:"scroll-mainnet",[Pe.SCROLL_SEPOLIA]:"scroll-sepolia",[Pe.GNOSIS_MAINNET]:"gnosis-mainnet",[Pe.GNOSIS_CHIADO]:"gnosis-chiado",[Pe.BNB_MAINNET]:"bnb-mainnet",[Pe.BNB_TESTNET]:"bnb-testnet",[Pe.AVAX_MAINNET]:"avax-mainnet",[Pe.AVAX_FUJI]:"avax-fuji",[Pe.CELO_MAINNET]:"celo-mainnet",[Pe.CELO_ALFAJORES]:"celo-alfajores",[Pe.CELO_BAKLAVA]:"celo-baklava",[Pe.METIS_MAINNET]:"metis-mainnet",[Pe.OPBNB_MAINNET]:"opbnb-mainnet",[Pe.OPBNB_TESTNET]:"opbnb-testnet",[Pe.BERACHAIN_BARTIO]:"berachain-bartio",[Pe.BERACHAIN_MAINNET]:"berachain-mainnet",[Pe.BERACHAIN_BEPOLIA]:"berachain-bepolia",[Pe.SONEIUM_MAINNET]:"soneium-mainnet",[Pe.SONEIUM_MINATO]:"soneium-minato",[Pe.WORLDCHAIN_MAINNET]:"worldchain-mainnet",[Pe.WORLDCHAIN_SEPOLIA]:"worldchain-sepolia",[Pe.ROOTSTOCK_MAINNET]:"rootstock-mainnet",[Pe.ROOTSTOCK_TESTNET]:"rootstock-testnet",[Pe.FLOW_MAINNET]:"flow-mainnet",[Pe.FLOW_TESTNET]:"flow-testnet",[Pe.ZORA_MAINNET]:"zora-mainnet",[Pe.ZORA_SEPOLIA]:"zora-sepolia",[Pe.FRAX_MAINNET]:"frax-mainnet",[Pe.FRAX_SEPOLIA]:"frax-sepolia",[Pe.POLYNOMIAL_MAINNET]:"polynomial-mainnet",[Pe.POLYNOMIAL_SEPOLIA]:"polynomial-sepolia",[Pe.CROSSFI_MAINNET]:"crossfi-mainnet",[Pe.CROSSFI_TESTNET]:"crossfi-testnet",[Pe.APECHAIN_MAINNET]:"apechain-mainnet",[Pe.APECHAIN_CURTIS]:"apechain-curtis",[Pe.LENS_MAINNET]:"lens-mainnet",[Pe.LENS_SEPOLIA]:"lens-sepolia",[Pe.GEIST_MAINNET]:"geist-mainnet",[Pe.GEIST_POLTER]:"geist-polter",[Pe.LUMIA_PRISM]:"lumia-prism",[Pe.LUMIA_TESTNET]:"lumia-testnet",[Pe.UNICHAIN_MAINNET]:"unichain-mainnet",[Pe.UNICHAIN_SEPOLIA]:"unichain-sepolia",[Pe.SONIC_MAINNET]:"sonic-mainnet",[Pe.SONIC_BLAZE]:"sonic-blaze",[Pe.XMTP_TESTNET]:"xmtp-testnet",[Pe.ABSTRACT_MAINNET]:"abstract-mainnet",[Pe.ABSTRACT_TESTNET]:"abstract-testnet",[Pe.DEGEN_MAINNET]:"degen-mainnet",[Pe.INK_MAINNET]:"ink-mainnet",[Pe.INK_SEPOLIA]:"ink-sepolia",[Pe.SEI_MAINNET]:"sei-mainnet",[Pe.SEI_TESTNET]:"sei-testnet",[Pe.RONIN_MAINNET]:"ronin-mainnet",[Pe.RONIN_SAIGON]:"ronin-saigon",[Pe.MONAD_TESTNET]:"monad-testnet",[Pe.SETTLUS_MAINNET]:"settlus-mainnet",[Pe.SETTLUS_SEPTESTNET]:"settlus-septestnet",[Pe.GENSYN_TESTNET]:"gensyn-testnet",[Pe.SUPERSEED_MAINNET]:"superseed-mainnet",[Pe.SUPERSEED_SEPOLIA]:"superseed-sepolia",[Pe.TEA_SEPOLIA]:"tea-sepolia",[Pe.ANIME_MAINNET]:"anime-mainnet",[Pe.ANIME_SEPOLIA]:"anime-sepolia",[Pe.STORY_MAINNET]:"story-mainnet",[Pe.STORY_AENEID]:"story-aeneid",[Pe.MEGAETH_TESTNET]:"megaeth-testnet"},C2e={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},holesky:{chainId:17e3,name:"holesky"},hoodi:{chainId:560048,name:"hoodi"},"opt-mainnet":{chainId:10,name:"opt-mainnet"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"polygonzkevm-cardona":{chainId:2442,name:"polygonzkevm-cardona"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"},"shape-mainnet":{chainId:360,name:"shape-mainnet"},"shape-sepolia":{chainId:11011,name:"shape-sepolia"},"linea-mainnet":{chainId:59144,name:"linea-mainnet"},"linea-sepolia":{chainId:59141,name:"linea-sepolia"},"fantom-mainnet":{chainId:250,name:"fantom-mainnet"},"fantom-testnet":{chainId:4002,name:"fantom-testnet"},"zetachain-mainnet":{chainId:7e3,name:"zetachain-mainnet"},"zetachain-testnet":{chainId:7001,name:"zetachain-testnet"},"arbnova-mainnet":{chainId:42170,name:"arbnova-mainnet"},"blast-mainnet":{chainId:81457,name:"blast-mainnet"},"blast-sepolia":{chainId:168587773,name:"blast-sepolia"},"mantle-mainnet":{chainId:5e3,name:"mantle-mainnet"},"mantle-sepolia":{chainId:5003,name:"mantle-sepolia"},"scroll-mainnet":{chainId:534352,name:"scroll-mainnet"},"scroll-sepolia":{chainId:534351,name:"scroll-sepolia"},"gnosis-mainnet":{chainId:100,name:"gnosis-mainnet"},"gnosis-chiado":{chainId:10200,name:"gnosis-chiado"},"bnb-mainnet":{chainId:56,name:"bnb-mainnet"},"bnb-testnet":{chainId:97,name:"bnb-testnet"},"avax-mainnet":{chainId:43114,name:"avax-mainnet"},"avax-fuji":{chainId:43113,name:"avax-fuji"},"celo-mainnet":{chainId:42220,name:"celo-mainnet"},"celo-alfajores":{chainId:44787,name:"celo-alfajores"},"celo-baklava":{chainId:62320,name:"celo-baklava"},"metis-mainnet":{chainId:1088,name:"metis-mainnet"},"opbnb-mainnet":{chainId:204,name:"opbnb-mainnet"},"opbnb-testnet":{chainId:5611,name:"opbnb-testnet"},"berachain-bartio":{chainId:80084,name:"berachain-bartio"},"berachain-mainnet":{chainId:80094,name:"berachain-mainnet"},"berachain-bepolia":{chainId:80069,name:"berachain-bepolia"},"soneium-mainnet":{chainId:1868,name:"soneium-mainnet"},"soneium-minato":{chainId:1946,name:"soneium-minato"},"worldchain-mainnet":{chainId:480,name:"worldchain-mainnet"},"worldchain-sepolia":{chainId:4801,name:"worldchain-sepolia"},"rootstock-mainnet":{chainId:30,name:"rootstock-mainnet"},"rootstock-testnet":{chainId:31,name:"rootstock-testnet"},"flow-mainnet":{chainId:747,name:"flow-mainnet"},"flow-testnet":{chainId:545,name:"flow-testnet"},"zora-mainnet":{chainId:7777777,name:"zora-mainnet"},"zora-sepolia":{chainId:999999999,name:"zora-sepolia"},"frax-mainnet":{chainId:252,name:"frax-mainnet"},"frax-sepolia":{chainId:2522,name:"frax-sepolia"},"polynomial-mainnet":{chainId:8008,name:"polynomial-mainnet"},"polynomial-sepolia":{chainId:8009,name:"polynomial-sepolia"},"crossfi-mainnet":{chainId:4158,name:"crossfi-mainnet"},"crossfi-testnet":{chainId:4157,name:"crossfi-testnet"},"apechain-mainnet":{chainId:33139,name:"apechain-mainnet"},"apechain-curtis":{chainId:33111,name:"apechain-curtis"},"lens-mainnet":{chainId:232,name:"lens-mainnet"},"lens-sepolia":{chainId:37111,name:"lens-sepolia"},"geist-mainnet":{chainId:63157,name:"geist-mainnet"},"geist-polter":{chainId:631571,name:"geist-polter"},"lumia-prism":{chainId:994873017,name:"lumia-prism"},"lumia-testnet":{chainId:1952959480,name:"lumia-testnet"},"unichain-mainnet":{chainId:130,name:"unichain-mainnet"},"unichain-sepolia":{chainId:1301,name:"unichain-sepolia"},"sonic-mainnet":{chainId:146,name:"sonic-mainnet"},"sonic-blaze":{chainId:57054,name:"sonic-blaze"},"xmtp-testnet":{chainId:241320161,name:"xmtp-testnet"},"abstract-mainnet":{chainId:2741,name:"abstract-mainnet"},"abstract-testnet":{chainId:11124,name:"abstract-testnet"},"degen-mainnet":{chainId:666666666,name:"degen-mainnet"},"ink-mainnet":{chainId:57073,name:"ink-mainnet"},"ink-sepolia":{chainId:763373,name:"ink-sepolia"},"sei-mainnet":{chainId:1329,name:"sei-mainnet"},"sei-testnet":{chainId:1328,name:"sei-testnet"},"ronin-mainnet":{chainId:2020,name:"ronin-mainnet"},"ronin-saigon":{chainId:2021,name:"ronin-saigon"},"monad-testnet":{chainId:10143,name:"monad-testnet"},"settlus-mainnet":{chainId:5371,name:"settlus-mainnet"},"settlus-septestnet":{chainId:5373,name:"settlus-septestnet"},"gensyn-testnet":{chainId:685685,name:"gensyn-testnet"},"superseed-mainnet":{chainId:5330,name:"superseed-mainnet"},"superseed-sepolia":{chainId:53302,name:"superseed-sepolia"},"tea-sepolia":{chainId:10218,name:"tea-sepolia"},"anime-mainnet":{chainId:69e3,name:"anime-mainnet"},"anime-sepolia":{chainId:6900,name:"anime-sepolia"},"story-mainnet":{chainId:1514,name:"story-mainnet"},"story-aeneid":{chainId:1315,name:"story-aeneid"},"megaeth-testnet":{chainId:6342,name:"megaeth-testnet"}};function T2e(){}const v7="0x",Cle="0x0000000000000000000000000000000000000000";class Tle{constructor(e){this.apiKey=e?.apiKey||yle,this.network=e?.network||vle,this.maxRetries=e?.maxRetries||wle,this.url=e?.url,this.authToken=e?.authToken,this.batchRequests=e?.batchRequests||!1,this.requestTimeout=e?.requestTimeout||ble,this.connectionInfoOverrides=e?.connectionInfoOverrides}_getRequestUrl(e){return this.url!==void 0?this.url:e===jt.NFT?Ele(this.network,this.apiKey):e===jt.WEBHOOK?Ale():e===jt.PRICES?_le(this.apiKey):e===jt.PORTFOLIO?Sle(this.apiKey):xle(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=Oe(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield Ve(()=>import("./alchemy-provider-0066b792-D30ncl2O.js").then(n=>n.a),__vite__mapDeps([8,3]));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=Oe(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield Ve(()=>import("./alchemy-websocket-provider-98da5bb0-CuhxEO_e.js"),__vite__mapDeps([9,8,3]));return new e(this)})),this._baseAlchemyWssProvider}}const Mle="logger/5.7.0";let fP=!1,hP=!1;const Cy={debug:1,default:2,info:2,warning:3,error:4,off:5};let pP=Cy.default,Ox=null;function Ile(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const mP=Ile();var n2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(n2||(n2={}));var $o;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})($o||($o={}));const gP="0123456789abcdef";class On{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();Cy[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(pP>Cy[r])&&console.log.apply(console,n)}debug(...e){this._log(On.levels.DEBUG,e)}info(...e){this._log(On.levels.INFO,e)}warn(...e){this._log(On.levels.WARNING,e)}makeError(e,n,r){if(hP)return this.makeError("censored error",n,{});n||(n=On.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let d=0;d<c.length;d++)u+=gP[c[d]>>4],u+=gP[c[d]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case $o.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case $o.CALL_EXCEPTION:case $o.INSUFFICIENT_FUNDS:case $o.MISSING_NEW:case $o.NONCE_EXPIRED:case $o.REPLACEMENT_UNDERPRICED:case $o.TRANSACTION_REPLACED:case $o.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,On.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){mP&&this.throwError("platform missing String.prototype.normalize",On.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mP})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,On.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,On.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",On.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Ox||(Ox=new On(Mle)),Ox}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),fP){if(!e)return;this.globalLogger().throwError("error censorship permanent",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}hP=!!e,fP=!!n}static setLogLevel(e){const n=Cy[e.toLowerCase()];if(n==null){On.globalLogger().warn("invalid log level - "+e);return}pP=n}static from(e){return new On(e)}}On.errors=$o;On.levels=n2;const Rle="properties/5.7.0";var Ple=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,[])).next())})};const w7=new On(Rle);function Nle(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function b7(t){return Ple(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(o=>({key:r,value:o}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}const kle={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function x7(t){if(t==null||kle[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!x7(r))return!1}return!0}return w7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Fle(t){if(x7(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>yP(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Nle(e,n,yP(r))}return e}return w7.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function yP(t){return Fle(t)}function Ole(t){return $t.from(t).toNumber()}function k1(t){return $t.from(t).toHexString()}function vP(t){return typeof t=="string"?t:Number.isInteger(t)?k1(t):t.toString()}function E7(t,e){return Object.values(e).includes(t)?t:null}function Ble(t){return cn(Object.assign(Object.assign({},c0(t)),{spamClassifications:t.spamClassifications.map(Gle)}))}function Lle(t){return cn(Object.assign(Object.assign({},c0(t)),{displayNft:t.displayNft,image:t.image,totalBalance:t.totalBalance,numDistinctTokensOwned:t.numDistinctTokensOwned,isSpam:t.isSpam}))}function c0(t){var e;return cn(Object.assign(Object.assign({},t),{tokenType:A7(t.tokenType),openSeaMetadata:Object.assign(Object.assign({},t.openSeaMetadata),{safelistRequestStatus:!((e=t.openSeaMetadata)===null||e===void 0)&&e.safelistRequestStatus?E7(t.openSeaMetadata.safelistRequestStatus,e2):null})}))}function Dle(t){return cn(Object.assign(Object.assign({},t),{floorPrice:Object.assign(Object.assign({},t.floorPrice),{marketplace:jle(t.floorPrice.marketplace)})}))}function F1(t,e){return{contractAddress:e||t.contractAddress,tokenId:t.tokenId}}function Bu(t){return cn(Object.assign(Object.assign({},t),{contract:Ble(t.contract),tokenType:A7(t.tokenType),acquiredAt:t.acquiredAt,collection:t.collection,mint:t.mint}))}function Ule(t){return cn({nftSales:t.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:zle(e.marketplace),taker:Hle(e.taker)})),validAt:t.validAt,pageKey:t.pageKey})}function zle(t){switch(t){case"looksrare":return ua.LOOKSRARE;case"seaport":return ua.SEAPORT;case"x2y2":return ua.X2Y2;case"wyvern":return ua.WYVERN;case"cryptopunks":return ua.CRYPTOPUNKS;case"blur":return ua.BLUR;default:return ua.UNKNOWN}}function jle(t){switch(t){case"OpenSea":return t2.OPENSEA;default:return}}function Hle(t){switch(t.toLowerCase()){case"buyer":return Uv.BUYER;case"seller":return Uv.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${t}`)}}function Gle(t){const e=E7(t,Dv);return e??Dv.Unknown}function A7(t){switch(t){case"erc721":case"ERC721":return Zi.ERC721;case"erc1155":case"ERC1155":return Zi.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return Zi.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return Zi.NOT_A_CONTRACT;default:return Zi.UNKNOWN}}const Wle=typeof window<"u"&&window!==null;function cn(t){if(t!=null){if(t.constructor.name==="Object"||Array.isArray(t))for(const e in t)t[e]=cn(t[e]);return t}}function O1(t,e,n="getAssetTransfers"){return Oe(this,void 0,void 0,function*(){const r=yield t.getProvider();return e.fromAddress&&(e.fromAddress=yield r._getAddress(e.fromAddress)),e.toAddress&&(e.toAddress=yield r._getAddress(e.toAddress)),r._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},e),{fromBlock:e.fromBlock!=null?vP(e.fromBlock):void 0,toBlock:e.toBlock!=null?vP(e.toBlock):void 0,maxCount:e.maxCount!=null?k1(e.maxCount):void 0})],n)})}function wP(t,e,n="getTransactionReceipts"){return Oe(this,void 0,void 0,function*(){return(yield t.getProvider())._send("alchemy_getTransactionReceipts",[e],n)})}function Vle(t,e){return Oe(this,void 0,void 0,function*(){const n=yield t.getProvider();yield n.getNetwork();const r=yield b7({filter:$le(t,e)}),i=yield n.send("eth_getLogs",[r.filter]);return i.forEach(o=>{o.removed==null&&(o.removed=!1)}),qle(n.formatter.filterLog.bind(n.formatter))(i)})}function $le(t,e){return Oe(this,void 0,void 0,function*(){const n=yield t.getProvider(),r=yield e;let i={};return["blockHash","topics"].forEach(o=>{r[o]!=null&&(i[o]=r[o])}),["fromBlock","toBlock"].forEach(o=>{r[o]!=null&&(i[o]=n._getBlockTag(r[o]))}),i=n.formatter.filter(yield b7(i)),Array.isArray(r.address)?i.address=yield Promise.all(r.address.map(o=>Oe(this,void 0,void 0,function*(){return n._getAddress(o)}))):r.address!=null&&(i.address=yield n._getAddress(r.address)),i})}function qle(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const n=[];return e.forEach(r=>{n.push(t(r))}),n}}class Kle{constructor(e){this.config=e}getBalance(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBalance(e,n)})}isContractAddress(e){return Oe(this,void 0,void 0,function*(){return(yield(yield this.config.getProvider()).getCode(e))!=="0x"})}getCode(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getCode(e,n)})}getStorageAt(e,n,r){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getStorageAt(e,n,r)})}getTransactionCount(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionCount(e,n)})}getBlock(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlock(e)})}getBlockWithTransactions(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockWithTransactions(e)})}getNetwork(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getNetwork()})}getBlockNumber(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getBlockNumber()})}getGasPrice(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getGasPrice()})}getFeeData(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getFeeData()})}ready(){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).ready})}call(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).call(e,n)})}estimateGas(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}getTransactionReceipt(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransactionReceipt(e)})}sendTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}waitForTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}getLogs(e){return Oe(this,void 0,void 0,function*(){return Vle(this.config,e)})}send(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).send(e,n)})}findContractDeployer(e){var n;return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r.getBlockNumber();if((yield r.getCode(e,i))===v7)throw new Error(`Contract '${e}' does not exist`);const o=yield r2(0,i+1,e,this.config),a=(n=(yield wP(this.config,{blockNumber:k1(o)},"findContractDeployer")).receipts)===null||n===void 0?void 0:n.find(l=>l.contractAddress===e.toLowerCase());return{deployerAddress:a?.from,blockNumber:o}})}getTokenBalances(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=yield r._getAddress(e);if(Array.isArray(n)){if(n.length>1500)throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(n.length===0)throw new Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[i,n],"getTokenBalances")}else{const o=n===void 0?xp.ERC20:n.type,s=[i,o];return n?.type===xp.ERC20&&n.pageKey&&s.push({pageKey:n.pageKey}),r._send("alchemy_getTokenBalances",s,"getTokenBalances")}})}getTokensForOwner(e,n){var r;return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),s=[yield i._getAddress(e),(r=n?.contractAddresses)!==null&&r!==void 0?r:xp.ERC20];n?.pageKey&&s.push({pageKey:n.pageKey});const a=yield i._send("alchemy_getTokenBalances",s,"getTokensForOwner"),l=a.tokenBalances.map(f=>({contractAddress:f.contractAddress,rawBalance:$t.from(f.tokenBalance).toString()})),u=(yield Promise.allSettled(a.tokenBalances.map(f=>i._send("alchemy_getTokenMetadata",[f.contractAddress],"getTokensForOwner")))).map(f=>f.status==="fulfilled"?f.value:{name:null,symbol:null,decimals:null,logo:null});return{tokens:l.map((f,h)=>Object.assign(Object.assign(Object.assign({},f),u[h]),{balance:u[h].decimals!==null?zse(f.rawBalance,u[h].decimals):void 0})).map(f=>cn(f)),pageKey:a.pageKey}})}getTokenMetadata(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return Oe(this,void 0,void 0,function*(){return O1(this.config,e)})}getTransactionReceipts(e){return Oe(this,void 0,void 0,function*(){return wP(this.config,e)})}resolveName(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).resolveName(e)})}lookupAddress(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).lookupAddress(e)})}}function r2(t,e,n,r){return Oe(this,void 0,void 0,function*(){if(t>=e)return e;const i=Math.floor((t+e)/2);return(yield(yield r.getProvider()).getCode(n,i))===v7?r2(i+1,e,n,r):r2(t,i,n,r)})}class Qle{constructor(e){this.config=e}traceCall(e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,n,ng(r)];return i._send("debug_traceCall",o,"traceCall")})}traceTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=[e,ng(n,r)];return i._send("debug_traceTransaction",o,"traceTransaction")})}traceBlock(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider();let i,o;return Bi(e,32)?(i="debug_traceBlockByHash",o=[e,ng(n)]):(i="debug_traceBlockByNumber",o=[typeof e=="number"?j8(Fse(e)):e,ng(n)]),r._send(i,o,"traceBlock")})}}function ng(t,e){return Object.assign({tracer:t.type},t.onlyTopCall!==void 0&&{tracerConfig:{onlyTopCall:t.onlyTopCall,timeout:e}})}function Xle(t){if(t===Zi.ERC1155||t===Zi.ERC721)return t}var Fr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.SILENT=4]="SILENT"})(Fr||(Fr={}));Fr.DEBUG,Fr.INFO,Fr.WARN,Fr.ERROR,Fr.SILENT;const Yle={[Fr.DEBUG]:"log",[Fr.INFO]:"info",[Fr.WARN]:"warn",[Fr.ERROR]:"error"},Jle=Fr.INFO;function _7(t,...e){l3.debug(t,e)}function bP(t,...e){l3.info(t,e)}function M2e(t,...e){l3.warn(t,e)}class Zle{constructor(){this._logLevel=Jle}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(Fr.DEBUG,...e)}info(...e){this._log(Fr.INFO,...e)}warn(...e){this._log(Fr.WARN,...e)}error(...e){this._log(Fr.ERROR,...e)}_log(e,...n){if(e<this._logLevel)return;const r=new Date().toISOString(),i=Yle[e];if(i)console[i](`[${r}] Alchemy:`,...n.map(ece));else throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}function ece(t){if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return t}}const l3=new Zle,tce="3.6.0";function nce(t,e,n,r,i){var o;const s=t+"/"+e,a=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},i?.headers),!Wle&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":tce,"Alchemy-Ethers-Sdk-Method":n}),method:(o=i?.method)!==null&&o!==void 0?o:"GET",url:s,params:r});return Vn(a)}const rce=1e3,ice=1.5,oce=30*1e3,sce=5;class ace{constructor(e=sce){this.maxAttempts=e,this.initialDelayMs=rce,this.backoffMultiplier=ice,this.maxDelayMs=oce,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(new Error("A backoff operation is already in progress"));const e=this.withJitterMs(this.currentDelayMs);return e>0&&_7("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(n=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,n()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function nn(t,e,n,r,i,o){return Oe(this,void 0,void 0,function*(){let s;const a=new ace(t.maxRetries);for(let l=0;l<t.maxRetries+1;l++)try{s!==void 0&&bP("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch{break}const c=yield nce(t._getRequestUrl(e),n,r,i,Object.assign(Object.assign({},o),{timeout:t.requestTimeout}));if(c.status===200)return _7(n,`Successful request: ${n}`),c.data;bP(n,`Request failed: ${n}, ${c.status}, ${c.data}`),s=new Error(c.status+": "+c.data)}catch(c){if(!Vn.isAxiosError(c)||c.response===void 0)throw c;if(s=new Error(c.response.status+": "+JSON.stringify(c.response.data)),!lce(c,e))break}return Promise.reject(s)})}function lce(t,e){const n=e===jt.WEBHOOK?[429,500]:[429];return t.response!==void 0&&n.includes(t.response.status)}function S7(t,e,n,r,i,o,s){return a3(this,arguments,function*(){let l=!0;const c=Object.assign({},s);for(;l;){const u=yield as(nn(t,e,n,r,c));yield yield as(u),u[o]!==null?c[i]=u[o]:l=!1}})}function C7(t,e,n,r,i="getNftMetadata"){return Oe(this,void 0,void 0,function*(){const o=yield nn(t,jt.NFT,"getNFTMetadata",i,{contractAddress:e,tokenId:$t.from(n).toString(),tokenType:Xle(r?.tokenType),tokenUriTimeoutInMs:r?.tokenUriTimeoutInMs,refreshCache:r?.refreshCache});return Bu(o)})}function T7(t,e,n){return Oe(this,void 0,void 0,function*(){const r={tokens:e,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,refreshCache:n?.refreshCache};return{nfts:(yield nn(t,jt.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:r})).nfts.map(o=>Bu(o))}})}function cce(t,e,n="getContractMetadata"){return Oe(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"getContractMetadata",n,{contractAddress:e});return c0(r)})}function uce(t,e){return Oe(this,void 0,void 0,function*(){return{contracts:(yield nn(t,jt.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:e}})).contracts.map(c0)}})}function dce(t,e,n="getCollectionMetadata"){return Oe(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"getCollectionMetadata",n,{collectionSlug:e});return Dle(r)})}function fce(t,e,n,r="getNftsForOwnerIterator"){return a3(this,arguments,function*(){var o,s;const a=B1(n?.omitMetadata);try{for(var l=y7(S7(t,jt.NFT,"getNFTsForOwner",r,"pageKey","pageKey",{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,withMetadata:a,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy})),c;c=yield as(l.next()),!c.done;){const u=c.value;for(const d of u.ownedNfts)yield yield as(Object.assign(Object.assign({},Oce(d)),{balance:d.balance}))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield as(s.call(l)))}finally{if(o)throw o.error}}})}function i2(t,e,n,r="getNftsForOwner"){return Oe(this,void 0,void 0,function*(){const i=B1(n?.omitMetadata),o=yield nn(t,jt.NFT,"getNFTsForOwner",r,{contractAddresses:n?.contractAddresses,pageKey:n?.pageKey,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,owner:e,pageSize:n?.pageSize,withMetadata:i,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs,orderBy:n?.orderBy});return cn(i?{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},Bu(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}:{ownedNfts:o.ownedNfts.map(s=>Object.assign(Object.assign({},F1(s)),{balance:s.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function hce(t,e,n,r="getNftsForContract"){var i;return Oe(this,void 0,void 0,function*(){const o=B1(n?.omitMetadata),s=yield nn(t,jt.NFT,"getNFTsForContract",r,{contractAddress:e,pageKey:n?.pageKey,withMetadata:o,limit:(i=n?.pageSize)!==null&&i!==void 0?i:void 0,tokenUriTimeoutInMs:n?.tokenUriTimeoutInMs});return cn(o?{nfts:s.nfts.map(a=>Bu(a)),pageKey:s.pageKey}:{nfts:s.nfts.map(a=>F1(a,e)),pageKey:s.pageKey})})}function pce(t,e,n,r="getNftsForContractIterator"){return a3(this,arguments,function*(){var o,s;const a=B1(n?.omitMetadata);try{for(var l=y7(S7(t,jt.NFT,"getNFTsForContract",r,"pageKey","pageKey",{contractAddress:e,pageKey:n?.pageKey,withMetadata:a})),c;c=yield as(l.next()),!c.done;){const u=c.value;for(const d of u.nfts)yield yield as(Bce(d,e))}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=l.return)&&(yield as(s.call(l)))}finally{if(o)throw o.error}}})}function mce(t,e,n,r="getOwnersForContract"){return Oe(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"getOwnersForContract",r,Object.assign(Object.assign({},n),{contractAddress:e}));return n?.withTokenBalances?cn({owners:i.owners,pageKey:i.pageKey}):cn({owners:i.owners,pageKey:i.pageKey})})}function gce(t,e,n,r="getContractsForOwner"){return Oe(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"getContractsForOwner",r,{owner:e,excludeFilters:n?.excludeFilters,includeFilters:n?.includeFilters,pageKey:n?.pageKey,pageSize:n?.pageSize,orderBy:n?.orderBy});return cn({contracts:i.contracts.map(Lle),pageKey:i.pageKey,totalCount:i.totalCount})})}function yce(t,e,n,r,i="getOwnersForNft"){return Oe(this,void 0,void 0,function*(){return nn(t,jt.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:e,tokenId:$t.from(n).toString()},r))})}function vce(t,e,n){return Oe(this,void 0,void 0,function*(){const i=yield(yield t.getProvider())._getAddress(e),o=M7(n?.tokenType),s={fromBlock:"0x0",fromAddress:Cle,toAddress:i,excludeZeroValue:!0,contractAddresses:n?.contractAddresses,category:o,maxCount:100,pageKey:n?.pageKey},a=yield O1(t,s,"getMintedNfts");return c3(t,a)})}function wce(t,e,n,r){return Oe(this,void 0,void 0,function*(){const o=yield(yield t.getProvider())._getAddress(e),s=M7(r?.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:r?.contractAddresses,category:s,maxCount:100,pageKey:r?.pageKey};n===Z_.TO?a.toAddress=o:a.fromAddress=o;const l=yield O1(t,a,"getTransfersForOwner");return c3(t,l)})}function bce(t,e,n){return Oe(this,void 0,void 0,function*(){const r=[To.ERC721,To.ERC1155,To.SPECIALNFT],i=yield t.getProvider(),o=n?.fromBlock?i.formatter.blockTag(yield i._getBlockTag(n.fromBlock)):"0x0",s=n?.toBlock?i.formatter.blockTag(yield i._getBlockTag(n.toBlock)):void 0,a={fromBlock:o,toBlock:s,excludeZeroValue:!0,contractAddresses:[e],order:n?.order,category:r,maxCount:100,pageKey:n?.pageKey},l=yield O1(t,a,"getTransfersForContract");return c3(t,l)})}function M7(t){switch(t){case Zi.ERC721:return[To.ERC721];case Zi.ERC1155:return[To.ERC1155];default:return[To.ERC721,To.ERC1155,To.SPECIALNFT]}}function xce(t){return t.erc1155Metadata.map(e=>({contractAddress:t.rawContract.address,tokenId:e.tokenId,tokenType:Zi.ERC1155}))}function Ece(t,e,n,r="verifyNftOwnership"){return Oe(this,void 0,void 0,function*(){if(typeof n=="string")return(yield i2(t,e,{contractAddresses:[n],omitMetadata:!0},r)).ownedNfts.length>0;{if(n.length===0)throw new Error("Must provide at least one contract address");const i=yield i2(t,e,{contractAddresses:n,omitMetadata:!0},r),o=n.reduce((s,a)=>(s[a]=!1,s),{});for(const s of i.ownedNfts)o[s.contractAddress]=!0;return o}})}function Ace(t,e,n="isSpamContract"){return Oe(this,void 0,void 0,function*(){return nn(t,jt.NFT,"isSpamContract",n,{contractAddress:e})})}function _ce(t,e="getSpamContracts"){return Oe(this,void 0,void 0,function*(){return nn(t,jt.NFT,"getSpamContracts",e,void 0)})}function Sce(t,e,n="reportSpam"){return Oe(this,void 0,void 0,function*(){nn(t,jt.NFT,"reportSpam",n,{contractAddress:e})})}function Cce(t,e,n,r="isAirdropNft"){return Oe(this,void 0,void 0,function*(){return nn(t,jt.NFT,"isAirdropNFT",r,{contractAddress:e,tokenId:n})})}function Tce(t,e,n="getFloorPrice"){return Oe(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"getFloorPrice",n,{contractAddress:e});return cn(r)})}function Mce(t,e={},n="getNftSales"){return Oe(this,void 0,void 0,function*(){const r=Object.assign({},e),i=yield nn(t,jt.NFT,"getNFTSales",n,{fromBlock:r?.fromBlock,toBlock:r?.toBlock,order:r?.order,marketplace:r?.marketplace,contractAddress:r?.contractAddress,tokenId:r?.tokenId?$t.from(r?.tokenId).toString():void 0,sellerAddress:r?.sellerAddress,buyerAddress:r?.buyerAddress,taker:r?.taker,limit:r?.limit,pageKey:r?.pageKey});return Ule(i)})}function Ice(t,e,n,r="computeRarity"){return Oe(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"computeRarity",r,{contractAddress:e,tokenId:$t.from(n).toString()});return cn(i)})}function Rce(t,e,n="searchContractMetadata"){return Oe(this,void 0,void 0,function*(){return{contracts:(yield nn(t,jt.NFT,"searchContractMetadata",n,{query:e})).contracts.map(c0)}})}function Pce(t,e,n="summarizeNftAttributes"){return Oe(this,void 0,void 0,function*(){return nn(t,jt.NFT,"summarizeNFTAttributes",n,{contractAddress:e})})}function Nce(t,e,n,r="refreshNftMetadata"){return Oe(this,void 0,void 0,function*(){const i=$t.from(n).toString(),o=yield C7(t,e,i,void 0,r),s=yield Fce(t,e,i,r);return o.timeLastUpdated!==s.timeLastUpdated})}function kce(t,e,n="refreshContract"){return Oe(this,void 0,void 0,function*(){const r=yield nn(t,jt.NFT,"reingestContract",n,{contractAddress:e});return{contractAddress:r.contractAddress,refreshState:Dce(r.reingestionState),progress:r.progress}})}function Fce(t,e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield nn(t,jt.NFT,"getNFTMetadata",r,{contractAddress:e,tokenId:$t.from(n).toString(),refreshCache:!0});return Bu(i)})}function Oce(t){return I7(t)?Bu(t):F1(t)}function Bce(t,e){return I7(t)?Bu(t):F1(t,e)}function I7(t){return t.name!==void 0}function c3(t,e){return Oe(this,void 0,void 0,function*(){const n=e.transfers.filter(c=>c.rawContract.address!==null).flatMap(c=>{var u;const d=Lce(c),f={from:c.from,to:(u=c.to)!==null&&u!==void 0?u:void 0,transactionHash:c.hash,blockNumber:c.blockNum};return d.map(h=>({metadata:f,token:h}))});if(n.length===0)return{nfts:[]};const r=100,i=[];for(let c=0;c<n.length;c+=r)i.push(n.slice(c,c+r));const s=(yield Promise.all(i.map(c=>T7(t,c.map(u=>u.token))))).map(c=>c.nfts).flat(),a=new Map;return s.forEach(c=>{const u=`${c.contract.address.toLowerCase()}-${$t.from(c.tokenId).toString()}`;a.set(u,c)}),{nfts:n.map(c=>{const u=`${c.token.contractAddress.toLowerCase()}-${$t.from(c.token.tokenId).toString()}`;return Object.assign(Object.assign({},a.get(u)),c.metadata)}),pageKey:e.pageKey}})}function Lce(t){return t.category===To.ERC1155?xce(t):[{contractAddress:t.rawContract.address,tokenId:t.tokenId,tokenType:t.category===To.ERC721?Zi.ERC721:void 0}]}function B1(t){return t===void 0?!0:!t}function Dce(t){switch(t){case"does_not_exist":return yl.DOES_NOT_EXIST;case"already_queued":return yl.ALREADY_QUEUED;case"in_progress":return yl.IN_PROGRESS;case"finished":return yl.FINISHED;case"queued":return yl.QUEUED;case"queue_failed":return yl.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+t)}}class Uce{constructor(e){this.config=e}getNftMetadata(e,n,r,i){let o;return typeof r=="object"?o={tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:o={tokenType:r,tokenUriTimeoutInMs:i},C7(this.config,e,n,o)}getNftMetadataBatch(e,n){return T7(this.config,e,n)}getContractMetadata(e){return cce(this.config,e)}getContractMetadataBatch(e){return uce(this.config,e)}getCollectionMetadata(e){return dce(this.config,e)}getNftsForOwnerIterator(e,n){return fce(this.config,e,n)}getNftsForOwner(e,n){return i2(this.config,e,n)}getNftsForContract(e,n){return hce(this.config,e,n)}getNftsForContractIterator(e,n){return pce(this.config,e,n)}getOwnersForContract(e,n){return mce(this.config,e,n)}getOwnersForNft(e,n,r){return yce(this.config,e,n,r)}getContractsForOwner(e,n){return gce(this.config,e,n)}getTransfersForOwner(e,n,r){return wce(this.config,e,n,r)}getTransfersForContract(e,n){return bce(this.config,e,n)}getMintedNfts(e,n){return Oe(this,void 0,void 0,function*(){return vce(this.config,e,n)})}verifyNftOwnership(e,n){return Ece(this.config,e,n)}isSpamContract(e){return Ace(this.config,e)}getSpamContracts(){return _ce(this.config)}reportSpam(e){return Sce(this.config,e)}isAirdropNft(e,n){return Cce(this.config,e,n)}getFloorPrice(e){return Tce(this.config,e)}getNftSales(e){return Mce(this.config,e)}computeRarity(e,n){return Ice(this.config,e,n)}searchContractMetadata(e){return Rce(this.config,e)}summarizeNftAttributes(e){return Pce(this.config,e)}refreshNftMetadata(e,n){return Nce(this.config,e,n)}refreshContract(e){return kce(this.config,e)}}class zce{constructor(e){this.config=e}getAllWebhooks(){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:jce(e),totalCount:e.data.length}})}getAddresses(e,n){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return Hce(i)})}getGraphqlQuery(e){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:n});return Gce(r)})}getNftFilters(e,n){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const r=typeof e=="string"?e:e.id,i=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:n?.limit,after:n?.pageKey});return Wce(i)})}updateWebhook(e,n){return Oe(this,void 0,void 0,function*(){const r=typeof e=="string"?e:e.id;let i,o,s,a;if("isActive"in n)i="update-webhook",o="updateWebhook",s="PUT",a={webhook_id:r,is_active:n.isActive};else if("addFilters"in n||"removeFilters"in n)i="update-webhook-nft-filters",o="updateWebhookNftFilters",s="PATCH",a={webhook_id:r,nft_filters_to_add:n.addFilters?n.addFilters.map(ig):[],nft_filters_to_remove:n.removeFilters?n.removeFilters.map(ig):[]};else if("addMetadataFilters"in n||"removeMetadataFilters"in n)i="update-webhook-nft-metadata-filters",o="updateWebhookNftMetadataFilters",s="PATCH",a={webhook_id:r,nft_metadata_filters_to_add:n.addMetadataFilters?n.addMetadataFilters.map(ig):[],nft_metadata_filters_to_remove:n.removeMetadataFilters?n.removeMetadataFilters.map(ig):[]};else if("addAddresses"in n||"removeAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddresses",s="PATCH",a={webhook_id:r,addresses_to_add:yield this.resolveAddresses(n.addAddresses),addresses_to_remove:yield this.resolveAddresses(n.removeAddresses)};else if("newAddresses"in n)i="update-webhook-addresses",o="webhook:updateWebhookAddress",s="PUT",a={webhook_id:r,addresses:yield this.resolveAddresses(n.newAddresses)};else throw new Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(i,o,{},{method:s,data:a})})}createWebhook(e,n,r){return Oe(this,void 0,void 0,function*(){let i;if(n===_s.MINED_TRANSACTION||n===_s.DROPPED_TRANSACTION||n===_s.GRAPHQL){if(!("appId"in r))throw new Error("Transaction and GraphQL Webhooks require an app id.");i=r.appId}let o=rg.get(this.config.network),s,a,l,c;if(n===_s.NFT_ACTIVITY||n===_s.NFT_METADATA_UPDATE){if(!("filters"in r)||r.filters.length===0)throw new Error("Nft Activity Webhooks require a non-empty array input.");o=r.network?rg.get(r.network):o;const f=r.filters.map(h=>h.tokenId?{contract_address:h.contractAddress,token_id:$t.from(h.tokenId).toString()}:{contract_address:h.contractAddress});s=n===_s.NFT_ACTIVITY?{nft_filters:f}:{nft_metadata_filters:f}}else if(n===_s.ADDRESS_ACTIVITY){if(r===void 0||!("addresses"in r)||r.addresses.length===0)throw new Error("Address Activity Webhooks require a non-empty array input.");o=r.network?rg.get(r.network):o,a=yield this.resolveAddresses(r.addresses)}else if(n==_s.GRAPHQL){if(r===void 0||!("graphqlQuery"in r)||r.graphqlQuery.length===0)throw new Error("Custom Webhooks require a non-empty graphql query.");o=r.network?rg.get(r.network):o,l=r.graphqlQuery,c=r.skipEmptyMessages}const u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({network:o,webhook_type:n,webhook_url:e},i&&{app_id:i}),r.name&&{name:r.name}),s),a&&{addresses:a}),l&&{graphql_query:{query:l,skip_empty_messages:!!c}}),d=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:u});return R7(d.data)})}deleteWebhook(e){return Oe(this,void 0,void 0,function*(){this.verifyConfig();const n=typeof e=="string"?e:e.id;if("message"in(yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:n},{method:"DELETE"})))throw new Error(`Webhook not found. Failed to delete webhook: ${n}`)})}verifyConfig(){if(this.config.authToken===void 0)throw new Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,n,r,i){return nn(this.config,jt.WEBHOOK,e,n,r,Object.assign(Object.assign({},i),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},i?.headers)}))}resolveAddresses(e){return Oe(this,void 0,void 0,function*(){if(e===void 0)return[];const n=[],r=yield this.config.getProvider();for(const i of e){const o=yield r.resolveName(i);if(o===null)throw new Error(`Unable to resolve the ENS address: ${i}`);n.push(o)}return n})}}const o2=Object.fromEntries(Object.entries(Pe)),rg=Object.keys(Pe).reduce((t,e)=>(e in o2&&t.set(o2[e],e),t),new Map);function jce(t){return t.data.map(R7)}function R7(t){return Object.assign(Object.assign({id:t.id,network:o2[t.network],type:t.webhook_type,url:t.webhook_url,isActive:t.is_active,timeCreated:new Date(t.time_created).toISOString(),signingKey:t.signing_key,version:t.version},t.app_id!==void 0&&{appId:t.app_id}),t.name!==void 0&&{name:t.name})}function Hce(t){return{addresses:t.data,totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function Gce(t){return{graphqlQuery:t.data.graphql_query}}function Wce(t){return{filters:t.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:$t.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:t.pagination.total_count,pageKey:t.pagination.cursors.after}}function ig(t){return t.tokenId?{contract_address:t.contractAddress,token_id:$t.from(t.tokenId).toString()}:{contract_address:t.contractAddress}}function Vce(t,e,n=!0,r=!0,i=!0,o="getTokensByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,withPrices:r,includeNativeTokens:i},a=yield nn(t,jt.PORTFOLIO,"assets/tokens/by-address",o,{},{data:s,method:"POST"});return cn(a)})}function $ce(t,e,n=!0,r="getTokenBalancesByWallet"){return Oe(this,void 0,void 0,function*(){const i={addresses:e,includeNativeTokens:n},o=yield nn(t,jt.PORTFOLIO,"assets/tokens/balances/by-address",r,{},{method:"POST",data:i});return cn(o)})}function qce(t,e,n=!0,r=void 0,i=void 0,o="getNftsByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,withMetadata:n,pageKey:r,pageSize:i},a=yield nn(t,jt.PORTFOLIO,"assets/nfts/by-address",o,{},{method:"POST",data:s});return cn(a)})}function Kce(t,e,n=!0,r=void 0,i=void 0,o="getNftCollectionsByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,pageKey:r,pageSize:i,withMetadata:n},a=yield nn(t,jt.PORTFOLIO,"assets/nfts/contracts/by-address",o,{},{method:"POST",data:s});return cn(a)})}function Qce(t,e,n=void 0,r=void 0,i=void 0,o="getTransactionsByWallet"){return Oe(this,void 0,void 0,function*(){const s={addresses:e,before:n,after:r,limit:i},a=yield nn(t,jt.PORTFOLIO,"transactions/history/by-address",o,{},{method:"POST",data:s});return cn(a)})}class Xce{constructor(e){this.config=e}getTokensByWallet(e,n=!0,r=!0,i=!0){return Vce(this.config,e,n,r,i)}getTokenBalancesByWallet(e,n=!0){return $ce(this.config,e,n)}getNftsByWallet(e,n=!0,r,i){return qce(this.config,e,n,r,i)}getNftCollectionsByWallet(e,n=!0,r,i){return Kce(this.config,e,n,r,i)}getTransactionsByWallet(e,n,r,i){return Qce(this.config,e,n,r,i)}}function Yce(t,e,n="getTokenPriceByAddress"){return Oe(this,void 0,void 0,function*(){const r=yield nn(t,jt.PRICES,"tokens/by-address",n,{},{method:"POST",data:{addresses:e}});return cn(r)})}function Jce(t,e,n="getTokenPriceBySymbol"){return Oe(this,void 0,void 0,function*(){const r=yield nn(t,jt.PRICES,"tokens/by-symbol",n,{symbols:e},{paramsSerializer:i=>{const o=new URLSearchParams;return Object.entries(i).forEach(([s,a])=>{a.forEach(l=>o.append(s,l))}),o.toString()}});return cn(r)})}function Zce(t,e,n,r,i,o="getHistoricalPriceBySymbol"){return Oe(this,void 0,void 0,function*(){const s=yield nn(t,jt.PRICES,"tokens/historical",o,{},{method:"POST",data:{symbol:e,startTime:n,endTime:r,interval:i}});return cn(s)})}function eue(t,e,n,r,i,o,s="getHistoricalPriceByAddress"){return Oe(this,void 0,void 0,function*(){const a=yield nn(t,jt.PRICES,"tokens/historical",s,{},{method:"POST",data:{network:e,address:n,startTime:r,endTime:i,interval:o}});return cn(a)})}class tue{constructor(e){this.config=e}getTokenPriceByAddress(e){return Yce(this.config,e)}getTokenPriceBySymbol(e){return Jce(this.config,e)}getHistoricalPriceBySymbol(e,n,r,i){return Zce(this.config,e,n,r,i)}getHistoricalPriceByAddress(e,n,r,i,o){return eue(this.config,e,n,r,i,o)}}const nue=[.9,1,1.1,1.2,1.3];class rue{constructor(e){this.config=e}sendPrivateTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){const i=yield this.config.getProvider(),o=n?k1(n):void 0;return i._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:o,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChangesBundle",i,"simulateAssetChangesBundle");return cn(o)})}simulateAssetChanges(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=yield r._send("alchemy_simulateAssetChanges",i,"simulateAssetChanges");return cn(o)})}simulateExecutionBundle(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecutionBundle",i,"simulateExecutionBundle");return cn(o)})}simulateExecution(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getProvider(),i=n!==void 0?[e,n]:[e],o=r._send("alchemy_simulateExecution",i,"simulateExecution");return cn(o)})}getTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).getTransaction(e)})}sendTransaction(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).sendTransaction(e)})}estimateGas(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).estimateGas(e)})}getMaxPriorityFeePerGas(){return Oe(this,void 0,void 0,function*(){const n=yield(yield this.config.getProvider())._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return Ole(n)})}waitForTransaction(e,n,r){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider()).waitForTransaction(e,n,r)})}sendGasOptimizedTransaction(e,n){return Oe(this,void 0,void 0,function*(){if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let r,i,o;const s=yield this.config.getProvider();try{r=yield this.estimateGas(e),i=yield this.getMaxPriorityFeePerGas(),o=(yield s.getBlock("latest")).baseFeePerGas.toNumber()}catch(c){throw new Error(`Failed to estimate gas for transaction: ${c}`)}const a=iue(e,r.toNumber(),o,i),l=yield Promise.all(a.map(c=>n.signTransaction(c)));return this._sendGasOptimizedTransaction(l,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,n){return Oe(this,void 0,void 0,function*(){return(yield this.config.getProvider())._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],n)})}}function iue(t,e,n,r){return nue.map(i=>Object.assign(Object.assign({},t),{gasLimit:e,maxFeePerGas:Math.round(n*i+r*i),maxPriorityFeePerGas:Math.round(i*r)}))}const zv="alchemy-pending-transactions",jv="alchemy-mined-transactions",oue=[zv,jv];let sue=class{constructor(e,n,r){this.listener=n,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx")throw new Error("Not a transaction event");return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")throw new Error("Not a transaction event");const n=e[1],r=uue(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}};class R2e extends sue{get fromAddress(){const e=this.tag.split(":");if(e[0]===zv&&e[1]&&e[1]!=="*")return xP(e[1])}get toAddress(){const e=this.tag.split(":");if(e[0]===zv&&e[2]&&e[2]!=="*")return xP(e[2])}get hashesOnly(){const e=this.tag.split(":");if(oue.includes(e[0])&&e[3]&&e[3]!=="*")return e[3]==="true"}get includeRemoved(){const e=this.tag.split(":");if(e[0]===jv&&e[2]&&e[2]!=="*")return e[2]==="true"}get addresses(){const e=this.tag.split(":");if(e[0]===jv&&e[1]&&e[1]!=="*")return due(e[1])}}function P7(t){return typeof t=="object"&&"method"in t}function P2e(t){if(!P7(t))throw new Error("Event tag requires AlchemyEventType");if(t.method===Wl.PENDING_TRANSACTIONS)return aue(t);if(t.method===Wl.MINED_TRANSACTIONS)return lue(t);throw new Error(`Unrecognized AlchemyFilterEvent: ${t}`)}function N2e(t){if(!Object.values(Wl).includes(t.method))throw new Error(`Invalid method name ${t.method}. Accepted method names: ${Object.values(Wl)}`)}function aue(t){const e=Hv(t.fromAddress),n=Hv(t.toAddress),r=s2(t.hashesOnly);return zv+":"+e+":"+n+":"+r}function lue(t){const e=cue(t.addresses),n=s2(t.includeRemoved),r=s2(t.hashesOnly);return jv+":"+e+":"+n+":"+r}function cue(t){return t===void 0?"*":t.map(e=>Hv(e.to)+","+Hv(e.from)).join("|")}function Hv(t){return t===void 0?"*":Array.isArray(t)?t.join("|"):t}function s2(t){return t===void 0?"*":t.toString()}function uue(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function xP(t){if(t==="")return;const e=t.split("|");return e.length===1?e[0]:e}function due(t){if(t!=="")return t.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class fue{constructor(e){this.config=e}on(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.on(i,n)}),this}once(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);r.once(i,n)}),this}off(e,n){return Oe(this,void 0,void 0,function*(){const r=yield this.config.getWebSocketProvider(),i=yield this._resolveEnsAlchemyEvent(e);return r.off(i,n)}),this}removeAllListeners(e){return Oe(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;n.removeAllListeners(r)}),this}listenerCount(e){return Oe(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listenerCount(r)})}listeners(e){return Oe(this,void 0,void 0,function*(){const n=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return n.listeners(r)})}_resolveEnsAlchemyEvent(e){return Oe(this,void 0,void 0,function*(){if(!P7(e))return e;if(e.method===Wl.MINED_TRANSACTIONS&&e.addresses){const n=[];for(const r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),n.push(r);e.addresses=n}else e.method===Wl.PENDING_TRANSACTIONS&&(e.fromAddress&&(typeof e.fromAddress=="string"?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(n=>this._resolveNameOrError(n)))),e.toAddress&&(typeof e.toAddress=="string"?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(n=>this._resolveNameOrError(n)))));return e})}_resolveNameOrError(e){return Oe(this,void 0,void 0,function*(){const r=yield(yield this.config.getProvider()).resolveName(e);if(r===null)throw new Error(`Unable to resolve the ENS address: ${e}`);return r})}}class hue{constructor(e){this.config=new Tle(e),this.core=new Kle(this.config),this.nft=new Uce(this.config),this.ws=new fue(this.config),this.transact=new rue(this.config),this.notify=new zce(this.config),this.debug=new Qle(this.config),this.prices=new tue(this.config),this.portfolio=new Xce(this.config)}}const pue="6.14.4";function mue(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ni(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function Pt(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&mue(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Td(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Td(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Td(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Td(r,e)}: ${Td(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Or(t,e){return t&&t.code===e}function u3(t){return Or(t,"CALL_EXCEPTION")}function Tn(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Td(n)}`);for(const s in n){if(s==="shortMessage")continue;const a=n[s];o.push(s+"="+Td(a))}}o.push(`code=${e}`),o.push(`version=${pue}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Pt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Pt(i,{shortMessage:r}),i}function De(t,e,n,r){if(!t)throw Tn(e,n,r)}function he(t,e,n,r){De(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function N7(t,e,n){n==null&&(n=""),n&&(n=": "+n),De(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),De(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function L1(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),De(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function k7(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}he(!1,"invalid BytesLike value",e||"value",t)}function Ht(t,e){return k7(t,e,!1)}function ai(t,e){return k7(t,e,!0)}function xn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function d3(t){return xn(t,!0)||t instanceof Uint8Array}const EP="0123456789abcdef";function lt(t){const e=Ht(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=EP[(i&240)>>4]+EP[i&15]}return n}function Hn(t){return"0x"+t.map(e=>lt(e).substring(2)).join("")}function Wd(t){return xn(t,!0)?(t.length-2)/2:Ht(t).length}function Ln(t,e,n){const r=Ht(t);return n!=null&&n>r.length&&De(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),lt(r.slice(e??0,n??r.length))}function F7(t,e,n){const r=Ht(t);De(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),lt(i)}function Ua(t,e){return F7(t,e,!0)}function gue(t,e){return F7(t,e,!1)}const D1=BigInt(0),ts=BigInt(1),Md=9007199254740991;function yue(t,e){const n=U1(t,"value"),r=BigInt(Gt(e,"width"));if(De(n>>r===D1,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-ts){const i=(ts<<r)-ts;return-((~n&i)+ts)}return n}function O7(t,e){let n=Et(t,"value");const r=BigInt(Gt(e,"width")),i=ts<<r-ts;if(n<D1){n=-n,De(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(ts<<r)-ts;return(~n&o)+ts}else De(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Yh(t,e){const n=U1(t,"value"),r=BigInt(Gt(e,"bits"));return n&(ts<<r)-ts}function Et(t,e){switch(typeof t){case"bigint":return t;case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-Md&&t<=Md,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){he(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}he(!1,"invalid BigNumberish value",e||"value",t)}function U1(t,e){const n=Et(t,e);return De(n>=D1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const AP="0123456789abcdef";function f3(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=AP[n>>4],e+=AP[n&15];return BigInt(e)}return Et(t)}function Gt(t,e){switch(typeof t){case"bigint":return he(t>=-Md&&t<=Md,"overflow",e||"value",t),Number(t);case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-Md&&t<=Md,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Gt(BigInt(t),e)}catch(n){he(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}he(!1,"invalid numeric value",e||"value",t)}function vue(t){return Gt(f3(t))}function Vl(t,e){let r=U1(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Gt(e,"width");for(De(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function hr(t){const e=U1(t,"value");if(e===D1)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function Zo(t){let e=lt(d3(t)?t:hr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const _P="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const SP=BigInt(58);function wue(t){const e=Ht(t);let n=f3(e),r="";for(;n;)r=_P[Number(n%SP)]+r,n/=SP;for(let i=0;i<e.length&&!e[i];i++)r=_P[0]+r;return r}function bue(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Ht(e)}function xue(t){const e=Ht(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}class B7{filter;emitter;#e;constructor(e,n,r){this.#e=n,Pt(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function Eue(t,e,n,r,i){he(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function L7(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function Aue(t,e,n,r,i){return t==="OVERLONG"?(he(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),L7(t,e,n))}const _ue=Object.freeze({error:Eue,ignore:L7,replace:Aue});function Sue(t,e){e==null&&(e=_ue.error);const n=Ht(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(!(o>>7)){r.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+s>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=o&(1<<8-s-1)-1;for(let c=0;c<s;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-s,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-s,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-s,n,r,l);continue}r.push(l)}}return r}function Ma(t,e){he(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);he(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(o&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function Cue(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Gv(t,e){return Cue(Sue(t,e))}function D7(t){async function e(n,r){De(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();De(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),De(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const s=new AbortController,a=setTimeout(()=>{o=Tn("request timeout","TIMEOUT"),s.abort()},n.timeout);r&&r.addListener(()=>{o=Tn("request cancelled","CANCELLED"),s.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:s.signal});let c;try{c=await fetch(n.url,l)}catch(h){throw clearTimeout(a),o||h}clearTimeout(a);const u={};c.headers.forEach((h,p)=>{u[p.toLowerCase()]=h});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const Tue=12,Mue=250;let CP=D7();const Iue=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Rue=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Bx=!1;async function U7(t,e){try{const n=t.match(Iue);if(!n)throw new Error("invalid data");return new Ll(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?bue(n[3]):Nue(n[3]))}catch{return new Ll(599,"BAD REQUEST (invalid data: URI)",{},null,new za(t))}}function z7(t){async function e(n,r){try{const i=n.match(Rue);if(!i)throw new Error("invalid link");return new za(`${t}${i[2]}`)}catch{return new Ll(599,"BAD REQUEST (invalid IPFS URI)",{},null,new za(n))}}return e}const og={data:U7,ipfs:z7("https://gateway.ipfs.io/ipfs/")},j7=new WeakMap;class Pue{#e;#t;constructor(e){this.#e=[],this.#t=!1,j7.set(e,()=>{if(!this.#t){this.#t=!0;for(const n of this.#e)setTimeout(()=>{n()},0);this.#e=[]}})}addListener(e){De(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){De(!this.cancelled,"cancelled","CANCELLED",{})}}function sg(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class za{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;get url(){return this.#s}set url(e){this.#s=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=Ma(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=Ma(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#r?this.#r:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#r=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#p&&(e.authorization=`Basic ${xue(Ma(this.#p))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){this.#n[String(e).toLowerCase()]=String(n)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#p||null}setCredentials(e,n){he(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#p=`${e}:${n}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){he(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#u||null}set preflightFunc(e){this.#u=e}get processFunc(){return this.#m||null}set processFunc(e){this.#m=e}get retryFunc(){return this.#h||null}set retryFunc(e){this.#h=e}get getUrlFunc(){return this.#d||CP}set getUrlFunc(e){this.#d=e}constructor(e){this.#s=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#r="",this.#i=3e5,this.#c={slotInterval:Mue,maxAttempts:Tue},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?lt(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#c.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#c.maxAttempts=e.maxAttempts)}async#f(e,n,r,i,o){if(e>=this.#c.maxAttempts)return o.makeServerError("exceeded maximum retry limit");De(TP()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await kue(r);let s=this.clone();const a=(s.url.split(":")[0]||"").toLowerCase();if(a in og){const u=await og[a](s.url,sg(i.#l));if(u instanceof Ll){let d=u;if(this.processFunc){sg(i.#l);try{d=await this.processFunc(s,d)}catch(f){(f.throttle==null||typeof f.stall!="number")&&d.makeServerError("error in post-processing function",f).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));const l=await this.getUrlFunc(s,sg(i.#l));let c=new Ll(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const u=c.headers.location||"";return s.redirect(u).#f(e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,c,e))){const u=c.headers["retry-after"];let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#f(e+1,n,d,i,c)}if(this.processFunc){sg(i.#l);try{c=await this.processFunc(s,c)}catch(u){(u.throttle==null||typeof u.stall!="number")&&c.makeServerError("error in post-processing function",u).assertOk();let d=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#f(e+1,n,d,i,c)}}return c}send(){return De(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new Pue(this),this.#f(0,TP()+this.timeout,0,this,new Ll(0,"",{},null,this))}cancel(){De(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=j7.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();De(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new za(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#n=Object.assign({},this.#n),this.#o&&(i.#o=new Uint8Array(this.#o)),i.#a=this.#a,i}clone(){const e=new za(this.url);return e.#r=this.#r,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#n=Object.assign({},this.#n),e.#p=this.#p,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#u=this.#u,e.#m=this.#m,e.#h=this.#h,e.#c=Object.assign({},this.#c),e.#d=this.#d,e}static lockConfig(){Bx=!0}static getGateway(e){return og[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Bx)throw new Error("gateways locked");og[e]=n}static registerGetUrl(e){if(Bx)throw new Error("gateways locked");CP=e}static createGetUrlFunc(e){return D7(e)}static createDataGateway(){return U7}static createIpfsGatewayFunc(e){return z7(e)}}class Ll{#e;#t;#n;#r;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#r?lt(this.#r):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}get bodyText(){try{return this.#r==null?"":Gv(this.#r)}catch{De(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{De(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,n,r,i,o){this.#e=e,this.#t=n,this.#n=Object.keys(r).reduce((s,a)=>(s[a.toLowerCase()]=String(r[a]),s),{}),this.#r=i==null?null:new Uint8Array(i),this.#i=o||null,this.#s={message:""}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Ll(599,r,this.headers,this.body,this.#i||void 0);return i.#s={message:e,error:n},i}throwThrottleError(e,n){n==null?n=-1:he(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Pt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#r!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=this.#s;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#r&&(i=Gv(this.#r))}catch{}De(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function TP(){return new Date().getTime()}function Nue(t){return Ma(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function kue(t){return new Promise(e=>setTimeout(e,t))}function Fue(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function MP(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function IP(t,e,n,r){const i=[];for(;n<e+1+r;){const o=H7(t,n);i.push(o.result),n+=o.consumed,De(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function H7(t,e){De(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{De(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=MP(t,e+1,r);return n(e+1+r+i),IP(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),IP(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=MP(t,e+1,r);n(e+1+r+i);const o=lt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=lt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Fue(t[e])}}function u0(t){const e=Ht(t,"data"),n=H7(e,0);return he(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function RP(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function G7(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(G7(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=RP(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Ht(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=RP(e.length);return n.unshift(183+n.length),n.concat(e)}const PP="0123456789abcdef";function $l(t){let e="0x";for(const n of G7(t))e+=PP[n>>4],e+=PP[n&15];return e}const li=32,a2=new Uint8Array(li),Oue=["then"],ag={},W7=new WeakMap;function wc(t){return W7.get(t)}function NP(t,e){W7.set(t,e)}function Ph(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function l2(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof Ea?l2(wc(r),r,n):r):t.reduce((r,i,o)=>{let s=e.getValue(i);return i in r||(n&&s instanceof Ea&&(s=l2(wc(s),s,n)),r[i]=s),r},{})}class Ea extends Array{#e;constructor(...e){const n=e[0];let r=e[1],i=(e[2]||[]).slice(),o=!0;n!==ag&&(r=e,i=[],o=!1),super(r.length),r.forEach((l,c)=>{this[c]=l});const s=i.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(NP(this,Object.freeze(r.map((l,c)=>{const u=i[c];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);const a=new Proxy(this,{get:(l,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const f=Gt(c,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const h=l[f];return h instanceof Error&&Ph(`index ${f}`,h),h}if(Oue.indexOf(c)>=0)return Reflect.get(l,c,u);const d=l[c];if(d instanceof Function)return function(...f){return d.apply(this===u?l:this,f)};if(!(c in l))return l.getValue.apply(this===u?l:this,[c])}return Reflect.get(l,c,u)}});return NP(a,wc(this)),a}toArray(e){const n=[];return this.forEach((r,i)=>{r instanceof Error&&Ph(`index ${i}`,r),e&&r instanceof Ea&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=wc(this);return n.reduce((r,i,o)=>(De(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),l2(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=wc(this),i=[],o=[];for(let s=e;s<n;s++)i.push(this[s]),o.push(r[s]);return new Ea(ag,i,o)}filter(e,n){const r=wc(this),i=[],o=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Ph(`index ${s}`,a),e.call(n,a,s,this)&&(i.push(a),o.push(r[s]))}return new Ea(ag,i,o)}map(e,n){const r=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Ph(`index ${i}`,o),r.push(e.call(n,o,i,this))}return r}getValue(e){const n=wc(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&Ph(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new Ea(ag,e,n)}}function kP(t){let e=hr(t);return De(e.length<=li,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:li,offset:e.length}),e.length!==li&&(e=ai(Hn([a2.slice(e.length%li),e]))),e}class qa{name;type;localName;dynamic;constructor(e,n,r,i){Pt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){he(!1,e,this.localName,n)}}class c2{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Hn(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(ai(e.data))}writeBytes(e){let n=ai(e);const r=n.length%li;return r&&(n=ai(Hn([n,a2.slice(r)]))),this.#n(n)}writeValue(e){return this.#n(kP(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(a2),this.#t+=li,n=>{this.#e[e]=kP(n)}}}class h3{allowLoose;#e;#t;#n;#r;#i;constructor(e,n,r){Pt(this,{allowLoose:!!n}),this.#e=ai(e),this.#n=0,this.#r=null,this.#i=r??1024,this.#t=0}get data(){return lt(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(e){if(this.#r)return this.#r.#s(e);this.#n+=e,De(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ai(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#o(e,n,r){let i=Math.ceil(n/li)*li;return this.#t+i>this.#e.length&&(this.allowLoose&&r&&this.#t+n<=this.#e.length?i=n:De(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ai(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){const n=new h3(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return n.#r=this,n}readBytes(e,n){let r=this.#o(0,e,!!n);return this.#s(e),this.#t+=r.length,r.slice(0,e)}readValue(){return f3(this.readBytes(li))}readIndex(){return vue(this.readBytes(li))}}function Wv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function p3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Bue(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wv(t.outputLen),Wv(t.blockLen)}function vf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function V7(t,e){p3(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Lx=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $7=t=>t instanceof Uint8Array,Lue=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Dx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Es=(t,e)=>t<<32-e|t>>>e,Due=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Due)throw new Error("Non little-endian hardware is not supported");function Uue(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function z1(t){if(typeof t=="string"&&(t=Uue(t)),!$7(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function zue(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!$7(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class m3{clone(){return this._cloneInto()}}function g3(t){const e=r=>t().update(z1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function jue(t=32){if(Lx&&typeof Lx.getRandomValues=="function")return Lx.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class q7 extends m3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Bue(e);const r=z1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return vf(this),this.iHash.update(e),this}digestInto(e){vf(this),p3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const K7=(t,e,n)=>new q7(t,e).update(n).digest();K7.create=(t,e)=>new q7(t,e);function Hue(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,c=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+c,a,r)}class Q7 extends m3{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Dx(this.buffer)}update(e){vf(this);const{view:n,buffer:r,blockLen:i}=this;e=z1(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=Dx(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vf(this),V7(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let d=s;d<i;d++)n[d]=0;Hue(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=Dx(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}}const Gue=(t,e,n)=>t&e^~t&n,Wue=(t,e,n)=>t&e^t&n^e&n,Vue=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nl=new Uint32Array(64);class $ue extends Q7{constructor(){super(64,32,8,!1),this.A=tl[0]|0,this.B=tl[1]|0,this.C=tl[2]|0,this.D=tl[3]|0,this.E=tl[4]|0,this.F=tl[5]|0,this.G=tl[6]|0,this.H=tl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)nl[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=nl[d-15],h=nl[d-2],p=Es(f,7)^Es(f,18)^f>>>3,m=Es(h,17)^Es(h,19)^h>>>10;nl[d]=m+nl[d-7]+p+nl[d-16]|0}let{A:r,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=Es(a,6)^Es(a,11)^Es(a,25),h=u+f+Gue(a,l,c)+Vue[d]+nl[d]|0,m=(Es(r,2)^Es(r,13)^Es(r,22))+Wue(r,i,o)|0;u=c,c=l,l=a,a=s+h|0,s=o,o=i,i=r,r=h+m|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,o,s,a,l,c,u)}roundClean(){nl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const X7=g3(()=>new $ue),lg=BigInt(2**32-1),u2=BigInt(32);function Y7(t,e=!1){return e?{h:Number(t&lg),l:Number(t>>u2&lg)}:{h:Number(t>>u2&lg)|0,l:Number(t&lg)|0}}function J7(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:s}=Y7(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]}const que=(t,e)=>BigInt(t>>>0)<<u2|BigInt(e>>>0),Kue=(t,e,n)=>t>>>n,Que=(t,e,n)=>t<<32-n|e>>>n,Xue=(t,e,n)=>t>>>n|e<<32-n,Yue=(t,e,n)=>t<<32-n|e>>>n,Jue=(t,e,n)=>t<<64-n|e>>>n-32,Zue=(t,e,n)=>t>>>n-32|e<<64-n,ede=(t,e)=>e,tde=(t,e)=>t,Z7=(t,e,n)=>t<<n|e>>>32-n,e9=(t,e,n)=>e<<n|t>>>32-n,t9=(t,e,n)=>e<<n-32|t>>>64-n,n9=(t,e,n)=>t<<n-32|e>>>64-n;function nde(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const rde=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ide=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ode=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),sde=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ade=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),lde=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Dt={fromBig:Y7,split:J7,toBig:que,shrSH:Kue,shrSL:Que,rotrSH:Xue,rotrSL:Yue,rotrBH:Jue,rotrBL:Zue,rotr32H:ede,rotr32L:tde,rotlSH:Z7,rotlSL:e9,rotlBH:t9,rotlBL:n9,add:nde,add3L:rde,add3H:ide,add4L:ode,add4H:sde,add5H:lde,add5L:ade},[cde,ude]=Dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),rl=new Uint32Array(80),il=new Uint32Array(80);class dde extends Q7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y]}set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,n){for(let b=0;b<16;b++,n+=4)rl[b]=e.getUint32(n),il[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=rl[b-15]|0,I=il[b-15]|0,k=Dt.rotrSH(x,I,1)^Dt.rotrSH(x,I,8)^Dt.shrSH(x,I,7),A=Dt.rotrSL(x,I,1)^Dt.rotrSL(x,I,8)^Dt.shrSL(x,I,7),U=rl[b-2]|0,S=il[b-2]|0,N=Dt.rotrSH(U,S,19)^Dt.rotrBH(U,S,61)^Dt.shrSH(U,S,6),P=Dt.rotrSL(U,S,19)^Dt.rotrBL(U,S,61)^Dt.shrSL(U,S,6),G=Dt.add4L(A,P,il[b-7],il[b-16]),B=Dt.add4H(G,k,N,rl[b-7],rl[b-16]);rl[b]=B|0,il[b]=G|0}let{Ah:r,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:g,Hl:v}=this;for(let b=0;b<80;b++){const x=Dt.rotrSH(d,f,14)^Dt.rotrSH(d,f,18)^Dt.rotrBH(d,f,41),I=Dt.rotrSL(d,f,14)^Dt.rotrSL(d,f,18)^Dt.rotrBL(d,f,41),k=d&h^~d&m,A=f&p^~f&y,U=Dt.add5L(v,I,A,ude[b],il[b]),S=Dt.add5H(U,g,x,k,cde[b],rl[b]),N=U|0,P=Dt.rotrSH(r,i,28)^Dt.rotrBH(r,i,34)^Dt.rotrBH(r,i,39),G=Dt.rotrSL(r,i,28)^Dt.rotrBL(r,i,34)^Dt.rotrBL(r,i,39),B=r&o^r&a^o&a,w=i&s^i&l^s&l;g=m|0,v=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Dt.add(c|0,u|0,S|0,N|0),c=a|0,u=l|0,a=o|0,l=s|0,o=r|0,s=i|0;const E=Dt.add3L(N,G,w);r=Dt.add3H(E,S,P,B),i=E|0}({h:r,l:i}=Dt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:s}=Dt.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=Dt.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Dt.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Dt.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Dt.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Dt.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:g,l:v}=Dt.add(this.Hh|0,this.Hl|0,g|0,v|0),this.set(r,i,o,s,a,l,c,u,d,f,h,p,m,y,g,v)}roundClean(){rl.fill(0),il.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fde=g3(()=>new dde);function hde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const FP=hde();FP.crypto||FP.msCrypto;function pde(t){switch(t){case"sha256":return X7.create();case"sha512":return fde.create()}he(!1,"invalid hashing algorithm name","algorithm",t)}const[r9,i9,o9]=[[],[],[]],mde=BigInt(0),Nh=BigInt(1),gde=BigInt(2),yde=BigInt(7),vde=BigInt(256),wde=BigInt(113);for(let t=0,e=Nh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],r9.push(2*(5*r+n)),i9.push((t+1)*(t+2)/2%64);let i=mde;for(let o=0;o<7;o++)e=(e<<Nh^(e>>yde)*wde)%vde,e&gde&&(i^=Nh<<(Nh<<BigInt(o))-Nh);o9.push(i)}const[bde,xde]=J7(o9,!0),OP=(t,e,n)=>n>32?t9(t,e,n):Z7(t,e,n),BP=(t,e,n)=>n>32?n9(t,e,n):e9(t,e,n);function Ede(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)n[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,c=n[l],u=n[l+1],d=OP(c,u,1)^n[a],f=BP(c,u,1)^n[a+1];for(let h=0;h<50;h+=10)t[s+h]^=d,t[s+h+1]^=f}let i=t[2],o=t[3];for(let s=0;s<24;s++){const a=i9[s],l=OP(i,o,a),c=BP(i,o,a),u=r9[s];i=t[u],o=t[u+1],t[u]=l,t[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=bde[r],t[1]^=xde[r]}n.fill(0)}class y3 extends m3{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wv(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Lue(this.state)}keccak(){Ede(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){vf(this);const{blockLen:n,state:r}=this;e=z1(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vf(this,!1),p3(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(V7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new y3(n,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Ade=(t,e,n)=>g3(()=>new y3(e,t,n)),_de=Ade(1,136,256/8);let s9=!1;const a9=function(t){return _de(t)};let l9=a9;function rr(t){const e=Ht(t,"data");return lt(l9(e))}rr._=a9;rr.lock=function(){s9=!0};rr.register=function(t){if(s9)throw new TypeError("keccak256 is locked");l9=t};Object.freeze(rr);const c9=function(t){return pde("sha256").update(t).digest()};let u9=c9,d9=!1;function th(t){const e=Ht(t,"data");return lt(u9(e))}th._=c9;th.lock=function(){d9=!0};th.register=function(t){if(d9)throw new Error("sha256 is locked");u9=t};Object.freeze(th);Object.freeze(th);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f9=BigInt(0),j1=BigInt(1),Sde=BigInt(2),H1=t=>t instanceof Uint8Array,Cde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wf(t){if(!H1(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Cde[t[n]];return e}function h9(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function v3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function bf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function Qc(t){return v3(wf(t))}function w3(t){if(!H1(t))throw new Error("Uint8Array expected");return v3(wf(Uint8Array.from(t).reverse()))}function xf(t,e){return bf(t.toString(16).padStart(e*2,"0"))}function b3(t,e){return xf(t,e).reverse()}function Tde(t){return bf(h9(t))}function qo(t,e,n){let r;if(typeof e=="string")try{r=bf(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(H1(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Em(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!H1(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Mde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ide(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Rde(t){let e;for(e=0;t>f9;t>>=j1,e+=1);return e}function Pde(t,e){return t>>BigInt(e)&j1}const Nde=(t,e,n)=>t|(n?j1:f9)<<BigInt(e),x3=t=>(Sde<<BigInt(t-1))-j1,Ux=t=>new Uint8Array(t),LP=t=>Uint8Array.from(t);function p9(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ux(t),i=Ux(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...d)=>n(i,r,...d),l=(d=Ux())=>{i=a(LP([0]),d),r=a(),d.length!==0&&(i=a(LP([1]),d),r=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return Em(...f)};return(d,f)=>{s(),l(d);let h;for(;!(h=f(c()));)l();return s(),h}}const kde={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function d0(t,e,n={}){const r=(i,o,s)=>{const a=kde[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const Fde=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Pde,bitLen:Rde,bitMask:x3,bitSet:Nde,bytesToHex:wf,bytesToNumberBE:Qc,bytesToNumberLE:w3,concatBytes:Em,createHmacDrbg:p9,ensureBytes:qo,equalBytes:Mde,hexToBytes:bf,hexToNumber:v3,numberToBytesBE:xf,numberToBytesLE:b3,numberToHexUnpadded:h9,numberToVarBytesBE:Tde,utf8ToBytes:Ide,validateObject:d0},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _r=BigInt(0),Kn=BigInt(1),bc=BigInt(2),Ode=BigInt(3),d2=BigInt(4),DP=BigInt(5),UP=BigInt(8);BigInt(9);BigInt(16);function Ei(t,e){const n=t%e;return n>=_r?n:e+n}function Bde(t,e,n){if(n<=_r||e<_r)throw new Error("Expected power/modulo > 0");if(n===Kn)return _r;let r=Kn;for(;e>_r;)e&Kn&&(r=r*t%n),t=t*t%n,e>>=Kn;return r}function go(t,e,n){let r=t;for(;e-- >_r;)r*=r,r%=n;return r}function f2(t,e){if(t===_r||e<=_r)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ei(t,e),r=e,i=_r,o=Kn;for(;n!==_r;){const a=r/n,l=r%n,c=i-o*a;r=n,n=l,i=o,o=c}if(r!==Kn)throw new Error("invert: does not exist");return Ei(i,e)}function Lde(t){const e=(t-Kn)/bc;let n,r,i;for(n=t-Kn,r=0;n%bc===_r;n/=bc,r++);for(i=bc;i<t&&Bde(i,e,t)!==t-Kn;i++);if(r===1){const s=(t+Kn)/d2;return function(l,c){const u=l.pow(c,s);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Kn)/bc;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,o),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<c&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const p=a.pow(u,Kn<<BigInt(c-h-1));u=a.sqr(p),d=a.mul(d,p),f=a.mul(f,u),c=h}return d}}function Dde(t){if(t%d2===Ode){const e=(t+Kn)/d2;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%UP===DP){const e=(t-DP)/UP;return function(r,i){const o=r.mul(i,bc),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,bc),s),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return Lde(t)}const Ude=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zde(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ude.reduce((r,i)=>(r[i]="function",r),e);return d0(t,n)}function jde(t,e,n){if(n<_r)throw new Error("Expected power > 0");if(n===_r)return t.ONE;if(n===Kn)return e;let r=t.ONE,i=e;for(;n>_r;)n&Kn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Kn;return r}function Hde(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function m9(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Gde(t,e,n=!1,r={}){if(t<=_r)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=m9(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Dde(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:x3(i),ZERO:_r,ONE:Kn,create:l=>Ei(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return _r<=l&&l<t},is0:l=>l===_r,isOdd:l=>(l&Kn)===Kn,neg:l=>Ei(-l,t),eql:(l,c)=>l===c,sqr:l=>Ei(l*l,t),add:(l,c)=>Ei(l+c,t),sub:(l,c)=>Ei(l-c,t),mul:(l,c)=>Ei(l*c,t),pow:(l,c)=>jde(a,l,c),div:(l,c)=>Ei(l*f2(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>f2(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>Hde(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?b3(l,o):xf(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?w3(l):Qc(l)}});return Object.freeze(a)}function g9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function y9(t){const e=g9(t);return e+Math.ceil(e/2)}function Wde(t,e,n=!1){const r=t.length,i=g9(e),o=y9(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?Qc(t):w3(t),a=Ei(s,e-Kn)+Kn;return n?b3(a,i):xf(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vde=BigInt(0),zx=BigInt(1);function $de(t,e){const n=(i,o)=>{const s=o.negate();return i?s:o},r=i=>{const o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:n,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>Vde;)o&zx&&(s=s.add(a)),a=a.double(),o>>=zx;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=r(o),l=[];let c=i,u=c;for(let d=0;d<s;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),f=2**i,h=BigInt(i);for(let p=0;p<a;p++){const m=p*l;let y=Number(s&d);s>>=h,y>l&&(y-=f,s+=zx);const g=m,v=m+Math.abs(y)-1,b=p%2!==0,x=y<0;y===0?u=u.add(n(b,o[g])):c=c.add(n(x,o[v]))}return{p:c,f:u}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,a(c))),this.wNAF(l,c,s)}}}function v9(t){return zde(t.Fp),d0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...m9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qde(t){const e=v9(t);d0(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Kde,hexToBytes:Qde}=Fde,Lc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Lc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Kde(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Lc,n=typeof t=="string"?Qde(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=Lc._parseInt(n.subarray(2)),{d:s,l:a}=Lc._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},ga=BigInt(0),bo=BigInt(1);BigInt(2);const zP=BigInt(3);BigInt(4);function Xde(t){const e=qde(t),{Fp:n}=e,r=e.toBytes||((p,m,y)=>{const g=m.toAffine();return Em(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(p=>{const m=p.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),g=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:g}});function o(p){const{a:m,b:y}=e,g=n.sqr(p),v=n.mul(g,p);return n.add(n.add(v,n.mul(p,m)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(p){return typeof p=="bigint"&&ga<p&&p<e.n}function a(p){if(!s(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:g,n:v}=e;if(m&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=wf(p)),typeof p!="string"||!m.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let b;try{b=typeof p=="bigint"?p:Qc(qo("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return g&&(b=Ei(b,v)),a(b),b}const c=new Map;function u(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,g){if(this.px=m,this.py=y,this.pz=g,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(m){const{x:y,y:g}=m||{};if(!m||!n.isValid(y)||!n.isValid(g))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const v=b=>n.eql(b,n.ZERO);return v(y)&&v(g)?d.ZERO:new d(y,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(g=>g.pz));return m.map((g,v)=>g.toAffine(y[v])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(i(qo("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const g=n.sqr(y),v=o(m);if(!n.eql(g,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:y,py:g,pz:v}=this,{px:b,py:x,pz:I}=m,k=n.eql(n.mul(y,I),n.mul(b,v)),A=n.eql(n.mul(g,I),n.mul(x,v));return k&&A}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,g=n.mul(y,zP),{px:v,py:b,pz:x}=this;let I=n.ZERO,k=n.ZERO,A=n.ZERO,U=n.mul(v,v),S=n.mul(b,b),N=n.mul(x,x),P=n.mul(v,b);return P=n.add(P,P),A=n.mul(v,x),A=n.add(A,A),I=n.mul(m,A),k=n.mul(g,N),k=n.add(I,k),I=n.sub(S,k),k=n.add(S,k),k=n.mul(I,k),I=n.mul(P,I),A=n.mul(g,A),N=n.mul(m,N),P=n.sub(U,N),P=n.mul(m,P),P=n.add(P,A),A=n.add(U,U),U=n.add(A,U),U=n.add(U,N),U=n.mul(U,P),k=n.add(k,U),N=n.mul(b,x),N=n.add(N,N),U=n.mul(N,P),I=n.sub(I,U),A=n.mul(N,S),A=n.add(A,A),A=n.add(A,A),new d(I,k,A)}add(m){u(m);const{px:y,py:g,pz:v}=this,{px:b,py:x,pz:I}=m;let k=n.ZERO,A=n.ZERO,U=n.ZERO;const S=e.a,N=n.mul(e.b,zP);let P=n.mul(y,b),G=n.mul(g,x),B=n.mul(v,I),w=n.add(y,g),E=n.add(b,x);w=n.mul(w,E),E=n.add(P,G),w=n.sub(w,E),E=n.add(y,v);let M=n.add(b,I);return E=n.mul(E,M),M=n.add(P,B),E=n.sub(E,M),M=n.add(g,v),k=n.add(x,I),M=n.mul(M,k),k=n.add(G,B),M=n.sub(M,k),U=n.mul(S,E),k=n.mul(N,B),U=n.add(k,U),k=n.sub(G,U),U=n.add(G,U),A=n.mul(k,U),G=n.add(P,P),G=n.add(G,P),B=n.mul(S,B),E=n.mul(N,E),G=n.add(G,B),B=n.sub(P,B),B=n.mul(S,B),E=n.add(E,B),P=n.mul(G,E),A=n.add(A,P),P=n.mul(M,E),k=n.mul(w,k),k=n.sub(k,P),P=n.mul(w,G),U=n.mul(M,U),U=n.add(U,P),new d(k,A,U)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,c,m,y=>{const g=n.invertBatch(y.map(v=>v.pz));return y.map((v,b)=>v.toAffine(g[b])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===ga)return y;if(a(m),m===bo)return this;const{endo:g}=e;if(!g)return h.unsafeLadder(this,m);let{k1neg:v,k1:b,k2neg:x,k2:I}=g.splitScalar(m),k=y,A=y,U=this;for(;b>ga||I>ga;)b&bo&&(k=k.add(U)),I&bo&&(A=A.add(U)),U=U.double(),b>>=bo,I>>=bo;return v&&(k=k.negate()),x&&(A=A.negate()),A=new d(n.mul(A.px,g.beta),A.py,A.pz),k.add(A)}multiply(m){a(m);let y=m,g,v;const{endo:b}=e;if(b){const{k1neg:x,k1:I,k2neg:k,k2:A}=b.splitScalar(y);let{p:U,f:S}=this.wNAF(I),{p:N,f:P}=this.wNAF(A);U=h.constTimeNegate(x,U),N=h.constTimeNegate(k,N),N=new d(n.mul(N.px,b.beta),N.py,N.pz),g=U.add(N),v=S.add(P)}else{const{p:x,f:I}=this.wNAF(y);g=x,v=I}return d.normalizeZ([g,v])[0]}multiplyAndAddUnsafe(m,y,g){const v=d.BASE,b=(I,k)=>k===ga||k===bo||!I.equals(v)?I.multiplyUnsafe(k):I.multiply(k),x=b(this,y).add(b(m,g));return x.is0()?void 0:x}toAffine(m){const{px:y,py:g,pz:v}=this,b=this.is0();m==null&&(m=b?n.ONE:n.inv(v));const x=n.mul(y,m),I=n.mul(g,m),k=n.mul(v,m);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x,y:I}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===bo)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===bo?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return wf(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,h=$de(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function Yde(t){const e=v9(t);return d0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Jde(t){const e=Yde(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(E){return ga<E&&E<n.ORDER}function a(E){return Ei(E,r)}function l(E){return f2(E,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=Xde({...e,toBytes(E,M,O){const C=M.toAffine(),H=n.toBytes(C.x),W=Em;return O?W(Uint8Array.from([M.hasEvenY()?2:3]),H):W(Uint8Array.from([4]),H,n.toBytes(C.y))},fromBytes(E){const M=E.length,O=E[0],C=E.subarray(1);if(M===i&&(O===2||O===3)){const H=Qc(C);if(!s(H))throw new Error("Point is not on curve");const W=d(H);let D=n.sqrt(W);const T=(D&bo)===bo;return(O&1)===1!==T&&(D=n.neg(D)),{x:H,y:D}}else if(M===o&&O===4){const H=n.fromBytes(C.subarray(0,n.BYTES)),W=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:H,y:W}}else throw new Error(`Point of length ${M} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=E=>wf(xf(E,e.nByteLength));function p(E){const M=r>>bo;return E>M}function m(E){return p(E)?a(-E):E}const y=(E,M,O)=>Qc(E.slice(M,O));class g{constructor(M,O,C){this.r=M,this.s=O,this.recovery=C,this.assertValidity()}static fromCompact(M){const O=e.nByteLength;return M=qo("compactSignature",M,O*2),new g(y(M,0,O),y(M,O,2*O))}static fromDER(M){const{r:O,s:C}=Lc.toSig(qo("DER",M));return new g(O,C)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new g(this.r,this.s,M)}recoverPublicKey(M){const{r:O,s:C,recovery:H}=this,W=A(qo("msgHash",M));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const D=H===2||H===3?O+e.n:O;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=H&1?"03":"02",$=c.fromHex(T+h(D)),J=l(D),Z=a(-W*J),ce=a(C*J),ie=c.BASE.multiplyAndAddUnsafe($,Z,ce);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return bf(this.toDERHex())}toDERHex(){return Lc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return bf(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const v={isValidPrivateKey(E){try{return u(E),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const E=y9(e.n);return Wde(e.randomBytes(E),e.n)},precompute(E=8,M=c.BASE){return M._setWindowSize(E),M.multiply(BigInt(3)),M}};function b(E,M=!0){return c.fromPrivateKey(E).toRawBytes(M)}function x(E){const M=E instanceof Uint8Array,O=typeof E=="string",C=(M||O)&&E.length;return M?C===i||C===o:O?C===2*i||C===2*o:E instanceof c}function I(E,M,O=!0){if(x(E))throw new Error("first arg must be private key");if(!x(M))throw new Error("second arg must be public key");return c.fromHex(M).multiply(u(E)).toRawBytes(O)}const k=e.bits2int||function(E){const M=Qc(E),O=E.length*8-e.nBitLength;return O>0?M>>BigInt(O):M},A=e.bits2int_modN||function(E){return a(k(E))},U=x3(e.nBitLength);function S(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(ga<=E&&E<U))throw new Error(`bigint expected < 2^${e.nBitLength}`);return xf(E,e.nByteLength)}function N(E,M,O=P){if(["recovered","canonical"].some(ue=>ue in O))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:H}=e;let{lowS:W,prehash:D,extraEntropy:T}=O;W==null&&(W=!0),E=qo("msgHash",E),D&&(E=qo("prehashed msgHash",C(E)));const $=A(E),J=u(M),Z=[S(J),S($)];if(T!=null){const ue=T===!0?H(n.BYTES):T;Z.push(qo("extraEntropy",ue))}const ce=Em(...Z),ie=$;function xe(ue){const Ie=k(ue);if(!f(Ie))return;const Ge=l(Ie),Fe=c.BASE.multiply(Ie).toAffine(),At=a(Fe.x);if(At===ga)return;const oe=a(Ge*a(ie+At*J));if(oe===ga)return;let ct=(Fe.x===At?0:2)|Number(Fe.y&bo),Tt=oe;return W&&p(oe)&&(Tt=m(oe),ct^=1),new g(At,Tt,ct)}return{seed:ce,k2sig:xe}}const P={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function B(E,M,O=P){const{seed:C,k2sig:H}=N(E,M,O),W=e;return p9(W.hash.outputLen,W.nByteLength,W.hmac)(C,H)}c.BASE._setWindowSize(8);function w(E,M,O,C=G){const H=E;if(M=qo("msgHash",M),O=qo("publicKey",O),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:D}=C;let T,$;try{if(typeof H=="string"||H instanceof Uint8Array)try{T=g.fromDER(H)}catch(Fe){if(!(Fe instanceof Lc.Err))throw Fe;T=g.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Fe,s:At}=H;T=new g(Fe,At)}else throw new Error("PARSE");$=c.fromHex(O)}catch(Fe){if(Fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&T.hasHighS())return!1;D&&(M=e.hash(M));const{r:J,s:Z}=T,ce=A(M),ie=l(Z),xe=a(ce*ie),ue=a(J*ie),Ie=c.BASE.multiplyAndAddUnsafe($,xe,ue)?.toAffine();return Ie?a(Ie.x)===J:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:I,sign:B,verify:w,ProjectivePoint:c,Signature:g,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zde(t){return{hash:t,hmac:(e,...n)=>K7(t,e,zue(...n)),randomBytes:jue}}function efe(t,e){const n=r=>Jde({...t,...Zde(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tfe=BigInt(1),h2=BigInt(2),HP=(t,e)=>(t+e/h2)/e;function nfe(t){const e=w9,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=go(u,n,e)*u%e,f=go(d,n,e)*u%e,h=go(f,h2,e)*c%e,p=go(h,i,e)*h%e,m=go(p,o,e)*p%e,y=go(m,a,e)*m%e,g=go(y,l,e)*y%e,v=go(g,a,e)*m%e,b=go(v,n,e)*u%e,x=go(b,s,e)*p%e,I=go(x,r,e)*c%e,k=go(I,h2,e);if(!p2.eql(p2.sqr(k),t))throw new Error("Cannot find square root");return k}const p2=Gde(w9,void 0,void 0,{sqrt:nfe}),fl=efe({a:BigInt(0),b:BigInt(7),Fp:p2,n:jP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=jP,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tfe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=HP(o*t,e),l=HP(-r*t,e);let c=Ei(t-a*n-l*i,e),u=Ei(-a*r-l*o,e);const d=c>s,f=u>s;if(d&&(c=e-c),f&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},X7);BigInt(0);fl.ProjectivePoint;const Am="0x0000000000000000000000000000000000000000",GP="0x0000000000000000000000000000000000000000000000000000000000000000",WP=BigInt(0),VP=BigInt(1),$P=BigInt(2),qP=BigInt(27),KP=BigInt(28),cg=BigInt(35),qu={};function QP(t){return Ua(hr(t),32)}class Un{#e;#t;#n;#r;get r(){return this.#e}set r(e){he(Wd(e)===32,"invalid r","value",e),this.#e=lt(e)}get s(){return this.#t}set s(e){he(Wd(e)===32,"invalid s","value",e);const n=lt(e);he(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),this.#t=n}get v(){return this.#n}set v(e){const n=Gt(e,"value");he(n===27||n===28,"invalid v","v",e),this.#n=n}get networkV(){return this.#r}get legacyChainId(){const e=this.networkV;return e==null?null:Un.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ht(this.s);return this.yParity&&(e[0]|=128),lt(e)}get compactSerialized(){return Hn([this.r,this.yParityAndS])}get serialized(){return Hn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,n,r,i){L1(e,qu,"Signature"),this.#e=n,this.#t=r,this.#n=i,this.#r=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Un(qu,this.r,this.s,this.v);return this.networkV&&(e.#r=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=Et(e,"v");return n==qP||n==KP?WP:(he(n>=cg,"invalid EIP-155 v","v",e),(n-cg)/$P)}static getChainIdV(e,n){return Et(e)*$P+BigInt(35+n-27)}static getNormalizedV(e){const n=Et(e);return n===WP||n===qP?27:n===VP||n===KP?28:(he(n>=cg,"invalid v","v",e),n&VP?27:28)}static from(e){function n(c,u){he(c,u,"signature",e)}if(e==null)return new Un(qu,GP,GP,27);if(typeof e=="string"){const c=Ht(e,"signature");if(c.length===64){const u=lt(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new Un(qu,u,lt(d),f)}if(c.length===65){const u=lt(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const f=Un.getNormalizedV(c[64]);return new Un(qu,u,lt(d),f)}n(!1,"invalid raw signature length")}if(e instanceof Un)return e.clone();const r=e.r;n(r!=null,"missing r");const i=QP(r),o=function(c,u){if(c!=null)return QP(c);if(u!=null){n(xn(u,32),"invalid yParityAndS");const d=Ht(u);return d[0]&=127,lt(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((Ht(o)[0]&128)==0,"non-canonical s");const{networkV:s,v:a}=function(c,u,d){if(c!=null){const f=Et(c);return{networkV:f>=cg?f:void 0,v:Un.getNormalizedV(f)}}if(u!=null)return n(xn(u,32),"invalid yParityAndS"),{v:Ht(u)[0]&128?28:27};if(d!=null){switch(Gt(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Un(qu,i,o,a);return s&&(l.#r=s),n(e.yParity==null||Gt(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}}class ya{#e;constructor(e){he(Wd(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=lt(e)}get privateKey(){return this.#e}get publicKey(){return ya.computePublicKey(this.#e)}get compressedPublicKey(){return ya.computePublicKey(this.#e,!0)}sign(e){he(Wd(e)===32,"invalid digest length","digest",e);const n=fl.sign(ai(e),ai(this.#e),{lowS:!0});return Un.from({r:Vl(n.r,32),s:Vl(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ya.computePublicKey(e);return lt(fl.getSharedSecret(ai(this.#e),Ht(n),!1))}static computePublicKey(e,n){let r=Ht(e,"key");if(r.length===32){const o=fl.getPublicKey(r,!!n);return lt(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=fl.ProjectivePoint.fromHex(r);return lt(i.toRawBytes(n))}static recoverPublicKey(e,n){he(Wd(e)===32,"invalid digest length","digest",e);const r=Un.from(n);let i=fl.Signature.fromCompact(ai(Hn([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(ai(e));return he(o!=null,"invalid signature for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=fl.ProjectivePoint.fromHex(ya.computePublicKey(e).substring(2)),o=fl.ProjectivePoint.fromHex(ya.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}}const rfe=BigInt(0),ife=BigInt(36);function XP(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Ht(rr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const E3={};for(let t=0;t<10;t++)E3[String(t)]=String(t);for(let t=0;t<26;t++)E3[String.fromCharCode(65+t)]=String(10+t);const YP=15;function ofe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>E3[r]).join("");for(;e.length>=YP;){let r=e.substring(0,YP);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const sfe=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function afe(t){t=t.toLowerCase();let e=rfe;for(let n=0;n<t.length;n++)e=e*ife+sfe[t[n]];return e}function un(t){if(he(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=XP(t);return he(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){he(t.substring(2,4)===ofe(t),"bad icap checksum","address",t);let e=afe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return XP("0x"+e)}he(!1,"invalid address","address",t)}function lfe(t){const e=un(t.from);let r=Et(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,un(Ln(rr($l([e,r])),12))}function b9(t){return t&&typeof t.getAddress=="function"}async function jx(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(De(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),he(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),un(n)}function ci(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?un(t):(De(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),jx(t,e.resolveName(t)));if(b9(t))return jx(t,t.getAddress());if(t&&typeof t.then=="function")return jx(t,t);he(!1,"unsupported addressable value","target",t)}const da={};function wt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new zn(da,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function en(t,e){return new zn(da,`bytes${e||""}`,t,{size:e})}const JP=Symbol.for("_ethers_typed");class zn{type;value;#e;_typedSymbol;constructor(e,n,r,i){i==null&&(i=null),L1(da,e,"Typed"),Pt(this,{_typedSymbol:JP,type:n,value:r}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,n){return new zn(da,e,n)}static uint8(e){return wt(e,8)}static uint16(e){return wt(e,16)}static uint24(e){return wt(e,24)}static uint32(e){return wt(e,32)}static uint40(e){return wt(e,40)}static uint48(e){return wt(e,48)}static uint56(e){return wt(e,56)}static uint64(e){return wt(e,64)}static uint72(e){return wt(e,72)}static uint80(e){return wt(e,80)}static uint88(e){return wt(e,88)}static uint96(e){return wt(e,96)}static uint104(e){return wt(e,104)}static uint112(e){return wt(e,112)}static uint120(e){return wt(e,120)}static uint128(e){return wt(e,128)}static uint136(e){return wt(e,136)}static uint144(e){return wt(e,144)}static uint152(e){return wt(e,152)}static uint160(e){return wt(e,160)}static uint168(e){return wt(e,168)}static uint176(e){return wt(e,176)}static uint184(e){return wt(e,184)}static uint192(e){return wt(e,192)}static uint200(e){return wt(e,200)}static uint208(e){return wt(e,208)}static uint216(e){return wt(e,216)}static uint224(e){return wt(e,224)}static uint232(e){return wt(e,232)}static uint240(e){return wt(e,240)}static uint248(e){return wt(e,248)}static uint256(e){return wt(e,256)}static uint(e){return wt(e,256)}static int8(e){return wt(e,-8)}static int16(e){return wt(e,-16)}static int24(e){return wt(e,-24)}static int32(e){return wt(e,-32)}static int40(e){return wt(e,-40)}static int48(e){return wt(e,-48)}static int56(e){return wt(e,-56)}static int64(e){return wt(e,-64)}static int72(e){return wt(e,-72)}static int80(e){return wt(e,-80)}static int88(e){return wt(e,-88)}static int96(e){return wt(e,-96)}static int104(e){return wt(e,-104)}static int112(e){return wt(e,-112)}static int120(e){return wt(e,-120)}static int128(e){return wt(e,-128)}static int136(e){return wt(e,-136)}static int144(e){return wt(e,-144)}static int152(e){return wt(e,-152)}static int160(e){return wt(e,-160)}static int168(e){return wt(e,-168)}static int176(e){return wt(e,-176)}static int184(e){return wt(e,-184)}static int192(e){return wt(e,-192)}static int200(e){return wt(e,-200)}static int208(e){return wt(e,-208)}static int216(e){return wt(e,-216)}static int224(e){return wt(e,-224)}static int232(e){return wt(e,-232)}static int240(e){return wt(e,-240)}static int248(e){return wt(e,-248)}static int256(e){return wt(e,-256)}static int(e){return wt(e,-256)}static bytes1(e){return en(e,1)}static bytes2(e){return en(e,2)}static bytes3(e){return en(e,3)}static bytes4(e){return en(e,4)}static bytes5(e){return en(e,5)}static bytes6(e){return en(e,6)}static bytes7(e){return en(e,7)}static bytes8(e){return en(e,8)}static bytes9(e){return en(e,9)}static bytes10(e){return en(e,10)}static bytes11(e){return en(e,11)}static bytes12(e){return en(e,12)}static bytes13(e){return en(e,13)}static bytes14(e){return en(e,14)}static bytes15(e){return en(e,15)}static bytes16(e){return en(e,16)}static bytes17(e){return en(e,17)}static bytes18(e){return en(e,18)}static bytes19(e){return en(e,19)}static bytes20(e){return en(e,20)}static bytes21(e){return en(e,21)}static bytes22(e){return en(e,22)}static bytes23(e){return en(e,23)}static bytes24(e){return en(e,24)}static bytes25(e){return en(e,25)}static bytes26(e){return en(e,26)}static bytes27(e){return en(e,27)}static bytes28(e){return en(e,28)}static bytes29(e){return en(e,29)}static bytes30(e){return en(e,30)}static bytes31(e){return en(e,31)}static bytes32(e){return en(e,32)}static address(e){return new zn(da,"address",e)}static bool(e){return new zn(da,"bool",!!e)}static bytes(e){return new zn(da,"bytes",e)}static string(e){return new zn(da,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new zn(da,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===JP}static dereference(e,n){if(zn.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}}class cfe extends qa{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=zn.dereference(n,"string");try{r=un(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return un(Vl(e.readValue(),20))}}class ufe extends qa{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}function x9(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return De(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),De(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else he(!1,"invalid tuple value","tuple",n);he(e.length===r.length,"types/value length mismatch","tuple",n);let i=new c2,o=new c2,s=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let d=o.length;l.encode(o,u);let f=i.writeUpdatableValue();s.push(h=>{f(h+d)})}else l.encode(i,u)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function E9(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),l=i.subReader(a);try{s=o.decode(l)}catch(c){if(Or(c,"BUFFER_OVERRUN"))throw c;s=c,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(Or(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");n.push(s),r.push(o.localName||null)}),Ea.fromItems(n,r)}class dfe extends qa{coder;length;constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o),Pt(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=zn.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;i===-1&&(i=r.length,e.writeValue(r.length)),N7(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<r.length;s++)o.push(this.coder);return x9(e,o,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),De(n*li<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*li,length:e.dataLength}));let r=[];for(let i=0;i<n;i++)r.push(new ufe(this.coder));return E9(e,r)}}class ffe extends qa{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=zn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class A9 extends qa{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ai(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class hfe extends A9{constructor(e){super("bytes",e)}decode(e){return lt(super.decode(e))}}class pfe extends qa{size;constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Pt(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=ai(zn.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return lt(e.readBytes(this.size))}}const mfe=new Uint8Array([]);class gfe extends qa{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(mfe)}decode(e){return e.readBytes(0),null}}const yfe=BigInt(0),vfe=BigInt(1),wfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class bfe extends qa{size;signed;constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),Pt(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=Et(zn.dereference(n,this.type)),i=Yh(wfe,li*8);if(this.signed){let o=Yh(i,this.size*8-1);(r>o||r<-(o+vfe))&&this._throwError("value out-of-bounds",n),r=O7(r,8*li)}else(r<yfe||r>Yh(i,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=Yh(e.readValue(),this.size*8);return this.signed&&(n=yue(n,this.size*8)),n}}class xfe extends A9{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ma(zn.dereference(n,"string")))}decode(e){return Gv(super.decode(e))}}class ug extends qa{coders;constructor(e,n){let r=!1;const i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r),Pt(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){const r=zn.dereference(n,"tuple");return x9(e,this.coders,r)}decode(e){return E9(e,this.coders)}}function Hx(t,e){return{address:un(t),storageKeys:e.map((n,r)=>(he(xn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Lu(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(he(n.length===2,"invalid slot set",`value[${r}]`,n),Hx(n[0],n[1])):(he(n!=null&&typeof n=="object","invalid address-slot set","value",t),Hx(n.address,n.storageKeys)));he(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return Hx(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function _9(t){return{address:un(t.address),nonce:Et(t.nonce!=null?t.nonce:0),chainId:Et(t.chainId!=null?t.chainId:0),signature:Un.from(t.signature)}}function Efe(t){let e;return typeof t=="string"?e=ya.computePublicKey(t,!1):e=t.publicKey,un(rr("0x"+e.substring(4)).substring(26))}function Afe(t,e){return Efe(ya.recoverPublicKey(t,e))}const Er=BigInt(0),_fe=BigInt(2),Sfe=BigInt(27),Cfe=BigInt(28),Tfe=BigInt(35),Mfe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Gx=4096*32;function Ife(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ht(t.blobToKzgCommitment(lt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ht(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ht(t.blobToKZGCommitment(lt(r)));he(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ht(t.computeBlobProof(lt(r),lt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ht(t.computeBlobKZGProof(lt(r),lt(i)));he(!1,"unsupported KZG library","kzg",t)}}}function ZP(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=th(e).substring(4),"0x"+n}function nh(t){return t==="0x"?null:un(t)}function G1(t,e){try{return Lu(t)}catch(n){he(!1,n.message,e,t)}}function Rfe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:nh(i[1]),nonce:gn(i[2],"nonce"),chainId:gn(i[0],"chainId"),signature:Un.from({yParity:Du(i[3],"yParity"),r:Ua(i[4],32),s:Ua(i[5],32)})})}return n}catch(n){he(!1,n.message,e,t)}}function Du(t,e){return t==="0x"?0:Gt(t,e)}function gn(t,e){if(t==="0x")return Er;const n=Et(t,e);return he(n<=Mfe,"value exceeds uint size",e,n),n}function Yt(t,e){const n=Et(t,"value"),r=hr(n);return he(r.length<=32,"value too large",`tx.${e}`,n),r}function W1(t){return Lu(t).map(e=>[e.address,e.storageKeys])}function Pfe(t){return t.map(e=>[Yt(e.chainId,"chainId"),e.address,Yt(e.nonce,"nonce"),Yt(e.signature.yParity,"yParity"),hr(e.signature.r),hr(e.signature.s)])}function Nfe(t,e){he(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)he(xn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function kfe(t){const e=u0(t);he(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Du(e[0],"nonce"),gasPrice:gn(e[1],"gasPrice"),gasLimit:gn(e[2],"gasLimit"),to:nh(e[3]),value:gn(e[4],"value"),data:lt(e[5]),chainId:Er};if(e.length===6)return n;const r=gn(e[6],"v"),i=gn(e[7],"r"),o=gn(e[8],"s");if(i===Er&&o===Er)n.chainId=r;else{let s=(r-Tfe)/_fe;s<Er&&(s=Er),n.chainId=s,he(s!==Er||r===Sfe||r===Cfe,"non-canonical legacy v","v",e[6]),n.signature=Un.from({r:Ua(e[7],32),s:Ua(e[8],32),v:r})}return n}function Ffe(t,e){const n=[Yt(t.nonce,"nonce"),Yt(t.gasPrice||0,"gasPrice"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data];let r=Er;if(t.chainId!=Er)r=Et(t.chainId,"tx.chainId"),he(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==Er&&(n.push(hr(r)),n.push("0x"),n.push("0x")),$l(n);let i=BigInt(27+e.yParity);return r!==Er?i=Un.getChainIdV(r,e.v):BigInt(e.v)!==i&&he(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(hr(i)),n.push(hr(e.r)),n.push(hr(e.s)),$l(n)}function V1(t,e){let n;try{if(n=Du(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{he(!1,"invalid yParity","yParity",e[0])}const r=Ua(e[1],32),i=Ua(e[2],32),o=Un.from({r,s:i,yParity:n});t.signature=o}function Ofe(t){const e=u0(Ht(t).slice(1));he(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",lt(t));const n={type:2,chainId:gn(e[0],"chainId"),nonce:Du(e[1],"nonce"),maxPriorityFeePerGas:gn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gn(e[4],"gasLimit"),to:nh(e[5]),value:gn(e[6],"value"),data:lt(e[7]),accessList:G1(e[8],"accessList")};return e.length===9||V1(n,e.slice(9)),n}function Bfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,W1(t.accessList||[])];return e&&(n.push(Yt(e.yParity,"yParity")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x02",$l(n)])}function Lfe(t){const e=u0(Ht(t).slice(1));he(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",lt(t));const n={type:1,chainId:gn(e[0],"chainId"),nonce:Du(e[1],"nonce"),gasPrice:gn(e[2],"gasPrice"),gasLimit:gn(e[3],"gasLimit"),to:nh(e[4]),value:gn(e[5],"value"),data:lt(e[6]),accessList:G1(e[7],"accessList")};return e.length===8||V1(n,e.slice(8)),n}function Dfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.gasPrice||0,"gasPrice"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,W1(t.accessList||[])];return e&&(n.push(Yt(e.yParity,"recoveryParam")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x01",$l(n)])}function Ufe(t){let e=u0(Ht(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],s=e[2],a=e[3];he(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),he(Array.isArray(s),"invalid network format: commitments not an array","fields[2]",s),he(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),he(o.length===s.length,"invalid network format: blobs/commitments length mismatch","fields",e),he(o.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:o[l],commitment:s[l],proof:a[l]});e=e[0]}he(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",lt(t));const i={type:3,chainId:gn(e[0],"chainId"),nonce:Du(e[1],"nonce"),maxPriorityFeePerGas:gn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gn(e[4],"gasLimit"),to:nh(e[5]),value:gn(e[6],"value"),data:lt(e[7]),accessList:G1(e[8],"accessList"),maxFeePerBlobGas:gn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),he(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),he(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)he(xn(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||V1(i,e.slice(11)),i}function zfe(t,e,n){const r=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||Am,Yt(t.value,"value"),t.data,W1(t.accessList||[]),Yt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Nfe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Yt(e.yParity,"yParity")),r.push(hr(e.r)),r.push(hr(e.s)),n)?Hn(["0x03",$l([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):Hn(["0x03",$l(r)])}function jfe(t){const e=u0(Ht(t).slice(1));he(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",lt(t));const n={type:4,chainId:gn(e[0],"chainId"),nonce:Du(e[1],"nonce"),maxPriorityFeePerGas:gn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gn(e[4],"gasLimit"),to:nh(e[5]),value:gn(e[6],"value"),data:lt(e[7]),accessList:G1(e[8],"accessList"),authorizationList:Rfe(e[9],"authorizationList")};return e.length===10||V1(n,e.slice(10)),n}function Hfe(t,e){const n=[Yt(t.chainId,"chainId"),Yt(t.nonce,"nonce"),Yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yt(t.maxFeePerGas||0,"maxFeePerGas"),Yt(t.gasLimit,"gasLimit"),t.to||"0x",Yt(t.value,"value"),t.data,W1(t.accessList||[]),Pfe(t.authorizationList||[])];return e&&(n.push(Yt(e.yParity,"yParity")),n.push(hr(e.r)),n.push(hr(e.s))),Hn(["0x04",$l(n)])}class Ko{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;#l;#c;#d;#f;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:he(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Am:e}set to(e){this.#t=e==null?null:un(e)}get nonce(){return this.#r}set nonce(e){this.#r=Gt(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=Et(e)}get gasPrice(){const e=this.#s;return e==null&&(this.type===0||this.type===1)?Er:e}set gasPrice(e){this.#s=e==null?null:Et(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?Er:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:Et(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?Er:null)}set maxFeePerGas(e){this.#a=e==null?null:Et(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=lt(e)}get value(){return this.#p}set value(e){this.#p=Et(e,"value")}get chainId(){return this.#u}set chainId(e){this.#u=Et(e)}get signature(){return this.#m||null}set signature(e){this.#m=e==null?null:Un.from(e)}get accessList(){const e=this.#h||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#h=e==null?null:Lu(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(n=>_9(n))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?Er:e}set maxFeePerBlobGas(e){this.#l=e==null?null:Et(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#c;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){he(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)he(xn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}this.#c=e}get blobs(){return this.#f==null?null:this.#f.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#f=null;return}const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(d3(o)){De(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Ht(o);if(he(s.length<=Gx,"blob is too large",`blobs[${i}]`,o),s.length!==Gx){const c=new Uint8Array(Gx);c.set(s),s=c}const a=this.#d.blobToKzgCommitment(s),l=lt(this.#d.computeBlobKzgProof(s,a));n.push({data:lt(s),commitment:lt(a),proof:l}),r.push(ZP(1,a))}else{const s=lt(o.commitment);n.push({data:lt(o.data),commitment:s,proof:lt(o.proof)}),r.push(ZP(1,s))}}this.#f=n,this.#c=r}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=Ife(e)}constructor(){this.#e=null,this.#t=null,this.#r=0,this.#i=Er,this.#s=null,this.#o=null,this.#a=null,this.#n="0x",this.#p=Er,this.#u=Er,this.#m=null,this.#h=null,this.#l=null,this.#c=null,this.#d=null,this.#f=null,this.#y=null}get hash(){return this.signature==null?null:rr(this.#g(!0,!1))}get unsignedHash(){return rr(this.unsignedSerialized)}get from(){return this.signature==null?null:Afe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ya.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#g(e,n){De(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return Ffe(this,r);case 1:return Dfe(this,r);case 2:return Bfe(this,r);case 3:return zfe(this,r,n?this.blobs:null);case 4:return Hfe(this,r)}De(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&De(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),De(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),De(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):n?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ko.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ko;if(typeof e=="string"){const r=Ht(e);if(r[0]>=127)return Ko.from(kfe(r));switch(r[0]){case 1:return Ko.from(Lfe(r));case 2:return Ko.from(Ofe(r));case 3:return Ko.from(Ufe(r));case 4:return Ko.from(jfe(r))}De(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Ko;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Un.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(he(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),he(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(he(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),he(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}}function yu(t){return rr(Ma(t))}var Gfe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const e6=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),t6=4;function Wfe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let I=1;I<r;I++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let I=0;I<d;I++)y=y<<1|u();let g=[],v=0,b=f;for(;;){let I=Math.floor(((y-v+1)*i-1)/b),k=0,A=r;for(;A-k>1;){let N=k+A>>>1;I<o[N]?A=N:k=N}if(k==0)break;g.push(k);let U=v+Math.floor(b*o[k]/i),S=v+Math.floor(b*o[k+1]/i)-1;for(;!((U^S)&h);)y=y<<1&m|u(),U=U<<1&m,S=S<<1&m|1;for(;U&~S&p;)y=y&h|y<<1&m>>>1|u(),U=U<<1^h,S=(S^h)<<1|h|1;v=U,b=1+S-U}let x=r-4;return g.map(I=>{switch(I-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return I-1}})}function Vfe(t){let e=0;return()=>t[e++]}function S9(t){return Vfe(Wfe($fe(t)))}function $fe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,s=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(r[o++]=a>>(s-=8));return r}function qfe(t){return t&1?~t>>1:t>>1}function Kfe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=qfe(e());return n}function _m(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function C9(t){return Sm(()=>{let e=_m(t);if(e.length)return e})}function T9(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Qfe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Xfe(n,t))}return e.flat()}function Sm(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function M9(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Kfe(t,n).forEach((o,s)=>r[s].push(o));return r}function Qfe(t,e){let n=1+e(),r=e(),i=Sm(e);return M9(i.length,1+t,e).flatMap((s,a)=>{let[l,...c]=s;return Array(i[a]).fill().map((u,d)=>{let f=d*r;return[l+d*n,c.map(h=>h+f)]})})}function Xfe(t,e){let n=1+e();return M9(n,1+t,e).map(i=>[i[0],i.slice(1)])}function Yfe(t){let e=[],n=_m(t);return i(r([]),[]),e;function r(o){let s=t(),a=Sm(()=>{let l=_m(t).map(c=>n[c]);if(l.length)return r(l)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,l){if(!(o&4&&l===a[a.length-1])){o&2&&(l=a[a.length-1]),o&1&&e.push(a);for(let c of s)for(let u of c.Q)i(c,[...a,u],l)}}}function Jfe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function I9(t){return`{${Jfe(t)}}`}function Zfe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Ef(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function ehe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var the="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Cm=44032,Vv=4352,$v=4449,qv=4519,R9=19,P9=21,Af=28,Kv=P9*Af,nhe=R9*Kv,rhe=Cm+nhe,ihe=Vv+R9,ohe=$v+P9,she=qv+Af;function Jh(t){return t>>24&255}function N9(t){return t&16777215}let m2,n6,g2,Ty;function ahe(){let t=S9(the);m2=new Map(C9(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),n6=new Set(_m(t)),g2=new Map,Ty=new Map;for(let[e,n]of T9(t)){if(!n6.has(e)&&n.length==2){let[r,i]=n,o=Ty.get(r);o||(o=new Map,Ty.set(r,o)),o.set(i,e)}g2.set(e,n.reverse())}}function k9(t){return t>=Cm&&t<rhe}function lhe(t,e){if(t>=Vv&&t<ihe&&e>=$v&&e<ohe)return Cm+(t-Vv)*Kv+(e-$v)*Af;if(k9(t)&&e>qv&&e<she&&(t-Cm)%Af==0)return t+(e-qv);{let n=Ty.get(t);return n&&(n=n.get(e),n)?n:-1}}function F9(t){m2||ahe();let e=[],n=[],r=!1;function i(o){let s=m2.get(o);s&&(r=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(k9(o)){let s=o-Cm,a=s/Kv|0,l=s%Kv/Af|0,c=s%Af;i(Vv+a),i($v+l),c>0&&i(qv+c)}else{let s=g2.get(o);s?n.push(...s):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Jh(e[0]);for(let s=1;s<e.length;s++){let a=Jh(e[s]);if(a==0||o<=a){o=a;continue}let l=s-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(o=Jh(e[--l]),o<=a))break}o=Jh(e[s])}}return e}function che(t){let e=[],n=[],r=-1,i=0;for(let o of t){let s=Jh(o),a=N9(o);if(r==-1)s==0?r=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=s;else{let l=lhe(r,a);l>=0?r=l:i==0&&s==0?(e.push(r),r=a):(n.push(a),i=s)}}return r>=0&&e.push(r,...n),e}function O9(t){return F9(t).map(N9)}function uhe(t){return che(F9(t))}const r6=45,B9=".",L9=65039,D9=1,Qv=t=>Array.from(t);function Tm(t,e){return t.P.has(e)||t.Q.has(e)}class dhe extends Array{get is_emoji(){return!0}}let y2,U9,Dc,v2,z9,Vd,Wx,fd,gc,i6,w2;function A3(){if(y2)return;let t=S9(Gfe);const e=()=>_m(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));y2=new Map(T9(t)),U9=n(),Dc=e(),v2=new Set(e().map(u=>Dc[u])),Dc=new Set(Dc),z9=n(),n();let i=C9(t),o=t();const s=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};Vd=Sm(u=>{let d=Sm(t).map(f=>f+96);if(d.length){let f=u>=o;d[0]-=32,d=Ef(d),f&&(d=`Restricted[${d}]`);let h=s(),p=s(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),Wx=n(),fd=new Map;let a=e().concat(Qv(Wx)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(u),Wx.has(u)||fd.set(u,h)});for(let{V:u,M:d}of new Set(fd.values())){let f=[];for(let p of u){let m=Vd.filter(g=>Tm(g,p)),y=f.find(({G:g})=>m.some(v=>g.has(v)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),r(y.G,m)}let h=f.flatMap(p=>Qv(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(g=>!p.has(g)));for(let g of m)d.set(g,y)}}gc=new Set;let l=new Set;const c=u=>gc.has(u)?l.add(u):gc.add(u);for(let u of Vd){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of gc)!fd.has(u)&&!l.has(u)&&fd.set(u,D9);r(gc,O9(gc)),i6=Yfe(t).map(u=>dhe.from(u)).sort(ehe),w2=new Map;for(let u of i6){let d=[w2];for(let f of u){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===L9?d.push(...h):d=h}for(let f of d)f.V=u}}function _3(t){return(j9(t)?"":`${S3($1([t]))} `)+I9(t)}function S3(t){return`"${t}"‎`}function fhe(t){if(t.length>=4&&t[2]==r6&&t[3]==r6)throw new Error(`invalid label extension: "${Ef(t.slice(0,4))}"`)}function hhe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function phe(t){let e=t[0],n=e6.get(e);if(n)throw Ep(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let s=e6.get(e);if(s){if(i==o)throw Ep(`${n} + ${s}`);i=o+1,n=s}}if(i==r)throw Ep(`trailing ${n}`)}function $1(t,e=1/0,n=I9){let r=[];mhe(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];j9(a)&&(r.push(Ef(t.slice(i,s))),r.push(n(a)),i=s+1)}return r.push(Ef(t.slice(i,o))),r.join("")}function mhe(t){return A3(),Dc.has(t)}function j9(t){return A3(),z9.has(t)}function ghe(t){return bhe(yhe(t,uhe,Ahe))}function yhe(t,e,n){if(!t)return[];A3();let r=0;return t.split(B9).map(i=>{let o=Zfe(i),s={input:o,offset:r};r+=o.length+1;try{let a=s.tokens=Ehe(o,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=s.output=a.flat();if(hhe(u),!(s.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))fhe(u),c="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)c="Emoji";else{if(Dc.has(u[0]))throw Ep("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&Dc.has(y[0]))throw Ep(`emoji + combining mark: "${Ef(a[m-1])} + ${$1([y[0]])}"`)}phe(u);let h=Qv(new Set(f)),[p]=whe(h);xhe(p,f),vhe(p,h),c=p.N}}s.type=c}catch(a){s.error=a}return s})}function vhe(t,e){let n,r=[];for(let i of e){let o=fd.get(i);if(o===D9)return;if(o){let s=o.M.get(i);if(n=n?n.filter(a=>s.has(a)):Qv(s),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>Tm(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function whe(t){let e=Vd;for(let n of t){let r=e.filter(i=>Tm(i,n));if(!r.length)throw Vd.some(i=>Tm(i,n))?G9(e[0],n):H9(n);if(e=r,r.length==1)break}return e}function bhe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${S3($1(e,63))}: ${i}`)}return Ef(r)}).join(B9)}function H9(t){return new Error(`disallowed character: ${_3(t)}`)}function G9(t,e){let n=_3(e),r=Vd.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Ep(t){return new Error(`illegal placement: ${t}`)}function xhe(t,e){for(let n of e)if(!Tm(t,n))throw G9(t,n);if(t.M){let n=O9(e);for(let r=1,i=n.length;r<i;r++)if(v2.has(n[r])){let o=r+1;for(let s;o<i&&v2.has(s=n[o]);o++)for(let a=r;a<o;a++)if(n[a]==s)throw new Error(`duplicate non-spacing marks: ${_3(s)}`);if(o-r>t6)throw new Error(`excessive non-spacing marks: ${S3($1(n.slice(r-1,o)))} (${o-r}/${t6})`);r=o}}}function Ehe(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=_he(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let s=t.pop();if(gc.has(s))i.push(s);else{let a=y2.get(s);if(a)i.push(...a);else if(!U9.has(s))throw H9(s)}}}return i.length&&r.push(e(i)),r}function Ahe(t){return t.filter(e=>e!=L9)}function _he(t,e){let n=w2,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const W9=new Uint8Array(32);W9.fill(0);function o6(t){return he(t.length!==0,"invalid ENS name; empty component","comp",t),t}function V9(t){const e=Ma(She(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(o6(e.slice(r,i))),r=i+1);return he(r<e.length,"invalid ENS name; empty component","name",t),n.push(o6(e.slice(r))),n}function She(t){try{if(t.length===0)throw new Error("empty label");return ghe(t)}catch(e){he(!1,`invalid ENS name (${e.message})`,"name",t)}}function b2(t){he(typeof t=="string","invalid ENS name; not a string","name",t),he(t.length,"invalid ENS name (empty label)","name",t);let e=W9;const n=V9(t);for(;n.length;)e=rr(Hn([e,rr(n.pop())]));return lt(e)}function Che(t,e){const n=e;return he(n<=255,"DNS encoded label cannot exceed 255","length",n),lt(Hn(V9(t).map(r=>{he(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const $9=new Uint8Array(32);$9.fill(0);const The=BigInt(-1),q9=BigInt(0),K9=BigInt(1),Mhe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ihe(t){const e=Ht(t),n=e.length%32;return n?Hn([e,$9.slice(n)]):lt(e)}const Rhe=Vl(K9,32),Phe=Vl(q9,32),s6={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Vx=["name","version","chainId","verifyingContract","salt"];function a6(t){return function(e){return he(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Nhe={name:a6("name"),version:a6("version"),chainId:function(t){const e=Et(t,"domain.chainId");return he(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Zo(e)},verifyingContract:function(t){try{return un(t).toLowerCase()}catch{}he(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ht(t,"domain.salt");return he(e.length===32,'invalid domain value "salt"',"domain.salt",t),lt(e)}};function $x(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);he(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Yh(Mhe,n?r-1:r),o=n?(i+K9)*The:q9;return function(s){const a=Et(s,"value");return he(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),Vl(n?O7(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return he(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Ht(r);return he(i.length===n,`invalid length for ${t}`,"value",r),Ihe(r)}}}switch(t){case"address":return function(e){return Ua(un(e),32)};case"bool":return function(e){return e?Rhe:Phe};case"bytes":return function(e){return rr(e)};case"string":return function(e){return yu(e)}}return null}function l6(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function dg(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class Vi{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const n=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(l=>{o[l]=e[l].map(({name:c,type:u})=>{let{base:d,index:f}=dg(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),this.#e=JSON.stringify(o);for(const l in o){const c=new Set;for(const u of o[l]){he(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const d=dg(u.type).base;he(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!$x(d)&&(he(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const s=Array.from(r.keys()).filter(l=>r.get(l).length===0);he(s.length!==0,"missing primary type","types",e),he(s.length===1,`ambiguous primary types or unused types: ${s.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Pt(this,{primaryType:s[0]});function a(l,c){he(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const d of c)i.get(d).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),this.#t.set(l,l6(l,o[l])+u.map(d=>l6(d,o[d])).join(""))}}getEncoder(e){let n=this.#n.get(e);return n||(n=this.#r(e),this.#n.set(e,n)),n}#r(e){{const i=$x(e);if(i)return i}const n=dg(e).array;if(n){const i=n.prefix,o=this.getEncoder(i);return s=>{he(n.count===-1||n.count===s.length,`array length mismatch; expected length ${n.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(rr)),rr(Hn(a))}}const r=this.types[e];if(r){const i=yu(this.#t.get(e));return o=>{const s=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(o[a]);return this.#t.has(l)?rr(c):c});return s.unshift(i),Hn(s)}}he(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const n=this.#t.get(e);return he(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return rr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if($x(e))return r(e,n);const i=dg(e).array;if(i)return he(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(s=>this._visit(i.prefix,s,r));const o=this.types[e];if(o)return o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,n[a],r),s),{});he(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Vi(e)}static getPrimaryType(e){return Vi.from(e).primaryType}static hashStruct(e,n,r){return Vi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=s6[r];he(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>Vx.indexOf(r.name)-Vx.indexOf(i.name)),Vi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Hn(["0x1901",Vi.hashDomain(e),Vi.from(n).hash(r)])}static hash(e,n,r){return rr(Vi.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const o={};e.verifyingContract&&!xn(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=Vi.from(n);s.visit(r,(a,l)=>(a==="address"&&!xn(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Vi.hashDomain(e);const i={},o=[];Vx.forEach(l=>{const c=e[l];c!=null&&(i[l]=Nhe[l](c),o.push({name:l,type:s6[l]}))});const s=Vi.from(n);n=s.types;const a=Object.assign({},n);return he(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return lt(Ht(c));if(l.match(/^u?int/))return Et(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return he(typeof c=="string","invalid string","value",c),c}he(!1,"unsupported type","type",l)})}}}function ui(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const khe="external public payable override",Fhe=ui(khe.split(" ")),Q9="constant external internal payable private public pure view override",Ohe=ui(Q9.split(" ")),X9="constructor error event fallback function receive struct",Y9=ui(X9.split(" ")),J9="calldata memory storage payable indexed",Bhe=ui(J9.split(" ")),Lhe="tuple returns",Dhe=[X9,J9,Lhe,Q9].join(" "),Uhe=ui(Dhe.split(" ")),zhe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},jhe=new RegExp("^(\\s*)"),Hhe=new RegExp("^([0-9]+)"),Ghe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Z9=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ez=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Bo{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Bo(this.#t)}reset(){this.#e=0}#n(e=0,n=0){return new Bo(this.#t.slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;this.#e<e.match-1;){const r=this.peek().linkNext;n.push(this.#n(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,n}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let n=this.#e;n<this.#t.length;n++){const r=this.#t[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function ec(t){const e=[],n=s=>{const a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)};let r=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match(jhe);a&&(o+=a[1].length,s=t.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(l);let c=zhe[s[0]]||"";if(c){if(l.type=c,l.text=s[0],o++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=Gt(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Ghe),a){if(l.text=a[1],o+=l.text.length,Uhe.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(ez)){l.type="TYPE";continue}l.type="ID";continue}if(a=s.match(Hhe),a){l.text=a[1],l.type="NUMBER",o+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new Bo(e.map(s=>Object.freeze(s)))}function c6(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function q1(t,e){if(e.peekKeyword(Y9)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function ja(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function tz(t){let e=ja(t,Ohe);return c6(e,ui("constant payable nonpayable".split(" "))),c6(e,ui("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ia(t,e){return t.popParams().map(n=>wn.from(n,e))}function nz(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Et(t.pop().text);throw new Error("invalid gas")}return null}function vu(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Whe=new RegExp(/^(.*)\[([0-9]*)\]$/);function u6(t){const e=t.match(ez);if(he(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);he(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);he(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Pn={},ji=Symbol.for("_ethers_internal"),d6="_ParamTypeInternal",f6="_ErrorInternal",h6="_EventInternal",p6="_ConstructorInternal",m6="_FallbackInternal",g6="_FunctionInternal",y6="_StructInternal";class wn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,n,r,i,o,s,a,l){if(L1(e,Pn,"ParamType"),Object.defineProperty(this,ji,{value:d6}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Pt(this,{name:n,type:r,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}#e(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{s.#e(e,l,r,u=>{a[c]=u})}),i(a);return}if(this.isTuple()){const s=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=s.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{s[c].#e(e,l,r,u=>{a[c]=u})}),i(a);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)}async walkAsync(e,n){const r=[],i=[e];return this.#e(r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(wn.isParamType(e))return e;if(typeof e=="string")try{return wn.from(ec(e),n)}catch{he(!1,"invalid param type","obj",e)}else if(e instanceof Bo){let a="",l="",c=null;ja(e,ui(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(m=>wn.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=u6(e.popType("TYPE")),l=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new wn(Pn,"",a,l,null,c,d,u),d=m.value,a+=m.text,l="array",c=null}let f=null;if(ja(e,Bhe).has("indexed")){if(!n)throw new Error("");f=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new wn(Pn,p,a,l,f,c,d,u)}const r=e.name;he(!r||typeof r=="string"&&r.match(Z9),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(he(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(Whe);if(s){const a=parseInt(s[2]||"-1"),l=wn.from({type:s[1],components:e.components});return new wn(Pn,r||"",o,"array",i,null,a,l)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const a=e.components!=null?e.components.map(c=>wn.from(c)):null;return new wn(Pn,r||"",o,"tuple",i,a,null,null)}return o=u6(e.type),new wn(Pn,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[ji]===d6}}class wu{type;inputs;constructor(e,n,r){L1(e,Pn,"Fragment"),r=Object.freeze(r.slice()),Pt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{wu.from(JSON.parse(e))}catch{}return wu.from(ec(e))}if(e instanceof Bo)switch(e.peekKeyword(Y9)){case"constructor":return Aa.from(e);case"error":return _i.from(e);case"event":return ks.from(e);case"fallback":case"receive":return ma.from(e);case"function":return Fs.from(e);case"struct":return Xc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Aa.from(e);case"error":return _i.from(e);case"event":return ks.from(e);case"fallback":case"receive":return ma.from(e);case"function":return Fs.from(e);case"struct":return Xc.from(e)}De(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}he(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Aa.isFragment(e)}static isError(e){return _i.isFragment(e)}static isEvent(e){return ks.isFragment(e)}static isFunction(e){return Fs.isFragment(e)}static isStruct(e){return Xc.isFragment(e)}}class K1 extends wu{name;constructor(e,n,r,i){super(e,n,i),he(typeof r=="string"&&r.match(Z9),"invalid identifier","name",r),i=Object.freeze(i.slice()),Pt(this,{name:r})}}function Mm(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class _i extends K1{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,ji,{value:f6})}get selector(){return yu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Mm(e,this.inputs)),n.join(" ")}static from(e){if(_i.isFragment(e))return e;if(typeof e=="string")return _i.from(ec(e));if(e instanceof Bo){const n=q1("error",e),r=Ia(e);return vu(e),new _i(Pn,n,r)}return new _i(Pn,e.name,e.inputs?e.inputs.map(wn.from):[])}static isFragment(e){return e&&e[ji]===f6}}class ks extends K1{anonymous;constructor(e,n,r,i){super(e,"event",n,r),Object.defineProperty(this,ji,{value:h6}),Pt(this,{anonymous:i})}get topicHash(){return yu(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Mm(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(i=>wn.from(i)),new ks(Pn,e,n,!1).topicHash}static from(e){if(ks.isFragment(e))return e;if(typeof e=="string")try{return ks.from(ec(e))}catch{he(!1,"invalid event fragment","obj",e)}else if(e instanceof Bo){const n=q1("event",e),r=Ia(e,!0),i=!!ja(e,ui(["anonymous"])).has("anonymous");return vu(e),new ks(Pn,n,r,i)}return new ks(Pn,e.name,e.inputs?e.inputs.map(n=>wn.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[ji]===h6}}class Aa extends wu{payable;gas;constructor(e,n,r,i,o){super(e,n,r),Object.defineProperty(this,ji,{value:p6}),Pt(this,{payable:i,gas:o})}format(e){if(De(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${Mm(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(Aa.isFragment(e))return e;if(typeof e=="string")try{return Aa.from(ec(e))}catch{he(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Bo){ja(e,ui(["constructor"]));const n=Ia(e),r=!!ja(e,Fhe).has("payable"),i=nz(e);return vu(e),new Aa(Pn,"constructor",n,r,i)}return new Aa(Pn,"constructor",e.inputs?e.inputs.map(wn.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[ji]===p6}}class ma extends wu{payable;constructor(e,n,r){super(e,"fallback",n),Object.defineProperty(this,ji,{value:m6}),Pt(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(ma.isFragment(e))return e;if(typeof e=="string")try{return ma.from(ec(e))}catch{he(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Bo){const n=e.toString(),r=e.peekKeyword(ui(["fallback","receive"]));if(he(r,"type must be fallback or receive","obj",n),e.popKeyword(ui(["fallback","receive"]))==="receive"){const a=Ia(e);return he(a.length===0,"receive cannot have arguments","obj.inputs",a),ja(e,ui(["payable"])),vu(e),new ma(Pn,[],!0)}let o=Ia(e);o.length?he(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[wn.from("bytes")];const s=tz(e);if(he(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),ja(e,ui(["returns"])).has("returns")){const a=Ia(e);he(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "))}return vu(e),new ma(Pn,o,s==="payable")}if(e.type==="receive")return new ma(Pn,[],!0);if(e.type==="fallback"){const n=[wn.from("bytes")],r=e.stateMutability==="payable";return new ma(Pn,n,r)}he(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[ji]===m6}}class Fs extends K1{constant;outputs;stateMutability;payable;gas;constructor(e,n,r,i,o,s){super(e,"function",n,i),Object.defineProperty(this,ji,{value:g6}),o=Object.freeze(o.slice()),Pt(this,{constant:r==="view"||r==="pure",gas:s,outputs:o,payable:r==="payable",stateMutability:r})}get selector(){return yu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Mm(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Mm(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(i=>wn.from(i)),new Fs(Pn,e,"view",n,[],null).selector}static from(e){if(Fs.isFragment(e))return e;if(typeof e=="string")try{return Fs.from(ec(e))}catch{he(!1,"invalid function fragment","obj",e)}else if(e instanceof Bo){const r=q1("function",e),i=Ia(e),o=tz(e);let s=[];ja(e,ui(["returns"])).has("returns")&&(s=Ia(e));const a=nz(e);return vu(e),new Fs(Pn,r,o,i,s,a)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new Fs(Pn,e.name,n,e.inputs?e.inputs.map(wn.from):[],e.outputs?e.outputs.map(wn.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[ji]===g6}}class Xc extends K1{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,ji,{value:y6})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Xc.from(ec(e))}catch{he(!1,"invalid struct fragment","obj",e)}else if(e instanceof Bo){const n=q1("struct",e),r=Ia(e);return vu(e),new Xc(Pn,n,r)}return new Xc(Pn,e.name,e.inputs?e.inputs.map(wn.from):[])}static isFragment(e){return e&&e[ji]===y6}}const gs=new Map;gs.set(0,"GENERIC_PANIC");gs.set(1,"ASSERT_FALSE");gs.set(17,"OVERFLOW");gs.set(18,"DIVIDE_BY_ZERO");gs.set(33,"ENUM_RANGE_ERROR");gs.set(34,"BAD_STORAGE_DATA");gs.set(49,"STACK_UNDERFLOW");gs.set(50,"ARRAY_RANGE_ERROR");gs.set(65,"OUT_OF_MEMORY");gs.set(81,"UNINITIALIZED_FUNCTION_CALL");const Vhe=new RegExp(/^bytes([0-9]*)$/),$he=new RegExp(/^(u?int)([0-9]*)$/);let qx=null,v6=1024;function qhe(t,e,n,r){let i="missing revert data",o=null;const s=null;let a=null;if(n){i="execution reverted";const c=Ht(n);if(n=lt(n),c.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(lt(c.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(lt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${gs.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?un(e.to):null,data:e.data||"0x"};return e.from&&(l.from=un(e.from)),Tn(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:l,invocation:s,revert:a})}class _f{#e(e){if(e.isArray())return new dfe(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ug(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new cfe(e.name);case"bool":return new ffe(e.name);case"string":return new xfe(e.name);case"bytes":return new hfe(e.name);case"":return new gfe(e.name)}let n=e.type.match($he);if(n){let r=parseInt(n[2]||"256");return he(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new bfe(r/8,n[1]==="int",e.name)}if(n=e.type.match(Vhe),n){let r=parseInt(n[1]);return he(r!==0&&r<=32,"invalid bytes length","param",e),new pfe(r,e.name)}he(!1,"invalid type","type",e.type)}getDefaultValue(e){const n=e.map(i=>this.#e(wn.from(i)));return new ug(n,"_").defaultValue()}encode(e,n){N7(n.length,e.length,"types/values length mismatch");const r=e.map(s=>this.#e(wn.from(s))),i=new ug(r,"_"),o=new c2;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(s=>this.#e(wn.from(s)));return new ug(i,"_").decode(new h3(n,r,v6))}static _setDefaultMaxInflation(e){he(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),v6=e}static defaultAbiCoder(){return qx==null&&(qx=new _f),qx}static getBuiltinCallException(e,n,r){return qhe(e,n,r,_f.defaultAbiCoder())}}class Khe{fragment;name;signature;topic;args;constructor(e,n,r){const i=e.name,o=e.format();Pt(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class Qhe{fragment;name;args;signature;selector;value;constructor(e,n,r,i){const o=e.name,s=e.format();Pt(this,{fragment:e,name:o,args:r,signature:s,selector:n,value:i})}}class Xhe{fragment;name;args;signature;selector;constructor(e,n,r){const i=e.name,o=e.format();Pt(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class w6{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Pt(this,{hash:e,_isIndexed:!0})}}const b6={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},x6={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&b6[t.toString()]&&(e=b6[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class xc{fragments;deploy;fallback;receive;#e;#t;#n;#r;constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const r=[];for(const s of n)try{r.push(wu.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}Pt(this,{fragments:Object.freeze(r)});let i=null,o=!1;this.#r=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let l;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Pt(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(he(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return}const c=s.format();l.has(c)||l.set(c,s)}),this.deploy||Pt(this,{deploy:Aa.from("constructor()")}),Pt(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return _f.defaultAbiCoder()}#i(e,n,r){if(xn(e)){const o=e.toLowerCase();for(const s of this.#n.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#n)s.split("(")[0]===e&&o.push(a);if(n){const s=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;zn.isTyped(s)&&s.type==="overrides"&&(l=!1,a--);for(let c=o.length-1;c>=0;c--){const u=o[c].inputs.length;u!==a&&(!l||u!==a-1)&&o.splice(c,1)}for(let c=o.length-1;c>=0;c--){const u=o[c].inputs;for(let d=0;d<n.length;d++)if(zn.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;o.splice(c,1);break}if(n[d].type!==u[d].baseType){o.splice(c,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const s=n[n.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");he(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#n.get(Fs.from(e).format());return i||null}getFunctionName(e){const n=this.#i(e,null,!1);return he(n,"no matching function","key",e),n.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,n){return this.#i(e,n||null,!0)}forEachFunction(e){const n=Array.from(this.#n.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#n.get(i),r)}}#s(e,n,r){if(xn(e)){const o=e.toLowerCase();for(const s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const o=[];for(const[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(n){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<n.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){const a=o[s].inputs;for(let l=0;l<n.length;l++)if(zn.isTyped(n[l])&&n[l].type!==a[l].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const s=o.map(a=>JSON.stringify(a.format())).join(", ");he(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}const i=this.#t.get(ks.from(e).format());return i||null}getEventName(e){const n=this.#s(e,null,!1);return he(n,"no matching event","key",e),n.name}hasEvent(e){return!!this.#s(e,null,!1)}getEvent(e,n){return this.#s(e,n||null,!0)}forEachEvent(e){const n=Array.from(this.#t.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#t.get(i),r)}}getError(e,n){if(xn(e)){const i=e.toLowerCase();if(x6[i])return _i.from(x6[i].signature);for(const o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?_i.from("error Error(string)"):e==="Panic"?_i.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(s=>JSON.stringify(s.format())).join(", ");he(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=_i.from(e).format(),e==="Error(string)")return _i.from("error Error(string)");if(e==="Panic(uint256)")return _i.from("error Panic(uint256)");const r=this.#e.get(e);return r||null}forEachError(e){const n=Array.from(this.#e.keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(this.#e.get(i),r)}}_decodeParams(e,n){return this.#r.decode(e,n)}_encodeParams(e,n){return this.#r.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);he(r,"unknown error","fragment",e),e=r}return he(Ln(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ln(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);he(r,"unknown error","fragment",e),e=r}return Hn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);he(r,"unknown function","fragment",e),e=r}return he(Ln(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ln(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);he(r,"unknown function","fragment",e),e=r}return Hn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);he(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=ai(n);if(i.length%32===0)try{return this.#r.decode(e.outputs,i)}catch{r="could not decode result data"}De(!1,r,"BAD_DATA",{value:lt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Ht(e,"data"),i=_f.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=lt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=this.#r.decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(n);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);he(r,"unknown function","fragment",e),e=r}return lt(this.#r.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);he(o,"unknown event","eventFragment",e),e=o}De(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,s)=>o.type==="string"?yu(s):o.type==="bytes"?rr(lt(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=Vl(s):o.type.match(/^bytes/)?s=gue(s,32):o.type==="address"&&this.#r.encode(["address"],[s]),Ua(lt(s),32));for(n.forEach((o,s)=>{const a=e.inputs[s];if(!a.indexed){he(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?he(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(l=>i(a,l))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const s=this.getEvent(e);he(s,"unknown event","eventFragment",e),e=s}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),he(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{const l=n[a];if(s.indexed)if(s.type==="string")r.push(yu(l));else if(s.type==="bytes")r.push(rr(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this.#r.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this.#r.encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const h=this.getEvent(e);he(h,"unknown event","eventFragment",e),e=h}if(r!=null&&!e.anonymous){const h=e.topicHash;he(xn(r[0],32)&&r[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],s=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(wn.from({type:"bytes32",name:h.name})),s.push(!0)):(i.push(h),s.push(!1)):(o.push(h),s.push(!1))});const a=r!=null?this.#r.decode(i,Hn(r)):null,l=this.#r.decode(o,n,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((h,p)=>{let m=null;if(h.indexed)if(a==null)m=new w6(null);else if(s[p])m=new w6(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=l[d++]}catch(y){m=y}c.push(m),u.push(h.name||null)}),Ea.fromItems(c,u)}parseTransaction(e){const n=Ht(e.data,"tx.data"),r=Et(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(lt(n.slice(0,4)));if(!i)return null;const o=this.#r.decode(i.inputs,n.slice(4));return new Qhe(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new Khe(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=lt(e),r=this.getError(Ln(n,0,4));if(!r)return null;const i=this.#r.decode(r.inputs,Ln(n,4));return new Xhe(r,r.selector,i)}static from(e){return e instanceof xc?e:typeof e=="string"?new xc(JSON.parse(e)):typeof e.formatJson=="function"?new xc(e.formatJson()):typeof e.format=="function"?new xc(e.format("json")):new xc(e)}}const rz=BigInt(0);function $d(t){return t??null}function $n(t){return t==null?null:t.toString()}class E6{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,n,r){Pt(this,{gasPrice:$d(e),maxFeePerGas:$d(n),maxPriorityFeePerGas:$d(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:$n(e),maxFeePerGas:$n(n),maxPriorityFeePerGas:$n(r)}}}function Xv(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=lt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Et(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Gt(t[i],`request.${i}`));return t.accessList&&(e.accessList=Lu(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>d3(i)?lt(i):Object.assign({},i))),e}class Yhe{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,n){this.#e=e.transactions.map(r=>typeof r!="string"?new h0(r,n):r),Pt(this,{provider:n,hash:$d(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:$d(e.prevRandao),extraData:e.extraData,baseFeePerGas:$d(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(De(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:$n(e),difficulty:$n(n),extraData:r,gasLimit:$n(i),gasUsed:$n(o),blobGasUsed:$n(this.blobGasUsed),excessBlobGas:$n(this.excessBlobGas),hash:s,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=this.#e[e];else{const r=e.toLowerCase();for(const i of this.#e)if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;he(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Jhe(this)}}class f0{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,n){this.provider=n;const r=Object.freeze(e.topics.slice());Pt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:s,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return De(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return De(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return De(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Zhe(this)}}class iz{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,n){this.#e=Object.freeze(e.logs.map(i=>new f0(i,n)));let r=rz;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Pt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:$n(this.cumulativeGasUsed),from:n,gasPrice:$n(this.gasPrice),blobGasUsed:$n(this.blobGasUsed),blobGasPrice:$n(this.blobGasPrice),gasUsed:$n(this.gasUsed),hash:i,index:o,logs:c,logsBloom:l,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return sz(this)}reorderedEvent(e){return De(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),oz(this,e)}}class h0{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,n){this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:s,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:$n(this.chainId),data:c,from:a,gasLimit:$n(this.gasLimit),gasPrice:$n(this.gasPrice),hash:i,maxFeePerGas:$n(this.maxFeePerGas),maxPriorityFeePerGas:$n(this.maxPriorityFeePerGas),maxFeePerBlobGas:$n(this.maxFeePerBlobGas),nonce:l,signature:u,to:s,index:r,type:o,value:$n(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ni({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=this.#e,s=-1,a=o===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await ni({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){o=f;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=f;){if(a)return null;const m=await this.provider.getBlock(s,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const g=await m.getTransaction(y);if(g.from===this.from&&g.nonce===this.nonce){if(a)return null;const v=await this.provider.getTransactionReceipt(g.hash);if(v==null||f-v.blockNumber+1<r)return;let b="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?b="repriced":g.data==="0x"&&g.from===g.to&&g.value===rz&&(b="cancelled"),De(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:g.replaceableTransaction(o),hash:g.hash,receipt:v})}}s++}},c=f=>{if(f==null||f.status!==0)return f;De(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,h)=>{const p=[],m=()=>{p.forEach(g=>g())};if(p.push(()=>{a=!0}),i>0){const g=setTimeout(()=>{m(),h(Tn("wait for transaction timeout","TIMEOUT"))},i);p.push(()=>{clearTimeout(g)})}const y=async g=>{if(await g.confirmations()>=r){m();try{f(c(g))}catch(v){h(v)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){const g=async()=>{try{await l()}catch(v){if(Or(v,"TRANSACTION_REPLACED")){m(),h(v);return}}a||this.provider.once("block",g)};p.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return De(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),sz(this)}reorderedEvent(e){return De(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),De(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),oz(this,e)}replaceableTransaction(e){he(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new h0(this,this.provider);return n.#e=e,n}}function Jhe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function oz(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function sz(t){return{orphan:"drop-transaction",tx:t}}function Zhe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class C3 extends f0{interface;fragment;args;constructor(e,n,r){super(e,e.provider);const i=n.decodeEventLog(r,e.data,e.topics);Pt(this,{args:i,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class az extends f0{error;constructor(e,n){super(e,e.provider),Pt(this,{error:n})}}class epe extends iz{#e;constructor(e,n,r){super(r,n),this.#e=e}get logs(){return super.logs.map(e=>{const n=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(n)try{return new C3(e,this.#e,n)}catch(r){return new az(e,r)}return e})}}class T3 extends h0{#e;constructor(e,n,r){super(r,n),this.#e=e}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new epe(this.#e,this.provider,r)}}class lz extends B7{log;constructor(e,n,r,i){super(e,n,r),Pt(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class tpe extends lz{constructor(e,n,r,i,o){super(e,n,r,new C3(o,e.interface,i));const s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Pt(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const A6=BigInt(0);function cz(t){return t&&typeof t.call=="function"}function uz(t){return t&&typeof t.estimateGas=="function"}function Q1(t){return t&&typeof t.resolveName=="function"}function dz(t){return t&&typeof t.sendTransaction=="function"}function fz(t){if(t!=null){if(Q1(t))return t;if(t.provider)return t.provider}}class npe{#e;fragment;constructor(e,n,r){if(Pt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=bu(e.runner,"resolveName"),o=Q1(i)?i:null;this.#e=async function(){const s=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>ci(f,o))):ci(d,o):d)));return e.interface.encodeFilterTopics(n,s)}()}getTopicFilter(){return this.#e}}function bu(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Uc(t){return t==null?null:t.provider||null}async function hz(t,e){const n=zn.dereference(t,"overrides");he(typeof n=="object","invalid overrides parameter","overrides",t);const r=Xv(n);return he(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),he(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function rpe(t,e,n){const r=bu(t,"resolveName"),i=Q1(r)?r:null;return await Promise.all(e.map((o,s)=>o.walkAsync(n[s],(a,l)=>(l=zn.dereference(l,a),a==="address"?ci(l,i):l))))}function ipe(t){const e=async function(s){const a=await hz(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ci(a.from,fz(t.runner)));const l=t.interface,c=Et(a.value||A6,"overrides.value")===A6,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&he(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),he(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return he(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),he(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(s){const a=bu(t.runner,"call");De(cz(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(s);try{return await a.call(l)}catch(c){throw u3(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(s){const a=t.runner;De(dz(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(s)),c=Uc(t.runner);return new T3(t.interface,c,l)},i=async function(s){const a=bu(t.runner,"estimateGas");return De(uz(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await r(s);return Pt(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function ope(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return De(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let d={};if(u.inputs.length+1===c.length&&(d=await hz(c.pop()),d.from&&(d.from=await ci(d.from,fz(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await rpe(t.runner,u.inputs,c);return Object.assign({},d,await ni({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},o=async function(...c){const u=t.runner;De(dz(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=Uc(t.runner);return new T3(t.interface,f,d)},s=async function(...c){const u=bu(t.runner,"estimateGas");return De(uz(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=bu(t.runner,"call");De(cz(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(p){throw u3(p)&&p.data?t.interface.makeError(p.data,d):p}const h=n(...c);return t.interface.decodeFunctionResult(h,f)},l=async(...c)=>n(...c).constant?await i(...c):await o(...c);return Pt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:s,populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return De(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function spe(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return De(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new npe(t,n(...i),i)};return Pt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return De(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Yv=Symbol.for("_ethersInternal_contract"),pz=new WeakMap;function ape(t,e){pz.set(t[Yv],e)}function $i(t){return pz.get(t[Yv])}function lpe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function M3(t,e){let n,r=null;if(Array.isArray(e)){const o=function(s){if(xn(s,32))return s;const a=t.interface.getEvent(s);return he(a,"unknown fragment","name",s),a.topicHash};n=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?n=[null]:typeof e=="string"?xn(e,32)?n=[e]:(r=t.interface.getEvent(e),he(r,"unknown fragment","event",e),n=[r.topicHash]):lpe(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):he(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function Zh(t,e){const{subs:n}=$i(t);return n.get((await M3(t,e)).tag)||null}async function _6(t,e,n){const r=Uc(t.runner);De(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:s}=await M3(t,n),{addr:a,subs:l}=$i(t);let c=l.get(o);if(!c){const d={address:a||t,topics:s},f=y=>{let g=i;if(g==null)try{g=t.interface.getEvent(y.topics[0])}catch{}if(g){const v=g,b=i?t.interface.decodeEventLog(i,y.data,y.topics):[];E2(t,n,b,x=>new tpe(t,x,n,v,y))}else E2(t,n,[],v=>new lz(t,v,n,y))};let h=[];c={tag:o,listeners:[],start:()=>{h.length||h.push(r.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),r.off(d,f)}},l.set(o,c)}return c}let x2=Promise.resolve();async function cpe(t,e,n,r){await x2;const i=await Zh(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:s));try{s.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),$i(t).subs.delete(i.tag)),o>0}async function E2(t,e,n,r){try{await x2}catch{}const i=cpe(t,e,n,r);return x2=i,await i}const fg=["then"];class Ap{target;interface;runner;filters;[Yv];fallback;constructor(e,n,r,i){he(typeof e=="string"||b9(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=xc.from(n);Pt(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,Yv,{value:{}});let s,a=null,l=null;if(i){const d=Uc(r);l=new T3(this.interface,d,i)}let c=new Map;if(typeof e=="string")if(xn(e))a=e,s=Promise.resolve(e);else{const d=bu(r,"resolveName");if(!Q1(d))throw Tn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(f=>{if(f==null)throw Tn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return $i(this).addr=f,f})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return $i(this).addr=d,d});ape(this,{addrPromise:s,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||fg.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(p){if(!Or(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>fg.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return Pt(this,{filters:u}),Pt(this,{fallback:o.receive||o.fallback?ipe(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||fg.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(p){if(!Or(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>typeof f=="symbol"||f in d||fg.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new Ap(this.target,this.interface,e)}attach(e){return new Ap(e,this.interface,this.runner)}async getAddress(){return await $i(this).addrPromise}async getDeployedCode(){const e=Uc(this.runner);De(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Uc(this.runner);return De(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return $i(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),ope(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),spe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=$i(this),s=i||await o,{fragment:a,topics:l}=await M3(this,e),c={address:s,topics:l,fromBlock:n,toBlock:r},u=Uc(this.runner);return De(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new C3(d,this.interface,f)}catch(h){return new az(d,h)}return new f0(d,u)})}async on(e,n){const r=await _6(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await _6(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await E2(this,e,n,null)}async listenerCount(e){if(e){const i=await Zh(this,e);return i?i.listeners.length:0}const{subs:n}=$i(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Zh(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=$i(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await Zh(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),$i(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Zh(this,e);if(!n)return this;n.stop(),$i(this).subs.delete(n.tag)}else{const{subs:n}=$i(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Ap{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}}function upe(){return Ap}class _p extends upe(){}function Kx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):he(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class dpe{name;constructor(e){Pt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const mz=new RegExp("^(ipfs)://(.*)$","i"),S6=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),mz,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class qd{provider;address;name;#e;#t;constructor(e,n,r){Pt(this,{provider:e,address:n,name:r}),this.#e=null,this.#t=new _p(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Or(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,n){n=(n||[]).slice();const r=this.#t.interface;n.unshift(b2(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),De(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[Che(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await this.#t[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Or(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await this.#n("addr(bytes32)");return o==null||o===Am?null:o}catch(o){if(Or(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const s=await this.#n("addr(bytes32,uint)",[o]);if(xn(s,20))return un(s)}let n=null;for(const o of this.provider.plugins)if(o instanceof dpe&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await this.#n("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;De(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await this.#n("text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${wue("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;De(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<S6.length;r++){const i=n.match(S6[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const s=Kx(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{const s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new _p(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const m=await u.ownerOf(c);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){const m=await u.balanceOf(a,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",Vl(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Kx(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new za(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const g=h.body;return g&&e.push({type:"!metadata",value:lt(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(mz)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=Kx(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return De(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async#r(e,n){const r=await qd.getEnsAddress(e);try{const o=await new _p(r,["function resolver(bytes32) view returns (address)"],e).resolver(b2(n),{enableCcipRead:!0});return o===Am?null:o}catch(i){throw i}return null}static async fromName(e,n){let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await qd.#r(e,r);if(i!=null){const o=new qd(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}}const C6=BigInt(0);function Xt(t,e){return function(n){return n==null?e:t(n)}}function Im(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function p0(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const s of e[i])if(s in n){o=s;break}}try{const s=t[i](n[o]);s!==void 0&&(r[i]=s)}catch(s){const a=s instanceof Error?s.message:"not-an-error";De(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function fpe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}he(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Sf(t){return he(xn(t,!0),"invalid data","value",t),t}function kr(t){return he(xn(t,32),"invalid hash","value",t),t}const hpe=p0({address:un,blockHash:kr,blockNumber:Gt,data:Sf,index:Gt,removed:Xt(fpe,!1),topics:Im(kr),transactionHash:kr,transactionIndex:Gt},{index:["logIndex"]});function ppe(t){return hpe(t)}const mpe=p0({hash:Xt(kr),parentHash:kr,parentBeaconBlockRoot:Xt(kr,null),number:Gt,timestamp:Gt,nonce:Xt(Sf),difficulty:Et,gasLimit:Et,gasUsed:Et,stateRoot:Xt(kr,null),receiptsRoot:Xt(kr,null),blobGasUsed:Xt(Et,null),excessBlobGas:Xt(Et,null),miner:Xt(un),prevRandao:Xt(kr,null),extraData:Sf,baseFeePerGas:Xt(Et)},{prevRandao:["mixHash"]});function gpe(t){const e=mpe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:gz(n)),e}const ype=p0({transactionIndex:Gt,blockNumber:Gt,transactionHash:kr,address:un,topics:Im(kr),data:Sf,index:Gt,blockHash:kr},{index:["logIndex"]});function vpe(t){return ype(t)}const wpe=p0({to:Xt(un,null),from:Xt(un,null),contractAddress:Xt(un,null),index:Gt,root:Xt(lt),gasUsed:Et,blobGasUsed:Xt(Et,null),logsBloom:Xt(Sf),blockHash:kr,hash:kr,logs:Im(vpe),blockNumber:Gt,cumulativeGasUsed:Et,effectiveGasPrice:Xt(Et),blobGasPrice:Xt(Et,null),status:Xt(Gt),type:Xt(Gt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function bpe(t){return wpe(t)}function gz(t){t.to&&Et(t.to)===C6&&(t.to="0x0000000000000000000000000000000000000000");const e=p0({hash:kr,index:Xt(Gt,void 0),type:n=>n==="0x"||n==null?0:Gt(n),accessList:Xt(Lu,null),blobVersionedHashes:Xt(Im(kr,!0),null),authorizationList:Xt(Im(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:un(n.address),chainId:Et(n.chainId),nonce:Et(n.nonce),signature:Un.from(r)}},!1),null),blockHash:Xt(kr,null),blockNumber:Xt(Gt,null),transactionIndex:Xt(Gt,null),from:un,gasPrice:Xt(Et),maxPriorityFeePerGas:Xt(Et),maxFeePerGas:Xt(Et),maxFeePerBlobGas:Xt(Et,null),gasLimit:Et,to:Xt(un,null),value:Et,nonce:Gt,data:Sf,creates:Xt(un,null),chainId:Xt(Et,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=lfe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Un.from(t.signature):e.signature=Un.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Et(e.blockHash)===C6&&(e.blockHash=null),e}const xpe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class m0{name;constructor(e){Pt(this,{name:e})}clone(){return new m0(this.name)}}class X1 extends m0{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(o,s){let a=(n||{})[o];a==null&&(a=s),he(typeof a=="number",`invalud value for ${o}`,"costs",n),r[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Pt(this,r)}clone(){return new X1(this.effectiveBlock,this)}}class Y1 extends m0{address;targetNetwork;constructor(e,n){super("org.ethers.plugins.network.Ens"),Pt(this,{address:e||xpe,targetNetwork:n??1})}clone(){return new Y1(this.address,this.targetNetwork)}}class Epe extends m0{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=n}clone(){return this}}const Qx=new Map;class ro{#e;#t;#n;constructor(e,n){this.#e=e,this.#t=Et(n),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Et(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Et(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Et(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Et(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new ro(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new X1;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Lu(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(Ape(),e==null)return ro.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Qx.get(e);if(n)return n();if(typeof e=="bigint")return new ro("unknown",e);he(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){he(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new ro(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Y1(e.ensAddress,e.ensNetwork)),n}he(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Qx.get(e);r&&he(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Qx.set(e,n)}}function T6(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function M6(t){return new Epe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,s]=await Promise.all([r.send(),e()]);i=o;const a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:T6(a.maxFee,9),maxPriorityFeePerGas:T6(a.maxPriorityFee,9)}}catch(o){De(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}let I6=!1;function Ape(){if(I6)return;I6=!0;function t(e,n,r){const i=function(){const o=new ro(e,n);return r.ensNetwork!=null&&o.attachPlugin(new Y1(null,r.ensNetwork)),o.attachPlugin(new X1),(r.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};ro.register(e,i),ro.register(n,i),r.altNames&&r.altNames.forEach(o=>{ro.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[M6("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[M6("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function A2(t){return JSON.parse(JSON.stringify(t))}class _pe{#e;#t;#n;#r;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#r=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#r===-2){this.#r=e;return}if(e!==this.#r){for(let n=this.#r+1;n<=e;n++){if(this.#t==null)return;await this.#e.emit("block",n)}this.#r=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#r=-2)}resume(){this.start()}}class I3{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=n=>{this._poll(n,this.#e)}}async _poll(e,n){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Spe extends I3{#e;#t;constructor(e,n){super(e),this.#e=n,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(n.emit(this.#e,r.number),this.#t=r.number))}}class Cpe extends I3{#e;constructor(e,n){super(e),this.#e=A2(n)}async _poll(e,n){throw new Error("@TODO")}}class Tpe extends I3{#e;constructor(e,n){super(e),this.#e=n}async _poll(e,n){const r=await n.getTransactionReceipt(this.#e);r&&n.emit(this.#e,r)}}class R3{#e;#t;#n;#r;#i;constructor(e,n){this.#e=e,this.#t=A2(n),this.#n=this.#s.bind(this),this.#r=!1,this.#i=-2}async#s(e){if(this.#i===-2)return;const n=A2(this.#t);n.fromBlock=this.#i+1,n.toBlock=e;const r=await this.#e.getLogs(n);if(r.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const i of r)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#r||(this.#r=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const Mpe=BigInt(2),Ipe=10;function hg(t){return t&&typeof t.then=="function"}function My(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,s)=>(o[s]=r[s],o),{})}return r})}class yz{name;constructor(e){Pt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Rpe(t){return JSON.parse(JSON.stringify(t))}function _2(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Xx(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(xn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:My("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:My("orphan",n),filter:Rpe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?_2(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],s=a=>{xn(a)?i.push(a):o.push((async()=>{i.push(await ci(a,e))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),o.length&&await Promise.all(o),r.address=_2(i.map(a=>a.toLowerCase()))}return{filter:r,tag:My("event",r),type:"event"}}he(!1,"unknown ProviderEvent","event",t)}function Yx(){return new Date().getTime()}const Ppe={cacheTimeout:250,pollingInterval:4e3};class Npe{#e;#t;#n;#r;#i;#s;#o;#a;#p;#u;#m;#h;constructor(e,n){if(this.#h=Object.assign({},Ppe,n||{}),e==="any")this.#s=!0,this.#i=null;else if(e){const r=ro.from(e);this.#s=!1,this.#i=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#r=!1,this.#p=1,this.#u=new Map,this.#m=!1}get pollingInterval(){return this.#h.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#m}set disableCcipRead(e){this.#m=!!e}async#l(e){const n=this.#h.cacheTimeout;if(n<0)return await this._perform(e);const r=My(e.method,e);let i=this.#o.get(r);return i||(i=this._perform(e),this.#o.set(r,i),setTimeout(()=>{this.#o.get(r)===i&&this.#o.delete(r)},n)),await i}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",o),u=new za(c);l.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=await u.send()}catch(h){s.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:h})}catch{}De(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),s.push(d)}De(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,n){return new Yhe(gpe(e),this)}_wrapLog(e,n){return new f0(ppe(e),this)}_wrapTransactionReceipt(e,n){return new iz(bpe(e),this)}_wrapTransactionResponse(e,n){return new h0(gz(e),this)}_detectNetwork(){De(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){De(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Gt(await this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ci(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(xn(e))return xn(e,32)?e:Zo(e);if(typeof e=="bigint"&&(e=Gt(e,"blockTag")),typeof e=="number")return e>=0?Zo(e):this.#a>=0?Zo(this.#a+e):this.getBlockNumber().then(n=>Zo(n+e));he(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?_2(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let o=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)o.push(this._getAddress(l));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(l=>typeof l!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(l=>i(l[0],l[1],l[2])):i(o,s,a)}_getTransactionRequest(e){const n=Xv(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=ci(n[i],this);hg(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);hg(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(this.#i==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}const e=this.#i,[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(this.#s?(this.emit("network",r,n),this.#i===e&&(this.#i=Promise.resolve(r))):De(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o,priorityFee:s}=await ni({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const u=await this.#l({method:"getGasPrice"});return Et(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#l({method:"getPriorityFee"});return Et(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=s??BigInt("1000000000"),a=c.baseFeePerGas*Mpe+l),new E6(o,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new za(r.url),o=await r.processFunc(n,this,i);return new E6(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return hg(n)&&(n=await n),Et(await this.#l({method:"estimateGas",transaction:n}),"%response")}async#c(e,n,r){De(r<Ipe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Xv(e);try{return lt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&u3(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Ln(o.data,0,4)==="0x556f1830"){const s=o.data,a=await ci(i.to,this);let l;try{l=Lpe(Ln(o.data,4))}catch(d){De(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}De(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);De(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:l.errorArgs}});const u={to:a,data:Hn([l.selector,Bpe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await this.#c(u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#d(e){const{value:n}=await ni({network:this.getNetwork(),value:e});return n}async call(e){const{tx:n,blockTag:r}=await ni({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#c(n,r,e.enableCcipRead?0:-1))}async#f(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#d(this.#l(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,n){return Et(await this.#f({method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Gt(await this.#f({method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return lt(await this.#f({method:"getCode"},e,n))}async getStorage(e,n,r){const i=Et(n,"position");return lt(await this.#f({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ni({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=Ko.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async#y(e,n){if(xn(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#l({method:"getBlock",blockTag:r,includeTransactions:n})}async getBlock(e,n){const{network:r,params:i}=await ni({network:this.getNetwork(),params:this.#y(e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ni({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ni({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await this.#l({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ni({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return n==null?null:lt(n)}async getLogs(e){let n=this._getFilter(e);hg(n)&&(n=await n);const{network:r,params:i}=await ni({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){De(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await qd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=un(e);const n=b2(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await qd.getEnsAddress(this),o=await new _p(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===Am)return null;const a=await new _p(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Or(r,"BAD_DATA")&&r.value==="0x"||Or(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),s(Tn("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){De(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=this.#u.get(e);n&&(n.timer&&clearTimeout(n.timer),this.#u.delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=this.#p++,i=()=>{this.#u.delete(r),e()};if(this.paused)this.#u.set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);this.#u.set(r,{timer:o,func:i,time:Yx()})}return r}_forEachSubscriber(e){for(const n of this.#e.values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new yz(e.type);case"block":{const n=new _pe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Spe(this,e.type);case"event":return new R3(this,e.filter);case"transaction":return new Tpe(this,e.hash);case"orphan":return new Cpe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),this.#n!=null&&n.pause(this.#n);break}}async#g(e,n){let r=await Xx(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Xx({orphan:"drop-log",log:n[0]},this)),this.#e.get(r.tag)||null}async#v(e){const n=await Xx(e,this),r=n.tag;let i=this.#e.get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,i)),i}async on(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async once(e,n){const r=await this.#v(e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#n!=null&&r.subscriber.pause(this.#n)),this}async emit(e,...n){const r=await this.#g(e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:s})=>{const a=new B7(this,s?null:o,e);try{o.call(this,...n,a)}catch{}return!s}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await this.#g(e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of this.#e.values())n+=r.length;return n}async listeners(e){if(e){const r=await this.#g(e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of this.#e.values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await this.#g(e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await this.#v(e);r&&i.stop(),this.#e.delete(n)}else for(const[n,{started:r,subscriber:i}]of this.#e)r&&i.stop(),this.#e.delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return this.#r}destroy(){this.removeAllListeners();for(const e of this.#u.keys())this._clearTimeout(e);this.#r=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#n!=null){if(this.#n==!!e)return;De(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),this.#n=!!e;for(const n of this.#u.values())n.timer&&clearTimeout(n.timer),n.time=Yx()-n.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#u.values()){let n=e.time;n<0&&(n=0),e.time=Yx(),setTimeout(e.func,n)}}}}function kpe(t,e){try{const n=S2(t,e);if(n)return Gv(n)}catch{}return null}function S2(t,e){if(t==="0x")return null;try{const n=Gt(Ln(t,e,e+32)),r=Gt(Ln(t,n,n+32));return Ln(t,n+32,n+32+r)}catch{}return null}function R6(t){const e=hr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Fpe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Ope=new Uint8Array([]);function Bpe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(Ope),n+=32;for(let r=0;r<t.length;r++){const i=Ht(t[r]);e[r]=R6(n),e.push(R6(i.length)),e.push(Fpe(i)),n+=32+Math.ceil(i.length/32)*32}return Hn(e)}const P6="0x0000000000000000000000000000000000000000000000000000000000000000";function Lpe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};De(Wd(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Ln(t,0,32);De(Ln(n,0,12)===Ln(P6,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ln(n,12);try{const r=[],i=Gt(Ln(t,32,64)),o=Gt(Ln(t,i,i+32)),s=Ln(t,i+32);for(let a=0;a<o;a++){const l=kpe(s,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{De(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=S2(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{De(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}De(Ln(t,100,128)===Ln(P6,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ln(t,96,100);try{const r=S2(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{De(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function sc(t,e){if(t.provider)return t.provider;De(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function N6(t,e){let n=Xv(e);if(n.to!=null&&(n.to=ci(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),ci(r,t)]).then(([i,o])=>(he(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await ni(n)}class Dpe{provider;constructor(e){Pt(this,{provider:e||null})}async getNonce(e){return sc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await N6(this,e)}async populateTransaction(e){const n=sc(this,"populateTransaction"),r=await N6(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const s=Et(r.chainId);he(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?he(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&he(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const s=await n.getFeeData();De(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice)}else{const s=await n.getFeeData();if(r.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(De(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=s.gasPrice),r.type=0):De(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=s.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await ni(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await sc(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return sc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return sc(this,"call").call(await this.populateCall(e))}async resolveName(e){return await sc(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=sc(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Ko.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){De(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Upe(t){return JSON.parse(JSON.stringify(t))}class vz{#e;#t;#n;#r;#i;#s;constructor(e){this.#e=e,this.#t=null,this.#n=this.#o.bind(this),this.#r=!1,this.#i=null,this.#s=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=await this.#t}catch(o){if(!Or(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const r=await this.#e.getNetwork();if(this.#i||(this.#i=r),this.#i.chainId!==r.chainId)throw new Error("chaid changed");if(this.#s)return;const i=await this.#e.send("eth_getFilterChanges",[n]);await this._emitResults(this.#e,i)}catch(n){console.log("@TODO",n)}this.#e.once("block",this.#n)}#a(){const e=this.#t;e&&(this.#t=null,e.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n])}))}start(){this.#r||(this.#r=!0,this.#o(-2))}stop(){this.#r&&(this.#r=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#n))}pause(e){e&&this.#a(),this.#e.off("block",this.#n)}resume(){this.start()}}class zpe extends vz{#e;constructor(e,n){super(e),this.#e=Upe(n)}_recover(e){return new R3(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,n){for(const r of n)e.emit(this.#e,e._wrapLog(r,e._network))}}class jpe extends vz{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const Hpe="bigint,boolean,function,number,string,symbol".split(/,/g);function Iy(t){if(t==null||Hpe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Iy);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Gpe(t){return new Promise(e=>{setTimeout(e,t)})}function Ku(t){return t&&t.toLowerCase()}function k6(t){return t&&typeof t.pollingInterval=="number"}const wz={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Jx extends Dpe{address;constructor(e,n){super(e),n=un(n),Pt(this,{address:n})}connect(e){De(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=Iy(e),r=[];if(n.from){const o=n.from;r.push((async()=>{const s=await ci(o,this.provider);he(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;r.push((async()=>{n.to=await ci(o,this.provider)})())}r.length&&await Promise.all(r);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{const s=[1e3,100];let a=0;const l=async()=>{try{const c=await this.provider.getTransaction(r);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(Or(c,"CANCELLED")||Or(c,"BAD_DATA")||Or(c,"NETWORK_ERROR")||Or(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=r,o(c);return}if(Or(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=r,a>10)){o(c);return}this.provider.emit("error",Tn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{l()},s.pop()||4e3)};l()})}async signTransaction(e){const n=Iy(e);if(n.from){const i=await ci(n.from,this.provider);he(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?Ma(e):e;return await this.provider.send("personal_sign",[lt(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const i=Iy(r),o=await Vi.resolveNames(e,n,i,async s=>{const a=await ci(s);return he(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Vi.getPayload(o.domain,n,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?Ma(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),lt(n)])}}class Wpe extends Npe{#e;#t;#n;#r;#i;#s;#o;#a(){if(this.#r)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#r=setTimeout(()=>{this.#r=null;const n=this.#n;for(this.#n=[];n.length;){const r=[n.shift()];for(;n.length&&r.length!==this.#e.batchMaxCount;)if(r.push(n.shift()),JSON.stringify(r.map(o=>o.payload)).length>this.#e.batchMaxSize){n.unshift(r.pop());break}(async()=>{const i=r.length===1?r[0].payload:r.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:s,reject:a,payload:l}of r){if(this.destroyed){a(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const c=o.filter(u=>u.id===l.id)[0];if(c==null){const u=Tn("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",u),a(u);continue}if("error"in c){a(this.getRpcError(l,c));continue}s(c.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:s}of r)s(o)}})()}},e)}constructor(e,n){super(e,n),this.#t=1,this.#e=Object.assign({},wz,n||{}),this.#n=[],this.#r=null,this.#s=null,this.#o=null;{let i=null;const o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}const r=this._getOption("staticNetwork");typeof r=="boolean"?(he(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&(this.#s=ro.from(e))):r&&(he(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),this.#s=r)}_getOption(e){return this.#e[e]}get _network(){return De(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&Et(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#s)return this.#s}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const n=ro.from(Et(await this.send("eth_chainId",[])));return this.#o=null,n}catch(n){throw this.#o=null,n}})(),await this.#o):(this.#o=(async()=>{const n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],this.#o=null}catch(i){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return ro.from(Et(r.result));throw this.getRpcError(n,r)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Tn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Gpe(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new jpe(this):e.type==="event"?this._getOption("polling")?new R3(this,e.filter):new zpe(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new yz("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let i=r;r==="gasLimit"&&(i="gas"),n[i]=Zo(Et(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=lt(e[r]))}),e.accessList&&(n.accessList=Lu(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const i=_9(r);return{address:i.address,nonce:Zo(i.nonce),chainId:Zo(i.chainId),yParity:Zo(i.signature.yParity),r:Zo(i.signature.r),s:Zo(i.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ku(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ku(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ku(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ku(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ku):e.filter.address=Ku(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:i}=n;if(r==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Tn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Tn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(r==="eth_call"||r==="eth_estimateGas"){const a=C2(i),l=_f.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return l.info={error:i,payload:e},l}const o=JSON.stringify($pe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Tn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Tn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Tn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Tn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return Tn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Tn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Tn("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#t++,i=new Promise((o,s)=>{this.#n.push({resolve:o,reject:s,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const i=await n;if(e>=i.length)throw new Error("no such account");return new Jx(this,i[e])}const{accounts:r}=await ni({network:this.getNetwork(),accounts:n});e=un(e);for(const i of r)if(un(i)===e)return new Jx(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Jx(this,n))}destroy(){this.#r&&(clearTimeout(this.#r),this.#r=null);for(const{payload:e,reject:n}of this.#n)n(Tn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class Vpe extends Wpe{#e;constructor(e,n){super(e,n);let r=this._getOption("pollingInterval");r==null&&(r=wz.pollingInterval),this.#e=r}_getSubscriber(e){const n=super._getSubscriber(e);return k6(n)&&(n.pollingInterval=this.#e),n}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(n=>{k6(n)&&(n.pollingInterval=this.#e)})}}function C2(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&xn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=C2(t[e]);if(n)return n}return null}if(typeof t=="string")try{return C2(JSON.parse(t))}catch{}return null}function T2(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)T2(t[n],e);if(typeof t=="string")try{return T2(JSON.parse(t),e)}catch{}}}function $pe(t){const e=[];return T2(t,e),e}class Ec extends Vpe{#e;#t;constructor(e,n,r){const i=Object.assign({},r??{},{batchMaxCount:1});he(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,i),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(o,s)=>{const a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const l=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}}}get providerInfo(){return this.#t}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){he(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await this.#e(e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Ec(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new Ec(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[];const l=d=>{a.push(d.detail),r&&c()},c=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){const d=e.filter(a.map(f=>Object.assign({},f.info)));if(d==null)o(null);else if(d instanceof Ec)o(d);else{let f=null;if(d.uuid&&(f=a.filter(p=>d.uuid===p.info.uuid)[0]),f){const{provider:h,info:p}=f;o(new Ec(h,void 0,{providerInfo:p}))}else s(Tn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{const{provider:d,info:f}=a[0];o(new Ec(d,void 0,{providerInfo:f}))}else o(null);n.removeEventListener("eip6963:announceProvider",l)},u=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",l),n.dispatchEvent(new Event("eip6963:requestProvider"))})}}const bz=z.createContext(),vi=()=>{const t=z.useContext(bz);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},qpe=({children:t})=>{const{showSuccess:e,showError:n,showInfo:r}=ps(),{address:i,isConnected:o,isConnecting:s}=Tr(),a=n0(),{switchChain:l}=OD(),{data:c}=BD(),u=PT(),[d,f]=z.useState([]),[h,p]=z.useState(!1),m={1:{name:"Ethereum",symbol:"ETH",network:Pe.ETH_MAINNET},137:{name:"Polygon",symbol:"MATIC",network:Pe.MATIC_MAINNET},8453:{name:"Base",symbol:"ETH",network:Pe.BASE_MAINNET},42161:{name:"Arbitrum",symbol:"ETH",network:Pe.ARB_MAINNET},10:{name:"Optimism",symbol:"ETH",network:Pe.OPT_MAINNET},56:{name:"BSC",symbol:"BNB",network:Pe.BSC_MAINNET},43114:{name:"Avalanche",symbol:"AVAX",network:Pe.AVAX_MAINNET}},y=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),g=async()=>{try{await l({chainId:8453}),e("Switched to Base network")}catch(I){console.error("Network switch error:",I),n("Failed to switch to Base network")}},v=async()=>{if(i){p(!0);try{const I=m[a];if(!I)throw new Error("Unsupported network");const k="hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3";console.log("Using Alchemy API key:",k);const A=new hue({apiKey:k,network:I.network});console.log("🔍 Loading NFTs for:",{address:i,chain:I.name,network:I.network});let U=[],S=null;do{const P=await A.nft.getNftsForOwner(i,{omitMetadata:!1,pageKey:S});console.log("📦 Raw NFTs from Alchemy:",{count:P.ownedNfts.length,pageKey:P.pageKey,totalCount:P.totalCount}),U=[...U,...P.ownedNfts],S=P.pageKey}while(S);console.log("🎨 Total NFTs found:",U.length);const N=await Promise.all(U.map(async P=>({contractAddress:P.contract.address,tokenId:P.tokenId,name:P.title||P.name||`#${P.tokenId}`,collection:P.contract.name||"Unknown Collection",image:P.media?.[0]?.gateway||P.media?.[0]?.raw||P.image?.originalUrl||P.image?.cachedUrl||"",chain:I.name,description:P.description||"",animationUrl:P.media?.[0]?.format==="mp4"?P.media[0].gateway:P.animation_url||""})));console.log("✅ Loaded NFTs:",{count:N.length,nfts:N}),f(N)}catch(I){console.error("❌ Error loading NFTs:",I),n("Failed to load NFTs: "+I.message)}finally{p(!1)}}};z.useEffect(()=>{i?v():f([])},[i,a]),z.useEffect(()=>{o&&i&&e(`Connected to ${i.slice(0,6)}...${i.slice(-4)}`)},[o,i]),z.useEffect(()=>{console.log("🔍 WalletContext state:",{isConnected:o,address:i,chainId:a,hasWalletClient:!!c,hasPublicClient:!!u,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)})},[o,i,a,c,u]);const b=()=>{if(c&&c.transport)try{return{getSigner:()=>(console.warn("getSigner() is deprecated. Use walletClient directly for transactions."),null)}}catch(I){console.error("Failed to create provider wrapper:",I)}if(window.ethereum)try{return new Ec(window.ethereum)}catch(I){console.error("Failed to create ethers provider:",I)}return null},x={isConnected:o,isConnecting:s,loading:h,address:i,chainId:a,chain:m[a]||{name:"Unknown",symbol:"ETH"},chains:m,switchChain:l,switchToBase:g,nfts:d,loadNFTs:v,isMobile:y,walletClient:c,publicClient:u,provider:b()};return F(bz.Provider,{value:x,children:t})},xz=z.createContext(),J1=()=>{const t=z.useContext(xz);if(!t)throw new Error("useProfile must be used within a ProfileProvider");return t},Kpe=({children:t})=>{const{address:e}=vi(),[n,r]=z.useState({});z.useEffect(()=>{const h=localStorage.getItem("userProfiles");h&&r(JSON.parse(h))},[]),z.useEffect(()=>{localStorage.setItem("userProfiles",JSON.stringify(n))},[n]);const f={getPlayerName:async h=>n[h]?.name||"",setPlayerName:async(h,p)=>{r(m=>({...m,[h]:{...m[h],name:p}}))},getProfilePicture:async h=>n[h]?.image||"",setProfilePicture:async(h,p)=>{r(m=>({...m,[h]:{...m[h],image:p}}))},getCoinHeadsImage:async h=>n[h]?.coinHeadsImage||null,setCoinHeadsImage:async(h,p)=>{r(m=>({...m,[h]:{...m[h],coinHeadsImage:p}}))},getCoinTailsImage:async h=>n[h]?.coinTailsImage||null,setCoinTailsImage:async(h,p)=>{r(m=>({...m,[h]:{...m[h],coinTailsImage:p}}))}};return F(xz.Provider,{value:f,children:t})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mn(){return Mn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mn.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const F6="popstate";function Qpe(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Rm("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xu(i)}return Ype(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xpe(){return Math.random().toString(36).substr(2,8)}function O6(t,e){return{usr:t.state,key:t.key,idx:e}}function Rm(t,e,n,r){return n===void 0&&(n=null),Mn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tc(e):e,{state:n,key:e&&e.key||r||Xpe()})}function xu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ype(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Zn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Mn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Zn.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:g})}function f(y,g){a=Zn.Push;let v=Rm(m.location,y,g);c=u()+1;let b=O6(v,c),x=m.createHref(v);try{s.pushState(b,"",x)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(x)}o&&l&&l({action:a,location:m.location,delta:1})}function h(y,g){a=Zn.Replace;let v=Rm(m.location,y,g);c=u();let b=O6(v,c),x=m.createHref(v);s.replaceState(b,"",x),o&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:xu(y);return v=v.replace(/ $/,"%20"),qt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F6,d),l=y,()=>{i.removeEventListener(F6,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(y){return s.go(y)}};return m}var fn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fn||(fn={}));const Jpe=new Set(["lazy","caseSensitive","path","id","index","children"]);function Zpe(t){return t.index===!0}function Jv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(qt(i.index!==!0||!i.children,"Cannot specify children on an index route"),qt(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Zpe(i)){let l=Mn({},i,e(i),{id:a});return r[a]=l,l}else{let l=Mn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Jv(i.children,e,s,r)),l}})}function Ac(t,e,n){return n===void 0&&(n="/"),Ry(t,e,n,!1)}function Ry(t,e,n,r){let i=typeof e=="string"?tc(e):e,o=rh(i.pathname||"/",n);if(o==null)return null;let s=Ez(t);tme(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=fme(o);a=ume(s[l],c,r)}return a}function eme(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Ez(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(qt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ra([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ez(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:lme(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Az(o.path))i(o,s,l)}),e}function Az(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Az(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tme(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cme(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nme=/^:[\w-]+$/,rme=3,ime=2,ome=1,sme=10,ame=-2,B6=t=>t==="*";function lme(t,e){let n=t.split("/"),r=n.length;return n.some(B6)&&(r+=ame),e&&(r+=ime),n.filter(i=>!B6(i)).reduce((i,o)=>i+(nme.test(o)?rme:o===""?ome:sme),r)}function cme(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ume(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=L6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=L6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ra([o,d.pathname]),pathnameBase:mme(Ra([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Ra([o,d.pathnameBase]))}return s}function L6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dme(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function dme(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fme(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hme(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tc(t):t;return{pathname:n?n.startsWith("/")?n:pme(n,e):e,search:gme(r),hash:yme(i)}}function pme(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _z(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P3(t,e){let n=_z(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function N3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tc(t):(i=Mn({},t),qt(!i.pathname||!i.pathname.includes("?"),Zx("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),Zx("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),Zx("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=hme(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ra=t=>t.join("/").replace(/\/\/+/g,"/"),mme=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gme=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yme=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Zv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Pm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sz=["post","put","patch","delete"],vme=new Set(Sz),wme=["get",...Sz],bme=new Set(wme),xme=new Set([301,302,303,307,308]),Eme=new Set([307,308]),eE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ame={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},k3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_me=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Cz="remix-router-transitions";function Sme(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;qt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let re=t.detectErrorBoundary;i=pe=>({hasErrorBoundary:re(pe)})}else i=_me;let o={},s=Jv(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.dataStrategy||Ime,u=t.patchRoutesOnNavigation,d=Mn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,h=new Set,p=null,m=null,y=null,g=t.hydrationData!=null,v=Ac(s,t.history.location,l),b=!1,x=null;if(v==null&&!u){let re=xi(404,{pathname:t.history.location.pathname}),{matches:pe,route:ye}=K6(s);v=pe,x={[ye.id]:re}}v&&!t.hydrationData&&Ft(v,s,t.history.location.pathname).active&&(v=null);let I;if(v)if(v.some(re=>re.route.lazy))I=!1;else if(!v.some(re=>re.route.loader))I=!0;else if(d.v7_partialHydration){let re=t.hydrationData?t.hydrationData.loaderData:null,pe=t.hydrationData?t.hydrationData.errors:null;if(pe){let ye=v.findIndex(Ce=>pe[Ce.route.id]!==void 0);I=v.slice(0,ye+1).every(Ce=>!I2(Ce.route,re,pe))}else I=v.every(ye=>!I2(ye.route,re,pe))}else I=t.hydrationData!=null;else if(I=!1,v=[],d.v7_partialHydration){let re=Ft(null,s,t.history.location.pathname);re.active&&re.matches&&(b=!0,v=re.matches)}let k,A={historyAction:t.history.action,location:t.history.location,matches:v,initialized:I,navigation:eE,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},U=Zn.Pop,S=!1,N,P=!1,G=new Map,B=null,w=!1,E=!1,M=[],O=new Set,C=new Map,H=0,W=-1,D=new Map,T=new Set,$=new Map,J=new Map,Z=new Set,ce=new Map,ie=new Map,xe;function ue(){if(f=t.history.listen(re=>{let{action:pe,location:ye,delta:Ce}=re;if(xe){xe(),xe=void 0;return}Cf(ie.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Xe=tt({currentLocation:A.location,nextLocation:ye,historyAction:pe});if(Xe&&Ce!=null){let rt=new Promise(Ze=>{xe=Ze});t.history.go(Ce*-1),le(Xe,{state:"blocked",location:ye,proceed(){le(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),rt.then(()=>t.history.go(Ce))},reset(){let Ze=new Map(A.blockers);Ze.set(Xe,kh),Fe({blockers:Ze})}});return}return Tt(pe,ye)}),n){Gme(e,G);let re=()=>Wme(e,G);e.addEventListener("pagehide",re),B=()=>e.removeEventListener("pagehide",re)}return A.initialized||Tt(Zn.Pop,A.location,{initialHydration:!0}),k}function Ie(){f&&f(),B&&B(),h.clear(),N&&N.abort(),A.fetchers.forEach((re,pe)=>Y(pe)),A.blockers.forEach((re,pe)=>et(pe))}function Ge(re){return h.add(re),()=>h.delete(re)}function Fe(re,pe){pe===void 0&&(pe={}),A=Mn({},A,re);let ye=[],Ce=[];d.v7_fetcherPersist&&A.fetchers.forEach((Xe,rt)=>{Xe.state==="idle"&&(Z.has(rt)?Ce.push(rt):ye.push(rt))}),Z.forEach(Xe=>{!A.fetchers.has(Xe)&&!C.has(Xe)&&Ce.push(Xe)}),[...h].forEach(Xe=>Xe(A,{deletedFetchers:Ce,viewTransitionOpts:pe.viewTransitionOpts,flushSync:pe.flushSync===!0})),d.v7_fetcherPersist?(ye.forEach(Xe=>A.fetchers.delete(Xe)),Ce.forEach(Xe=>Y(Xe))):Ce.forEach(Xe=>Z.delete(Xe))}function At(re,pe,ye){var Ce,Xe;let{flushSync:rt}=ye===void 0?{}:ye,Ze=A.actionData!=null&&A.navigation.formMethod!=null&&Xo(A.navigation.formMethod)&&A.navigation.state==="loading"&&((Ce=re.state)==null?void 0:Ce._isRedirect)!==!0,ft;pe.actionData?Object.keys(pe.actionData).length>0?ft=pe.actionData:ft=null:Ze?ft=A.actionData:ft=null;let $e=pe.loaderData?$6(A.loaderData,pe.loaderData,pe.matches||[],pe.errors):A.loaderData,We=A.blockers;We.size>0&&(We=new Map(We),We.forEach((St,yn)=>We.set(yn,kh)));let xt=S===!0||A.navigation.formMethod!=null&&Xo(A.navigation.formMethod)&&((Xe=re.state)==null?void 0:Xe._isRedirect)!==!0;a&&(s=a,a=void 0),w||U===Zn.Pop||(U===Zn.Push?t.history.push(re,re.state):U===Zn.Replace&&t.history.replace(re,re.state));let vt;if(U===Zn.Pop){let St=G.get(A.location.pathname);St&&St.has(re.pathname)?vt={currentLocation:A.location,nextLocation:re}:G.has(re.pathname)&&(vt={currentLocation:re,nextLocation:A.location})}else if(P){let St=G.get(A.location.pathname);St?St.add(re.pathname):(St=new Set([re.pathname]),G.set(A.location.pathname,St)),vt={currentLocation:A.location,nextLocation:re}}Fe(Mn({},pe,{actionData:ft,loaderData:$e,historyAction:U,location:re,initialized:!0,navigation:eE,revalidation:"idle",restoreScrollPosition:dn(re,pe.matches||A.matches),preventScrollReset:xt,blockers:We}),{viewTransitionOpts:vt,flushSync:rt===!0}),U=Zn.Pop,S=!1,P=!1,w=!1,E=!1,M=[]}async function oe(re,pe){if(typeof re=="number"){t.history.go(re);return}let ye=M2(A.location,A.matches,l,d.v7_prependBasename,re,d.v7_relativeSplatPath,pe?.fromRouteId,pe?.relative),{path:Ce,submission:Xe,error:rt}=D6(d.v7_normalizeFormMethod,!1,ye,pe),Ze=A.location,ft=Rm(A.location,Ce,pe&&pe.state);ft=Mn({},ft,t.history.encodeLocation(ft));let $e=pe&&pe.replace!=null?pe.replace:void 0,We=Zn.Push;$e===!0?We=Zn.Replace:$e===!1||Xe!=null&&Xo(Xe.formMethod)&&Xe.formAction===A.location.pathname+A.location.search&&(We=Zn.Replace);let xt=pe&&"preventScrollReset"in pe?pe.preventScrollReset===!0:void 0,vt=(pe&&pe.flushSync)===!0,St=tt({currentLocation:Ze,nextLocation:ft,historyAction:We});if(St){le(St,{state:"blocked",location:ft,proceed(){le(St,{state:"proceeding",proceed:void 0,reset:void 0,location:ft}),oe(re,pe)},reset(){let yn=new Map(A.blockers);yn.set(St,kh),Fe({blockers:yn})}});return}return await Tt(We,ft,{submission:Xe,pendingError:rt,preventScrollReset:xt,replace:pe&&pe.replace,enableViewTransition:pe&&pe.viewTransition,flushSync:vt})}function ct(){if(j(),Fe({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Tt(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Tt(U||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:P===!0})}}async function Tt(re,pe,ye){N&&N.abort(),N=null,U=re,w=(ye&&ye.startUninterruptedRevalidation)===!0,at(A.location,A.matches),S=(ye&&ye.preventScrollReset)===!0,P=(ye&&ye.enableViewTransition)===!0;let Ce=a||s,Xe=ye&&ye.overrideNavigation,rt=ye!=null&&ye.initialHydration&&A.matches&&A.matches.length>0&&!b?A.matches:Ac(Ce,pe,l),Ze=(ye&&ye.flushSync)===!0;if(rt&&A.initialized&&!E&&Ome(A.location,pe)&&!(ye&&ye.submission&&Xo(ye.submission.formMethod))){At(pe,{matches:rt},{flushSync:Ze});return}let ft=Ft(rt,Ce,pe.pathname);if(ft.active&&ft.matches&&(rt=ft.matches),!rt){let{error:q,notFoundMatches:se,route:ge}=we(pe.pathname);At(pe,{matches:se,loaderData:{},errors:{[ge.id]:q}},{flushSync:Ze});return}N=new AbortController;let $e=Qu(t.history,pe,N.signal,ye&&ye.submission),We;if(ye&&ye.pendingError)We=[_c(rt).route.id,{type:fn.error,error:ye.pendingError}];else if(ye&&ye.submission&&Xo(ye.submission.formMethod)){let q=await ut($e,pe,ye.submission,rt,ft.active,{replace:ye.replace,flushSync:Ze});if(q.shortCircuited)return;if(q.pendingActionResult){let[se,ge]=q.pendingActionResult;if(Yi(ge)&&Pm(ge.error)&&ge.error.status===404){N=null,At(pe,{matches:q.matches,loaderData:{},errors:{[se]:ge.error}});return}}rt=q.matches||rt,We=q.pendingActionResult,Xe=tE(pe,ye.submission),Ze=!1,ft.active=!1,$e=Qu(t.history,$e.url,$e.signal)}let{shortCircuited:xt,matches:vt,loaderData:St,errors:yn}=await Ye($e,pe,rt,ft.active,Xe,ye&&ye.submission,ye&&ye.fetcherSubmission,ye&&ye.replace,ye&&ye.initialHydration===!0,Ze,We);xt||(N=null,At(pe,Mn({matches:vt||rt},q6(We),{loaderData:St,errors:yn})))}async function ut(re,pe,ye,Ce,Xe,rt){rt===void 0&&(rt={}),j();let Ze=jme(pe,ye);if(Fe({navigation:Ze},{flushSync:rt.flushSync===!0}),Xe){let We=await Mt(Ce,pe.pathname,re.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let xt=_c(We.partialMatches).route.id;return{matches:We.partialMatches,pendingActionResult:[xt,{type:fn.error,error:We.error}]}}else if(We.matches)Ce=We.matches;else{let{notFoundMatches:xt,error:vt,route:St}=we(pe.pathname);return{matches:xt,pendingActionResult:[St.id,{type:fn.error,error:vt}]}}}let ft,$e=ep(Ce,pe);if(!$e.route.action&&!$e.route.lazy)ft={type:fn.error,error:xi(405,{method:re.method,pathname:pe.pathname,routeId:$e.route.id})};else if(ft=(await Me("action",A,re,[$e],Ce,null))[$e.route.id],re.signal.aborted)return{shortCircuited:!0};if(zc(ft)){let We;return rt&&rt.replace!=null?We=rt.replace:We=G6(ft.response.headers.get("Location"),new URL(re.url),l)===A.location.pathname+A.location.search,await be(re,ft,!0,{submission:ye,replace:We}),{shortCircuited:!0}}if(Al(ft))throw xi(400,{type:"defer-action"});if(Yi(ft)){let We=_c(Ce,$e.route.id);return(rt&&rt.replace)!==!0&&(U=Zn.Push),{matches:Ce,pendingActionResult:[We.route.id,ft]}}return{matches:Ce,pendingActionResult:[$e.route.id,ft]}}async function Ye(re,pe,ye,Ce,Xe,rt,Ze,ft,$e,We,xt){let vt=Xe||tE(pe,rt),St=rt||Ze||X6(vt),yn=!w&&(!d.v7_partialHydration||!$e);if(Ce){if(yn){let Re=Nt(xt);Fe(Mn({navigation:vt},Re!==void 0?{actionData:Re}:{}),{flushSync:We})}let ae=await Mt(ye,pe.pathname,re.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let Re=_c(ae.partialMatches).route.id;return{matches:ae.partialMatches,loaderData:{},errors:{[Re]:ae.error}}}else if(ae.matches)ye=ae.matches;else{let{error:Re,notFoundMatches:Te,route:ot}=we(pe.pathname);return{matches:Te,loaderData:{},errors:{[ot.id]:Re}}}}let q=a||s,[se,ge]=z6(t.history,A,ye,St,pe,d.v7_partialHydration&&$e===!0,d.v7_skipActionErrorRevalidation,E,M,O,Z,$,T,q,l,xt);if(Se(ae=>!(ye&&ye.some(Re=>Re.route.id===ae))||se&&se.some(Re=>Re.route.id===ae)),W=++H,se.length===0&&ge.length===0){let ae=Ne();return At(pe,Mn({matches:ye,loaderData:{},errors:xt&&Yi(xt[1])?{[xt[0]]:xt[1].error}:null},q6(xt),ae?{fetchers:new Map(A.fetchers)}:{}),{flushSync:We}),{shortCircuited:!0}}if(yn){let ae={};if(!Ce){ae.navigation=vt;let Re=Nt(xt);Re!==void 0&&(ae.actionData=Re)}ge.length>0&&(ae.fetchers=nt(ge)),Fe(ae,{flushSync:We})}ge.forEach(ae=>{te(ae.key),ae.controller&&C.set(ae.key,ae.controller)});let ve=()=>ge.forEach(ae=>te(ae.key));N&&N.signal.addEventListener("abort",ve);let{loaderResults:fe,fetcherResults:Le}=await me(A,ye,se,ge,re);if(re.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",ve),ge.forEach(ae=>C.delete(ae.key));let Ke=pg(fe);if(Ke)return await be(re,Ke.result,!0,{replace:ft}),{shortCircuited:!0};if(Ke=pg(Le),Ke)return T.add(Ke.key),await be(re,Ke.result,!0,{replace:ft}),{shortCircuited:!0};let{loaderData:gt,errors:ht}=V6(A,ye,fe,xt,ge,Le,ce);ce.forEach((ae,Re)=>{ae.subscribe(Te=>{(Te||ae.done)&&ce.delete(Re)})}),d.v7_partialHydration&&$e&&A.errors&&(ht=Mn({},A.errors,ht));let Ct=Ne(),Rt=He(W),pt=Ct||Rt||ge.length>0;return Mn({matches:ye,loaderData:gt,errors:ht},pt?{fetchers:new Map(A.fetchers)}:{})}function Nt(re){if(re&&!Yi(re[1]))return{[re[0]]:re[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function nt(re){return re.forEach(pe=>{let ye=A.fetchers.get(pe.key),Ce=Fh(void 0,ye?ye.data:void 0);A.fetchers.set(pe.key,Ce)}),new Map(A.fetchers)}function X(re,pe,ye,Ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");te(re);let Xe=(Ce&&Ce.flushSync)===!0,rt=a||s,Ze=M2(A.location,A.matches,l,d.v7_prependBasename,ye,d.v7_relativeSplatPath,pe,Ce?.relative),ft=Ac(rt,Ze,l),$e=Ft(ft,rt,Ze);if($e.active&&$e.matches&&(ft=$e.matches),!ft){R(re,pe,xi(404,{pathname:Ze}),{flushSync:Xe});return}let{path:We,submission:xt,error:vt}=D6(d.v7_normalizeFormMethod,!0,Ze,Ce);if(vt){R(re,pe,vt,{flushSync:Xe});return}let St=ep(ft,We),yn=(Ce&&Ce.preventScrollReset)===!0;if(xt&&Xo(xt.formMethod)){V(re,pe,We,St,ft,$e.active,Xe,yn,xt);return}$.set(re,{routeId:pe,path:We}),de(re,pe,We,St,ft,$e.active,Xe,yn,xt)}async function V(re,pe,ye,Ce,Xe,rt,Ze,ft,$e){j(),$.delete(re);function We(qe){if(!qe.route.action&&!qe.route.lazy){let it=xi(405,{method:$e.formMethod,pathname:ye,routeId:pe});return R(re,pe,it,{flushSync:Ze}),!0}return!1}if(!rt&&We(Ce))return;let xt=A.fetchers.get(re);_(re,Hme($e,xt),{flushSync:Ze});let vt=new AbortController,St=Qu(t.history,ye,vt.signal,$e);if(rt){let qe=await Mt(Xe,new URL(St.url).pathname,St.signal,re);if(qe.type==="aborted")return;if(qe.type==="error"){R(re,pe,qe.error,{flushSync:Ze});return}else if(qe.matches){if(Xe=qe.matches,Ce=ep(Xe,ye),We(Ce))return}else{R(re,pe,xi(404,{pathname:ye}),{flushSync:Ze});return}}C.set(re,vt);let yn=H,se=(await Me("action",A,St,[Ce],Xe,re))[Ce.route.id];if(St.signal.aborted){C.get(re)===vt&&C.delete(re);return}if(d.v7_fetcherPersist&&Z.has(re)){if(zc(se)||Yi(se)){_(re,hl(void 0));return}}else{if(zc(se))if(C.delete(re),W>yn){_(re,hl(void 0));return}else return T.add(re),_(re,Fh($e)),be(St,se,!1,{fetcherSubmission:$e,preventScrollReset:ft});if(Yi(se)){R(re,pe,se.error);return}}if(Al(se))throw xi(400,{type:"defer-action"});let ge=A.navigation.location||A.location,ve=Qu(t.history,ge,vt.signal),fe=a||s,Le=A.navigation.state!=="idle"?Ac(fe,A.navigation.location,l):A.matches;qt(Le,"Didn't find any matches after fetcher action");let Ke=++H;D.set(re,Ke);let gt=Fh($e,se.data);A.fetchers.set(re,gt);let[ht,Ct]=z6(t.history,A,Le,$e,ge,!1,d.v7_skipActionErrorRevalidation,E,M,O,Z,$,T,fe,l,[Ce.route.id,se]);Ct.filter(qe=>qe.key!==re).forEach(qe=>{let it=qe.key,an=A.fetchers.get(it),Ot=Fh(void 0,an?an.data:void 0);A.fetchers.set(it,Ot),te(it),qe.controller&&C.set(it,qe.controller)}),Fe({fetchers:new Map(A.fetchers)});let Rt=()=>Ct.forEach(qe=>te(qe.key));vt.signal.addEventListener("abort",Rt);let{loaderResults:pt,fetcherResults:ae}=await me(A,Le,ht,Ct,ve);if(vt.signal.aborted)return;vt.signal.removeEventListener("abort",Rt),D.delete(re),C.delete(re),Ct.forEach(qe=>C.delete(qe.key));let Re=pg(pt);if(Re)return be(ve,Re.result,!1,{preventScrollReset:ft});if(Re=pg(ae),Re)return T.add(Re.key),be(ve,Re.result,!1,{preventScrollReset:ft});let{loaderData:Te,errors:ot}=V6(A,Le,pt,void 0,Ct,ae,ce);if(A.fetchers.has(re)){let qe=hl(se.data);A.fetchers.set(re,qe)}He(Ke),A.navigation.state==="loading"&&Ke>W?(qt(U,"Expected pending action"),N&&N.abort(),At(A.navigation.location,{matches:Le,loaderData:Te,errors:ot,fetchers:new Map(A.fetchers)})):(Fe({errors:ot,loaderData:$6(A.loaderData,Te,Le,ot),fetchers:new Map(A.fetchers)}),E=!1)}async function de(re,pe,ye,Ce,Xe,rt,Ze,ft,$e){let We=A.fetchers.get(re);_(re,Fh($e,We?We.data:void 0),{flushSync:Ze});let xt=new AbortController,vt=Qu(t.history,ye,xt.signal);if(rt){let se=await Mt(Xe,new URL(vt.url).pathname,vt.signal,re);if(se.type==="aborted")return;if(se.type==="error"){R(re,pe,se.error,{flushSync:Ze});return}else if(se.matches)Xe=se.matches,Ce=ep(Xe,ye);else{R(re,pe,xi(404,{pathname:ye}),{flushSync:Ze});return}}C.set(re,xt);let St=H,q=(await Me("loader",A,vt,[Ce],Xe,re))[Ce.route.id];if(Al(q)&&(q=await F3(q,vt.signal,!0)||q),C.get(re)===xt&&C.delete(re),!vt.signal.aborted){if(Z.has(re)){_(re,hl(void 0));return}if(zc(q))if(W>St){_(re,hl(void 0));return}else{T.add(re),await be(vt,q,!1,{preventScrollReset:ft});return}if(Yi(q)){R(re,pe,q.error);return}qt(!Al(q),"Unhandled fetcher deferred data"),_(re,hl(q.data))}}async function be(re,pe,ye,Ce){let{submission:Xe,fetcherSubmission:rt,preventScrollReset:Ze,replace:ft}=Ce===void 0?{}:Ce;pe.response.headers.has("X-Remix-Revalidate")&&(E=!0);let $e=pe.response.headers.get("Location");qt($e,"Expected a Location header on the redirect Response"),$e=G6($e,new URL(re.url),l);let We=Rm(A.location,$e,{_isRedirect:!0});if(n){let se=!1;if(pe.response.headers.has("X-Remix-Reload-Document"))se=!0;else if(k3.test($e)){const ge=t.history.createURL($e);se=ge.origin!==e.location.origin||rh(ge.pathname,l)==null}if(se){ft?e.location.replace($e):e.location.assign($e);return}}N=null;let xt=ft===!0||pe.response.headers.has("X-Remix-Replace")?Zn.Replace:Zn.Push,{formMethod:vt,formAction:St,formEncType:yn}=A.navigation;!Xe&&!rt&&vt&&St&&yn&&(Xe=X6(A.navigation));let q=Xe||rt;if(Eme.has(pe.response.status)&&q&&Xo(q.formMethod))await Tt(xt,We,{submission:Mn({},q,{formAction:$e}),preventScrollReset:Ze||S,enableViewTransition:ye?P:void 0});else{let se=tE(We,Xe);await Tt(xt,We,{overrideNavigation:se,fetcherSubmission:rt,preventScrollReset:Ze||S,enableViewTransition:ye?P:void 0})}}async function Me(re,pe,ye,Ce,Xe,rt){let Ze,ft={};try{Ze=await Rme(c,re,pe,ye,Ce,Xe,rt,o,i)}catch($e){return Ce.forEach(We=>{ft[We.route.id]={type:fn.error,error:$e}}),ft}for(let[$e,We]of Object.entries(Ze))if(Bme(We)){let xt=We.result;ft[$e]={type:fn.redirect,response:kme(xt,ye,$e,Xe,l,d.v7_relativeSplatPath)}}else ft[$e]=await Nme(We);return ft}async function me(re,pe,ye,Ce,Xe){let rt=re.matches,Ze=Me("loader",re,Xe,ye,pe,null),ft=Promise.all(Ce.map(async xt=>{if(xt.matches&&xt.match&&xt.controller){let St=(await Me("loader",re,Qu(t.history,xt.path,xt.controller.signal),[xt.match],xt.matches,xt.key))[xt.match.route.id];return{[xt.key]:St}}else return Promise.resolve({[xt.key]:{type:fn.error,error:xi(404,{pathname:xt.path})}})})),$e=await Ze,We=(await ft).reduce((xt,vt)=>Object.assign(xt,vt),{});return await Promise.all([Ume(pe,$e,Xe.signal,rt,re.loaderData),zme(pe,We,Ce)]),{loaderResults:$e,fetcherResults:We}}function j(){E=!0,M.push(...Se()),$.forEach((re,pe)=>{C.has(pe)&&O.add(pe),te(pe)})}function _(re,pe,ye){ye===void 0&&(ye={}),A.fetchers.set(re,pe),Fe({fetchers:new Map(A.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function R(re,pe,ye,Ce){Ce===void 0&&(Ce={});let Xe=_c(A.matches,pe);Y(re),Fe({errors:{[Xe.route.id]:ye},fetchers:new Map(A.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function Q(re){return J.set(re,(J.get(re)||0)+1),Z.has(re)&&Z.delete(re),A.fetchers.get(re)||Ame}function Y(re){let pe=A.fetchers.get(re);C.has(re)&&!(pe&&pe.state==="loading"&&D.has(re))&&te(re),$.delete(re),D.delete(re),T.delete(re),d.v7_fetcherPersist&&Z.delete(re),O.delete(re),A.fetchers.delete(re)}function ee(re){let pe=(J.get(re)||0)-1;pe<=0?(J.delete(re),Z.add(re),d.v7_fetcherPersist||Y(re)):J.set(re,pe),Fe({fetchers:new Map(A.fetchers)})}function te(re){let pe=C.get(re);pe&&(pe.abort(),C.delete(re))}function Be(re){for(let pe of re){let ye=Q(pe),Ce=hl(ye.data);A.fetchers.set(pe,Ce)}}function Ne(){let re=[],pe=!1;for(let ye of T){let Ce=A.fetchers.get(ye);qt(Ce,"Expected fetcher: "+ye),Ce.state==="loading"&&(T.delete(ye),re.push(ye),pe=!0)}return Be(re),pe}function He(re){let pe=[];for(let[ye,Ce]of D)if(Ce<re){let Xe=A.fetchers.get(ye);qt(Xe,"Expected fetcher: "+ye),Xe.state==="loading"&&(te(ye),D.delete(ye),pe.push(ye))}return Be(pe),pe.length>0}function dt(re,pe){let ye=A.blockers.get(re)||kh;return ie.get(re)!==pe&&ie.set(re,pe),ye}function et(re){A.blockers.delete(re),ie.delete(re)}function le(re,pe){let ye=A.blockers.get(re)||kh;qt(ye.state==="unblocked"&&pe.state==="blocked"||ye.state==="blocked"&&pe.state==="blocked"||ye.state==="blocked"&&pe.state==="proceeding"||ye.state==="blocked"&&pe.state==="unblocked"||ye.state==="proceeding"&&pe.state==="unblocked","Invalid blocker state transition: "+ye.state+" -> "+pe.state);let Ce=new Map(A.blockers);Ce.set(re,pe),Fe({blockers:Ce})}function tt(re){let{currentLocation:pe,nextLocation:ye,historyAction:Ce}=re;if(ie.size===0)return;ie.size>1&&Cf(!1,"A router only supports one blocker at a time");let Xe=Array.from(ie.entries()),[rt,Ze]=Xe[Xe.length-1],ft=A.blockers.get(rt);if(!(ft&&ft.state==="proceeding")&&Ze({currentLocation:pe,nextLocation:ye,historyAction:Ce}))return rt}function we(re){let pe=xi(404,{pathname:re}),ye=a||s,{matches:Ce,route:Xe}=K6(ye);return Se(),{notFoundMatches:Ce,route:Xe,error:pe}}function Se(re){let pe=[];return ce.forEach((ye,Ce)=>{(!re||re(Ce))&&(ye.cancel(),pe.push(Ce),ce.delete(Ce))}),pe}function Je(re,pe,ye){if(p=re,y=pe,m=ye||null,!g&&A.navigation===eE){g=!0;let Ce=dn(A.location,A.matches);Ce!=null&&Fe({restoreScrollPosition:Ce})}return()=>{p=null,y=null,m=null}}function ze(re,pe){return m&&m(re,pe.map(Ce=>eme(Ce,A.loaderData)))||re.key}function at(re,pe){if(p&&y){let ye=ze(re,pe);p[ye]=y()}}function dn(re,pe){if(p){let ye=ze(re,pe),Ce=p[ye];if(typeof Ce=="number")return Ce}return null}function Ft(re,pe,ye){if(u)if(re){if(Object.keys(re[0].params).length>0)return{active:!0,matches:Ry(pe,ye,l,!0)}}else return{active:!0,matches:Ry(pe,ye,l,!0)||[]};return{active:!1,matches:null}}async function Mt(re,pe,ye,Ce){if(!u)return{type:"success",matches:re};let Xe=re;for(;;){let rt=a==null,Ze=a||s,ft=o;try{await u({signal:ye,path:pe,matches:Xe,fetcherKey:Ce,patch:(xt,vt)=>{ye.aborted||H6(xt,vt,Ze,ft,i)}})}catch(xt){return{type:"error",error:xt,partialMatches:Xe}}finally{rt&&!ye.aborted&&(s=[...s])}if(ye.aborted)return{type:"aborted"};let $e=Ac(Ze,pe,l);if($e)return{type:"success",matches:$e};let We=Ry(Ze,pe,l,!0);if(!We||Xe.length===We.length&&Xe.every((xt,vt)=>xt.route.id===We[vt].route.id))return{type:"success",matches:null};Xe=We}}function lr(re){o={},a=Jv(re,i,void 0,o)}function Kt(re,pe){let ye=a==null;H6(re,pe,a||s,o,i),ye&&(s=[...s],Fe({}))}return k={get basename(){return l},get future(){return d},get state(){return A},get routes(){return s},get window(){return e},initialize:ue,subscribe:Ge,enableScrollRestoration:Je,navigate:oe,fetch:X,revalidate:ct,createHref:re=>t.history.createHref(re),encodeLocation:re=>t.history.encodeLocation(re),getFetcher:Q,deleteFetcher:ee,dispose:Ie,getBlocker:dt,deleteBlocker:et,patchRoutes:Kt,_internalFetchControllers:C,_internalActiveDeferreds:ce,_internalSetRoutes:lr},k}function Cme(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function M2(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=N3(i||".",P3(l,o),rh(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=O3(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Ra([n,u.pathname])),xu(u)}function D6(t,e,n,r){if(!r||!Cme(r))return{path:n};if(r.formMethod&&!Dme(r.formMethod))return{path:n,error:xi(405,{method:r.formMethod})};let i=()=>({path:n,error:xi(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=Iz(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Xo(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[m,y]=p;return""+h+m+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Xo(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}qt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=R2(r.formData),c=r.formData;else if(r.body instanceof FormData)l=R2(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=W6(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=W6(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Xo(u.formMethod))return{path:n,submission:u};let d=tc(n);return e&&d.search&&O3(d.search)&&l.append("index",""),d.search="?"+l,{path:xu(d),submission:u}}function U6(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function z6(t,e,n,r,i,o,s,a,l,c,u,d,f,h,p,m){let y=m?Yi(m[1])?m[1].error:m[1].data:void 0,g=t.createURL(e.location),v=t.createURL(i),b=n;o&&e.errors?b=U6(n,Object.keys(e.errors)[0],!0):m&&Yi(m[1])&&(b=U6(n,m[0]));let x=m?m[1].statusCode:void 0,I=s&&x&&x>=400,k=b.filter((U,S)=>{let{route:N}=U;if(N.lazy)return!0;if(N.loader==null)return!1;if(o)return I2(N,e.loaderData,e.errors);if(Tme(e.loaderData,e.matches[S],U)||l.some(B=>B===U.route.id))return!0;let P=e.matches[S],G=U;return j6(U,Mn({currentUrl:g,currentParams:P.params,nextUrl:v,nextParams:G.params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:I?!1:a||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||Tz(P,G)}))}),A=[];return d.forEach((U,S)=>{if(o||!n.some(w=>w.route.id===U.routeId)||u.has(S))return;let N=Ac(h,U.path,p);if(!N){A.push({key:S,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(S),G=ep(N,U.path),B=!1;f.has(S)?B=!1:c.has(S)?(c.delete(S),B=!0):P&&P.state!=="idle"&&P.data===void 0?B=a:B=j6(G,Mn({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:x,defaultShouldRevalidate:I?!1:a})),B&&A.push({key:S,routeId:U.routeId,path:U.path,matches:N,match:G,controller:new AbortController})}),[k,A]}function I2(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Tme(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Tz(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function j6(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function H6(t,e,n,r,i){var o;let s;if(t){let c=r[t];qt(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>Mz(c,u))),l=Jv(a,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function Mz(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Mz(n,o))}):!1}async function Mme(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];qt(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Cf(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Jpe.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Mn({},e(i),{lazy:void 0}))}async function Ime(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function Rme(t,e,n,r,i,o,s,a,l,c){let u=o.map(h=>h.route.lazy?Mme(h.route,l,a):void 0),d=o.map((h,p)=>{let m=u[p],y=i.some(v=>v.route.id===h.route.id);return Mn({},h,{shouldLoad:y,resolve:async v=>(v&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(y=!0),y?Pme(e,r,h,m,v,c):Promise.resolve({type:fn.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function Pme(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([h,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw xi(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:fn.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw xi(404,{pathname:d})}qt(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:fn.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function Nme(t){let{result:e,type:n}=t;if(Rz(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:fn.error,error:f}}return n===fn.error?{type:fn.error,error:new Zv(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:fn.data,data:d,statusCode:e.status,headers:e.headers}}if(n===fn.error){if(Q6(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:fn.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:fn.error,error:new Zv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Pm(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:fn.error,error:e,statusCode:Pm(e)?e.status:void 0}}if(Lme(e)){var a,l;return{type:fn.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Q6(e)){var c,u;return{type:fn.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:fn.data,data:e}}function kme(t,e,n,r,i,o){let s=t.headers.get("Location");if(qt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!k3.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=M2(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function G6(t,e,n){if(k3.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=rh(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Qu(t,e,n,r){let i=t.createURL(Iz(e)).toString(),o={signal:n};if(r&&Xo(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=R2(r.formData):o.body=r.formData}return new Request(i,o)}function R2(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function W6(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Fme(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Yi(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,h=e[f];if(qt(!zc(h),"Cannot handle redirect results in processLoaderData"),Yi(h)){let p=h.error;u!==void 0&&(p=u,u=void 0),s=s||{};{let m=_c(t,f);s[m.route.id]==null&&(s[m.route.id]=p)}o[f]=void 0,l||(l=!0,a=Pm(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else Al(h)?(r.set(f,h.deferredData),o[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers)):(o[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(a=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function V6(t,e,n,r,i,o,s){let{loaderData:a,errors:l}=Fme(e,n,r,s);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=o[u];if(qt(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Yi(h)){let p=_c(t.matches,d?.route.id);l&&l[p.route.id]||(l=Mn({},l,{[p.route.id]:h.error})),t.fetchers.delete(u)}else if(zc(h))qt(!1,"Unhandled fetcher revalidation redirect");else if(Al(h))qt(!1,"Unhandled fetcher deferred data");else{let p=hl(h.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function $6(t,e,n,r){let i=Mn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function q6(t){return t?Yi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function _c(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function K6(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xi(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Zv(t||500,a,new Error(l),!0)}function pg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(zc(i))return{key:r,result:i}}}function Iz(t){let e=typeof t=="string"?tc(t):t;return xu(Mn({},e,{hash:""}))}function Ome(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Bme(t){return Rz(t.result)&&xme.has(t.result.status)}function Al(t){return t.type===fn.deferred}function Yi(t){return t.type===fn.error}function zc(t){return(t&&t.type)===fn.redirect}function Q6(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Lme(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Rz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Dme(t){return bme.has(t.toLowerCase())}function Xo(t){return vme.has(t.toLowerCase())}async function Ume(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>f?.route.id===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!Tz(u,c)&&(i&&i[c.route.id])!==void 0;Al(l)&&d&&await F3(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function zme(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>c?.route.id===o)&&Al(a)&&(qt(s,"Expected an AbortController for revalidating fetcher deferred result"),await F3(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function F3(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:fn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:fn.error,error:i}}return{type:fn.data,data:t.deferredData.data}}}function O3(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ep(t,e){let n=typeof e=="string"?tc(e).search:e.search;if(t[t.length-1].route.index&&O3(n||""))return t[t.length-1];let r=_z(t);return r[r.length-1]}function X6(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function tE(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jme(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Hme(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function hl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Gme(t,e){try{let n=t.sessionStorage.getItem(Cz);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Wme(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Cz,JSON.stringify(n))}catch(r){Cf(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}const Z1=z.createContext(null),Pz=z.createContext(null),Uu=z.createContext(null),B3=z.createContext(null),Ka=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Nz=z.createContext(null);function Vme(t,e){let{relative:n}=e===void 0?{}:e;g0()||qt(!1);let{basename:r,navigator:i}=z.useContext(Uu),{hash:o,pathname:s,search:a}=Oz(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ra([r,s])),i.createHref({pathname:l,search:a,hash:o})}function g0(){return z.useContext(B3)!=null}function eb(){return g0()||qt(!1),z.useContext(B3).location}function kz(t){z.useContext(Uu).static||z.useLayoutEffect(t)}function ih(){let{isDataRoute:t}=z.useContext(Ka);return t?o0e():$me()}function $me(){g0()||qt(!1);let t=z.useContext(Z1),{basename:e,future:n,navigator:r}=z.useContext(Uu),{matches:i}=z.useContext(Ka),{pathname:o}=eb(),s=JSON.stringify(P3(i,n.v7_relativeSplatPath)),a=z.useRef(!1);return kz(()=>{a.current=!0}),z.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=N3(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ra([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const qme=z.createContext(null);function Kme(t){let e=z.useContext(Ka).outlet;return e&&z.createElement(qme.Provider,{value:t},e)}function Fz(){let{matches:t}=z.useContext(Ka),e=t[t.length-1];return e?e.params:{}}function Oz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(Uu),{matches:i}=z.useContext(Ka),{pathname:o}=eb(),s=JSON.stringify(P3(i,r.v7_relativeSplatPath));return z.useMemo(()=>N3(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Qme(t,e,n,r){g0()||qt(!1);let{navigator:i}=z.useContext(Uu),{matches:o}=z.useContext(Ka),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=eb(),u;u=c;let d=u.pathname||"/",f=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let h=Ac(t,{pathname:f});return e0e(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Ra([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Ra([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function Xme(){let t=i0e(),e=Pm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const Yme=z.createElement(Xme,null);class Jme extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(Ka.Provider,{value:this.props.routeContext},z.createElement(Nz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zme(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(Z1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Ka.Provider,{value:e},r)}function e0e(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);u>=0||qt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,p=!1,m=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Yme,l&&(c<0&&f===0?(s0e("route-fallback"),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),v=()=>{let b;return h?b=m:p?b=y:d.route.Component?b=z.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,z.createElement(Zme,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?z.createElement(Jme,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Bz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Bz||{}),Lz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lz||{});function t0e(t){let e=z.useContext(Z1);return e||qt(!1),e}function n0e(t){let e=z.useContext(Pz);return e||qt(!1),e}function r0e(t){let e=z.useContext(Ka);return e||qt(!1),e}function Dz(t){let e=r0e(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function i0e(){var t;let e=z.useContext(Nz),n=n0e(Lz.UseRouteError),r=Dz();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function o0e(){let{router:t}=t0e(Bz.UseNavigateStable),e=Dz(),n=z.useRef(!1);return kz(()=>{n.current=!0}),z.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ew({fromRouteId:e},o)))},[t,e])}const Y6={};function s0e(t,e,n){Y6[t]||(Y6[t]=!0)}function a0e(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function l0e(t){return Kme(t.context)}function c0e(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zn.Pop,navigator:o,static:s=!1,future:a}=t;g0()&&qt(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:o,static:s,future:ew({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=tc(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=z.useMemo(()=>{let y=rh(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return m==null?null:z.createElement(Uu.Provider,{value:c},z.createElement(B3.Provider,{children:n,value:m}))}new Promise(()=>{});function u0e(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:z.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function d0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function f0e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h0e(t,e){return t.button===0&&(!e||e==="_self")&&!f0e(t)}const p0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m0e="6";try{window.__reactRouterVersion=m0e}catch{}function g0e(t,e){return Sme({basename:void 0,future:Nm({},void 0,{v7_prependBasename:!0}),history:Qpe({window:void 0}),hydrationData:y0e(),routes:t,mapRouteProperties:u0e,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function y0e(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Nm({},e,{errors:v0e(e.errors)})),e}function v0e(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const w0e=z.createContext({isTransitioning:!1}),b0e=z.createContext(new Map),x0e="startTransition",J6=qE[x0e],E0e="flushSync",Z6=LV[E0e];function A0e(t){J6?J6(t):t()}function Oh(t){Z6?Z6(t):t()}class _0e{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function S0e(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=z.useState(n.state),[s,a]=z.useState(),[l,c]=z.useState({isTransitioning:!1}),[u,d]=z.useState(),[f,h]=z.useState(),[p,m]=z.useState(),y=z.useRef(new Map),{v7_startTransition:g}=r||{},v=z.useCallback(U=>{g?A0e(U):U()},[g]),b=z.useCallback((U,S)=>{let{deletedFetchers:N,flushSync:P,viewTransitionOpts:G}=S;U.fetchers.forEach((w,E)=>{w.data!==void 0&&y.current.set(E,w.data)}),N.forEach(w=>y.current.delete(w));let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!G||B){P?Oh(()=>o(U)):v(()=>o(U));return}if(P){Oh(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let w=n.window.document.startViewTransition(()=>{Oh(()=>o(U))});w.finished.finally(()=>{Oh(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),Oh(()=>h(w));return}f?(u&&u.resolve(),f.skipTransition(),m({state:U,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(a(U),c({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,f,u,y,v]);z.useLayoutEffect(()=>n.subscribe(b),[n,b]),z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new _0e)},[l]),z.useEffect(()=>{if(u&&s&&n.window){let U=s,S=u.promise,N=n.window.document.startViewTransition(async()=>{v(()=>o(U)),await S});N.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(N)}},[v,s,u,n.window]),z.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),z.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),z.useEffect(()=>{},[]);let x=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:U=>n.navigate(U),push:(U,S,N)=>n.navigate(U,{state:S,preventScrollReset:N?.preventScrollReset}),replace:(U,S,N)=>n.navigate(U,{replace:!0,state:S,preventScrollReset:N?.preventScrollReset})}),[n]),I=n.basename||"/",k=z.useMemo(()=>({router:n,navigator:x,static:!1,basename:I}),[n,x,I]),A=z.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return z.useEffect(()=>a0e(r,n.future),[r,n.future]),z.createElement(z.Fragment,null,z.createElement(Z1.Provider,{value:k},z.createElement(Pz.Provider,{value:i},z.createElement(b0e.Provider,{value:y.current},z.createElement(w0e.Provider,{value:l},z.createElement(c0e,{basename:I,location:i.location,navigationType:i.historyAction,navigator:x,future:A},i.initialized||n.future.v7_partialHydration?z.createElement(C0e,{routes:n.routes,future:n.future,state:i}):e))))),null)}const C0e=z.memo(T0e);function T0e(t){let{routes:e,future:n,state:r}=t;return Qme(e,void 0,r,n)}const M0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oh=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=d0e(e,p0e),{basename:h}=z.useContext(Uu),p,m=!1;if(typeof c=="string"&&I0e.test(c)&&(p=c,M0e))try{let b=new URL(window.location.href),x=c.startsWith("//")?new URL(b.protocol+c):new URL(c),I=rh(x.pathname,h);x.origin===b.origin&&I!=null?c=I+x.search+x.hash:m=!0}catch{}let y=Vme(c,{relative:i}),g=R0e(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||g(b)}return z.createElement("a",Nm({},f,{href:p||y,onClick:m||o?r:v,ref:n,target:l}))});var eN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eN||(eN={}));var tN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tN||(tN={}));function R0e(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=ih(),c=eb(),u=Oz(t,{relative:s});return z.useCallback(d=>{if(h0e(d,n)){d.preventDefault();let f=r!==void 0?r:xu(c)===xu(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var nN=function(e,n){var r=arguments;if(n==null||!Um.call(n,"css"))return z.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=HS,o[1]=jS(e,n);for(var s=2;s<i;s++)o[s]=r[s];return z.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(nN||(nN={}));function P0e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return zS(e)}function N0e(){var t=P0e.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var k0e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,F0e=dF(function(t){return k0e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),O0e=F0e,B0e=function(e){return e!=="theme"},rN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?O0e:B0e},iN=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},L0e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return US(n,r,i),bF(function(){return vF(n,r,i)}),null},Ae=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=iN(e,n,r),l=a||rN(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],f[p])}var m=EF(function(y,g,v){var b=c&&y.as||i,x="",I=[],k=y;if(y.theme==null){k={};for(var A in y)k[A]=y[A];k.theme=z.useContext($y)}typeof y.className=="string"?x=yF(g.registered,I,y.className):y.className!=null&&(x=y.className+" ");var U=zS(d.concat(I),g.registered,k);x+=g.key+"-"+U.name,s!==void 0&&(x+=" "+s);var S=c&&a===void 0?rN(b):l,N={};for(var P in y)c&&P==="as"||S(P)&&(N[P]=y[P]);return N.className=x,v&&(N.ref=v),z.createElement(z.Fragment,null,z.createElement(L0e,{cache:g,serialized:U,isStringTag:typeof b=="string"}),z.createElement(b,N))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(y,g){var v=t(y,Vy({},n,g,{shouldForwardProp:iN(m,g,!0)}));return v.apply(void 0,d)},m}};const Qe={colors:{bgDark:"#0a0a1a",neonPink:"#00ff9d",neonGreen:"#00FF41",neonBlue:"#00bfff",neonPurple:"#b026ff",neonYellow:"#ffde03",neonOrange:"#ff6b00",textPrimary:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",textTertiary:"rgba(255, 255, 255, 0.5)",statusSuccess:"#00FF41",statusWarning:"#ffde03",statusError:"#ff1493"},shadows:{neon:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonGreen:"0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41",neonBlue:"0 0 5px #00bfff, 0 0 10px #00bfff, 0 0 20px #00bfff, 0 0 40px #00bfff",neonPurple:"0 0 5px #b026ff, 0 0 10px #b026ff, 0 0 20px #b026ff, 0 0 40px #b026ff",glass:"0 8px 32px rgba(0, 0, 0, 0.2)"},animations:{neonPulse:`
      @keyframes neonPulse {
        0%, 100% {
          text-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          text-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonBorder:`
      @keyframes neonBorder {
        0%, 100% {
          box-shadow: 0 0 5px #00FF41, 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41;
        }
        50% {
          box-shadow: 0 0 10px #00FF41, 0 0 20px #00FF41, 0 0 40px #00FF41, 0 0 80px #00FF41;
        }
      }
    `,neonRotate:`
      @keyframes neonRotate {
        0% { filter: hue-rotate(0deg); }
        100% { filter: hue-rotate(360deg); }
      }
    `,neonFloat:`
      @keyframes neonFloat {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }
    `,neonGlow:`
      @keyframes neonGlow {
        0%, 100% {
          opacity: 1;
          filter: brightness(1);
        }
        50% {
          opacity: 0.8;
          filter: brightness(1.5);
        }
      }
    `,psychedelicBg:`
      @keyframes psychedelicBg {
        0% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        25% {
          background: radial-gradient(circle at 75% 25%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        50% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.2) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        75% {
          background: radial-gradient(circle at 25% 75%, rgba(0, 255, 65, 0.15) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
        100% {
          background: radial-gradient(circle at 50% 50%, rgba(0, 255, 65, 0.1) 0%, rgba(10, 10, 26, 0.8) 100%);
        }
      }
    `},transitions:{default:"200ms cubic-bezier(0.4, 0, 0.2, 1)",fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",slow:"300ms cubic-bezier(0.4, 0, 0.2, 1)"}},Py="/assets/haze-z9wVEcTU.webm";var Ii=function(){return Ii=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ii.apply(this,arguments)};function tw(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var _n="-ms-",Sp="-moz-",ln="-webkit-",Uz="comm",tb="rule",L3="decl",D0e="@import",zz="@keyframes",U0e="@layer",jz=Math.abs,D3=String.fromCharCode,P2=Object.assign;function z0e(t,e){return xr(t,0)^45?(((e<<2^xr(t,0))<<2^xr(t,1))<<2^xr(t,2))<<2^xr(t,3):0}function Hz(t){return t.trim()}function fa(t,e){return(t=e.exec(t))?t[0]:t}function zt(t,e,n){return t.replace(e,n)}function Ny(t,e,n){return t.indexOf(e,n)}function xr(t,e){return t.charCodeAt(e)|0}function Tf(t,e,n){return t.slice(e,n)}function Is(t){return t.length}function Gz(t){return t.length}function tp(t,e){return e.push(t),t}function j0e(t,e){return t.map(e).join("")}function oN(t,e){return t.filter(function(n){return!fa(n,e)})}var nb=1,Mf=1,Wz=0,Lo=0,tr=0,sh="";function rb(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:nb,column:Mf,length:s,return:"",siblings:a}}function pl(t,e){return P2(rb("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Xu(t){for(;t.root;)t=pl(t.root,{children:[t]});tp(t,t.siblings)}function H0e(){return tr}function G0e(){return tr=Lo>0?xr(sh,--Lo):0,Mf--,tr===10&&(Mf=1,nb--),tr}function ls(){return tr=Lo<Wz?xr(sh,Lo++):0,Mf++,tr===10&&(Mf=1,nb++),tr}function Yc(){return xr(sh,Lo)}function ky(){return Lo}function ib(t,e){return Tf(sh,t,e)}function N2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function W0e(t){return nb=Mf=1,Wz=Is(sh=t),Lo=0,[]}function V0e(t){return sh="",t}function nE(t){return Hz(ib(Lo-1,k2(t===91?t+2:t===40?t+1:t)))}function $0e(t){for(;(tr=Yc())&&tr<33;)ls();return N2(t)>2||N2(tr)>3?"":" "}function q0e(t,e){for(;--e&&ls()&&!(tr<48||tr>102||tr>57&&tr<65||tr>70&&tr<97););return ib(t,ky()+(e<6&&Yc()==32&&ls()==32))}function k2(t){for(;ls();)switch(tr){case t:return Lo;case 34:case 39:t!==34&&t!==39&&k2(tr);break;case 40:t===41&&k2(t);break;case 92:ls();break}return Lo}function K0e(t,e){for(;ls()&&t+tr!==57;)if(t+tr===84&&Yc()===47)break;return"/*"+ib(e,Lo-1)+"*"+D3(t===47?t:ls())}function Q0e(t){for(;!N2(Yc());)ls();return ib(t,Lo)}function X0e(t){return V0e(Fy("",null,null,null,[""],t=W0e(t),0,[0],t))}function Fy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,p=0,m=1,y=1,g=1,v=0,b="",x=i,I=o,k=r,A=b;y;)switch(p=v,v=ls()){case 40:if(p!=108&&xr(A,d-1)==58){Ny(A+=zt(nE(v),"&","&\f"),"&\f",jz(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:A+=nE(v);break;case 9:case 10:case 13:case 32:A+=$0e(p);break;case 92:A+=q0e(ky()-1,7);continue;case 47:switch(Yc()){case 42:case 47:tp(Y0e(K0e(ls(),ky()),e,n,l),l);break;default:A+="/"}break;case 123*m:a[c++]=Is(A)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:g==-1&&(A=zt(A,/\f/g,"")),h>0&&Is(A)-d&&tp(h>32?aN(A+";",r,n,d-1,l):aN(zt(A," ","")+";",r,n,d-2,l),l);break;case 59:A+=";";default:if(tp(k=sN(A,e,n,c,u,i,a,b,x=[],I=[],d,o),o),v===123)if(u===0)Fy(A,e,k,k,x,o,d,a,I);else switch(f===99&&xr(A,3)===110?100:f){case 100:case 108:case 109:case 115:Fy(t,k,k,r&&tp(sN(t,k,k,0,0,i,a,b,i,x=[],d,I),I),i,I,d,a,r?x:I);break;default:Fy(A,k,k,k,[""],I,0,a,I)}}c=u=h=0,m=g=1,b=A="",d=s;break;case 58:d=1+Is(A),h=p;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&G0e()==125)continue}switch(A+=D3(v),v*m){case 38:g=u>0?1:(A+="\f",-1);break;case 44:a[c++]=(Is(A)-1)*g,g=1;break;case 64:Yc()===45&&(A+=nE(ls())),f=Yc(),u=d=Is(b=A+=Q0e(ky())),v++;break;case 45:p===45&&Is(A)==2&&(m=0)}}return o}function sN(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,h=i===0?o:[""],p=Gz(h),m=0,y=0,g=0;m<r;++m)for(var v=0,b=Tf(t,f+1,f=jz(y=s[m])),x=t;v<p;++v)(x=Hz(y>0?h[v]+" "+b:zt(b,/&\f/g,h[v])))&&(l[g++]=x);return rb(t,e,n,i===0?tb:a,l,c,u,d)}function Y0e(t,e,n,r){return rb(t,e,n,Uz,D3(H0e()),Tf(t,2,-2),0,r)}function aN(t,e,n,r,i){return rb(t,e,n,L3,Tf(t,0,r),Tf(t,r+1,-1),r,i)}function Vz(t,e,n){switch(z0e(t,e)){case 5103:return ln+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ln+t+t;case 4789:return Sp+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ln+t+Sp+t+_n+t+t;case 5936:switch(xr(t,e+11)){case 114:return ln+t+_n+zt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ln+t+_n+zt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ln+t+_n+zt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ln+t+_n+t+t;case 6165:return ln+t+_n+"flex-"+t+t;case 5187:return ln+t+zt(t,/(\w+).+(:[^]+)/,ln+"box-$1$2"+_n+"flex-$1$2")+t;case 5443:return ln+t+_n+"flex-item-"+zt(t,/flex-|-self/g,"")+(fa(t,/flex-|baseline/)?"":_n+"grid-row-"+zt(t,/flex-|-self/g,""))+t;case 4675:return ln+t+_n+"flex-line-pack"+zt(t,/align-content|flex-|-self/g,"")+t;case 5548:return ln+t+_n+zt(t,"shrink","negative")+t;case 5292:return ln+t+_n+zt(t,"basis","preferred-size")+t;case 6060:return ln+"box-"+zt(t,"-grow","")+ln+t+_n+zt(t,"grow","positive")+t;case 4554:return ln+zt(t,/([^-])(transform)/g,"$1"+ln+"$2")+t;case 6187:return zt(zt(zt(t,/(zoom-|grab)/,ln+"$1"),/(image-set)/,ln+"$1"),t,"")+t;case 5495:case 3959:return zt(t,/(image-set\([^]*)/,ln+"$1$`$1");case 4968:return zt(zt(t,/(.+:)(flex-)?(.*)/,ln+"box-pack:$3"+_n+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ln+t+t;case 4200:if(!fa(t,/flex-|baseline/))return _n+"grid-column-align"+Tf(t,e)+t;break;case 2592:case 3360:return _n+zt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,fa(r.props,/grid-\w+-end/)})?~Ny(t+(n=n[e].value),"span",0)?t:_n+zt(t,"-start","")+t+_n+"grid-row-span:"+(~Ny(n,"span",0)?fa(n,/\d+/):+fa(n,/\d+/)-+fa(t,/\d+/))+";":_n+zt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return fa(r.props,/grid-\w+-start/)})?t:_n+zt(zt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return zt(t,/(.+)-inline(.+)/,ln+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Is(t)-1-e>6)switch(xr(t,e+1)){case 109:if(xr(t,e+4)!==45)break;case 102:return zt(t,/(.+:)(.+)-([^]+)/,"$1"+ln+"$2-$3$1"+Sp+(xr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ny(t,"stretch",0)?Vz(zt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return zt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return _n+i+":"+o+c+(s?_n+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(xr(t,e+6)===121)return zt(t,":",":"+ln)+t;break;case 6444:switch(xr(t,xr(t,14)===45?18:11)){case 120:return zt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ln+(xr(t,14)===45?"inline-":"")+"box$3$1"+ln+"$2$3$1"+_n+"$2box$3")+t;case 100:return zt(t,":",":"+_n)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return zt(t,"scroll-","scroll-snap-")+t}return t}function nw(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function J0e(t,e,n,r){switch(t.type){case U0e:if(t.children.length)break;case D0e:case L3:return t.return=t.return||t.value;case Uz:return"";case zz:return t.return=t.value+"{"+nw(t.children,r)+"}";case tb:if(!Is(t.value=t.props.join(",")))return""}return Is(n=nw(t.children,r))?t.return=t.value+"{"+n+"}":""}function Z0e(t){var e=Gz(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function ege(t){return function(e){e.root||(e=e.return)&&t(e)}}function tge(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case L3:t.return=Vz(t.value,t.length,n);return;case zz:return nw([pl(t,{value:zt(t.value,"@","@"+ln)})],r);case tb:if(t.length)return j0e(n=t.props,function(i){switch(fa(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Xu(pl(t,{props:[zt(i,/:(read-\w+)/,":"+Sp+"$1")]})),Xu(pl(t,{props:[i]})),P2(t,{props:oN(n,r)});break;case"::placeholder":Xu(pl(t,{props:[zt(i,/:(plac\w+)/,":"+ln+"input-$1")]})),Xu(pl(t,{props:[zt(i,/:(plac\w+)/,":"+Sp+"$1")]})),Xu(pl(t,{props:[zt(i,/:(plac\w+)/,_n+"input-$1")]})),Xu(pl(t,{props:[i]})),P2(t,{props:oN(n,r)});break}return""})}}var nge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qi={},If=typeof process<"u"&&qi!==void 0&&(qi.REACT_APP_SC_ATTR||qi.SC_ATTR)||"data-styled",$z="active",qz="data-styled-version",ob="6.1.19",U3=`/*!sc*/
`,rw=typeof window<"u"&&typeof document<"u",rge=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&qi!==void 0&&qi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&qi.REACT_APP_SC_DISABLE_SPEEDY!==""?qi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&qi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&qi!==void 0&&qi.SC_DISABLE_SPEEDY!==void 0&&qi.SC_DISABLE_SPEEDY!==""&&qi.SC_DISABLE_SPEEDY!=="false"&&qi.SC_DISABLE_SPEEDY),sb=Object.freeze([]),Rf=Object.freeze({});function ige(t,e,n){return n===void 0&&(n=Rf),t.theme!==n.theme&&t.theme||e||n.theme}var Kz=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),oge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sge=/(^-|-$)/g;function lN(t){return t.replace(oge,"-").replace(sge,"")}var age=/(a)(d)/gi,mg=52,cN=function(t){return String.fromCharCode(t+(t>25?39:97))};function F2(t){var e,n="";for(e=Math.abs(t);e>mg;e=e/mg|0)n=cN(e%mg)+n;return(cN(e%mg)+n).replace(age,"$1-$2")}var rE,Qz=5381,Id=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Xz=function(t){return Id(Qz,t)};function lge(t){return F2(Xz(t)>>>0)}function cge(t){return t.displayName||t.name||"Component"}function iE(t){return typeof t=="string"&&!0}var Yz=typeof Symbol=="function"&&Symbol.for,Jz=Yz?Symbol.for("react.memo"):60115,uge=Yz?Symbol.for("react.forward_ref"):60112,dge={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hge=((rE={})[uge]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rE[Jz]=Zz,rE);function uN(t){return("type"in(e=t)&&e.type.$$typeof)===Jz?Zz:"$$typeof"in t?hge[t.$$typeof]:dge;var e}var pge=Object.defineProperty,mge=Object.getOwnPropertyNames,dN=Object.getOwnPropertySymbols,gge=Object.getOwnPropertyDescriptor,yge=Object.getPrototypeOf,fN=Object.prototype;function ej(t,e,n){if(typeof e!="string"){if(fN){var r=yge(e);r&&r!==fN&&ej(t,r,n)}var i=mge(e);dN&&(i=i.concat(dN(e)));for(var o=uN(t),s=uN(e),a=0;a<i.length;++a){var l=i[a];if(!(l in fge||n&&n[l]||s&&l in s||o&&l in o)){var c=gge(e,l);try{pge(t,l,c)}catch{}}}}return t}function Pf(t){return typeof t=="function"}function z3(t){return typeof t=="object"&&"styledComponentId"in t}function jc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function hN(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function km(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function O2(t,e,n){if(n===void 0&&(n=!1),!n&&!km(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=O2(t[r],e[r]);else if(km(e))for(var r in e)t[r]=O2(t[r],e[r]);return t}function j3(t,e){Object.defineProperty(t,"toString",{value:e})}function y0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var vge=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw y0(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(U3);return n},t}(),Oy=new Map,iw=new Map,By=1,gg=function(t){if(Oy.has(t))return Oy.get(t);for(;iw.has(By);)By++;var e=By++;return Oy.set(t,e),iw.set(e,t),e},wge=function(t,e){By=e+1,Oy.set(t,e),iw.set(e,t)},bge="style[".concat(If,"][").concat(qz,'="').concat(ob,'"]'),xge=new RegExp("^".concat(If,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ege=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},Age=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(U3),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(xge);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(wge(u,c),Ege(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},pN=function(t){for(var e=document.querySelectorAll(bge),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(If)!==$z&&(Age(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function _ge(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var tj=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(If,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(If,$z),r.setAttribute(qz,ob);var s=_ge();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},Sge=function(){function t(e){this.element=tj(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw y0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Cge=function(){function t(e){this.element=tj(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Tge=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),mN=rw,Mge={isServer:!rw,useCSSOMInjection:!rge},nj=function(){function t(e,n,r){e===void 0&&(e=Rf),n===void 0&&(n={});var i=this;this.options=Ii(Ii({},Mge),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&rw&&mN&&(mN=!1,pN(this)),j3(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(d){var f=function(g){return iw.get(g)}(d);if(f===void 0)return"continue";var h=o.names.get(f),p=s.getGroup(d);if(h===void 0||!h.size||p.length===0)return"continue";var m="".concat(If,".g").concat(d,'[id="').concat(f,'"]'),y="";h!==void 0&&h.forEach(function(g){g.length>0&&(y+="".concat(g,","))}),l+="".concat(p).concat(m,'{content:"').concat(y,'"}').concat(U3)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return gg(e)},t.prototype.rehydrate=function(){!this.server&&rw&&pN(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ii(Ii({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Tge(i):r?new Sge(i):new Cge(i)}(this.options),new vge(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(gg(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(gg(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(gg(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Ige=/&/g,Rge=/^\s*\/\/.*$/gm;function rj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=rj(n.children,e)),n})}function Pge(t){var e,n,r,i=Rf,o=i.options,s=o===void 0?Rf:o,a=i.plugins,l=a===void 0?sb:a,c=function(f,h,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===tb&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Ige,n).replace(r,c))}),s.prefix&&u.push(tge),u.push(J0e);var d=function(f,h,p,m){h===void 0&&(h=""),p===void 0&&(p=""),m===void 0&&(m="&"),e=m,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(Rge,""),g=X0e(p||h?"".concat(p," ").concat(h," { ").concat(y," }"):y);s.namespace&&(g=rj(g,s.namespace));var v=[];return nw(g,Z0e(u.concat(ege(function(b){return v.push(b)})))),v};return d.hash=l.length?l.reduce(function(f,h){return h.name||y0(15),Id(f,h.name)},Qz).toString():"",d}var Nge=new nj,B2=Pge(),ij=L.createContext({shouldForwardProp:void 0,styleSheet:Nge,stylis:B2});ij.Consumer;L.createContext(void 0);function gN(){return z.useContext(ij)}var kge=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=B2);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,j3(this,function(){throw y0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=B2),this.name+e.hash},t}(),Fge=function(t){return t>="A"&&t<="Z"};function yN(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Fge(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var oj=function(t){return t==null||t===!1||t===""},sj=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!oj(o)&&(Array.isArray(o)&&o.isCss||Pf(o)?r.push("".concat(yN(i),":"),o,";"):km(o)?r.push.apply(r,tw(tw(["".concat(i," {")],sj(o),!1),["}"],!1)):r.push("".concat(yN(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in nge||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Jc(t,e,n,r){if(oj(t))return[];if(z3(t))return[".".concat(t.styledComponentId)];if(Pf(t)){if(!Pf(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return Jc(i,e,n,r)}var o;return t instanceof kge?n?(t.inject(n,r),[t.getName(r)]):[t]:km(t)?sj(t):Array.isArray(t)?Array.prototype.concat.apply(sb,t.map(function(s){return Jc(s,e,n,r)})):[t.toString()]}function Oge(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Pf(n)&&!z3(n))return!1}return!0}var Bge=Xz(ob),Lge=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Oge(e),this.componentId=n,this.baseHash=Id(Bge,n),this.baseStyle=r,nj.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=jc(i,this.staticRulesId);else{var o=hN(Jc(this.rules,e,n,r)),s=F2(Id(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=jc(i,s),this.staticRulesId=s}else{for(var l=Id(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=hN(Jc(d,e,n,r));l=Id(l,f+u),c+=f}}if(c){var h=F2(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),i=jc(i,h)}}return i},t}(),aj=L.createContext(void 0);aj.Consumer;var oE={};function Dge(t,e,n){var r=z3(t),i=t,o=!iE(t),s=e.attrs,a=s===void 0?sb:s,l=e.componentId,c=l===void 0?function(x,I){var k=typeof x!="string"?"sc":lN(x);oE[k]=(oE[k]||0)+1;var A="".concat(k,"-").concat(lge(ob+k+oE[k]));return I?"".concat(I,"-").concat(A):A}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(x){return iE(x)?"styled.".concat(x):"Styled(".concat(cge(x),")")}(t):u,f=e.displayName&&e.componentId?"".concat(lN(e.displayName),"-").concat(e.componentId):e.componentId||c,h=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;p=function(x,I){return m(x,I)&&y(x,I)}}else p=m}var g=new Lge(n,f,r?i.componentStyle:void 0);function v(x,I){return function(k,A,U){var S=k.attrs,N=k.componentStyle,P=k.defaultProps,G=k.foldedComponentIds,B=k.styledComponentId,w=k.target,E=L.useContext(aj),M=gN(),O=k.shouldForwardProp||M.shouldForwardProp,C=ige(A,E,P)||Rf,H=function(Z,ce,ie){for(var xe,ue=Ii(Ii({},ce),{className:void 0,theme:ie}),Ie=0;Ie<Z.length;Ie+=1){var Ge=Pf(xe=Z[Ie])?xe(ue):xe;for(var Fe in Ge)ue[Fe]=Fe==="className"?jc(ue[Fe],Ge[Fe]):Fe==="style"?Ii(Ii({},ue[Fe]),Ge[Fe]):Ge[Fe]}return ce.className&&(ue.className=jc(ue.className,ce.className)),ue}(S,A,C),W=H.as||w,D={};for(var T in H)H[T]===void 0||T[0]==="$"||T==="as"||T==="theme"&&H.theme===C||(T==="forwardedAs"?D.as=H.forwardedAs:O&&!O(T,W)||(D[T]=H[T]));var $=function(Z,ce){var ie=gN(),xe=Z.generateAndInjectStyles(ce,ie.styleSheet,ie.stylis);return xe}(N,H),J=jc(G,B);return $&&(J+=" "+$),H.className&&(J+=" "+H.className),D[iE(W)&&!Kz.has(W)?"class":"className"]=J,U&&(D.ref=U),z.createElement(W,D)}(b,x,I)}v.displayName=d;var b=L.forwardRef(v);return b.attrs=h,b.componentStyle=g,b.displayName=d,b.shouldForwardProp=p,b.foldedComponentIds=r?jc(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=f,b.target=r?i.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(I){for(var k=[],A=1;A<arguments.length;A++)k[A-1]=arguments[A];for(var U=0,S=k;U<S.length;U++)O2(I,S[U],!0);return I}({},i.defaultProps,x):x}}),j3(b,function(){return".".concat(b.styledComponentId)}),o&&ej(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function vN(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var wN=function(t){return Object.assign(t,{isCss:!0})};function Uge(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pf(t)||km(t))return wN(Jc(vN(sb,tw([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Jc(r):wN(Jc(vN(r,e)))}function L2(t,e,n){if(n===void 0&&(n=Rf),!e)throw y0(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,Uge.apply(void 0,tw([i],o,!1)))};return r.attrs=function(i){return L2(t,e,Ii(Ii({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return L2(t,e,Ii(Ii({},n),i))},r}var lj=function(t){return L2(Dge,t)},ah=lj;Kz.forEach(function(t){ah[t]=lj(t)});const Jn=[{name:"createGame",type:"function",stateMutability:"payable",inputs:[{name:"params",type:"tuple",components:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"priceUSD",type:"uint256"},{name:"acceptedToken",type:"uint8"},{name:"maxRounds",type:"uint8"},{name:"gameType",type:"uint8"},{name:"authInfo",type:"string"}]}],outputs:[]},{name:"joinGame",type:"function",stateMutability:"payable",inputs:[{name:"params",type:"tuple",components:[{name:"gameId",type:"uint256"},{name:"coinChoice",type:"uint8"},{name:"roleChoice",type:"uint8"},{name:"paymentToken",type:"uint8"},{name:"challengerNFTContract",type:"address"},{name:"challengerTokenId",type:"uint256"}]}],outputs:[]},{name:"flipCoin",type:"function",stateMutability:"nonpayable",inputs:[{name:"gameId",type:"uint256"},{name:"power",type:"uint8"}],outputs:[]},{name:"cancelGame",type:"function",stateMutability:"nonpayable",inputs:[{name:"gameId",type:"uint256"}],outputs:[]},{name:"withdrawRewards",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"withdrawNFT",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{name:"getGameDetails",type:"function",stateMutability:"view",inputs:[{name:"gameId",type:"uint256"}],outputs:[{name:"game",type:"tuple",components:[{name:"gameId",type:"uint256"},{name:"creator",type:"address"},{name:"joiner",type:"address"},{name:"nftContract",type:"address"},{name:"tokenId",type:"uint256"},{name:"state",type:"uint8"},{name:"gameType",type:"uint8"},{name:"creatorRole",type:"uint8"},{name:"joinerRole",type:"uint8"},{name:"joinerChoice",type:"uint8"},{name:"authInfo",type:"string"}]},{name:"payment",type:"tuple",components:[{name:"priceUSD",type:"uint256"},{name:"acceptedToken",type:"uint8"},{name:"totalPaid",type:"uint256"},{name:"paymentTokenUsed",type:"uint8"},{name:"listingFeePaid",type:"uint256"},{name:"platformFeeCollected",type:"uint256"}]},{name:"gameState",type:"tuple",components:[{name:"createdAt",type:"uint256"},{name:"expiresAt",type:"uint256"},{name:"maxRounds",type:"uint8"},{name:"currentRound",type:"uint8"},{name:"creatorWins",type:"uint8"},{name:"joinerWins",type:"uint8"},{name:"winner",type:"address"},{name:"lastActionTime",type:"uint256"},{name:"countdownEndTime",type:"uint256"}]}]},{name:"getETHAmount",type:"function",stateMutability:"view",inputs:[{name:"usdAmount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"listingFeeUSD",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"nextGameId",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"unclaimedETH",type:"function",stateMutability:"view",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"unclaimedUSDC",type:"function",stateMutability:"view",inputs:[{name:"user",type:"address"}],outputs:[{name:"",type:"uint256"}]}],ea=[{name:"ownerOf",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"approve",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{name:"getApproved",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"setApprovalForAll",type:"function",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{name:"isApprovedForAll",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{name:"",type:"bool"}]}],bN={base:{chain:g1,contractAddress:"0xBFD8912ded5830e43E008CCCEA822A6B0174C480",rpcUrl:"https://mainnet.base.org"},ethereum:{chain:Nu,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://eth.llamarpc.com"},bnb:{chain:y1,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://bsc-dataseed.binance.org/"},avalanche:{chain:m1,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://api.avax.network/ext/bc/C/rpc"},polygon:{chain:v1,contractAddress:"0x0000000000000000000000000000000000000000",rpcUrl:"https://polygon-rpc.com/"}};class zge{constructor(){this.walletClient=null,this.publicClient=null,this.currentChain=null,this.contractAddress=null}async init(e,n,r){const i=bN[e.toLowerCase()];if(!i)throw new Error(`Unsupported chain: ${e}`);this.currentChain=e.toLowerCase(),this.contractAddress=i.contractAddress,this.walletClient=n,this.publicClient=r||$J({chain:i.chain,transport:la(i.rpcUrl)}),console.log(`✅ Contract service initialized for ${e}`),console.log(`📍 Contract address: ${this.contractAddress}`)}getCurrentConfig(){if(!this.currentChain)throw new Error("Contract service not initialized");return bN[this.currentChain]}getCurrentClients(){if(!this.walletClient||!this.publicClient)throw new Error("Wallet not connected");return{walletClient:this.walletClient,publicClient:this.publicClient}}async approveNFT(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients(),o=r.account.address;console.log(`🔐 Checking NFT approval for contract: ${e}, token: ${n}`),console.log(`🎮 Game contract address: ${this.contractAddress}`);try{const a=await i.getBytecode({address:e});if(!a||a==="0x")throw new Error("NFT contract does not exist or has no code");console.log("✅ NFT contract exists and has code")}catch(a){return console.error("❌ NFT contract validation failed:",a.message),{success:!1,error:`Invalid NFT contract: ${a.message}`}}let s=!1;try{if(await i.readContract({address:e,abi:ea,functionName:"isApprovedForAll",args:[o,this.contractAddress]}))return console.log("✅ NFT already approved for all"),{success:!0,alreadyApproved:!0,method:"setApprovalForAll"};if((await i.readContract({address:e,abi:ea,functionName:"getApproved",args:[BigInt(n)]})).toLowerCase()===this.contractAddress.toLowerCase())return console.log("✅ NFT already approved"),{success:!0,alreadyApproved:!0,method:"approve"}}catch(a){console.warn("⚠️ Could not check approval status, proceeding with approval:",a.message)}console.log("🔐 Approving NFT...");try{const{request:a}=await i.simulateContract({address:e,abi:ea,functionName:"approve",args:[this.contractAddress,BigInt(n)],account:o}),l=await r.writeContract(a),c=await i.waitForTransactionReceipt({hash:l});return console.log("✅ NFT approval successful (individual token)"),{success:!0,transactionHash:l,receipt:c}}catch(a){console.warn("⚠️ Individual token approval failed, trying setApprovalForAll:",a.message);const{request:l}=await i.simulateContract({address:e,abi:ea,functionName:"setApprovalForAll",args:[this.contractAddress,!0],account:o}),c=await r.writeContract(l),u=await i.waitForTransactionReceipt({hash:c});return console.log("✅ NFT approval successful (setApprovalForAll)"),{success:!0,transactionHash:c,receipt:u,method:"setApprovalForAll"}}}catch(r){console.error("❌ Error approving NFT:",r);let i=r.message;return r.message.includes("stack underflow")?i="NFT contract does not support standard ERC721 approval. This NFT may not be compatible with the game.":r.message.includes("execution reverted")?i="NFT approval failed. You may not own this NFT or it may not be transferable.":r.message.includes("insufficient funds")&&(i="Insufficient funds to pay for NFT approval transaction."),{success:!1,error:i}}}async createGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=n.account.address;console.log("🎮 Creating game with params:",{nftContract:e.nftContract,tokenId:e.tokenId,priceUSD:e.priceUSD,account:i}),console.log("🔍 Verifying NFT ownership...");try{const p=await r.readContract({address:e.nftContract,abi:ea,functionName:"ownerOf",args:[BigInt(e.tokenId)]});if(p.toLowerCase()!==i.toLowerCase())throw new Error(`You don't own this NFT. Owner: ${p}, Your address: ${i}`);console.log("✅ NFT ownership verified")}catch(p){throw console.error("❌ NFT ownership check failed:",p),new Error("Failed to verify NFT ownership: "+p.message)}console.log("🔐 Approving NFT for transfer...");const o=await this.approveNFT(e.nftContract,e.tokenId);if(!o.success&&!o.alreadyApproved)throw new Error("Failed to approve NFT: "+o.error);let s,a;try{s=await r.readContract({address:this.contractAddress,abi:Jn,functionName:"listingFeeUSD"}),await new Promise(p=>setTimeout(p,500)),a=await r.readContract({address:this.contractAddress,abi:Jn,functionName:"getETHAmount",args:[s]})}catch(p){if(p.message.includes("rate limit"))console.log("⚠️ Rate limit hit, waiting 2 seconds..."),await new Promise(m=>setTimeout(m,2e3)),s=await r.readContract({address:this.contractAddress,abi:Jn,functionName:"listingFeeUSD"}),a=await r.readContract({address:this.contractAddress,abi:Jn,functionName:"getETHAmount",args:[s]});else throw p}console.log(`💰 Listing fee: ${a} ETH`);const l={nftContract:e.nftContract,tokenId:BigInt(e.tokenId),priceUSD:BigInt(Math.floor(e.priceUSD*1e6)),acceptedToken:e.acceptedToken||0,maxRounds:e.maxRounds||5,gameType:e.gameType||0,authInfo:e.authInfo||""};console.log("🎮 Game parameters:",l),console.log("🎮 Creating game on blockchain...");const{request:c}=await r.simulateContract({address:this.contractAddress,abi:Jn,functionName:"createGame",args:[l],account:i,value:a}),u=await n.writeContract(c),d=await r.waitForTransactionReceipt({hash:u}),f=await r.readContract({address:this.contractAddress,abi:Jn,functionName:"nextGameId"});return{success:!0,gameId:(Number(f)-1).toString(),transactionHash:u,receipt:d}}catch(n){console.error("❌ Error creating game:",n);let r=n.message;return n.message.includes("WRONG_FROM")?r="NFT approval failed. The NFT contract may have restrictions or you may not own this NFT.":n.message.includes("rate limit")?r="Network is busy. Please try again in a few seconds.":n.message.includes("execution reverted")&&(r="Game creation failed. Please check your NFT ownership and try again."),{success:!1,error:r}}}async joinGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=n.account.address,o=await this.getGameDetails(e.gameId);if(!o.success)throw new Error("Failed to get game details");const{payment:s}=o.data,a=e.paymentToken||0;let l=0n;if(a===0&&(l=await r.readContract({address:this.contractAddress,abi:Jn,functionName:"getETHAmount",args:[s.priceUSD]}),console.log(`💰 Payment amount: ${l} ETH`)),e.challengerNFTContract&&e.challengerTokenId){console.log("🔐 Approving challenger NFT...");const h=await this.approveNFT(e.challengerNFTContract,e.challengerTokenId);if(!h.success&&!h.alreadyApproved)throw new Error("Failed to approve NFT: "+h.error)}const c={gameId:BigInt(e.gameId),coinChoice:e.coinChoice||0,roleChoice:e.roleChoice||1,paymentToken:a,challengerNFTContract:e.challengerNFTContract||"0x0000000000000000000000000000000000000000",challengerTokenId:e.challengerTokenId?BigInt(e.challengerTokenId):0n};console.log("🎮 Joining game on blockchain...");const{request:u}=await r.simulateContract({address:this.contractAddress,abi:Jn,functionName:"joinGame",args:[c],account:i,value:l}),d=await n.writeContract(u),f=await r.waitForTransactionReceipt({hash:d});return{success:!0,transactionHash:d,receipt:f}}catch(n){return console.error("Error joining game:",n),{success:!1,error:n.message}}}async flipCoin(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=n.account.address,o=BigInt(e.gameId),s=e.power||50;console.log("🪙 Flipping coin...");const{request:a}=await r.simulateContract({address:this.contractAddress,abi:Jn,functionName:"flipCoin",args:[o,s],account:i}),l=await n.writeContract(a),c=await r.waitForTransactionReceipt({hash:l}),u=await this.getGameDetails(e.gameId);return{success:!0,transactionHash:l,receipt:c,gameDetails:u.data}}catch(n){return console.error("Error flipping coin:",n),{success:!1,error:n.message}}}async cancelGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=n.account.address;console.log("❌ Cancelling game...");const{request:o}=await r.simulateContract({address:this.contractAddress,abi:Jn,functionName:"cancelGame",args:[BigInt(e)],account:i}),s=await n.writeContract(o),a=await r.waitForTransactionReceipt({hash:s});return{success:!0,transactionHash:s,receipt:a}}catch(n){return console.error("Error cancelling game:",n),{success:!1,error:n.message}}}async withdrawRewards(){try{const{walletClient:e,publicClient:n}=this.getCurrentClients(),r=e.account.address,[i,o]=await Promise.all([n.readContract({address:this.contractAddress,abi:Jn,functionName:"unclaimedETH",args:[r]}),n.readContract({address:this.contractAddress,abi:Jn,functionName:"unclaimedUSDC",args:[r]})]);if(i===0n&&o===0n)return{success:!1,error:"No rewards to claim"};console.log("💰 Withdrawing rewards...");const{request:s}=await n.simulateContract({address:this.contractAddress,abi:Jn,functionName:"withdrawRewards",account:r}),a=await e.writeContract(s),l=await n.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l,ethWithdrawn:i,usdcWithdrawn:o}}catch(e){return console.error("Error withdrawing rewards:",e),{success:!1,error:e.message}}}async withdrawNFT(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients(),o=r.account.address;console.log("🖼️ Withdrawing NFT...");const{request:s}=await i.simulateContract({address:this.contractAddress,abi:Jn,functionName:"withdrawNFT",args:[e,BigInt(n)],account:o}),a=await r.writeContract(s),l=await i.waitForTransactionReceipt({hash:a});return{success:!0,transactionHash:a,receipt:l}}catch(r){return console.error("Error withdrawing NFT:",r),{success:!1,error:r.message}}}async getGameDetails(e){try{const{publicClient:n}=this.getCurrentClients(),r=await n.readContract({address:this.contractAddress,abi:Jn,functionName:"getGameDetails",args:[BigInt(e)]});return{success:!0,data:{game:r[0],payment:r[1],gameState:r[2]}}}catch(n){return console.error("Error getting game details:",n),{success:!1,error:n.message}}}async getUnclaimedRewards(e){try{const{publicClient:n}=this.getCurrentClients(),[r,i]=await Promise.all([n.readContract({address:this.contractAddress,abi:Jn,functionName:"unclaimedETH",args:[e]}),n.readContract({address:this.contractAddress,abi:Jn,functionName:"unclaimedUSDC",args:[e]})]);return{success:!0,eth:r,usdc:i}}catch(n){return console.error("Error checking unclaimed rewards:",n),{success:!1,error:n.message}}}async testNFTContract(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients(),o=r.account.address;console.log(`🧪 Testing NFT contract: ${e}, token: ${n}`);const s={contractExists:!1,hasCode:!1,supportsERC721:!1,ownerCheck:!1,approvalCheck:!1,errors:[]};try{const a=await i.getBytecode({address:e});s.contractExists=!0,s.hasCode=a&&a!=="0x",console.log(`✅ Contract exists: ${s.contractExists}, Has code: ${s.hasCode}`)}catch(a){s.errors.push(`Contract check failed: ${a.message}`)}try{const a=await i.readContract({address:e,abi:ea,functionName:"ownerOf",args:[BigInt(n)]});s.ownerCheck=!0,console.log(`✅ Owner check passed: ${a}`)}catch(a){s.errors.push(`Owner check failed: ${a.message}`)}try{const a=await i.readContract({address:e,abi:ea,functionName:"getApproved",args:[BigInt(n)]});s.approvalCheck=!0,console.log(`✅ Approval check passed: ${a}`)}catch(a){s.errors.push(`Approval check failed: ${a.message}`)}try{const a=await i.readContract({address:e,abi:ea,functionName:"isApprovedForAll",args:[o,this.contractAddress]});console.log(`✅ isApprovedForAll check passed: ${a}`)}catch(a){s.errors.push(`isApprovedForAll check failed: ${a.message}`)}return s.supportsERC721=s.ownerCheck&&s.approvalCheck,{success:!0,results:s}}catch(r){return console.error("Error testing NFT contract:",r),{success:!1,error:r.message}}}async findMyNFTs(e,n){try{const{walletClient:r,publicClient:i}=this.getCurrentClients(),o=r.account.address;console.log(`🔍 Looking for NFT: ${e}, tokenId: ${n}`);const s=await i.readContract({address:e,abi:ea,functionName:"ownerOf",args:[BigInt(n)]});return console.log(`📍 Current owner: ${s}`),console.log(`📍 Your address: ${o}`),console.log(`📍 Game contract: ${this.contractAddress}`),s.toLowerCase()===o.toLowerCase()?{success:!0,location:"your_wallet",message:"NFT is in your wallet"}:s.toLowerCase()===this.contractAddress.toLowerCase()?{success:!0,location:"game_contract",message:"NFT is in the game contract"}:{success:!0,location:"other",message:`NFT is owned by: ${s}`}}catch(r){return console.error("Error finding NFT:",r),{success:!1,error:r.message}}}async getMyGames(e){try{const{publicClient:n}=this.getCurrentClients();console.log(`🎮 Looking for games for address: ${e}`);const r=await n.readContract({address:this.contractAddress,abi:Jn,functionName:"nextGameId"});console.log(`📊 Total games created: ${r}`);const i=[],o=10;for(let s=1;s<Math.min(Number(r),o+1);s++)try{const a=await this.getGameDetails(s.toString());if(a.success){const{game:l}=a.data;l.creator.toLowerCase()===e.toLowerCase()&&i.push({gameId:s,creator:l.creator,joiner:l.joiner,nftContract:l.nftContract,tokenId:l.tokenId.toString(),state:l.state})}}catch(a){console.warn(`Could not get details for game ${s}:`,a.message)}return{success:!0,totalGames:Number(r),myGames:i}}catch(n){return console.error("Error getting my games:",n),{success:!1,error:n.message}}}async emergencyCancelGame(e){try{const{walletClient:n,publicClient:r}=this.getCurrentClients(),i=n.account.address;console.log(`🚨 Emergency cancelling game: ${e}`);const o=await this.getGameDetails(e);if(!o.success)throw new Error("Could not get game details");const{game:s}=o.data;if(s.creator.toLowerCase()!==i.toLowerCase())throw new Error("Only the game creator can cancel the game");if(s.state!==0)throw new Error("Game is not in created state - cannot cancel");const{request:a}=await r.simulateContract({address:this.contractAddress,abi:Jn,functionName:"cancelGame",args:[BigInt(e)],account:i}),l=await n.writeContract(a),c=await r.waitForTransactionReceipt({hash:l});return console.log(`✅ Game cancelled successfully: ${l}`),{success:!0,transactionHash:l,receipt:c,message:"Game cancelled and NFT should be returned to your wallet"}}catch(n){return console.error("Error cancelling game:",n),{success:!1,error:n.message}}}}const kt=new zge,jge=ah.div`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 16px;
  padding: 2rem;
  margin: 2rem 0;
  color: white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
`,Hge=ah.h3`
  font-size: 1.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
`,xN=ah.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 1rem 0;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
`,EN=ah.span`
  font-size: 1.2rem;
  font-weight: 600;
`,Gge=ah.button`
  background: white;
  color: #667eea;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 1rem;
  width: 100%;
  
  &:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
`,Wge=()=>{const{address:t,isConnected:e}=Tr(),[n,r]=z.useState({eth:0n,usdc:0n}),[i,o]=z.useState(!1),[s,a]=z.useState(!1);z.useEffect(()=>{e&&t&&kt.currentChain&&l()},[e,t]);const l=async()=>{try{o(!0);const d=await kt.getUnclaimedRewards(t);d.success&&r({eth:d.eth,usdc:d.usdc})}catch(d){console.error("Error checking rewards:",d)}finally{o(!1)}},c=async()=>{try{a(!0);const d=await kt.withdrawRewards();d.success?(alert("Rewards claimed successfully! 🎉"),r({eth:0n,usdc:0n})):alert("Failed to claim rewards: "+d.error)}catch(d){console.error("Error claiming rewards:",d),alert("Error claiming rewards: "+d.message)}finally{a(!1)}},u=n.eth>0n||n.usdc>0n;return!e||i||!u?null:K(jge,{children:[F(Hge,{children:"🎁 Unclaimed Rewards"}),n.eth>0n&&K(xN,{children:[F("span",{children:"ETH"}),K(EN,{children:[Ww(n.eth)," ETH"]})]}),n.usdc>0n&&K(xN,{children:[F("span",{children:"USDC"}),K(EN,{children:[qm(n.usdc,6)," USDC"]})]}),F(Gge,{onClick:c,disabled:s,children:s?"Claiming...":"Claim All Rewards"})]})},eo=Ae("div",{target:"eyxi51559"})("min-height:100vh;background-color:transparent;color:",t=>t.theme.colors.textPrimary,";padding:2rem;"),to=Ae("div",{target:"eyxi51558"})({name:"tyoysd",styles:"max-width:1200px;margin:0 auto;padding:1rem;@media (max-width: 768px){padding:0.5rem;}"}),Eu=Ae("div",{target:"eyxi51557"})("background:rgba(255, 255, 0, 0.1);backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 0, 0.2);border-radius:1rem;padding:1.5rem;transition:",t=>t.theme.transitions.default,";&:hover{transform:translateY(-4px);box-shadow:",t=>t.theme.shadows.glass,";border-color:rgba(255, 255, 0, 0.3);}"),Os=Ae("h3",{target:"eyxi51556"})("color:",t=>t.theme.colors.neonPink,";animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,";"),wr=Ae("button",{target:"eyxi51554"})("background:linear-gradient(45deg, ",t=>t.theme.colors.neonPink,", ",t=>t.theme.colors.neonBlue,");color:white;border:none;border-radius:0.75rem;padding:0.75rem 1.5rem;font-weight:500;cursor:pointer;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);box-shadow:",t=>t.theme.shadows.neon,";&::before{transform:translateX(100%);}}"),Vge=Ae("div",{target:"eyxi51553"})({name:"2ojh76",styles:"display:grid;grid-template-columns:repeat(5, 1fr);gap:1rem;padding:1rem;@media (max-width: 1400px){grid-template-columns:repeat(4, 1fr);}@media (max-width: 1200px){grid-template-columns:repeat(3, 1fr);}@media (max-width: 768px){grid-template-columns:repeat(1, 1fr);gap:0.75rem;padding:0.5rem;}"}),$ge=Ae("div",{target:"eyxi51552"})({name:"zp4fuo",styles:"background:rgba(0, 0, 0, 0.3);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;overflow:hidden;transition:all 0.3s ease;position:relative;@media (max-width: 768px){margin-bottom:0.75rem;border-radius:0.75rem;}&:hover{transform:translateY(-2px);box-shadow:0 0 20px rgba(0, 255, 65, 0.2);}"}),D2=Ae("img",{target:"eyxi51551"})({name:"18zqpt0",styles:"width:100%;height:100%;object-fit:cover;object-position:center;@media (max-width: 768px){height:180px;}"}),ab=Ae("div",{target:"eyxi51543"})("display:inline-block;width:2rem;height:2rem;border:3px solid ",t=>t.theme.colors.neonPink,";border-radius:50%;border-top-color:transparent;animation:spin 1s linear infinite;@keyframes spin{to{transform:rotate(360deg);}}"),qge=Ae("div",{target:"eyxi51542"})({name:"1ict2wg",styles:"max-width:2xl;margin:0 auto;padding:2rem"}),Kge=Ae(Os,{target:"eyxi51541"})({name:"1e9obx1",styles:"font-size:2rem;margin-bottom:2rem"}),Bh=Ae(Eu,{target:"eyxi51540"})({name:"1da3ewm",styles:"padding:1.5rem;margin-bottom:1.5rem"}),Lh=Ae("h2",{target:"eyxi51539"})("color:",t=>t.theme.colors.neonPink,";font-size:1.25rem;font-weight:600;margin-bottom:1rem;"),Qge=Ae("div",{target:"eyxi51538"})({name:"w5cb7o",styles:"display:flex;align-items:center;gap:1rem;padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:0.75rem;border:1px solid rgba(255, 255, 255, 0.1)"}),Xge=Ae("img",{target:"eyxi51537"})({name:"1bmg8cs",styles:"width:5rem;height:5rem;border-radius:0.5rem;object-fit:cover"}),Yge=Ae("div",{target:"eyxi51536"})({name:"82a6rk",styles:"flex:1"}),Jge=Ae("h3",{target:"eyxi51535"})("color:",t=>t.theme.colors.textPrimary,";font-weight:600;margin-bottom:0.25rem;"),Zge=Ae("p",{target:"eyxi51534"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),eye=Ae("button",{target:"eyxi51533"})("width:100%;padding:1.5rem;border:2px dashed rgba(255, 255, 255, 0.2);border-radius:0.75rem;background:transparent;color:",t=>t.theme.colors.textSecondary,";font-size:1rem;cursor:pointer;transition:",t=>t.theme.transitions.default,";&:hover{border-color:",t=>t.theme.colors.neonPink,";color:",t=>t.theme.colors.neonPink,";background:rgba(255, 255, 255, 0.05);}"),tye=Ae("div",{target:"eyxi51532"})({name:"bjn8wh",styles:"position:relative"}),nye=Ae("input",{target:"eyxi51531"})("width:100%;padding:0.75rem 1rem;background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:",t=>t.theme.colors.textPrimary,";font-size:1rem;transition:",t=>t.theme.transitions.default,";&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:",t=>t.theme.shadows.neon,";}&::placeholder{color:",t=>t.theme.colors.textTertiary,";}"),rye=Ae("div",{target:"eyxi51530"})("position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:",t=>t.theme.colors.textSecondary,";font-size:0.875rem;"),iye=Ae(wr,{target:"eyxi51527"})({name:"bz05c1",styles:"width:100%;padding:1rem;font-size:1.125rem;&:disabled{opacity:0.5;cursor:not-allowed;}"}),cj=Ae("div",{target:"eyxi51526"})({name:"1e06wu4",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;text-align:center;background:rgba(0, 0, 0, 0.3);border-radius:1rem;margin:2rem 0;[data-rk]{width:100%;max-width:300px;}"}),uj=Ae(Os,{target:"eyxi51525"})({name:"s9j5gk",styles:"font-size:2rem;margin-bottom:1rem"}),dj=Ae("p",{target:"eyxi51524"})("color:",t=>t.theme.colors.textSecondary,";margin-bottom:2rem;"),U2=Ae("div",{target:"eyxi51523"})({name:"1iwin9z",styles:"background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.2);color:#ff4444;padding:1rem;border-radius:0.5rem;margin-bottom:1.5rem;font-size:0.875rem;animation:fadeIn 0.3s ease-in-out;@keyframes fadeIn{from{opacity:0;transform:translateY(-10px);}to{opacity:1;transform:translateY(0);}}"}),AN=Ae("div",{target:"eyxi51522"})({name:"kkm2ff",styles:"text-align:center;padding:3rem 2rem;background:rgba(255, 0, 0, 0.1);border:1px solid rgba(255, 0, 0, 0.3);border-radius:1rem;margin:2rem 0"}),_N=Ae("h2",{target:"eyxi51521"})("color:",t=>t.theme.colors.error||"#ff4444",";margin-bottom:1rem;font-size:1.5rem;"),oye=Ae("div",{target:"eyxi51520"})({name:"3gaqqa",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;text-align:center"}),sye=Ae("div",{target:"eyxi51519"})({name:"b2i4m4",styles:"width:100%;max-width:1200px;margin:0 auto"}),aye=Ae("div",{target:"eyxi51510"})({name:"1qj36wb",styles:"padding:0.75rem;display:flex;flex-direction:column;gap:0.5rem"}),lye=Ae("h3",{target:"eyxi5159"})({name:"1w69tks",styles:"font-size:1rem;font-weight:700;color:white;margin:0"}),cye=Ae("p",{target:"eyxi5158"})("color:",t=>t.theme.colors.textSecondary,";font-size:0.75rem;margin:0;"),uye=Ae("div",{target:"eyxi5157"})({name:"1fq4wdl",styles:"display:flex;flex-wrap:wrap;gap:0.25rem;margin-top:0.25rem"}),Dh=Ae("div",{target:"eyxi5156"})("background:rgba(255, 255, 255, 0.1);padding:0.15rem 0.5rem;border-radius:1rem;font-size:0.75rem;color:",t=>t.theme.colors.textSecondary,";"),dye=Ae("div",{target:"eyxi5153"})("background:transparent;backdrop-filter:blur(10px);border:1px solid ",t=>t.theme.colors.neonGreen,";border-radius:1rem;padding:1rem;transition:",t=>t.theme.transitions.default,";margin-bottom:2rem;"),fye=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",hye=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",sE=Ae("video",{target:"e1tha5qy5"})({name:"nal8u7",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7"}),pye=Ae("div",{target:"e1tha5qy4"})({name:"1av86fp",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center;@media (max-width: 768px){flex-wrap:nowrap;gap:0.25rem;}"}),mye=Ae("div",{target:"e1tha5qy3"})({name:"1fxxqiq",styles:"display:flex;gap:0.5rem;flex-wrap:wrap;@media (max-width: 768px){display:none;}"}),gye=Ae(wr,{target:"e1tha5qy2"})("background:",t=>t.active?t.theme.colors.neonGreen:"transparent",";border:1px solid ",t=>t.theme.colors.neonGreen,";padding:0.5rem 1rem;color:",t=>t.active?"#000B1A":t.theme.colors.textPrimary,";white-space:nowrap;@media (max-width: 768px){padding:0.5rem;font-size:0.9rem;}"),yye=Ae("select",{target:"e1tha5qy1"})("display:none;background:transparent;border:1px solid ",t=>t.theme.colors.neonGreen,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem;border-radius:0.5rem;cursor:pointer;font-size:0.9rem;width:100%;max-width:200px;@media (max-width: 768px){display:block;}option{background:",t=>t.theme.colors.bgDark,";color:",t=>t.theme.colors.textPrimary,";}"),vye=Ae("input",{target:"e1tha5qy0"})("background:rgba(255, 255, 255, 0.05);border:1px solid ",t=>t.theme.colors.neonBlue,";color:",t=>t.theme.colors.textPrimary,";padding:0.5rem 1rem;border-radius:0.5rem;font-size:0.9rem;width:100%;max-width:300px;transition:all 0.3s ease;&:focus{outline:none;border-color:",t=>t.theme.colors.neonPink,";box-shadow:0 0 10px ",t=>t.theme.colors.neonPink,";}&::placeholder{color:",t=>t.theme.colors.textSecondary,";}@media (max-width: 768px){max-width:100%;margin-bottom:0.5rem;}"),wye=()=>{const t=ih(),{showSuccess:e,showError:n,showInfo:r}=ps(),{isConnected:i,address:o,chain:s,walletClient:a,publicClient:l}=vi(),[c,u]=z.useState("all"),[d,f]=z.useState(""),[h,p]=z.useState([]),[m,y]=z.useState(!1),[g,v]=z.useState(null),[b,x]=z.useState(""),I="https://cryptoflipz2-production.up.railway.app";z.useEffect(()=>{console.log("🔍 Home Debug:",{isConnected:i,address:o,chain:s,hasWalletClient:!!a,hasPublicClient:!!l})},[i,o,s,a,l]);const k=async()=>{try{y(!0),x(null);const S=await fetch(`${I}/api/games`);if(!S.ok)throw new Error("Failed to fetch games");const N=await S.json();console.log("📊 Fetched games from database:",N);const P=N.map(G=>({id:G.id,nft:{name:G.nft_name||"Unknown NFT",image:G.nft_image||"/placeholder-nft.png",collection:G.nft_collection||"Unknown Collection",contractAddress:G.nft_contract,tokenId:G.nft_token_id,chain:G.nft_chain||"base"},gameType:G.game_type||"nft-vs-crypto",price:G.price_usd,priceUSD:G.price_usd,currency:G.game_type==="nft-vs-nft"?"NFT":"USD",chain:G.nft_chain||"base",creator:G.creator,joiner:G.joiner,rounds:G.rounds,status:G.status,createdAt:G.created_at,winner:G.winner,creatorWins:G.creator_wins||0,joinerWins:G.joiner_wins||0,challengerNFT:G.challenger_nft_name?{name:G.challenger_nft_name,image:G.challenger_nft_image,collection:G.challenger_nft_collection,contractAddress:G.challenger_nft_contract,tokenId:G.challenger_nft_token_id}:null,description:G.game_type==="nft-vs-nft"?`NFT Battle: ${G.nft_name} vs ${G.challenger_nft_name||"Waiting for challenger"}`:`${G.nft_name} from ${G.nft_collection} - Ready for battle!`}));console.log("✅ Processed flips:",P),p(P),P.length>0&&v(P[0])}catch(S){console.error("❌ Error fetching games:",S),x("Failed to load games. Please try again.")}finally{y(!1)}};z.useEffect(()=>{k();const S=setInterval(k,1e4);return()=>clearInterval(S)},[]);const A=h.filter(S=>{const N=c==="all"||(c==="nft-vs-crypto"||c==="nft-vs-nft"?S.gameType===c:S.chain===c),P=d.toLowerCase(),G=!d||S.nft.name.toLowerCase().includes(P)||S.nft.collection.toLowerCase().includes(P)||S.description.toLowerCase().includes(P);return N&&G}),U=[{key:"all",name:"ALL",icon:"🌐"},{key:"nft-vs-crypto",name:"NFT VS CRYPTO",icon:"💎💰"},{key:"nft-vs-nft",name:"NFT VS NFT",icon:"⚔️"},{key:"ethereum",name:"ETH",icon:"💎"},{key:"base",name:"BASE",icon:"🔵"},{key:"bnb",name:"BNB",icon:"🟡"},{key:"avalanche",name:"AVAX",icon:"🔴"},{key:"polygon",name:"POLY",icon:"🟣"},{key:"arbitrum",name:"ARB",icon:"🔷"},{key:"optimism",name:"OPT",icon:"🔶"}];return m?K(qr,{theme:Qe,children:[F(sE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Py,type:"video/webm"})}),F(eo,{children:F(to,{children:K("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:[F(ab,{}),F("span",{style:{marginLeft:"1rem",color:Qe.colors.textSecondary},children:"Loading games from database..."})]})})})]}):b?K(qr,{theme:Qe,children:[F(sE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Py,type:"video/webm"})}),F(eo,{children:F(to,{children:K(Eu,{style:{textAlign:"center",padding:"3rem"},children:[F(Os,{style:{fontSize:"2rem",marginBottom:"1rem",color:Qe.colors.statusError},children:"Error Loading Games"}),F("p",{style:{color:Qe.colors.textSecondary,marginBottom:"2rem"},children:b}),F(wr,{onClick:k,style:{background:Qe.colors.neonPink},children:"Retry"})]})})})]}):K(qr,{theme:Qe,children:[F(sE,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:F("source",{src:Py,type:"video/webm"})}),F(eo,{children:K(to,{children:[F(Wge,{}),F(dye,{style:{background:Qe.colors.bgDark},children:K(pye,{children:[F(mye,{children:U.map(S=>K(gye,{onClick:()=>u(S.key),active:c===S.key,children:[S.icon," ",S.name]},S.key))}),F(yye,{value:c,onChange:S=>u(S.target.value),children:U.map(S=>K("option",{value:S.key,children:[S.icon," ",S.name]},S.key))})]})}),A.length===0?K(Eu,{style:{textAlign:"center",padding:"3rem",border:`2px solid ${Qe.colors.neonPink}`},children:[F(Os,{style:{fontSize:"2rem",marginBottom:"1rem"},children:"No Active Flips"}),F("p",{style:{color:Qe.colors.textSecondary,marginBottom:"2rem"},children:"Be the first to create a flip game!"}),F(wr,{as:oh,to:"/create",style:{background:Qe.colors.neonPink},children:"Create Flip"})]}):K("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"240px 1fr",gap:"1.5rem",marginTop:"2rem"},children:[F("div",{style:{order:window.innerWidth<=768?1:0,width:window.innerWidth<=768?"100%":"240px"},children:g&&K("div",{style:{background:"rgba(0, 0, 0, 0.8)",borderRadius:"1rem",padding:window.innerWidth<=768?"1.25rem":"1.5rem",border:`2px solid ${g.gameType==="nft-vs-nft"?Qe.colors.neonGreen:Qe.colors.neonPink}`,maxWidth:window.innerWidth<=768?"100%":"240px"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Qe.colors.neonBlue,borderBottom:`2px solid ${Qe.colors.neonBlue}`,paddingBottom:"0.5rem",marginBottom:"1rem",textShadow:`0 0 10px ${Qe.colors.neonBlue}`},children:"Current Flip"}),K("div",{style:{display:"flex",flexDirection:window.innerWidth<=768?"row":"column",gap:(window.innerWidth<=768,"1rem"),alignItems:window.innerWidth<=768?"flex-start":"stretch"},children:[K("div",{style:{position:"relative",aspectRatio:"1",borderRadius:"0.75rem",overflow:"hidden",width:window.innerWidth<=768?"60%":"100%",flexShrink:0},children:[F(D2,{src:g.nft.image,alt:g.nft.name}),F("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.5rem",background:g.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:g.gameType==="nft-vs-nft"?"#000":"#fff",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",fontWeight:"bold"},children:g.gameType==="nft-vs-nft"?"⚔️ NFT BATTLE":"💰 CRYPTO"})]}),window.innerWidth<=768&&K("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:Qe.colors.textSecondary},children:"Price"}),K("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:["$",g.priceUSD.toFixed(2)]})]}),K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[F("div",{style:{fontSize:"0.7rem",color:Qe.colors.textSecondary},children:"Type"}),F("div",{style:{fontSize:"0.9rem",fontWeight:"bold",color:g.gameType==="nft-vs-nft"?Qe.colors.neonGreen:Qe.colors.neonPink},children:g.gameType==="nft-vs-nft"?"NFT Battle":"NFT vs Crypto"})]})]})]}),K(aye,{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[K("div",{children:[F(lye,{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:g.nft.name}),F(cye,{style:{fontSize:"0.9rem"},children:g.nft.collection})]}),window.innerWidth>768&&F(uye,{style:{display:"grid",gridTemplateColumns:"1fr",gap:"0.75rem"},children:g.gameType==="nft-vs-nft"?K(Na,{children:[K(Dh,{children:[F("span",{children:"Type"}),F("div",{style:{color:Qe.colors.neonGreen},children:"NFT Battle"})]}),K(Dh,{children:[F("span",{children:"Stakes"}),F("div",{children:"Winner Takes All"})]}),g.challengerNFT&&K(Dh,{children:[F("span",{children:"VS"}),F("div",{style:{color:Qe.colors.neonYellow},children:g.challengerNFT.name})]})]}):K(Na,{children:[K(Dh,{children:[F("span",{children:"Price"}),K("div",{children:["$",g.priceUSD.toFixed(2)]})]}),K(Dh,{children:[F("span",{children:"Type"}),F("div",{style:{color:Qe.colors.neonPink},children:"NFT vs Crypto"})]})]})}),K("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[F("a",{href:`${fye(g.nft.chain)}/token/${g.nft.contractAddress}?a=${g.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:"🔍 Explorer"}),K("a",{href:`${hye(g.nft.chain)}/${g.nft.contractAddress}/${g.nft.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),K("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[F(wr,{onClick:()=>t(`/game/${g.id}`),style:{flex:2,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:"View Flip"}),g.gameType==="nft-vs-nft"&&!g.challengerNFT&&K(wr,{onClick:()=>t(`/flip/${g.id}/join`),style:{flex:1,background:"linear-gradient(45deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease",textShadow:"0 0 10px rgba(255, 20, 147, 0.5)",boxShadow:"0 0 20px rgba(255, 20, 147, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.05)",S.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.5)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.3)"},children:[F("span",{children:"⚔️"})," Join Battle"]})]})]})]})}),K("div",{style:{background:"rgba(0, 0, 20, 0.95)",borderRadius:"1rem",padding:window.innerWidth<=768?"0.75rem":"1rem",border:`1px solid ${Qe.colors.neonBlue}`,maxHeight:window.innerWidth<=768?"none":"600px",overflowY:"auto",order:window.innerWidth<=768?2:0},children:[K("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:Qe.colors.neonBlue,marginBottom:"1rem",padding:"0.5rem",borderBottom:`1px solid ${Qe.colors.neonBlue}`,textShadow:"0 0 10px rgba(0, 150, 255, 0.5)"},children:["Available Flips (",A.filter(S=>S.status==="waiting").length,")"]}),F("div",{style:{marginBottom:"1rem"},children:F(vye,{type:"text",placeholder:"Search NFTs or collections...",value:d,onChange:S=>f(S.target.value)})}),F("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:window.innerWidth<=768?"0.25rem":"0.75rem",margin:"1rem 0",width:"100%",overflowX:"hidden",padding:window.innerWidth<=768?"0 0.25rem":"0",gridAutoRows:"minmax(auto, auto)",gridAutoFlow:"row"},children:A.map(S=>K("div",{onClick:()=>v(S),style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:window.innerWidth<=768?"0.5rem":"0.75rem",padding:window.innerWidth<=768?"0.25rem":"0.5rem",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.15rem":"0.25rem",height:window.innerWidth<=768?"auto":"210px",width:"100%"},onMouseEnter:N=>{N.currentTarget.style.transform="scale(1.02)",N.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},onMouseLeave:N=>{N.currentTarget.style.transform="scale(1)",N.currentTarget.style.background="rgba(255, 255, 255, 0.05)"},children:[K("div",{style:{position:"relative",aspectRatio:"1",borderRadius:window.innerWidth<=768?"0.25rem":"0.5rem",overflow:"hidden",width:"100%",height:window.innerWidth<=768?"auto":"135px",minHeight:window.innerWidth<=768?"80px":"135px"},children:[F(D2,{src:S.nft.image,alt:S.nft.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}}),F("div",{style:{position:"absolute",bottom:"0.25rem",right:"0.25rem",background:S.gameType==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"linear-gradient(45deg, #FF1493, #FF69B4)",color:S.gameType==="nft-vs-nft"?"#000":"#fff",padding:window.innerWidth<=768?"0.1rem 0.25rem":"0.15rem 0.35rem",borderRadius:window.innerWidth<=768?"0.15rem":"0.25rem",fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",fontWeight:"bold"},children:S.gameType==="nft-vs-nft"?"⚔️ NFT BATTLE":"💰 CRYPTO"})]}),K("div",{style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"0.1rem":"0.25rem",padding:window.innerWidth<=768?"0.1rem":"0.25rem",height:window.innerWidth<=768?"auto":"60px",justifyContent:"space-between"},children:[F("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.name}),F("div",{style:{fontSize:window.innerWidth<=768?"0.5rem":"0.6rem",color:Qe.colors.textSecondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:S.nft.collection}),K("div",{style:{fontSize:window.innerWidth<=768?"0.6rem":"0.7rem",fontWeight:"bold",color:Qe.colors.neonBlue},children:["$",S.priceUSD.toFixed(2)]})]})]},S.id))})]})]})]})})]})},lh=()=>{const{address:t,isConnected:e,connector:n}=Tr(),{data:r}=BD(),i=PT(),{showError:o}=ps(),[s,a]=z.useState(!1),[l,c]=z.useState(null);return z.useEffect(()=>{const u=async()=>{try{c(null);const d=!!t,f=!!r,h=!!i,p=e;if(console.log("🔍 Wallet connection check:",{hasAddress:d,hasWalletClient:f,hasPublicClient:h,isWagmiConnected:p,connector:n?.name,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),p&&d&&(!f||!h)){console.log("⏳ Waiting for clients to initialize..."),setTimeout(()=>{u()},1e3);return}const m=d&&f&&h&&p;a(m),!m&&p&&(c("Wallet connection incomplete. Please reconnect your wallet."),console.error("❌ Incomplete wallet connection:",{hasAddress:d,hasWalletClient:f,hasPublicClient:h,isWagmiConnected:p}))}catch(d){console.error("❌ Error checking wallet connection:",d),c(d.message),a(!1)}};u()},[t,r,i,e,n]),{isFullyConnected:s,connectionError:l,address:t,walletClient:r,publicClient:i,connector:n}},bye=({isOpen:t,onClose:e,onSelect:n,nfts:r=[],loading:i=!1})=>{const{chain:o,chains:s}=vi();return t?F(qr,{theme:Qe,children:F("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:"1rem"},children:K(Eu,{style:{width:"100%",maxWidth:"1200px",maxHeight:"90vh",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K("div",{children:[F(Os,{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"Select NFT"}),K("p",{style:{color:Qe.colors.textSecondary},children:["Choose an NFT from your ",s[o]?.name||"wallet"]})]}),F(wr,{onClick:e,style:{padding:"0.5rem"},children:"✕"})]}),F("div",{style:{flex:1,overflowY:"auto",paddingRight:"0.5rem"},children:i?F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:[...Array(6)].map((a,l)=>K(Eu,{style:{padding:"1rem"},children:[F("div",{style:{width:"100%",height:"200px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"1rem"}}),K("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"75%"}}),F("div",{style:{height:"1rem",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"0.25rem",width:"50%"}})]})]},l))}):!r||r.length===0?F("div",{style:{textAlign:"center",padding:"3rem 0",color:Qe.colors.textSecondary},children:K("p",{style:{fontSize:"1.125rem"},children:["No NFTs found in your ",s[o]?.name||"wallet"]})}):F(Vge,{children:r.map(a=>K($ge,{onClick:()=>{n(a),e()},style:{cursor:"pointer"},children:[F(D2,{src:a.image,alt:a.name,onError:l=>{console.error("❌ Image failed to load:",a.image),l.target.src="/placeholder-nft.svg"},onLoad:()=>{console.log("✅ Image loaded successfully:",a.image)}}),K("div",{style:{padding:"1rem"},children:[F("h3",{style:{color:Qe.colors.textPrimary,fontWeight:600,marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.name}),F("p",{style:{color:Qe.colors.textSecondary,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.collection}),K("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:Qe.colors.textSecondary},children:[F("span",{children:"Token ID:"}),K("span",{style:{color:Qe.colors.textPrimary},children:["#",a.tokenId]})]})]})]},`${a.contractAddress}-${a.tokenId}`))})})]})})}):null},xye=({onCoinSelect:t,selectedCoin:e=null,showCustomOption:n=!0})=>{const{address:r}=vi(),{getCoinHeadsImage:i,getCoinTailsImage:o}=J1(),[s,a]=z.useState(null),[l,c]=z.useState(null),[u,d]=z.useState(e?.type||null),f=[{id:"plain",type:"default",name:"Classic",headsImage:"/coins/plainh.png",tailsImage:"/coins/plaint.png"},{id:"skull",type:"default",name:"Skull",headsImage:"/coins/skullh.png",tailsImage:"/coins/skullt.png"},{id:"trump",type:"default",name:"Trump",headsImage:"/coins/trumpheads.webp",tailsImage:"/coins/trumptails.webp"},{id:"mario",type:"default",name:"Mario Bros",headsImage:"/coins/mario.png",tailsImage:"/coins/luigi.png"}];z.useEffect(()=>{(async()=>{if(r)try{const y=await i(r),g=await o(r);a(y),c(g)}catch(y){console.error("Error loading custom coin:",y)}})()},[r,i,o]);const h=m=>{if(d(m.id),m.type==="default"){const y={id:m.id,type:m.type,name:m.name,headsImage:m.headsImage,tailsImage:m.tailsImage};t(y)}else t(m)},p=s&&l;return K("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",width:"100%",maxWidth:"1200px",margin:"0 auto"},children:[F("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Choose Your Coin Design"}),F("p",{style:{color:"#fff",textAlign:"center",marginBottom:"2rem",fontSize:"0.9rem",opacity:.8},children:"Both players will see this coin design during the game"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1.5rem",marginBottom:n&&p?"2rem":"0"},children:f.map(m=>K("div",{onClick:()=>h(m),style:{background:u===m.id?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u===m.id?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[K("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem"},children:[F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.headsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"H"})}),F("div",{style:{width:"70px",height:"70px",borderRadius:"50%",backgroundImage:`url(${m.tailsImage})`,backgroundSize:"cover",backgroundPosition:"center",border:"3px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"0.8rem",color:"#FFD700",fontWeight:"bold"},children:"T"})})]}),F("div",{style:{color:"#fff",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:m.name})]},m.id))}),n&&p&&K(Na,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),K("div",{onClick:()=>h({id:"custom",type:"custom",name:"Your Custom Coin",headsImage:s,tailsImage:l,description:"Your personal coin design"}),style:{background:u==="custom"?"rgba(255, 215, 0, 0.2)":"rgba(255, 255, 255, 0.05)",border:u==="custom"?"2px solid #FFD700":"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[K("div",{style:{display:"flex",justifyContent:"center",gap:"1.5rem",marginBottom:"1.5rem"},children:[F("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"HEADS"})}),F("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center",border:"4px solid #FFD700",position:"relative"},children:F("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",fontSize:"0.9rem",color:"#FFD700",fontWeight:"bold"},children:"TAILS"})})]}),F("div",{style:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"✨ Your Custom Coin"}),F("div",{style:{color:"#fff",fontSize:"0.8rem",opacity:.8},children:"Use your personalized coin design"})]})]}),n&&!p&&K(Na,{children:[F("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent)",margin:"2rem 0"}}),K("div",{style:{padding:"1.5rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",textAlign:"center"},children:[F("div",{style:{color:"#FFD700",fontSize:"1rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"💡 Want to use a custom coin?"}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"Go to your profile and upload custom heads & tails images to unlock this option!"})]})]})]})},Eye=()=>{const t=ih(),{nfts:e,loading:n,chain:r}=vi(),{showSuccess:i,showError:o,showInfo:s}=ps(),{isFullyConnected:a,connectionError:l,address:c,walletClient:u,publicClient:d}=lh(),[f,h]=z.useState(null),[p,m]=z.useState(!1),[y,g]=z.useState(""),[v,b]=z.useState(""),[x,I]=z.useState(null),[k,A]=z.useState(""),[U,S]=z.useState(!1);if(z.useEffect(()=>{console.log("🔍 CreateFlip - Wallet state:",{isFullyConnected:a,connectionError:l,address:c,hasWalletClient:!!u,chain:r?.name})},[a,l,c,u,r]),z.useEffect(()=>{l&&A(l)},[l]),z.useEffect(()=>{if(a&&u&&d&&r){const G=r.name.toLowerCase();kt.init(G,u,d).then(()=>{console.log("✅ Contract service initialized for chain:",G)}).catch(B=>{console.error("❌ Failed to initialize contract service:",B),A("Failed to connect to smart contract")})}},[a,u,d,r]),!a||!c)return F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:K(cj,{children:[F(uj,{children:"Connect Your Wallet"}),F(dj,{children:l||"Please connect your wallet to create a new flip game."}),F(Ou,{}),l&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:l})]})})})});const N=async G=>{G.preventDefault(),A(""),S(!0);try{if(!f)throw new Error("Please select an NFT");if(!v)throw new Error("Please select a game type");if(!x)throw new Error("Please select a coin design");let B=0;if(v==="nft-vs-crypto"){const O=parseFloat(y);if(!y||isNaN(O)||O<=0)throw new Error("Please enter a valid price in USD");B=O}if(!u||!c)throw new Error("Wallet not connected properly. Please reconnect your wallet.");s("Preparing game creation...");const w={nftContract:f.contractAddress,tokenId:f.tokenId,priceUSD:B,acceptedToken:0,maxRounds:5,gameType:v==="nft-vs-nft"?1:0,authInfo:JSON.stringify({coinDesign:x,gameType:v,creator:c})};console.log("🎮 Creating game with smart contract:",w),console.log("🔍 Selected NFT object:",f);const E=await kt.createGame(w);if(!E.success)throw new Error("Failed to create game: "+E.error);i("Game created successfully!"),console.log("✅ Game created on blockchain:",E);const M=await P({id:E.gameId.toString(),creator:c,nft_contract:f.contractAddress,nft_token_id:f.tokenId,nft_name:f.name,nft_image:f.image,nft_collection:f.collection,nft_chain:r?.name?.toLowerCase()||"base",price_usd:B,game_type:v,coin:x,status:"created",contract_game_id:E.gameId.toString(),transaction_hash:E.transactionHash});M.success?t(`/game/${E.gameId}`):(console.warn("⚠️ Game created on blockchain but failed to save to database:",M.error),t(`/game/${E.gameId}`))}catch(B){console.error("❌ Error creating game:",B),A(B.message),o("Failed to create game: "+B.message)}finally{S(!1)}},P=async G=>{try{console.log("💾 Saving game to database:",G);const w=await fetch("https://cryptoflipz2-production.up.railway.app/api/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!w.ok)throw new Error("Failed to save game to database");const E=await w.json();return console.log("✅ Game saved to database:",E),{success:!0,gameId:E.id}}catch(B){return console.error("❌ Error saving game to database:",B),{success:!1,error:B.message}}};return F(qr,{theme:Qe,children:K(eo,{children:[F(to,{children:K(qge,{children:[F(Kge,{children:"Create New Flip"}),k&&F(U2,{children:k}),K("form",{onSubmit:N,children:[K(Bh,{children:[F(Lh,{children:"Choose Game Type"}),K("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[K("button",{type:"button",onClick:()=>b("nft-vs-crypto"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-crypto"?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-crypto"?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:"white",cursor:"pointer",transition:"all 0.3s ease"},children:[F("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"💎 vs 💰"}),F("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs Crypto"}),F("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's crypto bet"}),F("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.10"})]}),K("button",{type:"button",onClick:()=>b("nft-vs-nft"),style:{width:"100%",padding:"1.5rem",background:v==="nft-vs-nft"?"linear-gradient(45deg, #00FF41, #39FF14)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${v==="nft-vs-nft"?"#00FF41":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"1rem",color:v==="nft-vs-nft"?"#000":"white",cursor:"pointer",transition:"all 0.3s ease"},children:[F("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"💎 vs 💎"}),F("div",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"NFT vs NFT"}),F("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Your NFT vs opponent's NFT - Winner takes both!"}),F("div",{style:{fontSize:"0.7rem",color:"#FFD700",marginTop:"0.5rem"},children:"Listing fee: $0.50"})]})]})]}),K(Bh,{children:[F(Lh,{children:"Select Your NFT"}),f?K(Qge,{children:[F(Xge,{src:f.image,alt:f.name}),K(Yge,{children:[F(Jge,{children:f.name}),F(Zge,{children:f.collection})]}),F(wr,{type:"button",onClick:()=>h(null),children:"Change"})]}):F(eye,{type:"button",onClick:()=>m(!0),children:"Select NFT to Flip"})]}),v==="nft-vs-crypto"&&K(Bh,{children:[F(Lh,{children:"Set Price"}),K(tye,{children:[F(nye,{type:"number",step:"0.01",min:"0",placeholder:"Enter price in USD",value:y,onChange:G=>g(G.target.value),required:!0}),F(rye,{children:"USD"})]})]}),v==="nft-vs-nft"&&K(Bh,{children:[F(Lh,{children:"NFT vs NFT Battle"}),K("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem"},children:[K("p",{style:{margin:0,color:"white"},children:["🔥 ",F("strong",{children:"Ultimate NFT Battle!"})]}),K("p",{style:{margin:"0.5rem 0",fontSize:"0.9rem",opacity:.8},children:["• Other players can offer their NFTs to challenge you",F("br",{}),"• You choose which NFT to battle against",F("br",{}),"• Winner takes both NFTs!",F("br",{}),"• Best of 5 rounds determines the victor"]})]})]}),K(Bh,{children:[F(Lh,{children:"Choose Coin Design"}),F(xye,{onCoinSelect:I,selectedCoin:x,showCustomOption:!0}),x&&K("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.5rem",textAlign:"center"},children:[K("div",{style:{color:"#00FF41",fontWeight:"bold",marginBottom:"0.5rem"},children:["✅ Selected: ",x.name]}),F("div",{style:{color:"#fff",fontSize:"0.9rem",opacity:.8},children:"This coin design will be used for both players in the game"})]})]}),F(iye,{type:"submit",disabled:U||!v||!x,style:{color:"#000",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",fontWeight:"bold"},children:U?K(Na,{children:[F(ab,{})," Creating ",v==="nft-vs-nft"?"NFT Battle":"Flip","..."]}):`Create ${v==="nft-vs-nft"?"NFT Battle":"Flip"}`})]})]})}),F(bye,{isOpen:p,onClose:()=>m(!1),onSelect:h,nfts:e||[],loading:n,selectedNFT:f})]})})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const H3="170",Aye=0,SN=1,_ye=2,fj=1,Sye=2,sa=3,ql=0,Ui=1,va=2,Dl=0,Kd=1,CN=2,TN=3,MN=4,Cye=5,Sc=100,Tye=101,Mye=102,Iye=103,Rye=104,Pye=200,Nye=201,kye=202,Fye=203,z2=204,j2=205,Oye=206,Bye=207,Lye=208,Dye=209,Uye=210,zye=211,jye=212,Hye=213,Gye=214,H2=0,G2=1,W2=2,Nf=3,V2=4,$2=5,q2=6,K2=7,G3=0,Wye=1,Vye=2,Ul=0,$ye=1,qye=2,Kye=3,Qye=4,Xye=5,Yye=6,Jye=7,hj=300,kf=301,Ff=302,Q2=303,X2=304,lb=306,Y2=1e3,Hc=1001,J2=1002,cs=1003,Zye=1004,yg=1005,Ri=1006,aE=1007,Gc=1008,Ha=1009,pj=1010,mj=1011,Fm=1012,W3=1013,Au=1014,_a=1015,v0=1016,V3=1017,$3=1018,Of=1020,gj=35902,yj=1021,vj=1022,rs=1023,wj=1024,bj=1025,Qd=1026,Bf=1027,xj=1028,q3=1029,Ej=1030,K3=1031,Q3=1033,Ly=33776,Dy=33777,Uy=33778,zy=33779,Z2=35840,eS=35841,tS=35842,nS=35843,rS=36196,iS=37492,oS=37496,sS=37808,aS=37809,lS=37810,cS=37811,uS=37812,dS=37813,fS=37814,hS=37815,pS=37816,mS=37817,gS=37818,yS=37819,vS=37820,wS=37821,jy=36492,bS=36494,xS=36495,Aj=36283,ES=36284,AS=36285,_S=36286,eve=3200,tve=3201,_j=0,nve=1,bl="",Vr="srgb",ch="srgb-linear",cb="linear",mn="srgb",Yu=7680,IN=519,rve=512,ive=513,ove=514,Sj=515,sve=516,ave=517,lve=518,cve=519,RN=35044,PN="300 es",Sa=2e3,ow=2001;class uh{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Hr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],lE=Math.PI/180,SS=180/Math.PI;function w0(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Hr[t&255]+Hr[t>>8&255]+Hr[t>>16&255]+Hr[t>>24&255]+"-"+Hr[e&255]+Hr[e>>8&255]+"-"+Hr[e>>16&15|64]+Hr[e>>24&255]+"-"+Hr[n&63|128]+Hr[n>>8&255]+"-"+Hr[n>>16&255]+Hr[n>>24&255]+Hr[r&255]+Hr[r>>8&255]+Hr[r>>16&255]+Hr[r>>24&255]).toLowerCase()}function Si(t,e,n){return Math.max(e,Math.min(n,t))}function uve(t,e){return(t%e+e)%e}function cE(t,e,n){return(1-n)*t+n*e}function Uh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function bi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class sn{constructor(e=0,n=0){sn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Si(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Lt{constructor(e,n,r,i,o,s,a,l,c){Lt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],y=i[3],g=i[6],v=i[1],b=i[4],x=i[7],I=i[2],k=i[5],A=i[8];return o[0]=s*m+a*v+l*I,o[3]=s*y+a*b+l*k,o[6]=s*g+a*x+l*A,o[1]=c*m+u*v+d*I,o[4]=c*y+u*b+d*k,o[7]=c*g+u*x+d*A,o[2]=f*m+h*v+p*I,o[5]=f*y+h*b+p*k,o[8]=f*g+h*x+p*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,h=c*o-s*l,p=n*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(a*r-i*s)*m,e[3]=f*m,e[4]=(u*n-i*l)*m,e[5]=(i*o-a*n)*m,e[6]=h*m,e[7]=(r*l-c*n)*m,e[8]=(s*n-r*o)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(uE.makeScale(e,n)),this}rotate(e){return this.premultiply(uE.makeRotation(-e)),this}translate(e,n){return this.premultiply(uE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const uE=new Lt;function Cj(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Om(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function dve(){const t=Om("canvas");return t.style.display="block",t}const NN={};function np(t){t in NN||(NN[t]=!0,console.warn(t))}function fve(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function hve(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function pve(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Jt={enabled:!0,workingColorSpace:ch,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===mn&&(t.r=Pa(t.r),t.g=Pa(t.g),t.b=Pa(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===mn&&(t.r=Xd(t.r),t.g=Xd(t.g),t.b=Xd(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===bl?cb:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function Pa(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Xd(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const kN=[.64,.33,.3,.6,.15,.06],FN=[.2126,.7152,.0722],ON=[.3127,.329],BN=new Lt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),LN=new Lt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Jt.define({[ch]:{primaries:kN,whitePoint:ON,transfer:cb,toXYZ:BN,fromXYZ:LN,luminanceCoefficients:FN,workingColorSpaceConfig:{unpackColorSpace:Vr},outputColorSpaceConfig:{drawingBufferColorSpace:Vr}},[Vr]:{primaries:kN,whitePoint:ON,transfer:mn,toXYZ:BN,fromXYZ:LN,luminanceCoefficients:FN,outputColorSpaceConfig:{drawingBufferColorSpace:Vr}}});let Ju;class mve{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ju===void 0&&(Ju=Om("canvas")),Ju.width=e.width,Ju.height=e.height;const r=Ju.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ju}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Om("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Pa(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Pa(n[r]/255)*255):n[r]=Pa(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let gve=0;class Tj{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gve++}),this.uuid=w0(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(dE(i[s].image)):o.push(dE(i[s]))}else o=dE(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function dE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?mve.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yve=0;class Xr extends uh{constructor(e=Xr.DEFAULT_IMAGE,n=Xr.DEFAULT_MAPPING,r=Hc,i=Hc,o=Ri,s=Gc,a=rs,l=Ha,c=Xr.DEFAULT_ANISOTROPY,u=bl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yve++}),this.uuid=w0(),this.name="",this.source=new Tj(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new sn(0,0),this.repeat=new sn(1,1),this.center=new sn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Lt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==hj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Y2:e.x=e.x-Math.floor(e.x);break;case Hc:e.x=e.x<0?0:1;break;case J2:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Y2:e.y=e.y-Math.floor(e.y);break;case Hc:e.y=e.y<0?0:1;break;case J2:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Xr.DEFAULT_IMAGE=null;Xr.DEFAULT_MAPPING=hj;Xr.DEFAULT_ANISOTROPY=1;class jn{constructor(e=0,n=0,r=0,i=1){jn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],y=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+y)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,x=(h+1)/2,I=(g+1)/2,k=(u+f)/4,A=(d+m)/4,U=(p+y)/4;return b>x&&b>I?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=k/r,o=A/r):x>I?x<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=k/i,o=U/i):I<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(I),r=A/o,i=U/o),this.set(r,i,o,n),this}let v=Math.sqrt((y-p)*(y-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(v)<.001&&(v=1),this.x=(y-p)/v,this.y=(d-m)/v,this.z=(f-u)/v,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vve extends uh{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new jn(0,0,e,n),this.scissorTest=!1,this.viewport=new jn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ri,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Xr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Tj(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _u extends vve{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Mj extends Xr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=cs,this.minFilter=cs,this.wrapR=Hc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wve extends Xr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=cs,this.minFilter=cs,this.wrapR=Hc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class b0{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],p=o[s+2],m=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let y=1-a;const g=l*f+c*h+u*p+d*m,v=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const I=Math.sqrt(b),k=Math.atan2(I,g*v);y=Math.sin(y*k)/I,a=Math.sin(a*k)/I}const x=a*v;if(l=l*y+f*x,c=c*y+h*x,u=u*y+p*x,d=d*y+m*x,y===1-a){const I=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=I,c*=I,u*=I,d*=I}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],h=o[s+2],p=o[s+3];return e[n]=a*p+u*d+l*h-c*f,e[n+1]=l*p+u*f+c*d-a*h,e[n+2]=c*p+u*h+a*f-l*d,e[n+3]=u*p-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),p=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Si(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ee{constructor(e=0,n=0,r=0){Ee.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(DN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(DN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return fE.copy(this).projectOnVector(e),this.sub(fE)}reflect(e){return this.sub(fE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Si(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const fE=new Ee,DN=new b0;class x0{constructor(e=new Ee(1/0,1/0,1/0),n=new Ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(jo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(jo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=jo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,jo):jo.fromBufferAttribute(o,s),jo.applyMatrix4(e.matrixWorld),this.expandByPoint(jo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),vg.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),vg.copy(r.boundingBox)),vg.applyMatrix4(e.matrixWorld),this.union(vg)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,jo),jo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zh),wg.subVectors(this.max,zh),Zu.subVectors(e.a,zh),ed.subVectors(e.b,zh),td.subVectors(e.c,zh),ol.subVectors(ed,Zu),sl.subVectors(td,ed),ac.subVectors(Zu,td);let n=[0,-ol.z,ol.y,0,-sl.z,sl.y,0,-ac.z,ac.y,ol.z,0,-ol.x,sl.z,0,-sl.x,ac.z,0,-ac.x,-ol.y,ol.x,0,-sl.y,sl.x,0,-ac.y,ac.x,0];return!hE(n,Zu,ed,td,wg)||(n=[1,0,0,0,1,0,0,0,1],!hE(n,Zu,ed,td,wg))?!1:(bg.crossVectors(ol,sl),n=[bg.x,bg.y,bg.z],hE(n,Zu,ed,td,wg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(jo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ta[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ta[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ta[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ta[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ta[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ta[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ta[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ta[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ta),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ta=[new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee],jo=new Ee,vg=new x0,Zu=new Ee,ed=new Ee,td=new Ee,ol=new Ee,sl=new Ee,ac=new Ee,zh=new Ee,wg=new Ee,bg=new Ee,lc=new Ee;function hE(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){lc.fromArray(t,o);const a=i.x*Math.abs(lc.x)+i.y*Math.abs(lc.y)+i.z*Math.abs(lc.z),l=e.dot(lc),c=n.dot(lc),u=r.dot(lc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const bve=new x0,jh=new Ee,pE=new Ee;class X3{constructor(e=new Ee,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):bve.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jh.subVectors(e,this.center);const n=jh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(jh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(pE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jh.copy(e.center).add(pE)),this.expandByPoint(jh.copy(e.center).sub(pE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const na=new Ee,mE=new Ee,xg=new Ee,al=new Ee,gE=new Ee,Eg=new Ee,yE=new Ee;class xve{constructor(e=new Ee,n=new Ee(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,na)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=na.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(na.copy(this.origin).addScaledVector(this.direction,n),na.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){mE.copy(e).add(n).multiplyScalar(.5),xg.copy(n).sub(e).normalize(),al.copy(this.origin).sub(mE);const o=e.distanceTo(n)*.5,s=-this.direction.dot(xg),a=al.dot(this.direction),l=-al.dot(xg),c=al.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-a,f=s*a-l,p=o*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(mE).addScaledVector(xg,f),h}intersectSphere(e,n){na.subVectors(e.center,this.origin);const r=na.dot(this.direction),i=na.dot(na)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,na)!==null}intersectTriangle(e,n,r,i,o){gE.subVectors(n,e),Eg.subVectors(r,e),yE.crossVectors(gE,Eg);let s=this.direction.dot(yE),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;al.subVectors(this.origin,e);const l=a*this.direction.dot(Eg.crossVectors(al,Eg));if(l<0)return null;const c=a*this.direction.dot(gE.cross(al));if(c<0||l+c>s)return null;const u=-a*al.dot(yE);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gn{constructor(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){Gn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y)}set(e,n,r,i,o,s,a,l,c,u,d,f,h,p,m,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/nd.setFromMatrixColumn(e,0).length(),o=1/nd.setFromMatrixColumn(e,1).length(),s=1/nd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,h=s*d,p=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+p*c,n[5]=f-m*c,n[9]=-a*l,n[2]=m-f*c,n[6]=p+h*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;n[0]=f+m*a,n[4]=p*a-h,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=h*a-p,n[6]=m+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;n[0]=f-m*a,n[4]=-s*d,n[8]=p+h*a,n[1]=h+p*a,n[5]=s*u,n[9]=m-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=a*u,m=a*d;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+m,n[1]=l*d,n[5]=m*c+f,n[9]=h*c-p,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=a*l,m=a*c;n[0]=l*u,n[4]=m-f*d,n[8]=p*d+h,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*d+p,n[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+m,n[5]=s*u,n[9]=h*d-p,n[2]=p*d-h,n[6]=a*u,n[10]=m*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Eve,e,Ave)}lookAt(e,n,r){const i=this.elements;return Gi.subVectors(e,n),Gi.lengthSq()===0&&(Gi.z=1),Gi.normalize(),ll.crossVectors(r,Gi),ll.lengthSq()===0&&(Math.abs(r.z)===1?Gi.x+=1e-4:Gi.z+=1e-4,Gi.normalize(),ll.crossVectors(r,Gi)),ll.normalize(),Ag.crossVectors(Gi,ll),i[0]=ll.x,i[4]=Ag.x,i[8]=Gi.x,i[1]=ll.y,i[5]=Ag.y,i[9]=Gi.y,i[2]=ll.z,i[6]=Ag.z,i[10]=Gi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],y=r[10],g=r[14],v=r[3],b=r[7],x=r[11],I=r[15],k=i[0],A=i[4],U=i[8],S=i[12],N=i[1],P=i[5],G=i[9],B=i[13],w=i[2],E=i[6],M=i[10],O=i[14],C=i[3],H=i[7],W=i[11],D=i[15];return o[0]=s*k+a*N+l*w+c*C,o[4]=s*A+a*P+l*E+c*H,o[8]=s*U+a*G+l*M+c*W,o[12]=s*S+a*B+l*O+c*D,o[1]=u*k+d*N+f*w+h*C,o[5]=u*A+d*P+f*E+h*H,o[9]=u*U+d*G+f*M+h*W,o[13]=u*S+d*B+f*O+h*D,o[2]=p*k+m*N+y*w+g*C,o[6]=p*A+m*P+y*E+g*H,o[10]=p*U+m*G+y*M+g*W,o[14]=p*S+m*B+y*O+g*D,o[3]=v*k+b*N+x*w+I*C,o[7]=v*A+b*P+x*E+I*H,o[11]=v*U+b*G+x*M+I*W,o[15]=v*S+b*B+x*O+I*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],y=e[11],g=e[15];return p*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*h-r*l*h)+m*(+n*l*h-n*c*f+o*s*f-i*s*h+i*c*u-o*l*u)+y*(+n*c*d-n*a*h-o*s*d+r*s*h+o*a*u-r*c*u)+g*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],y=e[14],g=e[15],v=d*y*c-m*f*c+m*l*h-a*y*h-d*l*g+a*f*g,b=p*f*c-u*y*c-p*l*h+s*y*h+u*l*g-s*f*g,x=u*m*c-p*d*c+p*a*h-s*m*h-u*a*g+s*d*g,I=p*d*l-u*m*l-p*a*f+s*m*f+u*a*y-s*d*y,k=n*v+r*b+i*x+o*I;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/k;return e[0]=v*A,e[1]=(m*f*o-d*y*o-m*i*h+r*y*h+d*i*g-r*f*g)*A,e[2]=(a*y*o-m*l*o+m*i*c-r*y*c-a*i*g+r*l*g)*A,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*h-r*l*h)*A,e[4]=b*A,e[5]=(u*y*o-p*f*o+p*i*h-n*y*h-u*i*g+n*f*g)*A,e[6]=(p*l*o-s*y*o-p*i*c+n*y*c+s*i*g-n*l*g)*A,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*h+n*l*h)*A,e[8]=x*A,e[9]=(p*d*o-u*m*o-p*r*h+n*m*h+u*r*g-n*d*g)*A,e[10]=(s*m*o-p*a*o+p*r*c-n*m*c-s*r*g+n*a*g)*A,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*h-n*a*h)*A,e[12]=I*A,e[13]=(u*m*i-p*d*i+p*r*f-n*m*f-u*r*y+n*d*y)*A,e[14]=(p*a*i-s*m*i-p*r*l+n*m*l+s*r*y-n*a*y)*A,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,h=o*u,p=o*d,m=s*u,y=s*d,g=a*d,v=l*c,b=l*u,x=l*d,I=r.x,k=r.y,A=r.z;return i[0]=(1-(m+g))*I,i[1]=(h+x)*I,i[2]=(p-b)*I,i[3]=0,i[4]=(h-x)*k,i[5]=(1-(f+g))*k,i[6]=(y+v)*k,i[7]=0,i[8]=(p+b)*A,i[9]=(y-v)*A,i[10]=(1-(f+m))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=nd.set(i[0],i[1],i[2]).length();const s=nd.set(i[4],i[5],i[6]).length(),a=nd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Ho.copy(this);const c=1/o,u=1/s,d=1/a;return Ho.elements[0]*=c,Ho.elements[1]*=c,Ho.elements[2]*=c,Ho.elements[4]*=u,Ho.elements[5]*=u,Ho.elements[6]*=u,Ho.elements[8]*=d,Ho.elements[9]*=d,Ho.elements[10]*=d,n.setFromRotationMatrix(Ho),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=Sa){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let h,p;if(a===Sa)h=-(s+o)/(s-o),p=-2*s*o/(s-o);else if(a===ow)h=-s/(s-o),p=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=Sa){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,h=(r+i)*u;let p,m;if(a===Sa)p=(s+o)*d,m=-2*d;else if(a===ow)p=o*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const nd=new Ee,Ho=new Gn,Eve=new Ee(0,0,0),Ave=new Ee(1,1,1),ll=new Ee,Ag=new Ee,Gi=new Ee,UN=new Gn,zN=new b0;class Ks{constructor(e=0,n=0,r=0,i=Ks.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Si(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Si(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Si(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Si(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Si(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Si(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return UN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(UN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return zN.setFromEuler(this),this.setFromQuaternion(zN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ks.DEFAULT_ORDER="XYZ";class Ij{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _ve=0;const jN=new Ee,rd=new b0,ra=new Gn,_g=new Ee,Hh=new Ee,Sve=new Ee,Cve=new b0,HN=new Ee(1,0,0),GN=new Ee(0,1,0),WN=new Ee(0,0,1),VN={type:"added"},Tve={type:"removed"},id={type:"childadded",child:null},vE={type:"childremoved",child:null};class Yr extends uh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_ve++}),this.uuid=w0(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yr.DEFAULT_UP.clone();const e=new Ee,n=new Ks,r=new b0,i=new Ee(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Gn},normalMatrix:{value:new Lt}}),this.matrix=new Gn,this.matrixWorld=new Gn,this.matrixAutoUpdate=Yr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Yr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ij,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return rd.setFromAxisAngle(e,n),this.quaternion.multiply(rd),this}rotateOnWorldAxis(e,n){return rd.setFromAxisAngle(e,n),this.quaternion.premultiply(rd),this}rotateX(e){return this.rotateOnAxis(HN,e)}rotateY(e){return this.rotateOnAxis(GN,e)}rotateZ(e){return this.rotateOnAxis(WN,e)}translateOnAxis(e,n){return jN.copy(e).applyQuaternion(this.quaternion),this.position.add(jN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(HN,e)}translateY(e){return this.translateOnAxis(GN,e)}translateZ(e){return this.translateOnAxis(WN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ra.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?_g.copy(e):_g.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Hh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ra.lookAt(Hh,_g,this.up):ra.lookAt(_g,Hh,this.up),this.quaternion.setFromRotationMatrix(ra),i&&(ra.extractRotation(i.matrixWorld),rd.setFromRotationMatrix(ra),this.quaternion.premultiply(rd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(VN),id.child=e,this.dispatchEvent(id),id.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Tve),vE.child=e,this.dispatchEvent(vE),vE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ra.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ra.multiply(e.parent.matrixWorld)),e.applyMatrix4(ra),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(VN),id.child=e,this.dispatchEvent(id),id.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hh,e,Sve),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hh,Cve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Yr.DEFAULT_UP=new Ee(0,1,0);Yr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Yr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Go=new Ee,ia=new Ee,wE=new Ee,oa=new Ee,od=new Ee,sd=new Ee,$N=new Ee,bE=new Ee,xE=new Ee,EE=new Ee,AE=new jn,_E=new jn,SE=new jn;class ns{constructor(e=new Ee,n=new Ee,r=new Ee){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Go.subVectors(e,n),i.cross(Go);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Go.subVectors(i,n),ia.subVectors(r,n),wE.subVectors(e,n);const s=Go.dot(Go),a=Go.dot(ia),l=Go.dot(wE),c=ia.dot(ia),u=ia.dot(wE),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,p=(s*u-a*l)*f;return o.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,oa)===null?!1:oa.x>=0&&oa.y>=0&&oa.x+oa.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,oa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,oa.x),l.addScaledVector(s,oa.y),l.addScaledVector(a,oa.z),l)}static getInterpolatedAttribute(e,n,r,i,o,s){return AE.setScalar(0),_E.setScalar(0),SE.setScalar(0),AE.fromBufferAttribute(e,n),_E.fromBufferAttribute(e,r),SE.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(AE,o.x),s.addScaledVector(_E,o.y),s.addScaledVector(SE,o.z),s}static isFrontFacing(e,n,r,i){return Go.subVectors(r,n),ia.subVectors(e,n),Go.cross(ia).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Go.subVectors(this.c,this.b),ia.subVectors(this.a,this.b),Go.cross(ia).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ns.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return ns.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;od.subVectors(i,r),sd.subVectors(o,r),bE.subVectors(e,r);const l=od.dot(bE),c=sd.dot(bE);if(l<=0&&c<=0)return n.copy(r);xE.subVectors(e,i);const u=od.dot(xE),d=sd.dot(xE);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(od,s);EE.subVectors(e,o);const h=od.dot(EE),p=sd.dot(EE);if(p>=0&&h<=p)return n.copy(o);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),n.copy(r).addScaledVector(sd,a);const y=u*p-h*d;if(y<=0&&d-u>=0&&h-p>=0)return $N.subVectors(o,i),a=(d-u)/(d-u+(h-p)),n.copy(i).addScaledVector($N,a);const g=1/(y+m+f);return s=m*g,a=f*g,n.copy(r).addScaledVector(od,s).addScaledVector(sd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Rj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cl={h:0,s:0,l:0},Sg={h:0,s:0,l:0};function CE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class tn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Vr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jt.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Jt.workingColorSpace){return this.r=e,this.g=n,this.b=r,Jt.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Jt.workingColorSpace){if(e=uve(e,1),n=Si(n,0,1),r=Si(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=CE(s,o,e+1/3),this.g=CE(s,o,e),this.b=CE(s,o,e-1/3)}return Jt.toWorkingColorSpace(this,i),this}setStyle(e,n=Vr){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Vr){const r=Rj[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pa(e.r),this.g=Pa(e.g),this.b=Pa(e.b),this}copyLinearToSRGB(e){return this.r=Xd(e.r),this.g=Xd(e.g),this.b=Xd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vr){return Jt.fromWorkingColorSpace(Gr.copy(this),e),Math.round(Si(Gr.r*255,0,255))*65536+Math.round(Si(Gr.g*255,0,255))*256+Math.round(Si(Gr.b*255,0,255))}getHexString(e=Vr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Jt.workingColorSpace){Jt.fromWorkingColorSpace(Gr.copy(this),n);const r=Gr.r,i=Gr.g,o=Gr.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Jt.workingColorSpace){return Jt.fromWorkingColorSpace(Gr.copy(this),n),e.r=Gr.r,e.g=Gr.g,e.b=Gr.b,e}getStyle(e=Vr){Jt.fromWorkingColorSpace(Gr.copy(this),e);const n=Gr.r,r=Gr.g,i=Gr.b;return e!==Vr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(cl),this.setHSL(cl.h+e,cl.s+n,cl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(cl),e.getHSL(Sg);const r=cE(cl.h,Sg.h,n),i=cE(cl.s,Sg.s,n),o=cE(cl.l,Sg.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Gr=new tn;tn.NAMES=Rj;let Mve=0;class E0 extends uh{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Mve++}),this.uuid=w0(),this.name="",this.blending=Kd,this.side=ql,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=z2,this.blendDst=j2,this.blendEquation=Sc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new tn(0,0,0),this.blendAlpha=0,this.depthFunc=Nf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=IN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Yu,this.stencilZFail=Yu,this.stencilZPass=Yu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Kd&&(r.blending=this.blending),this.side!==ql&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==z2&&(r.blendSrc=this.blendSrc),this.blendDst!==j2&&(r.blendDst=this.blendDst),this.blendEquation!==Sc&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Nf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==IN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Yu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Yu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Yu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Pj extends E0{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ks,this.combine=G3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Yn=new Ee,Cg=new sn;class js{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=RN,this.updateRanges=[],this.gpuType=_a,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Cg.fromBufferAttribute(this,n),Cg.applyMatrix3(e),this.setXY(n,Cg.x,Cg.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Yn.fromBufferAttribute(this,n),Yn.applyMatrix3(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Yn.fromBufferAttribute(this,n),Yn.applyMatrix4(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Yn.fromBufferAttribute(this,n),Yn.applyNormalMatrix(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Yn.fromBufferAttribute(this,n),Yn.transformDirection(e),this.setXYZ(n,Yn.x,Yn.y,Yn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Uh(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=bi(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Uh(n,this.array)),n}setX(e,n){return this.normalized&&(n=bi(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Uh(n,this.array)),n}setY(e,n){return this.normalized&&(n=bi(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Uh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=bi(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Uh(n,this.array)),n}setW(e,n){return this.normalized&&(n=bi(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=bi(n,this.array),r=bi(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=bi(n,this.array),r=bi(r,this.array),i=bi(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=bi(n,this.array),r=bi(r,this.array),i=bi(i,this.array),o=bi(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==RN&&(e.usage=this.usage),e}}class Nj extends js{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class kj extends js{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Hs extends js{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Ive=0;const yo=new Gn,TE=new Yr,ad=new Ee,Wi=new x0,Gh=new x0,vr=new Ee;class nc extends uh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ive++}),this.uuid=w0(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Cj(e)?kj:Nj)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Lt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yo.makeRotationFromQuaternion(e),this.applyMatrix4(yo),this}rotateX(e){return yo.makeRotationX(e),this.applyMatrix4(yo),this}rotateY(e){return yo.makeRotationY(e),this.applyMatrix4(yo),this}rotateZ(e){return yo.makeRotationZ(e),this.applyMatrix4(yo),this}translate(e,n,r){return yo.makeTranslation(e,n,r),this.applyMatrix4(yo),this}scale(e,n,r){return yo.makeScale(e,n,r),this.applyMatrix4(yo),this}lookAt(e){return TE.lookAt(e),TE.updateMatrix(),this.applyMatrix4(TE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ad).negate(),this.translate(ad.x,ad.y,ad.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Hs(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new x0);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ee(-1/0,-1/0,-1/0),new Ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Wi.setFromBufferAttribute(o),this.morphTargetsRelative?(vr.addVectors(this.boundingBox.min,Wi.min),this.boundingBox.expandByPoint(vr),vr.addVectors(this.boundingBox.max,Wi.max),this.boundingBox.expandByPoint(vr)):(this.boundingBox.expandByPoint(Wi.min),this.boundingBox.expandByPoint(Wi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new X3);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ee,1/0);return}if(e){const r=this.boundingSphere.center;if(Wi.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];Gh.setFromBufferAttribute(a),this.morphTargetsRelative?(vr.addVectors(Wi.min,Gh.min),Wi.expandByPoint(vr),vr.addVectors(Wi.max,Gh.max),Wi.expandByPoint(vr)):(Wi.expandByPoint(Gh.min),Wi.expandByPoint(Gh.max))}Wi.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)vr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(vr));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)vr.fromBufferAttribute(a,c),l&&(ad.fromBufferAttribute(e,c),vr.add(ad)),i=Math.max(i,r.distanceToSquared(vr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new js(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let U=0;U<r.count;U++)a[U]=new Ee,l[U]=new Ee;const c=new Ee,u=new Ee,d=new Ee,f=new sn,h=new sn,p=new sn,m=new Ee,y=new Ee;function g(U,S,N){c.fromBufferAttribute(r,U),u.fromBufferAttribute(r,S),d.fromBufferAttribute(r,N),f.fromBufferAttribute(o,U),h.fromBufferAttribute(o,S),p.fromBufferAttribute(o,N),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const P=1/(h.x*p.y-p.x*h.y);isFinite(P)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(P),y.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(P),a[U].add(m),a[S].add(m),a[N].add(m),l[U].add(y),l[S].add(y),l[N].add(y))}let v=this.groups;v.length===0&&(v=[{start:0,count:e.count}]);for(let U=0,S=v.length;U<S;++U){const N=v[U],P=N.start,G=N.count;for(let B=P,w=P+G;B<w;B+=3)g(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const b=new Ee,x=new Ee,I=new Ee,k=new Ee;function A(U){I.fromBufferAttribute(i,U),k.copy(I);const S=a[U];b.copy(S),b.sub(I.multiplyScalar(I.dot(S))).normalize(),x.crossVectors(k,S);const P=x.dot(l[U])<0?-1:1;s.setXYZW(U,b.x,b.y,b.z,P)}for(let U=0,S=v.length;U<S;++U){const N=v[U],P=N.start,G=N.count;for(let B=P,w=P+G;B<w;B+=3)A(e.getX(B+0)),A(e.getX(B+1)),A(e.getX(B+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new js(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Ee,o=new Ee,s=new Ee,a=new Ee,l=new Ee,c=new Ee,u=new Ee,d=new Ee;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,p),o.fromBufferAttribute(n,m),s.fromBufferAttribute(n,y),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(p,a.x,a.y,a.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)vr.fromBufferAttribute(e,n),vr.normalize(),e.setXYZ(n,vr.x,vr.y,vr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,y=l.length;m<y;m++){a.isInterleavedBufferAttribute?h=l[m]*a.data.stride+a.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new js(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new nc,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const qN=new Gn,cc=new xve,Tg=new X3,KN=new Ee,Mg=new Ee,Ig=new Ee,Rg=new Ee,ME=new Ee,Pg=new Ee,QN=new Ee,Ng=new Ee;class is extends Yr{constructor(e=new nc,n=new Pj){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){Pg.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(ME.fromBufferAttribute(d,e),s?Pg.addScaledVector(ME,u):Pg.addScaledVector(ME.sub(n),u))}n.add(Pg)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Tg.copy(r.boundingSphere),Tg.applyMatrix4(o),cc.copy(e.ray).recast(e.near),!(Tg.containsPoint(cc.origin)===!1&&(cc.intersectSphere(Tg,KN)===null||cc.origin.distanceToSquared(KN)>(e.far-e.near)**2))&&(qN.copy(o).invert(),cc.copy(e.ray).applyMatrix4(qN),!(r.boundingBox!==null&&cc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,cc)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,h=o.drawRange;if(a!==null)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const y=f[p],g=s[y.materialIndex],v=Math.max(y.start,h.start),b=Math.min(a.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,I=b;x<I;x+=3){const k=a.getX(x),A=a.getX(x+1),U=a.getX(x+2);i=kg(this,g,e,r,c,u,d,k,A,U),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let y=p,g=m;y<g;y+=3){const v=a.getX(y),b=a.getX(y+1),x=a.getX(y+2);i=kg(this,s,e,r,c,u,d,v,b,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const y=f[p],g=s[y.materialIndex],v=Math.max(y.start,h.start),b=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let x=v,I=b;x<I;x+=3){const k=x,A=x+1,U=x+2;i=kg(this,g,e,r,c,u,d,k,A,U),i&&(i.faceIndex=Math.floor(x/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let y=p,g=m;y<g;y+=3){const v=y,b=y+1,x=y+2;i=kg(this,s,e,r,c,u,d,v,b,x),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Rve(t,e,n,r,i,o,s,a){let l;if(e.side===Ui?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===ql,a),l===null)return null;Ng.copy(a),Ng.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Ng);return c<n.near||c>n.far?null:{distance:c,point:Ng.clone(),object:t}}function kg(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,Mg),t.getVertexPosition(l,Ig),t.getVertexPosition(c,Rg);const u=Rve(t,e,n,r,Mg,Ig,Rg,QN);if(u){const d=new Ee;ns.getBarycoord(QN,Mg,Ig,Rg,d),i&&(u.uv=ns.getInterpolatedAttribute(i,a,l,c,d,new sn)),o&&(u.uv1=ns.getInterpolatedAttribute(o,a,l,c,d,new sn)),s&&(u.normal=ns.getInterpolatedAttribute(s,a,l,c,d,new Ee),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Ee,materialIndex:0};ns.getNormal(Mg,Ig,Rg,f.normal),u.face=f,u.barycoord=d}return u}class A0 extends nc{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,n,e,s,o,0),p("z","y","x",1,-1,r,n,-e,s,o,1),p("x","z","y",1,1,e,r,n,i,s,2),p("x","z","y",1,-1,e,r,-n,i,s,3),p("x","y","z",1,-1,e,n,r,i,o,4),p("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Hs(c,3)),this.setAttribute("normal",new Hs(u,3)),this.setAttribute("uv",new Hs(d,2));function p(m,y,g,v,b,x,I,k,A,U,S){const N=x/A,P=I/U,G=x/2,B=I/2,w=k/2,E=A+1,M=U+1;let O=0,C=0;const H=new Ee;for(let W=0;W<M;W++){const D=W*P-B;for(let T=0;T<E;T++){const $=T*N-G;H[m]=$*v,H[y]=D*b,H[g]=w,c.push(H.x,H.y,H.z),H[m]=0,H[y]=0,H[g]=k>0?1:-1,u.push(H.x,H.y,H.z),d.push(T/A),d.push(1-W/U),O+=1}}for(let W=0;W<U;W++)for(let D=0;D<A;D++){const T=f+D+E*W,$=f+D+E*(W+1),J=f+(D+1)+E*(W+1),Z=f+(D+1)+E*W;l.push(T,$,Z),l.push($,J,Z),C+=6}a.addGroup(h,C,S),h+=C,f+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Lf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ei(t){const e={};for(let n=0;n<t.length;n++){const r=Lf(t[n]);for(const i in r)e[i]=r[i]}return e}function Pve(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Fj(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jt.workingColorSpace}const Nve={clone:Lf,merge:ei};var kve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Fve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Kl extends E0{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kve,this.fragmentShader=Fve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Lf(e.uniforms),this.uniformsGroups=Pve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Oj extends Yr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gn,this.projectionMatrix=new Gn,this.projectionMatrixInverse=new Gn,this.coordinateSystem=Sa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ul=new Ee,XN=new sn,YN=new sn;class Ji extends Oj{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=SS*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lE*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return SS*2*Math.atan(Math.tan(lE*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ul.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ul.x,ul.y).multiplyScalar(-e/ul.z),ul.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ul.x,ul.y).multiplyScalar(-e/ul.z)}getViewSize(e,n){return this.getViewBounds(e,XN,YN),n.subVectors(YN,XN)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(lE*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ld=-90,cd=1;class Ove extends Yr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ji(ld,cd,e,n);i.layers=this.layers,this.add(i);const o=new Ji(ld,cd,e,n);o.layers=this.layers,this.add(o);const s=new Ji(ld,cd,e,n);s.layers=this.layers,this.add(s);const a=new Ji(ld,cd,e,n);a.layers=this.layers,this.add(a);const l=new Ji(ld,cd,e,n);l.layers=this.layers,this.add(l);const c=new Ji(ld,cd,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===Sa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ow)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Bj extends Xr{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:kf,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Bve extends _u{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Bj(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ri}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new A0(5,5,5),o=new Kl({name:"CubemapFromEquirect",uniforms:Lf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ui,blending:Dl});o.uniforms.tEquirect.value=n;const s=new is(i,o),a=n.minFilter;return n.minFilter===Gc&&(n.minFilter=Ri),new Ove(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const IE=new Ee,Lve=new Ee,Dve=new Lt;class yc{constructor(e=new Ee(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=IE.subVectors(r,n).cross(Lve.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(IE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Dve.getNormalMatrix(e),i=this.coplanarPoint(IE).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const uc=new X3,Fg=new Ee;class Y3{constructor(e=new yc,n=new yc,r=new yc,i=new yc,o=new yc,s=new yc){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Sa){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],m=i[10],y=i[11],g=i[12],v=i[13],b=i[14],x=i[15];if(r[0].setComponents(l-o,f-c,y-h,x-g).normalize(),r[1].setComponents(l+o,f+c,y+h,x+g).normalize(),r[2].setComponents(l+s,f+u,y+p,x+v).normalize(),r[3].setComponents(l-s,f-u,y-p,x-v).normalize(),r[4].setComponents(l-a,f-d,y-m,x-b).normalize(),n===Sa)r[5].setComponents(l+a,f+d,y+m,x+b).normalize();else if(n===ow)r[5].setComponents(a,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),uc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uc)}intersectsSprite(e){return uc.center.set(0,0,0),uc.radius=.7071067811865476,uc.applyMatrix4(e.matrixWorld),this.intersectsSphere(uc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Fg.x=i.normal.x>0?e.max.x:e.min.x,Fg.y=i.normal.y>0?e.max.y:e.min.y,Fg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Fg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Lj(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Uve(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class ub extends nc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,h=[],p=[],m=[],y=[];for(let g=0;g<u;g++){const v=g*f-s;for(let b=0;b<c;b++){const x=b*d-o;p.push(x,-v,0),m.push(0,0,1),y.push(b/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let v=0;v<a;v++){const b=v+c*g,x=v+c*(g+1),I=v+1+c*(g+1),k=v+1+c*g;h.push(b,x,k),h.push(x,I,k)}this.setIndex(h),this.setAttribute("position",new Hs(p,3)),this.setAttribute("normal",new Hs(m,3)),this.setAttribute("uv",new Hs(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ub(e.width,e.height,e.widthSegments,e.heightSegments)}}var zve=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jve=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Hve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Gve=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wve=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Vve=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$ve=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,qve=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Kve=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Qve=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Xve=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Yve=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Jve=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Zve=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ewe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,twe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,nwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,iwe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,owe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,swe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,awe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,lwe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cwe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dwe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fwe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,hwe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,pwe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mwe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gwe="gl_FragColor = linearToOutputTexel( gl_FragColor );",ywe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wwe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bwe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xwe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ewe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Awe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,_we=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Swe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Cwe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Twe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Mwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Iwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Rwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Pwe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Nwe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,kwe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Fwe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Owe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Bwe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Lwe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Dwe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Uwe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,zwe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jwe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Hwe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Gwe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Wwe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Vwe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,$we=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,qwe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Kwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Qwe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xwe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ywe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Jwe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Zwe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,e1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,t1e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,n1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,r1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,i1e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,o1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,a1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,l1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,c1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,u1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,d1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,f1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,h1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,p1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,m1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,g1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,y1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,v1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,w1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,b1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,x1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,E1e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,A1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,_1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,S1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,C1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,T1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,M1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,I1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,R1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,P1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,N1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,k1e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,F1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,O1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,B1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,L1e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,D1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const U1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,z1e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,j1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,H1e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,G1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,W1e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,V1e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,$1e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,q1e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,K1e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Q1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,X1e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Y1e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,J1e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Z1e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ebe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tbe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nbe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rbe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ibe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,obe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sbe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,abe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lbe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cbe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ube=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dbe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fbe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hbe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mbe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gbe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ybe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ut={alphahash_fragment:zve,alphahash_pars_fragment:jve,alphamap_fragment:Hve,alphamap_pars_fragment:Gve,alphatest_fragment:Wve,alphatest_pars_fragment:Vve,aomap_fragment:$ve,aomap_pars_fragment:qve,batching_pars_vertex:Kve,batching_vertex:Qve,begin_vertex:Xve,beginnormal_vertex:Yve,bsdfs:Jve,iridescence_fragment:Zve,bumpmap_pars_fragment:ewe,clipping_planes_fragment:twe,clipping_planes_pars_fragment:nwe,clipping_planes_pars_vertex:rwe,clipping_planes_vertex:iwe,color_fragment:owe,color_pars_fragment:swe,color_pars_vertex:awe,color_vertex:lwe,common:cwe,cube_uv_reflection_fragment:uwe,defaultnormal_vertex:dwe,displacementmap_pars_vertex:fwe,displacementmap_vertex:hwe,emissivemap_fragment:pwe,emissivemap_pars_fragment:mwe,colorspace_fragment:gwe,colorspace_pars_fragment:ywe,envmap_fragment:vwe,envmap_common_pars_fragment:wwe,envmap_pars_fragment:bwe,envmap_pars_vertex:xwe,envmap_physical_pars_fragment:Nwe,envmap_vertex:Ewe,fog_vertex:Awe,fog_pars_vertex:_we,fog_fragment:Swe,fog_pars_fragment:Cwe,gradientmap_pars_fragment:Twe,lightmap_pars_fragment:Mwe,lights_lambert_fragment:Iwe,lights_lambert_pars_fragment:Rwe,lights_pars_begin:Pwe,lights_toon_fragment:kwe,lights_toon_pars_fragment:Fwe,lights_phong_fragment:Owe,lights_phong_pars_fragment:Bwe,lights_physical_fragment:Lwe,lights_physical_pars_fragment:Dwe,lights_fragment_begin:Uwe,lights_fragment_maps:zwe,lights_fragment_end:jwe,logdepthbuf_fragment:Hwe,logdepthbuf_pars_fragment:Gwe,logdepthbuf_pars_vertex:Wwe,logdepthbuf_vertex:Vwe,map_fragment:$we,map_pars_fragment:qwe,map_particle_fragment:Kwe,map_particle_pars_fragment:Qwe,metalnessmap_fragment:Xwe,metalnessmap_pars_fragment:Ywe,morphinstance_vertex:Jwe,morphcolor_vertex:Zwe,morphnormal_vertex:e1e,morphtarget_pars_vertex:t1e,morphtarget_vertex:n1e,normal_fragment_begin:r1e,normal_fragment_maps:i1e,normal_pars_fragment:o1e,normal_pars_vertex:s1e,normal_vertex:a1e,normalmap_pars_fragment:l1e,clearcoat_normal_fragment_begin:c1e,clearcoat_normal_fragment_maps:u1e,clearcoat_pars_fragment:d1e,iridescence_pars_fragment:f1e,opaque_fragment:h1e,packing:p1e,premultiplied_alpha_fragment:m1e,project_vertex:g1e,dithering_fragment:y1e,dithering_pars_fragment:v1e,roughnessmap_fragment:w1e,roughnessmap_pars_fragment:b1e,shadowmap_pars_fragment:x1e,shadowmap_pars_vertex:E1e,shadowmap_vertex:A1e,shadowmask_pars_fragment:_1e,skinbase_vertex:S1e,skinning_pars_vertex:C1e,skinning_vertex:T1e,skinnormal_vertex:M1e,specularmap_fragment:I1e,specularmap_pars_fragment:R1e,tonemapping_fragment:P1e,tonemapping_pars_fragment:N1e,transmission_fragment:k1e,transmission_pars_fragment:F1e,uv_pars_fragment:O1e,uv_pars_vertex:B1e,uv_vertex:L1e,worldpos_vertex:D1e,background_vert:U1e,background_frag:z1e,backgroundCube_vert:j1e,backgroundCube_frag:H1e,cube_vert:G1e,cube_frag:W1e,depth_vert:V1e,depth_frag:$1e,distanceRGBA_vert:q1e,distanceRGBA_frag:K1e,equirect_vert:Q1e,equirect_frag:X1e,linedashed_vert:Y1e,linedashed_frag:J1e,meshbasic_vert:Z1e,meshbasic_frag:ebe,meshlambert_vert:tbe,meshlambert_frag:nbe,meshmatcap_vert:rbe,meshmatcap_frag:ibe,meshnormal_vert:obe,meshnormal_frag:sbe,meshphong_vert:abe,meshphong_frag:lbe,meshphysical_vert:cbe,meshphysical_frag:ube,meshtoon_vert:dbe,meshtoon_frag:fbe,points_vert:hbe,points_frag:pbe,shadow_vert:mbe,shadow_frag:gbe,sprite_vert:ybe,sprite_frag:vbe},st={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Lt}},envmap:{envMap:{value:null},envMapRotation:{value:new Lt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Lt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Lt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Lt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Lt},normalScale:{value:new sn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Lt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Lt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Lt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Lt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0},uvTransform:{value:new Lt}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new sn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}}},Rs={basic:{uniforms:ei([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:Ut.meshbasic_vert,fragmentShader:Ut.meshbasic_frag},lambert:{uniforms:ei([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new tn(0)}}]),vertexShader:Ut.meshlambert_vert,fragmentShader:Ut.meshlambert_frag},phong:{uniforms:ei([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:Ut.meshphong_vert,fragmentShader:Ut.meshphong_frag},standard:{uniforms:ei([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag},toon:{uniforms:ei([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new tn(0)}}]),vertexShader:Ut.meshtoon_vert,fragmentShader:Ut.meshtoon_frag},matcap:{uniforms:ei([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:Ut.meshmatcap_vert,fragmentShader:Ut.meshmatcap_frag},points:{uniforms:ei([st.points,st.fog]),vertexShader:Ut.points_vert,fragmentShader:Ut.points_frag},dashed:{uniforms:ei([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ut.linedashed_vert,fragmentShader:Ut.linedashed_frag},depth:{uniforms:ei([st.common,st.displacementmap]),vertexShader:Ut.depth_vert,fragmentShader:Ut.depth_frag},normal:{uniforms:ei([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:Ut.meshnormal_vert,fragmentShader:Ut.meshnormal_frag},sprite:{uniforms:ei([st.sprite,st.fog]),vertexShader:Ut.sprite_vert,fragmentShader:Ut.sprite_frag},background:{uniforms:{uvTransform:{value:new Lt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ut.background_vert,fragmentShader:Ut.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Lt}},vertexShader:Ut.backgroundCube_vert,fragmentShader:Ut.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ut.cube_vert,fragmentShader:Ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ut.equirect_vert,fragmentShader:Ut.equirect_frag},distanceRGBA:{uniforms:ei([st.common,st.displacementmap,{referencePosition:{value:new Ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ut.distanceRGBA_vert,fragmentShader:Ut.distanceRGBA_frag},shadow:{uniforms:ei([st.lights,st.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:Ut.shadow_vert,fragmentShader:Ut.shadow_frag}};Rs.physical={uniforms:ei([Rs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Lt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Lt},clearcoatNormalScale:{value:new sn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Lt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Lt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Lt},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Lt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Lt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Lt},transmissionSamplerSize:{value:new sn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Lt},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Lt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Lt},anisotropyVector:{value:new sn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Lt}}]),vertexShader:Ut.meshphysical_vert,fragmentShader:Ut.meshphysical_frag};const Og={r:0,b:0,g:0},dc=new Ks,wbe=new Gn;function bbe(t,e,n,r,i,o,s){const a=new tn(0);let l=o===!0?0:1,c,u,d=null,f=0,h=null;function p(v){let b=v.isScene===!0?v.background:null;return b&&b.isTexture&&(b=(v.backgroundBlurriness>0?n:e).get(b)),b}function m(v){let b=!1;const x=p(v);x===null?g(a,l):x&&x.isColor&&(g(x,1),b=!0);const I=t.xr.getEnvironmentBlendMode();I==="additive"?r.buffers.color.setClear(0,0,0,1,s):I==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(v,b){const x=p(b);x&&(x.isCubeTexture||x.mapping===lb)?(u===void 0&&(u=new is(new A0(1,1,1),new Kl({name:"BackgroundCubeMaterial",uniforms:Lf(Rs.backgroundCube.uniforms),vertexShader:Rs.backgroundCube.vertexShader,fragmentShader:Rs.backgroundCube.fragmentShader,side:Ui,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(I,k,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),dc.copy(b.backgroundRotation),dc.x*=-1,dc.y*=-1,dc.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(dc.y*=-1,dc.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(wbe.makeRotationFromEuler(dc)),u.material.toneMapped=Jt.getTransfer(x.colorSpace)!==mn,(d!==x||f!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new is(new ub(2,2),new Kl({name:"BackgroundMaterial",uniforms:Lf(Rs.background.uniforms),vertexShader:Rs.background.vertexShader,fragmentShader:Rs.background.fragmentShader,side:ql,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Jt.getTransfer(x.colorSpace)!==mn,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,b){v.getRGB(Og,Fj(t)),r.buffers.color.setClear(Og.r,Og.g,Og.b,b,s)}return{getClearColor:function(){return a},setClearColor:function(v,b=1){a.set(v),l=b,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:m,addToRenderList:y}}function xbe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,s=!1;function a(N,P,G,B,w){let E=!1;const M=d(B,G,P);o!==M&&(o=M,c(o.object)),E=h(N,B,G,w),E&&p(N,B,G,w),w!==null&&e.update(w,t.ELEMENT_ARRAY_BUFFER),(E||s)&&(s=!1,x(N,P,G,B),w!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(w).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function u(N){return t.deleteVertexArray(N)}function d(N,P,G){const B=G.wireframe===!0;let w=r[N.id];w===void 0&&(w={},r[N.id]=w);let E=w[P.id];E===void 0&&(E={},w[P.id]=E);let M=E[B];return M===void 0&&(M=f(l()),E[B]=M),M}function f(N){const P=[],G=[],B=[];for(let w=0;w<n;w++)P[w]=0,G[w]=0,B[w]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:G,attributeDivisors:B,object:N,attributes:{},index:null}}function h(N,P,G,B){const w=o.attributes,E=P.attributes;let M=0;const O=G.getAttributes();for(const C in O)if(O[C].location>=0){const W=w[C];let D=E[C];if(D===void 0&&(C==="instanceMatrix"&&N.instanceMatrix&&(D=N.instanceMatrix),C==="instanceColor"&&N.instanceColor&&(D=N.instanceColor)),W===void 0||W.attribute!==D||D&&W.data!==D.data)return!0;M++}return o.attributesNum!==M||o.index!==B}function p(N,P,G,B){const w={},E=P.attributes;let M=0;const O=G.getAttributes();for(const C in O)if(O[C].location>=0){let W=E[C];W===void 0&&(C==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),C==="instanceColor"&&N.instanceColor&&(W=N.instanceColor));const D={};D.attribute=W,W&&W.data&&(D.data=W.data),w[C]=D,M++}o.attributes=w,o.attributesNum=M,o.index=B}function m(){const N=o.newAttributes;for(let P=0,G=N.length;P<G;P++)N[P]=0}function y(N){g(N,0)}function g(N,P){const G=o.newAttributes,B=o.enabledAttributes,w=o.attributeDivisors;G[N]=1,B[N]===0&&(t.enableVertexAttribArray(N),B[N]=1),w[N]!==P&&(t.vertexAttribDivisor(N,P),w[N]=P)}function v(){const N=o.newAttributes,P=o.enabledAttributes;for(let G=0,B=P.length;G<B;G++)P[G]!==N[G]&&(t.disableVertexAttribArray(G),P[G]=0)}function b(N,P,G,B,w,E,M){M===!0?t.vertexAttribIPointer(N,P,G,w,E):t.vertexAttribPointer(N,P,G,B,w,E)}function x(N,P,G,B){m();const w=B.attributes,E=G.getAttributes(),M=P.defaultAttributeValues;for(const O in E){const C=E[O];if(C.location>=0){let H=w[O];if(H===void 0&&(O==="instanceMatrix"&&N.instanceMatrix&&(H=N.instanceMatrix),O==="instanceColor"&&N.instanceColor&&(H=N.instanceColor)),H!==void 0){const W=H.normalized,D=H.itemSize,T=e.get(H);if(T===void 0)continue;const $=T.buffer,J=T.type,Z=T.bytesPerElement,ce=J===t.INT||J===t.UNSIGNED_INT||H.gpuType===W3;if(H.isInterleavedBufferAttribute){const ie=H.data,xe=ie.stride,ue=H.offset;if(ie.isInstancedInterleavedBuffer){for(let Ie=0;Ie<C.locationSize;Ie++)g(C.location+Ie,ie.meshPerAttribute);N.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let Ie=0;Ie<C.locationSize;Ie++)y(C.location+Ie);t.bindBuffer(t.ARRAY_BUFFER,$);for(let Ie=0;Ie<C.locationSize;Ie++)b(C.location+Ie,D/C.locationSize,J,W,xe*Z,(ue+D/C.locationSize*Ie)*Z,ce)}else{if(H.isInstancedBufferAttribute){for(let ie=0;ie<C.locationSize;ie++)g(C.location+ie,H.meshPerAttribute);N.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let ie=0;ie<C.locationSize;ie++)y(C.location+ie);t.bindBuffer(t.ARRAY_BUFFER,$);for(let ie=0;ie<C.locationSize;ie++)b(C.location+ie,D/C.locationSize,J,W,D*Z,D/C.locationSize*ie*Z,ce)}}else if(M!==void 0){const W=M[O];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(C.location,W);break;case 3:t.vertexAttrib3fv(C.location,W);break;case 4:t.vertexAttrib4fv(C.location,W);break;default:t.vertexAttrib1fv(C.location,W)}}}}v()}function I(){U();for(const N in r){const P=r[N];for(const G in P){const B=P[G];for(const w in B)u(B[w].object),delete B[w];delete P[G]}delete r[N]}}function k(N){if(r[N.id]===void 0)return;const P=r[N.id];for(const G in P){const B=P[G];for(const w in B)u(B[w].object),delete B[w];delete P[G]}delete r[N.id]}function A(N){for(const P in r){const G=r[P];if(G[N.id]===void 0)continue;const B=G[N.id];for(const w in B)u(B[w].object),delete B[w];delete G[N.id]}}function U(){S(),s=!0,o!==i&&(o=i,c(o.object))}function S(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:U,resetDefaultState:S,dispose:I,releaseStatesOfGeometry:k,releaseStatesOfProgram:A,initAttributes:m,enableAttribute:y,disableUnusedAttributes:v}}function Ebe(t,e,n){let r;function i(c){r=c}function o(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function s(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];n.update(p,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Abe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(A){return!(A!==rs&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(A){const U=A===v0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==Ha&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==_a&&!U)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),I=p>0,k=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:v,maxVaryings:b,maxFragmentUniforms:x,vertexTextures:I,maxSamples:k}}function _be(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new yc,a=new Lt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||p===null||p.length===0||o&&!y)o?u(null):c();else{const v=o?0:r,b=v*4;let x=g.clippingState||null;l.value=x,x=u(p,f,b,h);for(let I=0;I!==b;++I)x[I]=n[I];g.clippingState=x,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let y=null;if(m!==0){if(y=l.value,p!==!0||y===null){const g=h+m*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(y===null||y.length<g)&&(y=new Float32Array(g));for(let b=0,x=h;b!==m;++b,x+=4)s.copy(d[b]).applyMatrix4(v,a),s.normal.toArray(y,x),y[x+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,y}}function Sbe(t){let e=new WeakMap;function n(s,a){return a===Q2?s.mapping=kf:a===X2&&(s.mapping=Ff),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===Q2||a===X2)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new Bve(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Dj extends Oj{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Rd=4,JN=[.125,.215,.35,.446,.526,.582],Cc=20,RE=new Dj,ZN=new tn;let PE=null,NE=0,kE=0,FE=!1;const vc=(1+Math.sqrt(5))/2,ud=1/vc,ek=[new Ee(-vc,ud,0),new Ee(vc,ud,0),new Ee(-ud,0,vc),new Ee(ud,0,vc),new Ee(0,vc,-ud),new Ee(0,vc,ud),new Ee(-1,1,-1),new Ee(1,1,-1),new Ee(-1,1,1),new Ee(1,1,1)];class tk{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){PE=this._renderer.getRenderTarget(),NE=this._renderer.getActiveCubeFace(),kE=this._renderer.getActiveMipmapLevel(),FE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ik(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(PE,NE,kE),this._renderer.xr.enabled=FE,e.scissorTest=!1,Bg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===kf||e.mapping===Ff?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),PE=this._renderer.getRenderTarget(),NE=this._renderer.getActiveCubeFace(),kE=this._renderer.getActiveMipmapLevel(),FE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Ri,minFilter:Ri,generateMipmaps:!1,type:v0,format:rs,colorSpace:ch,depthBuffer:!1},i=nk(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nk(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Cbe(o)),this._blurMaterial=Tbe(o,e,n)}return i}_compileMaterial(e){const n=new is(this._lodPlanes[0],e);this._renderer.compile(n,RE)}_sceneToCubeUV(e,n,r,i){const a=new Ji(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(ZN),u.toneMapping=Ul,u.autoClear=!1;const h=new Pj({name:"PMREM.Background",side:Ui,depthWrite:!1,depthTest:!1}),p=new is(new A0,h);let m=!1;const y=e.background;y?y.isColor&&(h.color.copy(y),e.background=null,m=!0):(h.color.copy(ZN),m=!0);for(let g=0;g<6;g++){const v=g%3;v===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):v===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;Bg(i,v*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===kf||e.mapping===Ff;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ik()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rk());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new is(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;Bg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,RE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=ek[(i-o-1)%ek.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new is(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Cc-1),m=o/p,y=isFinite(o)?1+Math.floor(u*m):Cc;y>Cc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Cc}`);const g=[];let v=0;for(let A=0;A<Cc;++A){const U=A/m,S=Math.exp(-U*U/2);g.push(S),A===0?v+=S:A<y&&(v+=2*S)}for(let A=0;A<g.length;A++)g[A]=g[A]/v;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=g,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const x=this._sizeLods[i],I=3*x*(i>b-Rd?i-b+Rd:0),k=4*(this._cubeSize-x);Bg(n,I,k,3*x,2*x),l.setRenderTarget(n),l.render(d,RE)}}function Cbe(t){const e=[],n=[],r=[];let i=t;const o=t-Rd+1+JN.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-Rd?l=JN[s-t+Rd-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,y=2,g=1,v=new Float32Array(m*p*h),b=new Float32Array(y*p*h),x=new Float32Array(g*p*h);for(let k=0;k<h;k++){const A=k%3*2/3-1,U=k>2?0:-1,S=[A,U,0,A+2/3,U,0,A+2/3,U+1,0,A,U,0,A+2/3,U+1,0,A,U+1,0];v.set(S,m*p*k),b.set(f,y*p*k);const N=[k,k,k,k,k,k];x.set(N,g*p*k)}const I=new nc;I.setAttribute("position",new js(v,m)),I.setAttribute("uv",new js(b,y)),I.setAttribute("faceIndex",new js(x,g)),e.push(I),i>Rd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function nk(t,e,n){const r=new _u(t,e,n);return r.texture.mapping=lb,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Bg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Tbe(t,e,n){const r=new Float32Array(Cc),i=new Ee(0,1,0);return new Kl({name:"SphericalGaussianBlur",defines:{n:Cc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:J3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Dl,depthTest:!1,depthWrite:!1})}function rk(){return new Kl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:J3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Dl,depthTest:!1,depthWrite:!1})}function ik(){return new Kl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:J3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Dl,depthTest:!1,depthWrite:!1})}function J3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Mbe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Q2||l===X2,u=l===kf||l===Ff;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new tk(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new tk(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Ibe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&np("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Rbe(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);for(const p in f.morphAttributes){const m=f.morphAttributes[p];for(let y=0,g=m.length;y<g;y++)e.remove(m[y])}f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let y=0,g=m.length;y<g;y++)e.update(m[y],t.ARRAY_BUFFER)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const v=h.array;m=h.version;for(let b=0,x=v.length;b<x;b+=3){const I=v[b+0],k=v[b+1],A=v[b+2];f.push(I,k,k,A,A,I)}}else if(p!==void 0){const v=p.array;m=p.version;for(let b=0,x=v.length/3-1;b<x;b+=3){const I=b+0,k=b+1,A=b+2;f.push(I,k,k,A,A,I)}}else return;const y=new(Cj(f)?kj:Nj)(f,1);y.version=m;const g=o.get(d);g&&e.remove(g),o.set(d,y)}function u(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Pbe(t,e,n){let r;function i(f){r=f}let o,s;function a(f){o=f.type,s=f.bytesPerElement}function l(f,h){t.drawElements(r,h,o,f*s),n.update(h,r,1)}function c(f,h,p){p!==0&&(t.drawElementsInstanced(r,h,o,f*s,p),n.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,o,f,0,p);let y=0;for(let g=0;g<p;g++)y+=h[g];n.update(y,r,1)}function d(f,h,p,m){if(p===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let g=0;g<f.length;g++)c(f[g]/s,h[g],m[g]);else{y.multiDrawElementsInstancedWEBGL(r,h,0,o,f,0,m,0,p);let g=0;for(let v=0;v<p;v++)g+=h[v]*m[v];n.update(g,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Nbe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function kbe(t,e,n){const r=new WeakMap,i=new jn;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let h=function(){U.dispose(),r.delete(a),a.removeEventListener("dispose",h)};f!==void 0&&f.texture.dispose();const p=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],b=a.morphAttributes.color||[];let x=0;p===!0&&(x=1),m===!0&&(x=2),y===!0&&(x=3);let I=a.attributes.position.count*x,k=1;I>e.maxTextureSize&&(k=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const A=new Float32Array(I*k*4*d),U=new Mj(A,I,k,d);U.type=_a,U.needsUpdate=!0;const S=x*4;for(let N=0;N<d;N++){const P=g[N],G=v[N],B=b[N],w=I*k*4*N;for(let E=0;E<P.count;E++){const M=E*S;p===!0&&(i.fromBufferAttribute(P,E),A[w+M+0]=i.x,A[w+M+1]=i.y,A[w+M+2]=i.z,A[w+M+3]=0),m===!0&&(i.fromBufferAttribute(G,E),A[w+M+4]=i.x,A[w+M+5]=i.y,A[w+M+6]=i.z,A[w+M+7]=0),y===!0&&(i.fromBufferAttribute(B,E),A[w+M+8]=i.x,A[w+M+9]=i.y,A[w+M+10]=i.z,A[w+M+11]=B.itemSize===4?i.w:1)}}f={count:d,texture:U,size:new sn(I,k)},r.set(a,f),a.addEventListener("dispose",h)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let h=0;for(let m=0;m<c.length;m++)h+=c[m];const p=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",p),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function Fbe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class Uj extends Xr{constructor(e,n,r,i,o,s,a,l,c,u=Qd){if(u!==Qd&&u!==Bf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Qd&&(r=Au),r===void 0&&u===Bf&&(r=Of),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:cs,this.minFilter=l!==void 0?l:cs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const zj=new Xr,ok=new Uj(1,1),jj=new Mj,Hj=new wve,Gj=new Bj,sk=[],ak=[],lk=new Float32Array(16),ck=new Float32Array(9),uk=new Float32Array(4);function dh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=sk[i];if(o===void 0&&(o=new Float32Array(i),sk[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function mr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function db(t,e){let n=ak[e];n===void 0&&(n=new Int32Array(e),ak[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Obe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Bbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2fv(this.addr,e),gr(n,e)}}function Lbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mr(n,e))return;t.uniform3fv(this.addr,e),gr(n,e)}}function Dbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4fv(this.addr,e),gr(n,e)}}function Ube(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;uk.set(r),t.uniformMatrix2fv(this.addr,!1,uk),gr(n,r)}}function zbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;ck.set(r),t.uniformMatrix3fv(this.addr,!1,ck),gr(n,r)}}function jbe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;lk.set(r),t.uniformMatrix4fv(this.addr,!1,lk),gr(n,r)}}function Hbe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Gbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2iv(this.addr,e),gr(n,e)}}function Wbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3iv(this.addr,e),gr(n,e)}}function Vbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4iv(this.addr,e),gr(n,e)}}function $be(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function qbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2uiv(this.addr,e),gr(n,e)}}function Kbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3uiv(this.addr,e),gr(n,e)}}function Qbe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4uiv(this.addr,e),gr(n,e)}}function Xbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(ok.compareFunction=Sj,o=ok):o=zj,n.setTexture2D(e||o,i)}function Ybe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Hj,i)}function Jbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Gj,i)}function Zbe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||jj,i)}function exe(t){switch(t){case 5126:return Obe;case 35664:return Bbe;case 35665:return Lbe;case 35666:return Dbe;case 35674:return Ube;case 35675:return zbe;case 35676:return jbe;case 5124:case 35670:return Hbe;case 35667:case 35671:return Gbe;case 35668:case 35672:return Wbe;case 35669:case 35673:return Vbe;case 5125:return $be;case 36294:return qbe;case 36295:return Kbe;case 36296:return Qbe;case 35678:case 36198:case 36298:case 36306:case 35682:return Xbe;case 35679:case 36299:case 36307:return Ybe;case 35680:case 36300:case 36308:case 36293:return Jbe;case 36289:case 36303:case 36311:case 36292:return Zbe}}function txe(t,e){t.uniform1fv(this.addr,e)}function nxe(t,e){const n=dh(e,this.size,2);t.uniform2fv(this.addr,n)}function rxe(t,e){const n=dh(e,this.size,3);t.uniform3fv(this.addr,n)}function ixe(t,e){const n=dh(e,this.size,4);t.uniform4fv(this.addr,n)}function oxe(t,e){const n=dh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function sxe(t,e){const n=dh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function axe(t,e){const n=dh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function lxe(t,e){t.uniform1iv(this.addr,e)}function cxe(t,e){t.uniform2iv(this.addr,e)}function uxe(t,e){t.uniform3iv(this.addr,e)}function dxe(t,e){t.uniform4iv(this.addr,e)}function fxe(t,e){t.uniform1uiv(this.addr,e)}function hxe(t,e){t.uniform2uiv(this.addr,e)}function pxe(t,e){t.uniform3uiv(this.addr,e)}function mxe(t,e){t.uniform4uiv(this.addr,e)}function gxe(t,e,n){const r=this.cache,i=e.length,o=db(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||zj,o[s])}function yxe(t,e,n){const r=this.cache,i=e.length,o=db(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||Hj,o[s])}function vxe(t,e,n){const r=this.cache,i=e.length,o=db(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||Gj,o[s])}function wxe(t,e,n){const r=this.cache,i=e.length,o=db(n,i);mr(r,o)||(t.uniform1iv(this.addr,o),gr(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||jj,o[s])}function bxe(t){switch(t){case 5126:return txe;case 35664:return nxe;case 35665:return rxe;case 35666:return ixe;case 35674:return oxe;case 35675:return sxe;case 35676:return axe;case 5124:case 35670:return lxe;case 35667:case 35671:return cxe;case 35668:case 35672:return uxe;case 35669:case 35673:return dxe;case 5125:return fxe;case 36294:return hxe;case 36295:return pxe;case 36296:return mxe;case 35678:case 36198:case 36298:case 36306:case 35682:return gxe;case 35679:case 36299:case 36307:return yxe;case 35680:case 36300:case 36308:case 36293:return vxe;case 36289:case 36303:case 36311:case 36292:return wxe}}class xxe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=exe(n.type)}}class Exe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=bxe(n.type)}}class Axe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const OE=/(\w+)(\])?(\[|\.)?/g;function dk(t,e){t.seq.push(e),t.map[e.id]=e}function _xe(t,e,n){const r=t.name,i=r.length;for(OE.lastIndex=0;;){const o=OE.exec(r),s=OE.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){dk(n,c===void 0?new xxe(a,t,e):new Exe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Axe(a),dk(n,d)),n=d}}}class Hy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);_xe(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function fk(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Sxe=37297;let Cxe=0;function Txe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}const hk=new Lt;function Mxe(t){Jt._getMatrix(hk,Jt.workingColorSpace,t);const e=`mat3( ${hk.elements.map(n=>n.toFixed(4))} )`;switch(Jt.getTransfer(t)){case cb:return[e,"LinearTransferOETF"];case mn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function pk(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Txe(t.getShaderSource(e),s)}else return i}function Ixe(t,e){const n=Mxe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Rxe(t,e){let n;switch(e){case $ye:n="Linear";break;case qye:n="Reinhard";break;case Kye:n="Cineon";break;case Qye:n="ACESFilmic";break;case Yye:n="AgX";break;case Jye:n="Neutral";break;case Xye:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Lg=new Ee;function Pxe(){Jt.getLuminanceCoefficients(Lg);const t=Lg.x.toFixed(4),e=Lg.y.toFixed(4),n=Lg.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Nxe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rp).join(`
`)}function kxe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Fxe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function rp(t){return t!==""}function mk(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function gk(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function CS(t){return t.replace(Oxe,Lxe)}const Bxe=new Map;function Lxe(t,e){let n=Ut[e];if(n===void 0){const r=Bxe.get(e);if(r!==void 0)n=Ut[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return CS(n)}const Dxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yk(t){return t.replace(Dxe,Uxe)}function Uxe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function vk(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function zxe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===fj?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Sye?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===sa&&(e="SHADOWMAP_TYPE_VSM"),e}function jxe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case kf:case Ff:e="ENVMAP_TYPE_CUBE";break;case lb:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Hxe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ff:e="ENVMAP_MODE_REFRACTION";break}return e}function Gxe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case G3:e="ENVMAP_BLENDING_MULTIPLY";break;case Wye:e="ENVMAP_BLENDING_MIX";break;case Vye:e="ENVMAP_BLENDING_ADD";break}return e}function Wxe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Vxe(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=zxe(n),c=jxe(n),u=Hxe(n),d=Gxe(n),f=Wxe(n),h=Nxe(n),p=kxe(o),m=i.createProgram();let y,g,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(rp).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(rp).join(`
`),g.length>0&&(g+=`
`)):(y=[vk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rp).join(`
`),g=[vk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ul?"#define TONE_MAPPING":"",n.toneMapping!==Ul?Ut.tonemapping_pars_fragment:"",n.toneMapping!==Ul?Rxe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ut.colorspace_pars_fragment,Ixe("linearToOutputTexel",n.outputColorSpace),Pxe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(rp).join(`
`)),s=CS(s),s=mk(s,n),s=gk(s,n),a=CS(a),a=mk(a,n),a=gk(a,n),s=yk(s),a=yk(a),n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,y=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===PN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===PN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=v+y+s,x=v+g+a,I=fk(i,i.VERTEX_SHADER,b),k=fk(i,i.FRAGMENT_SHADER,x);i.attachShader(m,I),i.attachShader(m,k),n.index0AttributeName!==void 0?i.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function A(P){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(m).trim(),B=i.getShaderInfoLog(I).trim(),w=i.getShaderInfoLog(k).trim();let E=!0,M=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(E=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,m,I,k);else{const O=pk(i,I,"vertex"),C=pk(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+G+`
`+O+`
`+C)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(B===""||w==="")&&(M=!1);M&&(P.diagnostics={runnable:E,programLog:G,vertexShader:{log:B,prefix:y},fragmentShader:{log:w,prefix:g}})}i.deleteShader(I),i.deleteShader(k),U=new Hy(i,m),S=Fxe(i,m)}let U;this.getUniforms=function(){return U===void 0&&A(this),U};let S;this.getAttributes=function(){return S===void 0&&A(this),S};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(m,Sxe)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cxe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=I,this.fragmentShader=k,this}let $xe=0;class qxe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Kxe(e),n.set(e,r)),r}}class Kxe{constructor(e){this.id=$xe++,this.code=e,this.usedTimes=0}}function Qxe(t,e,n,r,i,o,s){const a=new Ij,l=new qxe,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return c.add(S),S===0?"uv":`uv${S}`}function y(S,N,P,G,B){const w=G.fog,E=B.geometry,M=S.isMeshStandardMaterial?G.environment:null,O=(S.isMeshStandardMaterial?n:e).get(S.envMap||M),C=O&&O.mapping===lb?O.image.height:null,H=p[S.type];S.precision!==null&&(h=i.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const W=E.morphAttributes.position||E.morphAttributes.normal||E.morphAttributes.color,D=W!==void 0?W.length:0;let T=0;E.morphAttributes.position!==void 0&&(T=1),E.morphAttributes.normal!==void 0&&(T=2),E.morphAttributes.color!==void 0&&(T=3);let $,J,Z,ce;if(H){const Mt=Rs[H];$=Mt.vertexShader,J=Mt.fragmentShader}else $=S.vertexShader,J=S.fragmentShader,l.update(S),Z=l.getVertexShaderID(S),ce=l.getFragmentShaderID(S);const ie=t.getRenderTarget(),xe=t.state.buffers.depth.getReversed(),ue=B.isInstancedMesh===!0,Ie=B.isBatchedMesh===!0,Ge=!!S.map,Fe=!!S.matcap,At=!!O,oe=!!S.aoMap,ct=!!S.lightMap,Tt=!!S.bumpMap,ut=!!S.normalMap,Ye=!!S.displacementMap,Nt=!!S.emissiveMap,nt=!!S.metalnessMap,X=!!S.roughnessMap,V=S.anisotropy>0,de=S.clearcoat>0,be=S.dispersion>0,Me=S.iridescence>0,me=S.sheen>0,j=S.transmission>0,_=V&&!!S.anisotropyMap,R=de&&!!S.clearcoatMap,Q=de&&!!S.clearcoatNormalMap,Y=de&&!!S.clearcoatRoughnessMap,ee=Me&&!!S.iridescenceMap,te=Me&&!!S.iridescenceThicknessMap,Be=me&&!!S.sheenColorMap,Ne=me&&!!S.sheenRoughnessMap,He=!!S.specularMap,dt=!!S.specularColorMap,et=!!S.specularIntensityMap,le=j&&!!S.transmissionMap,tt=j&&!!S.thicknessMap,we=!!S.gradientMap,Se=!!S.alphaMap,Je=S.alphaTest>0,ze=!!S.alphaHash,at=!!S.extensions;let dn=Ul;S.toneMapped&&(ie===null||ie.isXRRenderTarget===!0)&&(dn=t.toneMapping);const Ft={shaderID:H,shaderType:S.type,shaderName:S.name,vertexShader:$,fragmentShader:J,defines:S.defines,customVertexShaderID:Z,customFragmentShaderID:ce,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:h,batching:Ie,batchingColor:Ie&&B._colorsTexture!==null,instancing:ue,instancingColor:ue&&B.instanceColor!==null,instancingMorph:ue&&B.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:ie===null?t.outputColorSpace:ie.isXRRenderTarget===!0?ie.texture.colorSpace:ch,alphaToCoverage:!!S.alphaToCoverage,map:Ge,matcap:Fe,envMap:At,envMapMode:At&&O.mapping,envMapCubeUVHeight:C,aoMap:oe,lightMap:ct,bumpMap:Tt,normalMap:ut,displacementMap:f&&Ye,emissiveMap:Nt,normalMapObjectSpace:ut&&S.normalMapType===nve,normalMapTangentSpace:ut&&S.normalMapType===_j,metalnessMap:nt,roughnessMap:X,anisotropy:V,anisotropyMap:_,clearcoat:de,clearcoatMap:R,clearcoatNormalMap:Q,clearcoatRoughnessMap:Y,dispersion:be,iridescence:Me,iridescenceMap:ee,iridescenceThicknessMap:te,sheen:me,sheenColorMap:Be,sheenRoughnessMap:Ne,specularMap:He,specularColorMap:dt,specularIntensityMap:et,transmission:j,transmissionMap:le,thicknessMap:tt,gradientMap:we,opaque:S.transparent===!1&&S.blending===Kd&&S.alphaToCoverage===!1,alphaMap:Se,alphaTest:Je,alphaHash:ze,combine:S.combine,mapUv:Ge&&m(S.map.channel),aoMapUv:oe&&m(S.aoMap.channel),lightMapUv:ct&&m(S.lightMap.channel),bumpMapUv:Tt&&m(S.bumpMap.channel),normalMapUv:ut&&m(S.normalMap.channel),displacementMapUv:Ye&&m(S.displacementMap.channel),emissiveMapUv:Nt&&m(S.emissiveMap.channel),metalnessMapUv:nt&&m(S.metalnessMap.channel),roughnessMapUv:X&&m(S.roughnessMap.channel),anisotropyMapUv:_&&m(S.anisotropyMap.channel),clearcoatMapUv:R&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Y&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:te&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:Be&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:Ne&&m(S.sheenRoughnessMap.channel),specularMapUv:He&&m(S.specularMap.channel),specularColorMapUv:dt&&m(S.specularColorMap.channel),specularIntensityMapUv:et&&m(S.specularIntensityMap.channel),transmissionMapUv:le&&m(S.transmissionMap.channel),thicknessMapUv:tt&&m(S.thicknessMap.channel),alphaMapUv:Se&&m(S.alphaMap.channel),vertexTangents:!!E.attributes.tangent&&(ut||V),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!E.attributes.color&&E.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!E.attributes.uv&&(Ge||Se),fog:!!w,useFog:S.fog===!0,fogExp2:!!w&&w.isFogExp2,flatShading:S.flatShading===!0,sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:xe,skinning:B.isSkinnedMesh===!0,morphTargets:E.morphAttributes.position!==void 0,morphNormals:E.morphAttributes.normal!==void 0,morphColors:E.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:T,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:dn,decodeVideoTexture:Ge&&S.map.isVideoTexture===!0&&Jt.getTransfer(S.map.colorSpace)===mn,decodeVideoTextureEmissive:Nt&&S.emissiveMap.isVideoTexture===!0&&Jt.getTransfer(S.emissiveMap.colorSpace)===mn,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===va,flipSided:S.side===Ui,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:at&&S.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(at&&S.extensions.multiDraw===!0||Ie)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return Ft.vertexUv1s=c.has(1),Ft.vertexUv2s=c.has(2),Ft.vertexUv3s=c.has(3),c.clear(),Ft}function g(S){const N=[];if(S.shaderID?N.push(S.shaderID):(N.push(S.customVertexShaderID),N.push(S.customFragmentShaderID)),S.defines!==void 0)for(const P in S.defines)N.push(P),N.push(S.defines[P]);return S.isRawShaderMaterial===!1&&(v(N,S),b(N,S),N.push(t.outputColorSpace)),N.push(S.customProgramCacheKey),N.join()}function v(S,N){S.push(N.precision),S.push(N.outputColorSpace),S.push(N.envMapMode),S.push(N.envMapCubeUVHeight),S.push(N.mapUv),S.push(N.alphaMapUv),S.push(N.lightMapUv),S.push(N.aoMapUv),S.push(N.bumpMapUv),S.push(N.normalMapUv),S.push(N.displacementMapUv),S.push(N.emissiveMapUv),S.push(N.metalnessMapUv),S.push(N.roughnessMapUv),S.push(N.anisotropyMapUv),S.push(N.clearcoatMapUv),S.push(N.clearcoatNormalMapUv),S.push(N.clearcoatRoughnessMapUv),S.push(N.iridescenceMapUv),S.push(N.iridescenceThicknessMapUv),S.push(N.sheenColorMapUv),S.push(N.sheenRoughnessMapUv),S.push(N.specularMapUv),S.push(N.specularColorMapUv),S.push(N.specularIntensityMapUv),S.push(N.transmissionMapUv),S.push(N.thicknessMapUv),S.push(N.combine),S.push(N.fogExp2),S.push(N.sizeAttenuation),S.push(N.morphTargetsCount),S.push(N.morphAttributeCount),S.push(N.numDirLights),S.push(N.numPointLights),S.push(N.numSpotLights),S.push(N.numSpotLightMaps),S.push(N.numHemiLights),S.push(N.numRectAreaLights),S.push(N.numDirLightShadows),S.push(N.numPointLightShadows),S.push(N.numSpotLightShadows),S.push(N.numSpotLightShadowsWithMaps),S.push(N.numLightProbes),S.push(N.shadowMapType),S.push(N.toneMapping),S.push(N.numClippingPlanes),S.push(N.numClipIntersection),S.push(N.depthPacking)}function b(S,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),S.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.reverseDepthBuffer&&a.enable(4),N.skinning&&a.enable(5),N.morphTargets&&a.enable(6),N.morphNormals&&a.enable(7),N.morphColors&&a.enable(8),N.premultipliedAlpha&&a.enable(9),N.shadowMapEnabled&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),N.decodeVideoTextureEmissive&&a.enable(20),N.alphaToCoverage&&a.enable(21),S.push(a.mask)}function x(S){const N=p[S.type];let P;if(N){const G=Rs[N];P=Nve.clone(G.uniforms)}else P=S.uniforms;return P}function I(S,N){let P;for(let G=0,B=u.length;G<B;G++){const w=u[G];if(w.cacheKey===N){P=w,++P.usedTimes;break}}return P===void 0&&(P=new Vxe(t,N,S,o),u.push(P)),P}function k(S){if(--S.usedTimes===0){const N=u.indexOf(S);u[N]=u[u.length-1],u.pop(),S.destroy()}}function A(S){l.remove(S)}function U(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:x,acquireProgram:I,releaseProgram:k,releaseShaderCache:A,programs:u,dispose:U}}function Xxe(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,l){t.get(s)[a]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function Yxe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function bk(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=y),e++,g}function a(d,f,h,p,m,y){const g=s(d,f,h,p,m,y);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):n.push(g)}function l(d,f,h,p,m,y){const g=s(d,f,h,p,m,y);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):n.unshift(g)}function c(d,f){n.length>1&&n.sort(d||Yxe),r.length>1&&r.sort(f||wk),i.length>1&&i.sort(f||wk)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function Jxe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new bk,t.set(r,[s])):i>=o.length?(s=new bk,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Zxe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Ee,color:new tn};break;case"SpotLight":n={position:new Ee,direction:new Ee,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ee,color:new tn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ee,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":n={color:new tn,position:new Ee,halfWidth:new Ee,halfHeight:new Ee};break}return t[e.id]=n,n}}}function eEe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let tEe=0;function nEe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function rEe(t){const e=new Zxe,n=eEe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Ee);const i=new Ee,o=new Gn,s=new Gn;function a(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)r.probe[S].set(0,0,0);let h=0,p=0,m=0,y=0,g=0,v=0,b=0,x=0,I=0,k=0,A=0;c.sort(nEe);for(let S=0,N=c.length;S<N;S++){const P=c[S],G=P.color,B=P.intensity,w=P.distance,E=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)u+=G.r*B,d+=G.g*B,f+=G.b*B;else if(P.isLightProbe){for(let M=0;M<9;M++)r.probe[M].addScaledVector(P.sh.coefficients[M],B);A++}else if(P.isDirectionalLight){const M=e.get(P);if(M.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const O=P.shadow,C=n.get(P);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,r.directionalShadow[h]=C,r.directionalShadowMap[h]=E,r.directionalShadowMatrix[h]=P.shadow.matrix,v++}r.directional[h]=M,h++}else if(P.isSpotLight){const M=e.get(P);M.position.setFromMatrixPosition(P.matrixWorld),M.color.copy(G).multiplyScalar(B),M.distance=w,M.coneCos=Math.cos(P.angle),M.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),M.decay=P.decay,r.spot[m]=M;const O=P.shadow;if(P.map&&(r.spotLightMap[I]=P.map,I++,O.updateMatrices(P),P.castShadow&&k++),r.spotLightMatrix[m]=O.matrix,P.castShadow){const C=n.get(P);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,r.spotShadow[m]=C,r.spotShadowMap[m]=E,x++}m++}else if(P.isRectAreaLight){const M=e.get(P);M.color.copy(G).multiplyScalar(B),M.halfWidth.set(P.width*.5,0,0),M.halfHeight.set(0,P.height*.5,0),r.rectArea[y]=M,y++}else if(P.isPointLight){const M=e.get(P);if(M.color.copy(P.color).multiplyScalar(P.intensity),M.distance=P.distance,M.decay=P.decay,P.castShadow){const O=P.shadow,C=n.get(P);C.shadowIntensity=O.intensity,C.shadowBias=O.bias,C.shadowNormalBias=O.normalBias,C.shadowRadius=O.radius,C.shadowMapSize=O.mapSize,C.shadowCameraNear=O.camera.near,C.shadowCameraFar=O.camera.far,r.pointShadow[p]=C,r.pointShadowMap[p]=E,r.pointShadowMatrix[p]=P.shadow.matrix,b++}r.point[p]=M,p++}else if(P.isHemisphereLight){const M=e.get(P);M.skyColor.copy(P.color).multiplyScalar(B),M.groundColor.copy(P.groundColor).multiplyScalar(B),r.hemi[g]=M,g++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=st.LTC_FLOAT_1,r.rectAreaLTC2=st.LTC_FLOAT_2):(r.rectAreaLTC1=st.LTC_HALF_1,r.rectAreaLTC2=st.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const U=r.hash;(U.directionalLength!==h||U.pointLength!==p||U.spotLength!==m||U.rectAreaLength!==y||U.hemiLength!==g||U.numDirectionalShadows!==v||U.numPointShadows!==b||U.numSpotShadows!==x||U.numSpotMaps!==I||U.numLightProbes!==A)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=y,r.point.length=p,r.hemi.length=g,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=x+I-k,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=A,U.directionalLength=h,U.pointLength=p,U.spotLength=m,U.rectAreaLength=y,U.hemiLength=g,U.numDirectionalShadows=v,U.numPointShadows=b,U.numSpotShadows=x,U.numSpotMaps=I,U.numLightProbes=A,r.version=tEe++)}function l(c,u){let d=0,f=0,h=0,p=0,m=0;const y=u.matrixWorldInverse;for(let g=0,v=c.length;g<v;g++){const b=c[g];if(b.isDirectionalLight){const x=r.directional[d];x.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),d++}else if(b.isSpotLight){const x=r.spot[h];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),x.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),x.direction.sub(i),x.direction.transformDirection(y),h++}else if(b.isRectAreaLight){const x=r.rectArea[p];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),s.identity(),o.copy(b.matrixWorld),o.premultiply(y),s.extractRotation(o),x.halfWidth.set(b.width*.5,0,0),x.halfHeight.set(0,b.height*.5,0),x.halfWidth.applyMatrix4(s),x.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const x=r.point[f];x.position.setFromMatrixPosition(b.matrixWorld),x.position.applyMatrix4(y),f++}else if(b.isHemisphereLight){const x=r.hemi[m];x.direction.setFromMatrixPosition(b.matrixWorld),x.direction.transformDirection(y),m++}}}return{setup:a,setupView:l,state:r}}function xk(t){const e=new rEe(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function iEe(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new xk(t),e.set(i,[a])):o>=s.length?(a=new xk(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class oEe extends E0{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=eve,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class sEe extends E0{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const aEe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lEe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cEe(t,e,n){let r=new Y3;const i=new sn,o=new sn,s=new jn,a=new oEe({depthPacking:tve}),l=new sEe,c={},u=n.maxTextureSize,d={[ql]:Ui,[Ui]:ql,[va]:va},f=new Kl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new sn},radius:{value:4}},vertexShader:aEe,fragmentShader:lEe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new nc;p.setAttribute("position",new js(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new is(p,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fj;let g=this.type;this.render=function(k,A,U){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||k.length===0)return;const S=t.getRenderTarget(),N=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),G=t.state;G.setBlending(Dl),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);const B=g!==sa&&this.type===sa,w=g===sa&&this.type!==sa;for(let E=0,M=k.length;E<M;E++){const O=k[E],C=O.shadow;if(C===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;i.copy(C.mapSize);const H=C.getFrameExtents();if(i.multiply(H),o.copy(C.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/H.x),i.x=o.x*H.x,C.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/H.y),i.y=o.y*H.y,C.mapSize.y=o.y)),C.map===null||B===!0||w===!0){const D=this.type!==sa?{minFilter:cs,magFilter:cs}:{};C.map!==null&&C.map.dispose(),C.map=new _u(i.x,i.y,D),C.map.texture.name=O.name+".shadowMap",C.camera.updateProjectionMatrix()}t.setRenderTarget(C.map),t.clear();const W=C.getViewportCount();for(let D=0;D<W;D++){const T=C.getViewport(D);s.set(o.x*T.x,o.y*T.y,o.x*T.z,o.y*T.w),G.viewport(s),C.updateMatrices(O,D),r=C.getFrustum(),x(A,U,C.camera,O,this.type)}C.isPointLightShadow!==!0&&this.type===sa&&v(C,U),C.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(S,N,P)};function v(k,A){const U=e.update(m);f.defines.VSM_SAMPLES!==k.blurSamples&&(f.defines.VSM_SAMPLES=k.blurSamples,h.defines.VSM_SAMPLES=k.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new _u(i.x,i.y)),f.uniforms.shadow_pass.value=k.map.texture,f.uniforms.resolution.value=k.mapSize,f.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(A,null,U,f,m,null),h.uniforms.shadow_pass.value=k.mapPass.texture,h.uniforms.resolution.value=k.mapSize,h.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(A,null,U,h,m,null)}function b(k,A,U,S){let N=null;const P=U.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(P!==void 0)N=P;else if(N=U.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const G=N.uuid,B=A.uuid;let w=c[G];w===void 0&&(w={},c[G]=w);let E=w[B];E===void 0&&(E=N.clone(),w[B]=E,A.addEventListener("dispose",I)),N=E}if(N.visible=A.visible,N.wireframe=A.wireframe,S===sa?N.side=A.shadowSide!==null?A.shadowSide:A.side:N.side=A.shadowSide!==null?A.shadowSide:d[A.side],N.alphaMap=A.alphaMap,N.alphaTest=A.alphaTest,N.map=A.map,N.clipShadows=A.clipShadows,N.clippingPlanes=A.clippingPlanes,N.clipIntersection=A.clipIntersection,N.displacementMap=A.displacementMap,N.displacementScale=A.displacementScale,N.displacementBias=A.displacementBias,N.wireframeLinewidth=A.wireframeLinewidth,N.linewidth=A.linewidth,U.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const G=t.properties.get(N);G.light=U}return N}function x(k,A,U,S,N){if(k.visible===!1)return;if(k.layers.test(A.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&N===sa)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,k.matrixWorld);const B=e.update(k),w=k.material;if(Array.isArray(w)){const E=B.groups;for(let M=0,O=E.length;M<O;M++){const C=E[M],H=w[C.materialIndex];if(H&&H.visible){const W=b(k,H,S,N);k.onBeforeShadow(t,k,A,U,B,W,C),t.renderBufferDirect(U,null,B,W,k,C),k.onAfterShadow(t,k,A,U,B,W,C)}}}else if(w.visible){const E=b(k,w,S,N);k.onBeforeShadow(t,k,A,U,B,E,null),t.renderBufferDirect(U,null,B,E,k,null),k.onAfterShadow(t,k,A,U,B,E,null)}}const G=k.children;for(let B=0,w=G.length;B<w;B++)x(G[B],A,U,S,N)}function I(k){k.target.removeEventListener("dispose",I);for(const U in c){const S=c[U],N=k.target.uuid;N in S&&(S[N].dispose(),delete S[N])}}}const uEe={[H2]:G2,[W2]:q2,[V2]:K2,[Nf]:$2,[G2]:H2,[q2]:W2,[K2]:V2,[$2]:Nf};function dEe(t,e){function n(){let le=!1;const tt=new jn;let we=null;const Se=new jn(0,0,0,0);return{setMask:function(Je){we!==Je&&!le&&(t.colorMask(Je,Je,Je,Je),we=Je)},setLocked:function(Je){le=Je},setClear:function(Je,ze,at,dn,Ft){Ft===!0&&(Je*=dn,ze*=dn,at*=dn),tt.set(Je,ze,at,dn),Se.equals(tt)===!1&&(t.clearColor(Je,ze,at,dn),Se.copy(tt))},reset:function(){le=!1,we=null,Se.set(-1,0,0,0)}}}function r(){let le=!1,tt=!1,we=null,Se=null,Je=null;return{setReversed:function(ze){if(tt!==ze){const at=e.get("EXT_clip_control");tt?at.clipControlEXT(at.LOWER_LEFT_EXT,at.ZERO_TO_ONE_EXT):at.clipControlEXT(at.LOWER_LEFT_EXT,at.NEGATIVE_ONE_TO_ONE_EXT);const dn=Je;Je=null,this.setClear(dn)}tt=ze},getReversed:function(){return tt},setTest:function(ze){ze?ie(t.DEPTH_TEST):xe(t.DEPTH_TEST)},setMask:function(ze){we!==ze&&!le&&(t.depthMask(ze),we=ze)},setFunc:function(ze){if(tt&&(ze=uEe[ze]),Se!==ze){switch(ze){case H2:t.depthFunc(t.NEVER);break;case G2:t.depthFunc(t.ALWAYS);break;case W2:t.depthFunc(t.LESS);break;case Nf:t.depthFunc(t.LEQUAL);break;case V2:t.depthFunc(t.EQUAL);break;case $2:t.depthFunc(t.GEQUAL);break;case q2:t.depthFunc(t.GREATER);break;case K2:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Se=ze}},setLocked:function(ze){le=ze},setClear:function(ze){Je!==ze&&(tt&&(ze=1-ze),t.clearDepth(ze),Je=ze)},reset:function(){le=!1,we=null,Se=null,Je=null,tt=!1}}}function i(){let le=!1,tt=null,we=null,Se=null,Je=null,ze=null,at=null,dn=null,Ft=null;return{setTest:function(Mt){le||(Mt?ie(t.STENCIL_TEST):xe(t.STENCIL_TEST))},setMask:function(Mt){tt!==Mt&&!le&&(t.stencilMask(Mt),tt=Mt)},setFunc:function(Mt,lr,Kt){(we!==Mt||Se!==lr||Je!==Kt)&&(t.stencilFunc(Mt,lr,Kt),we=Mt,Se=lr,Je=Kt)},setOp:function(Mt,lr,Kt){(ze!==Mt||at!==lr||dn!==Kt)&&(t.stencilOp(Mt,lr,Kt),ze=Mt,at=lr,dn=Kt)},setLocked:function(Mt){le=Mt},setClear:function(Mt){Ft!==Mt&&(t.clearStencil(Mt),Ft=Mt)},reset:function(){le=!1,tt=null,we=null,Se=null,Je=null,ze=null,at=null,dn=null,Ft=null}}}const o=new n,s=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,y=null,g=null,v=null,b=null,x=null,I=null,k=null,A=new tn(0,0,0),U=0,S=!1,N=null,P=null,G=null,B=null,w=null;const E=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let M=!1,O=0;const C=t.getParameter(t.VERSION);C.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(C)[1]),M=O>=1):C.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),M=O>=2);let H=null,W={};const D=t.getParameter(t.SCISSOR_BOX),T=t.getParameter(t.VIEWPORT),$=new jn().fromArray(D),J=new jn().fromArray(T);function Z(le,tt,we,Se){const Je=new Uint8Array(4),ze=t.createTexture();t.bindTexture(le,ze),t.texParameteri(le,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(le,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let at=0;at<we;at++)le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY?t.texImage3D(tt,0,t.RGBA,1,1,Se,0,t.RGBA,t.UNSIGNED_BYTE,Je):t.texImage2D(tt+at,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Je);return ze}const ce={};ce[t.TEXTURE_2D]=Z(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=Z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=Z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=Z(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),ie(t.DEPTH_TEST),s.setFunc(Nf),Tt(!1),ut(SN),ie(t.CULL_FACE),oe(Dl);function ie(le){u[le]!==!0&&(t.enable(le),u[le]=!0)}function xe(le){u[le]!==!1&&(t.disable(le),u[le]=!1)}function ue(le,tt){return d[le]!==tt?(t.bindFramebuffer(le,tt),d[le]=tt,le===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=tt),le===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=tt),!0):!1}function Ie(le,tt){let we=h,Se=!1;if(le){we=f.get(tt),we===void 0&&(we=[],f.set(tt,we));const Je=le.textures;if(we.length!==Je.length||we[0]!==t.COLOR_ATTACHMENT0){for(let ze=0,at=Je.length;ze<at;ze++)we[ze]=t.COLOR_ATTACHMENT0+ze;we.length=Je.length,Se=!0}}else we[0]!==t.BACK&&(we[0]=t.BACK,Se=!0);Se&&t.drawBuffers(we)}function Ge(le){return p!==le?(t.useProgram(le),p=le,!0):!1}const Fe={[Sc]:t.FUNC_ADD,[Tye]:t.FUNC_SUBTRACT,[Mye]:t.FUNC_REVERSE_SUBTRACT};Fe[Iye]=t.MIN,Fe[Rye]=t.MAX;const At={[Pye]:t.ZERO,[Nye]:t.ONE,[kye]:t.SRC_COLOR,[z2]:t.SRC_ALPHA,[Uye]:t.SRC_ALPHA_SATURATE,[Lye]:t.DST_COLOR,[Oye]:t.DST_ALPHA,[Fye]:t.ONE_MINUS_SRC_COLOR,[j2]:t.ONE_MINUS_SRC_ALPHA,[Dye]:t.ONE_MINUS_DST_COLOR,[Bye]:t.ONE_MINUS_DST_ALPHA,[zye]:t.CONSTANT_COLOR,[jye]:t.ONE_MINUS_CONSTANT_COLOR,[Hye]:t.CONSTANT_ALPHA,[Gye]:t.ONE_MINUS_CONSTANT_ALPHA};function oe(le,tt,we,Se,Je,ze,at,dn,Ft,Mt){if(le===Dl){m===!0&&(xe(t.BLEND),m=!1);return}if(m===!1&&(ie(t.BLEND),m=!0),le!==Cye){if(le!==y||Mt!==S){if((g!==Sc||x!==Sc)&&(t.blendEquation(t.FUNC_ADD),g=Sc,x=Sc),Mt)switch(le){case Kd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case CN:t.blendFunc(t.ONE,t.ONE);break;case TN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MN:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case Kd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case CN:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case TN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MN:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}v=null,b=null,I=null,k=null,A.set(0,0,0),U=0,y=le,S=Mt}return}Je=Je||tt,ze=ze||we,at=at||Se,(tt!==g||Je!==x)&&(t.blendEquationSeparate(Fe[tt],Fe[Je]),g=tt,x=Je),(we!==v||Se!==b||ze!==I||at!==k)&&(t.blendFuncSeparate(At[we],At[Se],At[ze],At[at]),v=we,b=Se,I=ze,k=at),(dn.equals(A)===!1||Ft!==U)&&(t.blendColor(dn.r,dn.g,dn.b,Ft),A.copy(dn),U=Ft),y=le,S=!1}function ct(le,tt){le.side===va?xe(t.CULL_FACE):ie(t.CULL_FACE);let we=le.side===Ui;tt&&(we=!we),Tt(we),le.blending===Kd&&le.transparent===!1?oe(Dl):oe(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),s.setFunc(le.depthFunc),s.setTest(le.depthTest),s.setMask(le.depthWrite),o.setMask(le.colorWrite);const Se=le.stencilWrite;a.setTest(Se),Se&&(a.setMask(le.stencilWriteMask),a.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),a.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),Nt(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?ie(t.SAMPLE_ALPHA_TO_COVERAGE):xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Tt(le){N!==le&&(le?t.frontFace(t.CW):t.frontFace(t.CCW),N=le)}function ut(le){le!==Aye?(ie(t.CULL_FACE),le!==P&&(le===SN?t.cullFace(t.BACK):le===_ye?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):xe(t.CULL_FACE),P=le}function Ye(le){le!==G&&(M&&t.lineWidth(le),G=le)}function Nt(le,tt,we){le?(ie(t.POLYGON_OFFSET_FILL),(B!==tt||w!==we)&&(t.polygonOffset(tt,we),B=tt,w=we)):xe(t.POLYGON_OFFSET_FILL)}function nt(le){le?ie(t.SCISSOR_TEST):xe(t.SCISSOR_TEST)}function X(le){le===void 0&&(le=t.TEXTURE0+E-1),H!==le&&(t.activeTexture(le),H=le)}function V(le,tt,we){we===void 0&&(H===null?we=t.TEXTURE0+E-1:we=H);let Se=W[we];Se===void 0&&(Se={type:void 0,texture:void 0},W[we]=Se),(Se.type!==le||Se.texture!==tt)&&(H!==we&&(t.activeTexture(we),H=we),t.bindTexture(le,tt||ce[le]),Se.type=le,Se.texture=tt)}function de(){const le=W[H];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Me(){try{t.compressedTexImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function me(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function j(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function _(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function R(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Q(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Y(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ee(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function te(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Be(le){$.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),$.copy(le))}function Ne(le){J.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),J.copy(le))}function He(le,tt){let we=c.get(tt);we===void 0&&(we=new WeakMap,c.set(tt,we));let Se=we.get(le);Se===void 0&&(Se=t.getUniformBlockIndex(tt,le.name),we.set(le,Se))}function dt(le,tt){const Se=c.get(tt).get(le);l.get(tt)!==Se&&(t.uniformBlockBinding(tt,Se,le.__bindingPointIndex),l.set(tt,Se))}function et(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},H=null,W={},d={},f=new WeakMap,h=[],p=null,m=!1,y=null,g=null,v=null,b=null,x=null,I=null,k=null,A=new tn(0,0,0),U=0,S=!1,N=null,P=null,G=null,B=null,w=null,$.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:ie,disable:xe,bindFramebuffer:ue,drawBuffers:Ie,useProgram:Ge,setBlending:oe,setMaterial:ct,setFlipSided:Tt,setCullFace:ut,setLineWidth:Ye,setPolygonOffset:Nt,setScissorTest:nt,activeTexture:X,bindTexture:V,unbindTexture:de,compressedTexImage2D:be,compressedTexImage3D:Me,texImage2D:ee,texImage3D:te,updateUBOMapping:He,uniformBlockBinding:dt,texStorage2D:Q,texStorage3D:Y,texSubImage2D:me,texSubImage3D:j,compressedTexSubImage2D:_,compressedTexSubImage3D:R,scissor:Be,viewport:Ne,reset:et}}function Ek(t,e,n,r){const i=fEe(r);switch(n){case yj:return t*e;case wj:return t*e;case bj:return t*e*2;case xj:return t*e/i.components*i.byteLength;case q3:return t*e/i.components*i.byteLength;case Ej:return t*e*2/i.components*i.byteLength;case K3:return t*e*2/i.components*i.byteLength;case vj:return t*e*3/i.components*i.byteLength;case rs:return t*e*4/i.components*i.byteLength;case Q3:return t*e*4/i.components*i.byteLength;case Ly:case Dy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Uy:case zy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case eS:case nS:return Math.max(t,16)*Math.max(e,8)/4;case Z2:case tS:return Math.max(t,8)*Math.max(e,8)/2;case rS:case iS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case oS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case sS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case aS:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case lS:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case cS:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case uS:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case dS:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case fS:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case hS:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case pS:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case mS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case gS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case yS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case vS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case wS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case jy:case bS:case xS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Aj:case ES:return Math.ceil(t/4)*Math.ceil(e/4)*8;case AS:case _S:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function fEe(t){switch(t){case Ha:case pj:return{byteLength:1,components:1};case Fm:case mj:case v0:return{byteLength:2,components:1};case V3:case $3:return{byteLength:2,components:4};case Au:case W3:case _a:return{byteLength:4,components:1};case gj:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function hEe(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new sn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(X,V){return h?new OffscreenCanvas(X,V):Om("canvas")}function m(X,V,de){let be=1;const Me=nt(X);if((Me.width>de||Me.height>de)&&(be=de/Math.max(Me.width,Me.height)),be<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const me=Math.floor(be*Me.width),j=Math.floor(be*Me.height);d===void 0&&(d=p(me,j));const _=V?p(me,j):d;return _.width=me,_.height=j,_.getContext("2d").drawImage(X,0,0,me,j),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+me+"x"+j+")."),_}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),X;return X}function y(X){return X.generateMipmaps}function g(X){t.generateMipmap(X)}function v(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(X,V,de,be,Me=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let me=V;if(V===t.RED&&(de===t.FLOAT&&(me=t.R32F),de===t.HALF_FLOAT&&(me=t.R16F),de===t.UNSIGNED_BYTE&&(me=t.R8)),V===t.RED_INTEGER&&(de===t.UNSIGNED_BYTE&&(me=t.R8UI),de===t.UNSIGNED_SHORT&&(me=t.R16UI),de===t.UNSIGNED_INT&&(me=t.R32UI),de===t.BYTE&&(me=t.R8I),de===t.SHORT&&(me=t.R16I),de===t.INT&&(me=t.R32I)),V===t.RG&&(de===t.FLOAT&&(me=t.RG32F),de===t.HALF_FLOAT&&(me=t.RG16F),de===t.UNSIGNED_BYTE&&(me=t.RG8)),V===t.RG_INTEGER&&(de===t.UNSIGNED_BYTE&&(me=t.RG8UI),de===t.UNSIGNED_SHORT&&(me=t.RG16UI),de===t.UNSIGNED_INT&&(me=t.RG32UI),de===t.BYTE&&(me=t.RG8I),de===t.SHORT&&(me=t.RG16I),de===t.INT&&(me=t.RG32I)),V===t.RGB_INTEGER&&(de===t.UNSIGNED_BYTE&&(me=t.RGB8UI),de===t.UNSIGNED_SHORT&&(me=t.RGB16UI),de===t.UNSIGNED_INT&&(me=t.RGB32UI),de===t.BYTE&&(me=t.RGB8I),de===t.SHORT&&(me=t.RGB16I),de===t.INT&&(me=t.RGB32I)),V===t.RGBA_INTEGER&&(de===t.UNSIGNED_BYTE&&(me=t.RGBA8UI),de===t.UNSIGNED_SHORT&&(me=t.RGBA16UI),de===t.UNSIGNED_INT&&(me=t.RGBA32UI),de===t.BYTE&&(me=t.RGBA8I),de===t.SHORT&&(me=t.RGBA16I),de===t.INT&&(me=t.RGBA32I)),V===t.RGB&&de===t.UNSIGNED_INT_5_9_9_9_REV&&(me=t.RGB9_E5),V===t.RGBA){const j=Me?cb:Jt.getTransfer(be);de===t.FLOAT&&(me=t.RGBA32F),de===t.HALF_FLOAT&&(me=t.RGBA16F),de===t.UNSIGNED_BYTE&&(me=j===mn?t.SRGB8_ALPHA8:t.RGBA8),de===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),de===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function x(X,V){let de;return X?V===null||V===Au||V===Of?de=t.DEPTH24_STENCIL8:V===_a?de=t.DEPTH32F_STENCIL8:V===Fm&&(de=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Au||V===Of?de=t.DEPTH_COMPONENT24:V===_a?de=t.DEPTH_COMPONENT32F:V===Fm&&(de=t.DEPTH_COMPONENT16),de}function I(X,V){return y(X)===!0||X.isFramebufferTexture&&X.minFilter!==cs&&X.minFilter!==Ri?Math.log2(Math.max(V.width,V.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?V.mipmaps.length:1}function k(X){const V=X.target;V.removeEventListener("dispose",k),U(V),V.isVideoTexture&&u.delete(V)}function A(X){const V=X.target;V.removeEventListener("dispose",A),N(V)}function U(X){const V=r.get(X);if(V.__webglInit===void 0)return;const de=X.source,be=f.get(de);if(be){const Me=be[V.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&S(X),Object.keys(be).length===0&&f.delete(de)}r.remove(X)}function S(X){const V=r.get(X);t.deleteTexture(V.__webglTexture);const de=X.source,be=f.get(de);delete be[V.__cacheKey],s.memory.textures--}function N(X){const V=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let be=0;be<6;be++){if(Array.isArray(V.__webglFramebuffer[be]))for(let Me=0;Me<V.__webglFramebuffer[be].length;Me++)t.deleteFramebuffer(V.__webglFramebuffer[be][Me]);else t.deleteFramebuffer(V.__webglFramebuffer[be]);V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[be])}else{if(Array.isArray(V.__webglFramebuffer))for(let be=0;be<V.__webglFramebuffer.length;be++)t.deleteFramebuffer(V.__webglFramebuffer[be]);else t.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let be=0;be<V.__webglColorRenderbuffer.length;be++)V.__webglColorRenderbuffer[be]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[be]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const de=X.textures;for(let be=0,Me=de.length;be<Me;be++){const me=r.get(de[be]);me.__webglTexture&&(t.deleteTexture(me.__webglTexture),s.memory.textures--),r.remove(de[be])}r.remove(X)}let P=0;function G(){P=0}function B(){const X=P;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),P+=1,X}function w(X){const V=[];return V.push(X.wrapS),V.push(X.wrapT),V.push(X.wrapR||0),V.push(X.magFilter),V.push(X.minFilter),V.push(X.anisotropy),V.push(X.internalFormat),V.push(X.format),V.push(X.type),V.push(X.generateMipmaps),V.push(X.premultiplyAlpha),V.push(X.flipY),V.push(X.unpackAlignment),V.push(X.colorSpace),V.join()}function E(X,V){const de=r.get(X);if(X.isVideoTexture&&Ye(X),X.isRenderTargetTexture===!1&&X.version>0&&de.__version!==X.version){const be=X.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(de,X,V);return}}n.bindTexture(t.TEXTURE_2D,de.__webglTexture,t.TEXTURE0+V)}function M(X,V){const de=r.get(X);if(X.version>0&&de.__version!==X.version){J(de,X,V);return}n.bindTexture(t.TEXTURE_2D_ARRAY,de.__webglTexture,t.TEXTURE0+V)}function O(X,V){const de=r.get(X);if(X.version>0&&de.__version!==X.version){J(de,X,V);return}n.bindTexture(t.TEXTURE_3D,de.__webglTexture,t.TEXTURE0+V)}function C(X,V){const de=r.get(X);if(X.version>0&&de.__version!==X.version){Z(de,X,V);return}n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture,t.TEXTURE0+V)}const H={[Y2]:t.REPEAT,[Hc]:t.CLAMP_TO_EDGE,[J2]:t.MIRRORED_REPEAT},W={[cs]:t.NEAREST,[Zye]:t.NEAREST_MIPMAP_NEAREST,[yg]:t.NEAREST_MIPMAP_LINEAR,[Ri]:t.LINEAR,[aE]:t.LINEAR_MIPMAP_NEAREST,[Gc]:t.LINEAR_MIPMAP_LINEAR},D={[rve]:t.NEVER,[cve]:t.ALWAYS,[ive]:t.LESS,[Sj]:t.LEQUAL,[ove]:t.EQUAL,[lve]:t.GEQUAL,[sve]:t.GREATER,[ave]:t.NOTEQUAL};function T(X,V){if(V.type===_a&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===Ri||V.magFilter===aE||V.magFilter===yg||V.magFilter===Gc||V.minFilter===Ri||V.minFilter===aE||V.minFilter===yg||V.minFilter===Gc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,H[V.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,H[V.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,H[V.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,W[V.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,W[V.minFilter]),V.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,D[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===cs||V.minFilter!==yg&&V.minFilter!==Gc||V.type===_a&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||r.get(V).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,i.getMaxAnisotropy())),r.get(V).__currentAnisotropy=V.anisotropy}}}function $(X,V){let de=!1;X.__webglInit===void 0&&(X.__webglInit=!0,V.addEventListener("dispose",k));const be=V.source;let Me=f.get(be);Me===void 0&&(Me={},f.set(be,Me));const me=w(V);if(me!==X.__cacheKey){Me[me]===void 0&&(Me[me]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,de=!0),Me[me].usedTimes++;const j=Me[X.__cacheKey];j!==void 0&&(Me[X.__cacheKey].usedTimes--,j.usedTimes===0&&S(V)),X.__cacheKey=me,X.__webglTexture=Me[me].texture}return de}function J(X,V,de){let be=t.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(be=t.TEXTURE_2D_ARRAY),V.isData3DTexture&&(be=t.TEXTURE_3D);const Me=$(X,V),me=V.source;n.bindTexture(be,X.__webglTexture,t.TEXTURE0+de);const j=r.get(me);if(me.version!==j.__version||Me===!0){n.activeTexture(t.TEXTURE0+de);const _=Jt.getPrimaries(Jt.workingColorSpace),R=V.colorSpace===bl?null:Jt.getPrimaries(V.colorSpace),Q=V.colorSpace===bl||_===R?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Q);let Y=m(V.image,!1,i.maxTextureSize);Y=Nt(V,Y);const ee=o.convert(V.format,V.colorSpace),te=o.convert(V.type);let Be=b(V.internalFormat,ee,te,V.colorSpace,V.isVideoTexture);T(be,V);let Ne;const He=V.mipmaps,dt=V.isVideoTexture!==!0,et=j.__version===void 0||Me===!0,le=me.dataReady,tt=I(V,Y);if(V.isDepthTexture)Be=x(V.format===Bf,V.type),et&&(dt?n.texStorage2D(t.TEXTURE_2D,1,Be,Y.width,Y.height):n.texImage2D(t.TEXTURE_2D,0,Be,Y.width,Y.height,0,ee,te,null));else if(V.isDataTexture)if(He.length>0){dt&&et&&n.texStorage2D(t.TEXTURE_2D,tt,Be,He[0].width,He[0].height);for(let we=0,Se=He.length;we<Se;we++)Ne=He[we],dt?le&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,Ne.width,Ne.height,ee,te,Ne.data):n.texImage2D(t.TEXTURE_2D,we,Be,Ne.width,Ne.height,0,ee,te,Ne.data);V.generateMipmaps=!1}else dt?(et&&n.texStorage2D(t.TEXTURE_2D,tt,Be,Y.width,Y.height),le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Y.width,Y.height,ee,te,Y.data)):n.texImage2D(t.TEXTURE_2D,0,Be,Y.width,Y.height,0,ee,te,Y.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){dt&&et&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,Be,He[0].width,He[0].height,Y.depth);for(let we=0,Se=He.length;we<Se;we++)if(Ne=He[we],V.format!==rs)if(ee!==null)if(dt){if(le)if(V.layerUpdates.size>0){const Je=Ek(Ne.width,Ne.height,V.format,V.type);for(const ze of V.layerUpdates){const at=Ne.data.subarray(ze*Je/Ne.data.BYTES_PER_ELEMENT,(ze+1)*Je/Ne.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,ze,Ne.width,Ne.height,1,ee,at)}V.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,Ne.width,Ne.height,Y.depth,ee,Ne.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,we,Be,Ne.width,Ne.height,Y.depth,0,Ne.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else dt?le&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,Ne.width,Ne.height,Y.depth,ee,te,Ne.data):n.texImage3D(t.TEXTURE_2D_ARRAY,we,Be,Ne.width,Ne.height,Y.depth,0,ee,te,Ne.data)}else{dt&&et&&n.texStorage2D(t.TEXTURE_2D,tt,Be,He[0].width,He[0].height);for(let we=0,Se=He.length;we<Se;we++)Ne=He[we],V.format!==rs?ee!==null?dt?le&&n.compressedTexSubImage2D(t.TEXTURE_2D,we,0,0,Ne.width,Ne.height,ee,Ne.data):n.compressedTexImage2D(t.TEXTURE_2D,we,Be,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?le&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,Ne.width,Ne.height,ee,te,Ne.data):n.texImage2D(t.TEXTURE_2D,we,Be,Ne.width,Ne.height,0,ee,te,Ne.data)}else if(V.isDataArrayTexture)if(dt){if(et&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,Be,Y.width,Y.height,Y.depth),le)if(V.layerUpdates.size>0){const we=Ek(Y.width,Y.height,V.format,V.type);for(const Se of V.layerUpdates){const Je=Y.data.subarray(Se*we/Y.data.BYTES_PER_ELEMENT,(Se+1)*we/Y.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Se,Y.width,Y.height,1,ee,te,Je)}V.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Y.width,Y.height,Y.depth,ee,te,Y.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Be,Y.width,Y.height,Y.depth,0,ee,te,Y.data);else if(V.isData3DTexture)dt?(et&&n.texStorage3D(t.TEXTURE_3D,tt,Be,Y.width,Y.height,Y.depth),le&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Y.width,Y.height,Y.depth,ee,te,Y.data)):n.texImage3D(t.TEXTURE_3D,0,Be,Y.width,Y.height,Y.depth,0,ee,te,Y.data);else if(V.isFramebufferTexture){if(et)if(dt)n.texStorage2D(t.TEXTURE_2D,tt,Be,Y.width,Y.height);else{let we=Y.width,Se=Y.height;for(let Je=0;Je<tt;Je++)n.texImage2D(t.TEXTURE_2D,Je,Be,we,Se,0,ee,te,null),we>>=1,Se>>=1}}else if(He.length>0){if(dt&&et){const we=nt(He[0]);n.texStorage2D(t.TEXTURE_2D,tt,Be,we.width,we.height)}for(let we=0,Se=He.length;we<Se;we++)Ne=He[we],dt?le&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,ee,te,Ne):n.texImage2D(t.TEXTURE_2D,we,Be,ee,te,Ne);V.generateMipmaps=!1}else if(dt){if(et){const we=nt(Y);n.texStorage2D(t.TEXTURE_2D,tt,Be,we.width,we.height)}le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ee,te,Y)}else n.texImage2D(t.TEXTURE_2D,0,Be,ee,te,Y);y(V)&&g(be),j.__version=me.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function Z(X,V,de){if(V.image.length!==6)return;const be=$(X,V),Me=V.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+de);const me=r.get(Me);if(Me.version!==me.__version||be===!0){n.activeTexture(t.TEXTURE0+de);const j=Jt.getPrimaries(Jt.workingColorSpace),_=V.colorSpace===bl?null:Jt.getPrimaries(V.colorSpace),R=V.colorSpace===bl||j===_?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,V.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,V.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,R);const Q=V.isCompressedTexture||V.image[0].isCompressedTexture,Y=V.image[0]&&V.image[0].isDataTexture,ee=[];for(let Se=0;Se<6;Se++)!Q&&!Y?ee[Se]=m(V.image[Se],!0,i.maxCubemapSize):ee[Se]=Y?V.image[Se].image:V.image[Se],ee[Se]=Nt(V,ee[Se]);const te=ee[0],Be=o.convert(V.format,V.colorSpace),Ne=o.convert(V.type),He=b(V.internalFormat,Be,Ne,V.colorSpace),dt=V.isVideoTexture!==!0,et=me.__version===void 0||be===!0,le=Me.dataReady;let tt=I(V,te);T(t.TEXTURE_CUBE_MAP,V);let we;if(Q){dt&&et&&n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,He,te.width,te.height);for(let Se=0;Se<6;Se++){we=ee[Se].mipmaps;for(let Je=0;Je<we.length;Je++){const ze=we[Je];V.format!==rs?Be!==null?dt?le&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je,0,0,ze.width,ze.height,Be,ze.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je,He,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):dt?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je,0,0,ze.width,ze.height,Be,Ne,ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je,He,ze.width,ze.height,0,Be,Ne,ze.data)}}}else{if(we=V.mipmaps,dt&&et){we.length>0&&tt++;const Se=nt(ee[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,He,Se.width,Se.height)}for(let Se=0;Se<6;Se++)if(Y){dt?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,ee[Se].width,ee[Se].height,Be,Ne,ee[Se].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,He,ee[Se].width,ee[Se].height,0,Be,Ne,ee[Se].data);for(let Je=0;Je<we.length;Je++){const at=we[Je].image[Se].image;dt?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je+1,0,0,at.width,at.height,Be,Ne,at.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je+1,He,at.width,at.height,0,Be,Ne,at.data)}}else{dt?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,Be,Ne,ee[Se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,He,Be,Ne,ee[Se]);for(let Je=0;Je<we.length;Je++){const ze=we[Je];dt?le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je+1,0,0,Be,Ne,ze.image[Se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Je+1,He,Be,Ne,ze.image[Se])}}}y(V)&&g(t.TEXTURE_CUBE_MAP),me.__version=Me.version,V.onUpdate&&V.onUpdate(V)}X.__version=V.version}function ce(X,V,de,be,Me,me){const j=o.convert(de.format,de.colorSpace),_=o.convert(de.type),R=b(de.internalFormat,j,_,de.colorSpace),Q=r.get(V),Y=r.get(de);if(Y.__renderTarget=V,!Q.__hasExternalTextures){const ee=Math.max(1,V.width>>me),te=Math.max(1,V.height>>me);Me===t.TEXTURE_3D||Me===t.TEXTURE_2D_ARRAY?n.texImage3D(Me,me,R,ee,te,V.depth,0,j,_,null):n.texImage2D(Me,me,R,ee,te,0,j,_,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),ut(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,be,Me,Y.__webglTexture,0,Tt(V)):(Me===t.TEXTURE_2D||Me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,be,Me,Y.__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ie(X,V,de){if(t.bindRenderbuffer(t.RENDERBUFFER,X),V.depthBuffer){const be=V.depthTexture,Me=be&&be.isDepthTexture?be.type:null,me=x(V.stencilBuffer,Me),j=V.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,_=Tt(V);ut(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_,me,V.width,V.height):de?t.renderbufferStorageMultisample(t.RENDERBUFFER,_,me,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,me,V.width,V.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,j,t.RENDERBUFFER,X)}else{const be=V.textures;for(let Me=0;Me<be.length;Me++){const me=be[Me],j=o.convert(me.format,me.colorSpace),_=o.convert(me.type),R=b(me.internalFormat,j,_,me.colorSpace),Q=Tt(V);de&&ut(V)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Q,R,V.width,V.height):ut(V)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Q,R,V.width,V.height):t.renderbufferStorage(t.RENDERBUFFER,R,V.width,V.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function xe(X,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const be=r.get(V.depthTexture);be.__renderTarget=V,(!be.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),E(V.depthTexture,0);const Me=be.__webglTexture,me=Tt(V);if(V.depthTexture.format===Qd)ut(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0,me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0);else if(V.depthTexture.format===Bf)ut(V)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0,me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function ue(X){const V=r.get(X),de=X.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==X.depthTexture){const be=X.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),be){const Me=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,be.removeEventListener("dispose",Me)};be.addEventListener("dispose",Me),V.__depthDisposeCallback=Me}V.__boundDepthTexture=be}if(X.depthTexture&&!V.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");xe(V.__webglFramebuffer,X)}else if(de){V.__webglDepthbuffer=[];for(let be=0;be<6;be++)if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer[be]),V.__webglDepthbuffer[be]===void 0)V.__webglDepthbuffer[be]=t.createRenderbuffer(),ie(V.__webglDepthbuffer[be],X,!1);else{const Me=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,me=V.__webglDepthbuffer[be];t.bindRenderbuffer(t.RENDERBUFFER,me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,me)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=t.createRenderbuffer(),ie(V.__webglDepthbuffer,X,!1);else{const be=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=V.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,be,t.RENDERBUFFER,Me)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(X,V,de){const be=r.get(X);V!==void 0&&ce(be.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),de!==void 0&&ue(X)}function Ge(X){const V=X.texture,de=r.get(X),be=r.get(V);X.addEventListener("dispose",A);const Me=X.textures,me=X.isWebGLCubeRenderTarget===!0,j=Me.length>1;if(j||(be.__webglTexture===void 0&&(be.__webglTexture=t.createTexture()),be.__version=V.version,s.memory.textures++),me){de.__webglFramebuffer=[];for(let _=0;_<6;_++)if(V.mipmaps&&V.mipmaps.length>0){de.__webglFramebuffer[_]=[];for(let R=0;R<V.mipmaps.length;R++)de.__webglFramebuffer[_][R]=t.createFramebuffer()}else de.__webglFramebuffer[_]=t.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){de.__webglFramebuffer=[];for(let _=0;_<V.mipmaps.length;_++)de.__webglFramebuffer[_]=t.createFramebuffer()}else de.__webglFramebuffer=t.createFramebuffer();if(j)for(let _=0,R=Me.length;_<R;_++){const Q=r.get(Me[_]);Q.__webglTexture===void 0&&(Q.__webglTexture=t.createTexture(),s.memory.textures++)}if(X.samples>0&&ut(X)===!1){de.__webglMultisampledFramebuffer=t.createFramebuffer(),de.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let _=0;_<Me.length;_++){const R=Me[_];de.__webglColorRenderbuffer[_]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,de.__webglColorRenderbuffer[_]);const Q=o.convert(R.format,R.colorSpace),Y=o.convert(R.type),ee=b(R.internalFormat,Q,Y,R.colorSpace,X.isXRRenderTarget===!0),te=Tt(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,te,ee,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_,t.RENDERBUFFER,de.__webglColorRenderbuffer[_])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(de.__webglDepthRenderbuffer=t.createRenderbuffer(),ie(de.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(me){n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture),T(t.TEXTURE_CUBE_MAP,V);for(let _=0;_<6;_++)if(V.mipmaps&&V.mipmaps.length>0)for(let R=0;R<V.mipmaps.length;R++)ce(de.__webglFramebuffer[_][R],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_,R);else ce(de.__webglFramebuffer[_],X,V,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_,0);y(V)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(j){for(let _=0,R=Me.length;_<R;_++){const Q=Me[_],Y=r.get(Q);n.bindTexture(t.TEXTURE_2D,Y.__webglTexture),T(t.TEXTURE_2D,Q),ce(de.__webglFramebuffer,X,Q,t.COLOR_ATTACHMENT0+_,t.TEXTURE_2D,0),y(Q)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let _=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(_=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(_,be.__webglTexture),T(_,V),V.mipmaps&&V.mipmaps.length>0)for(let R=0;R<V.mipmaps.length;R++)ce(de.__webglFramebuffer[R],X,V,t.COLOR_ATTACHMENT0,_,R);else ce(de.__webglFramebuffer,X,V,t.COLOR_ATTACHMENT0,_,0);y(V)&&g(_),n.unbindTexture()}X.depthBuffer&&ue(X)}function Fe(X){const V=X.textures;for(let de=0,be=V.length;de<be;de++){const Me=V[de];if(y(Me)){const me=v(X),j=r.get(Me).__webglTexture;n.bindTexture(me,j),g(me),n.unbindTexture()}}}const At=[],oe=[];function ct(X){if(X.samples>0){if(ut(X)===!1){const V=X.textures,de=X.width,be=X.height;let Me=t.COLOR_BUFFER_BIT;const me=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,j=r.get(X),_=V.length>1;if(_)for(let R=0;R<V.length;R++)n.bindFramebuffer(t.FRAMEBUFFER,j.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,j.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,j.__webglFramebuffer);for(let R=0;R<V.length;R++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Me|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Me|=t.STENCIL_BUFFER_BIT)),_){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,j.__webglColorRenderbuffer[R]);const Q=r.get(V[R]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Q,0)}t.blitFramebuffer(0,0,de,be,0,0,de,be,Me,t.NEAREST),l===!0&&(At.length=0,oe.length=0,At.push(t.COLOR_ATTACHMENT0+R),X.depthBuffer&&X.resolveDepthBuffer===!1&&(At.push(me),oe.push(me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,oe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,At))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),_)for(let R=0;R<V.length;R++){n.bindFramebuffer(t.FRAMEBUFFER,j.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.RENDERBUFFER,j.__webglColorRenderbuffer[R]);const Q=r.get(V[R]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+R,t.TEXTURE_2D,Q,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,j.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const V=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[V])}}}function Tt(X){return Math.min(i.maxSamples,X.samples)}function ut(X){const V=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Ye(X){const V=s.render.frame;u.get(X)!==V&&(u.set(X,V),X.update())}function Nt(X,V){const de=X.colorSpace,be=X.format,Me=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||de!==ch&&de!==bl&&(Jt.getTransfer(de)===mn?(be!==rs||Me!==Ha)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),V}function nt(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=B,this.resetTextureUnits=G,this.setTexture2D=E,this.setTexture2DArray=M,this.setTexture3D=O,this.setTextureCube=C,this.rebindTextures=Ie,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=ct,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=ut}function pEe(t,e){function n(r,i=bl){let o;const s=Jt.getTransfer(i);if(r===Ha)return t.UNSIGNED_BYTE;if(r===V3)return t.UNSIGNED_SHORT_4_4_4_4;if(r===$3)return t.UNSIGNED_SHORT_5_5_5_1;if(r===gj)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===pj)return t.BYTE;if(r===mj)return t.SHORT;if(r===Fm)return t.UNSIGNED_SHORT;if(r===W3)return t.INT;if(r===Au)return t.UNSIGNED_INT;if(r===_a)return t.FLOAT;if(r===v0)return t.HALF_FLOAT;if(r===yj)return t.ALPHA;if(r===vj)return t.RGB;if(r===rs)return t.RGBA;if(r===wj)return t.LUMINANCE;if(r===bj)return t.LUMINANCE_ALPHA;if(r===Qd)return t.DEPTH_COMPONENT;if(r===Bf)return t.DEPTH_STENCIL;if(r===xj)return t.RED;if(r===q3)return t.RED_INTEGER;if(r===Ej)return t.RG;if(r===K3)return t.RG_INTEGER;if(r===Q3)return t.RGBA_INTEGER;if(r===Ly||r===Dy||r===Uy||r===zy)if(s===mn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Ly)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Dy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Uy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===zy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Ly)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Dy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Uy)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===zy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Z2||r===eS||r===tS||r===nS)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Z2)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===eS)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===tS)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===nS)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===rS||r===iS||r===oS)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===rS||r===iS)return s===mn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===oS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===sS||r===aS||r===lS||r===cS||r===uS||r===dS||r===fS||r===hS||r===pS||r===mS||r===gS||r===yS||r===vS||r===wS)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===sS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===aS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===lS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===cS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===uS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===dS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===fS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===hS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===mS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===gS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===yS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===vS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===wS)return s===mn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===jy||r===bS||r===xS)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===jy)return s===mn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===bS)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===xS)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Aj||r===ES||r===AS||r===_S)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===jy)return o.COMPRESSED_RED_RGTC1_EXT;if(r===ES)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===AS)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===_S)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Of?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class mEe extends Ji{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Dg extends Yr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gEe={type:"move"};class BE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const y=n.getJointPose(m,r),g=this._getHandJoint(c,m);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(gEe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Dg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const yEe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,vEe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class wEe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Xr,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Kl({vertexShader:yEe,fragmentShader:vEe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new is(new ub(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class bEe extends uh{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new wEe,y=n.getContextAttributes();let g=null,v=null;const b=[],x=[],I=new sn;let k=null;const A=new Ji;A.viewport=new jn;const U=new Ji;U.viewport=new jn;const S=[A,U],N=new mEe;let P=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let Z=b[J];return Z===void 0&&(Z=new BE,b[J]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(J){let Z=b[J];return Z===void 0&&(Z=new BE,b[J]=Z),Z.getGripSpace()},this.getHand=function(J){let Z=b[J];return Z===void 0&&(Z=new BE,b[J]=Z),Z.getHandSpace()};function B(J){const Z=x.indexOf(J.inputSource);if(Z===-1)return;const ce=b[Z];ce!==void 0&&(ce.update(J.inputSource,J.frame,c||s),ce.dispatchEvent({type:J.type,data:J.inputSource}))}function w(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",w),i.removeEventListener("inputsourceschange",E);for(let J=0;J<b.length;J++){const Z=x[J];Z!==null&&(x[J]=null,b[J].disconnect(Z))}P=null,G=null,m.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,v=null,$.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",w),i.addEventListener("inputsourceschange",E),y.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(I),i.renderState.layers===void 0){const Z={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),v=new _u(h.framebufferWidth,h.framebufferHeight,{format:rs,type:Ha,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let Z=null,ce=null,ie=null;y.depth&&(ie=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=y.stencil?Bf:Qd,ce=y.stencil?Of:Au);const xe={colorFormat:n.RGBA8,depthFormat:ie,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(xe),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new _u(f.textureWidth,f.textureHeight,{format:rs,type:Ha,depthTexture:new Uj(f.textureWidth,f.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function E(J){for(let Z=0;Z<J.removed.length;Z++){const ce=J.removed[Z],ie=x.indexOf(ce);ie>=0&&(x[ie]=null,b[ie].disconnect(ce))}for(let Z=0;Z<J.added.length;Z++){const ce=J.added[Z];let ie=x.indexOf(ce);if(ie===-1){for(let ue=0;ue<b.length;ue++)if(ue>=x.length){x.push(ce),ie=ue;break}else if(x[ue]===null){x[ue]=ce,ie=ue;break}if(ie===-1)break}const xe=b[ie];xe&&xe.connect(ce)}}const M=new Ee,O=new Ee;function C(J,Z,ce){M.setFromMatrixPosition(Z.matrixWorld),O.setFromMatrixPosition(ce.matrixWorld);const ie=M.distanceTo(O),xe=Z.projectionMatrix.elements,ue=ce.projectionMatrix.elements,Ie=xe[14]/(xe[10]-1),Ge=xe[14]/(xe[10]+1),Fe=(xe[9]+1)/xe[5],At=(xe[9]-1)/xe[5],oe=(xe[8]-1)/xe[0],ct=(ue[8]+1)/ue[0],Tt=Ie*oe,ut=Ie*ct,Ye=ie/(-oe+ct),Nt=Ye*-oe;if(Z.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Nt),J.translateZ(Ye),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),xe[10]===-1)J.projectionMatrix.copy(Z.projectionMatrix),J.projectionMatrixInverse.copy(Z.projectionMatrixInverse);else{const nt=Ie+Ye,X=Ge+Ye,V=Tt-Nt,de=ut+(ie-Nt),be=Fe*Ge/X*nt,Me=At*Ge/X*nt;J.projectionMatrix.makePerspective(V,de,be,Me,nt,X),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function H(J,Z){Z===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(Z.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let Z=J.near,ce=J.far;m.texture!==null&&(m.depthNear>0&&(Z=m.depthNear),m.depthFar>0&&(ce=m.depthFar)),N.near=U.near=A.near=Z,N.far=U.far=A.far=ce,(P!==N.near||G!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),P=N.near,G=N.far),A.layers.mask=J.layers.mask|2,U.layers.mask=J.layers.mask|4,N.layers.mask=A.layers.mask|U.layers.mask;const ie=J.parent,xe=N.cameras;H(N,ie);for(let ue=0;ue<xe.length;ue++)H(xe[ue],ie);xe.length===2?C(N,A,U):N.projectionMatrix.copy(A.projectionMatrix),W(J,N,ie)};function W(J,Z,ce){ce===null?J.matrix.copy(Z.matrixWorld):(J.matrix.copy(ce.matrixWorld),J.matrix.invert(),J.matrix.multiply(Z.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(Z.projectionMatrix),J.projectionMatrixInverse.copy(Z.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=SS*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(N)};let D=null;function T(J,Z){if(u=Z.getViewerPose(c||s),p=Z,u!==null){const ce=u.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let ie=!1;ce.length!==N.cameras.length&&(N.cameras.length=0,ie=!0);for(let ue=0;ue<ce.length;ue++){const Ie=ce[ue];let Ge=null;if(h!==null)Ge=h.getViewport(Ie);else{const At=d.getViewSubImage(f,Ie);Ge=At.viewport,ue===0&&(e.setRenderTargetTextures(v,At.colorTexture,f.ignoreDepthValues?void 0:At.depthStencilTexture),e.setRenderTarget(v))}let Fe=S[ue];Fe===void 0&&(Fe=new Ji,Fe.layers.enable(ue),Fe.viewport=new jn,S[ue]=Fe),Fe.matrix.fromArray(Ie.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Ie.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Ge.x,Ge.y,Ge.width,Ge.height),ue===0&&(N.matrix.copy(Fe.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),ie===!0&&N.cameras.push(Fe)}const xe=i.enabledFeatures;if(xe&&xe.includes("depth-sensing")){const ue=d.getDepthInformation(ce[0]);ue&&ue.isValid&&ue.texture&&m.init(e,ue,i.renderState)}}for(let ce=0;ce<b.length;ce++){const ie=x[ce],xe=b[ce];ie!==null&&xe!==void 0&&xe.update(ie,Z,c||s)}D&&D(J,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),p=null}const $=new Lj;$.setAnimationLoop(T),this.setAnimationLoop=function(J){D=J},this.dispose=function(){}}}const fc=new Ks,xEe=new Gn;function EEe(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,Fj(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,v,b,x){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),d(y,g)):g.isMeshPhongMaterial?(o(y,g),u(y,g)):g.isMeshStandardMaterial?(o(y,g),f(y,g),g.isMeshPhysicalMaterial&&h(y,g,x)):g.isMeshMatcapMaterial?(o(y,g),p(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),m(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(s(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,v,b):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Ui&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Ui&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const v=e.get(g),b=v.envMap,x=v.envMapRotation;b&&(y.envMap.value=b,fc.copy(x),fc.x*=-1,fc.y*=-1,fc.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(fc.y*=-1,fc.z*=-1),y.envMapRotation.value.setFromMatrix4(xEe.makeRotationFromEuler(fc)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap&&(y.lightMap.value=g.lightMap,y.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,y.lightMapTransform)),g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function s(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,v,b){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*v,y.scale.value=b*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function f(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function h(y,g,v){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ui&&y.clearcoatNormalScale.value.negate())),g.dispersion>0&&(y.dispersion.value=g.dispersion),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=v.texture,y.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function p(y,g){g.matcap&&(y.matcap.value=g.matcap)}function m(y,g){const v=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(v.matrixWorld),y.nearDistance.value=v.shadow.camera.near,y.farDistance.value=v.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function AEe(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(v,b){const x=b.program;r.uniformBlockBinding(v,x)}function c(v,b){let x=i[v.id];x===void 0&&(p(v),x=u(v),i[v.id]=x,v.addEventListener("dispose",y));const I=b.program;r.updateUBOMapping(v,I);const k=e.render.frame;o[v.id]!==k&&(f(v),o[v.id]=k)}function u(v){const b=d();v.__bindingPointIndex=b;const x=t.createBuffer(),I=v.__size,k=v.usage;return t.bindBuffer(t.UNIFORM_BUFFER,x),t.bufferData(t.UNIFORM_BUFFER,I,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,x),x}function d(){for(let v=0;v<a;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(v){const b=i[v.id],x=v.uniforms,I=v.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let k=0,A=x.length;k<A;k++){const U=Array.isArray(x[k])?x[k]:[x[k]];for(let S=0,N=U.length;S<N;S++){const P=U[S];if(h(P,k,S,I)===!0){const G=P.__offset,B=Array.isArray(P.value)?P.value:[P.value];let w=0;for(let E=0;E<B.length;E++){const M=B[E],O=m(M);typeof M=="number"||typeof M=="boolean"?(P.__data[0]=M,t.bufferSubData(t.UNIFORM_BUFFER,G+w,P.__data)):M.isMatrix3?(P.__data[0]=M.elements[0],P.__data[1]=M.elements[1],P.__data[2]=M.elements[2],P.__data[3]=0,P.__data[4]=M.elements[3],P.__data[5]=M.elements[4],P.__data[6]=M.elements[5],P.__data[7]=0,P.__data[8]=M.elements[6],P.__data[9]=M.elements[7],P.__data[10]=M.elements[8],P.__data[11]=0):(M.toArray(P.__data,w),w+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,G,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(v,b,x,I){const k=v.value,A=b+"_"+x;if(I[A]===void 0)return typeof k=="number"||typeof k=="boolean"?I[A]=k:I[A]=k.clone(),!0;{const U=I[A];if(typeof k=="number"||typeof k=="boolean"){if(U!==k)return I[A]=k,!0}else if(U.equals(k)===!1)return U.copy(k),!0}return!1}function p(v){const b=v.uniforms;let x=0;const I=16;for(let A=0,U=b.length;A<U;A++){const S=Array.isArray(b[A])?b[A]:[b[A]];for(let N=0,P=S.length;N<P;N++){const G=S[N],B=Array.isArray(G.value)?G.value:[G.value];for(let w=0,E=B.length;w<E;w++){const M=B[w],O=m(M),C=x%I,H=C%O.boundary,W=C+H;x+=H,W!==0&&I-W<O.storage&&(x+=I-W),G.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=x,x+=O.storage}}}const k=x%I;return k>0&&(x+=I-k),v.__size=x,v.__cache={},this}function m(v){const b={boundary:0,storage:0};return typeof v=="number"||typeof v=="boolean"?(b.boundary=4,b.storage=4):v.isVector2?(b.boundary=8,b.storage=8):v.isVector3||v.isColor?(b.boundary=16,b.storage=12):v.isVector4?(b.boundary=16,b.storage=16):v.isMatrix3?(b.boundary=48,b.storage=48):v.isMatrix4?(b.boundary=64,b.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),b}function y(v){const b=v.target;b.removeEventListener("dispose",y);const x=s.indexOf(b.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function g(){for(const v in i)t.deleteBuffer(i[v]);s=[],i={},o={}}return{bind:l,update:c,dispose:g}}class Wj{constructor(e={}){const{canvas:n=dve(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Uint32Array(4),m=new Int32Array(4);let y=null,g=null;const v=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Vr,this.toneMapping=Ul,this.toneMappingExposure=1;const x=this;let I=!1,k=0,A=0,U=null,S=-1,N=null;const P=new jn,G=new jn;let B=null;const w=new tn(0);let E=0,M=n.width,O=n.height,C=1,H=null,W=null;const D=new jn(0,0,M,O),T=new jn(0,0,M,O);let $=!1;const J=new Y3;let Z=!1,ce=!1;const ie=new Gn,xe=new Gn,ue=new Ee,Ie=new jn,Ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Fe=!1;function At(){return U===null?C:1}let oe=r;function ct(q,se){return n.getContext(q,se)}try{const q={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${H3}`),n.addEventListener("webglcontextlost",Se,!1),n.addEventListener("webglcontextrestored",Je,!1),n.addEventListener("webglcontextcreationerror",ze,!1),oe===null){const se="webgl2";if(oe=ct(se,q),oe===null)throw ct(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Tt,ut,Ye,Nt,nt,X,V,de,be,Me,me,j,_,R,Q,Y,ee,te,Be,Ne,He,dt,et,le;function tt(){Tt=new Ibe(oe),Tt.init(),dt=new pEe(oe,Tt),ut=new Abe(oe,Tt,e,dt),Ye=new dEe(oe,Tt),ut.reverseDepthBuffer&&f&&Ye.buffers.depth.setReversed(!0),Nt=new Nbe(oe),nt=new Xxe,X=new hEe(oe,Tt,Ye,nt,ut,dt,Nt),V=new Sbe(x),de=new Mbe(x),be=new Uve(oe),et=new xbe(oe,be),Me=new Rbe(oe,be,Nt,et),me=new Fbe(oe,Me,be,Nt),Be=new kbe(oe,ut,X),Y=new _be(nt),j=new Qxe(x,V,de,Tt,ut,et,Y),_=new EEe(x,nt),R=new Jxe,Q=new iEe(Tt),te=new bbe(x,V,de,Ye,me,h,l),ee=new cEe(x,me,ut),le=new AEe(oe,Nt,ut,Ye),Ne=new Ebe(oe,Tt,Nt),He=new Pbe(oe,Tt,Nt),Nt.programs=j.programs,x.capabilities=ut,x.extensions=Tt,x.properties=nt,x.renderLists=R,x.shadowMap=ee,x.state=Ye,x.info=Nt}tt();const we=new bEe(x,oe);this.xr=we,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const q=Tt.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Tt.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(q){q!==void 0&&(C=q,this.setSize(M,O,!1))},this.getSize=function(q){return q.set(M,O)},this.setSize=function(q,se,ge=!0){if(we.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=q,O=se,n.width=Math.floor(q*C),n.height=Math.floor(se*C),ge===!0&&(n.style.width=q+"px",n.style.height=se+"px"),this.setViewport(0,0,q,se)},this.getDrawingBufferSize=function(q){return q.set(M*C,O*C).floor()},this.setDrawingBufferSize=function(q,se,ge){M=q,O=se,C=ge,n.width=Math.floor(q*ge),n.height=Math.floor(se*ge),this.setViewport(0,0,q,se)},this.getCurrentViewport=function(q){return q.copy(P)},this.getViewport=function(q){return q.copy(D)},this.setViewport=function(q,se,ge,ve){q.isVector4?D.set(q.x,q.y,q.z,q.w):D.set(q,se,ge,ve),Ye.viewport(P.copy(D).multiplyScalar(C).round())},this.getScissor=function(q){return q.copy(T)},this.setScissor=function(q,se,ge,ve){q.isVector4?T.set(q.x,q.y,q.z,q.w):T.set(q,se,ge,ve),Ye.scissor(G.copy(T).multiplyScalar(C).round())},this.getScissorTest=function(){return $},this.setScissorTest=function(q){Ye.setScissorTest($=q)},this.setOpaqueSort=function(q){H=q},this.setTransparentSort=function(q){W=q},this.getClearColor=function(q){return q.copy(te.getClearColor())},this.setClearColor=function(){te.setClearColor.apply(te,arguments)},this.getClearAlpha=function(){return te.getClearAlpha()},this.setClearAlpha=function(){te.setClearAlpha.apply(te,arguments)},this.clear=function(q=!0,se=!0,ge=!0){let ve=0;if(q){let fe=!1;if(U!==null){const Le=U.texture.format;fe=Le===Q3||Le===K3||Le===q3}if(fe){const Le=U.texture.type,Ke=Le===Ha||Le===Au||Le===Fm||Le===Of||Le===V3||Le===$3,gt=te.getClearColor(),ht=te.getClearAlpha(),Ct=gt.r,Rt=gt.g,pt=gt.b;Ke?(p[0]=Ct,p[1]=Rt,p[2]=pt,p[3]=ht,oe.clearBufferuiv(oe.COLOR,0,p)):(m[0]=Ct,m[1]=Rt,m[2]=pt,m[3]=ht,oe.clearBufferiv(oe.COLOR,0,m))}else ve|=oe.COLOR_BUFFER_BIT}se&&(ve|=oe.DEPTH_BUFFER_BIT),ge&&(ve|=oe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),oe.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Se,!1),n.removeEventListener("webglcontextrestored",Je,!1),n.removeEventListener("webglcontextcreationerror",ze,!1),R.dispose(),Q.dispose(),nt.dispose(),V.dispose(),de.dispose(),me.dispose(),et.dispose(),le.dispose(),j.dispose(),we.dispose(),we.removeEventListener("sessionstart",re),we.removeEventListener("sessionend",pe),ye.stop()};function Se(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function Je(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const q=Nt.autoReset,se=ee.enabled,ge=ee.autoUpdate,ve=ee.needsUpdate,fe=ee.type;tt(),Nt.autoReset=q,ee.enabled=se,ee.autoUpdate=ge,ee.needsUpdate=ve,ee.type=fe}function ze(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function at(q){const se=q.target;se.removeEventListener("dispose",at),dn(se)}function dn(q){Ft(q),nt.remove(q)}function Ft(q){const se=nt.get(q).programs;se!==void 0&&(se.forEach(function(ge){j.releaseProgram(ge)}),q.isShaderMaterial&&j.releaseShaderCache(q))}this.renderBufferDirect=function(q,se,ge,ve,fe,Le){se===null&&(se=Ge);const Ke=fe.isMesh&&fe.matrixWorld.determinant()<0,gt=vt(q,se,ge,ve,fe);Ye.setMaterial(ve,Ke);let ht=ge.index,Ct=1;if(ve.wireframe===!0){if(ht=Me.getWireframeAttribute(ge),ht===void 0)return;Ct=2}const Rt=ge.drawRange,pt=ge.attributes.position;let ae=Rt.start*Ct,Re=(Rt.start+Rt.count)*Ct;Le!==null&&(ae=Math.max(ae,Le.start*Ct),Re=Math.min(Re,(Le.start+Le.count)*Ct)),ht!==null?(ae=Math.max(ae,0),Re=Math.min(Re,ht.count)):pt!=null&&(ae=Math.max(ae,0),Re=Math.min(Re,pt.count));const Te=Re-ae;if(Te<0||Te===1/0)return;et.setup(fe,ve,gt,ge,ht);let ot,qe=Ne;if(ht!==null&&(ot=be.get(ht),qe=He,qe.setIndex(ot)),fe.isMesh)ve.wireframe===!0?(Ye.setLineWidth(ve.wireframeLinewidth*At()),qe.setMode(oe.LINES)):qe.setMode(oe.TRIANGLES);else if(fe.isLine){let it=ve.linewidth;it===void 0&&(it=1),Ye.setLineWidth(it*At()),fe.isLineSegments?qe.setMode(oe.LINES):fe.isLineLoop?qe.setMode(oe.LINE_LOOP):qe.setMode(oe.LINE_STRIP)}else fe.isPoints?qe.setMode(oe.POINTS):fe.isSprite&&qe.setMode(oe.TRIANGLES);if(fe.isBatchedMesh)if(fe._multiDrawInstances!==null)qe.renderMultiDrawInstances(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount,fe._multiDrawInstances);else if(Tt.get("WEBGL_multi_draw"))qe.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else{const it=fe._multiDrawStarts,an=fe._multiDrawCounts,Ot=fe._multiDrawCount,mt=ht?be.get(ht).bytesPerElement:1,rc=nt.get(ve).currentProgram.getUniforms();for(let Zr=0;Zr<Ot;Zr++)rc.setValue(oe,"_gl_DrawID",Zr),qe.render(it[Zr]/mt,an[Zr])}else if(fe.isInstancedMesh)qe.renderInstances(ae,Te,fe.count);else if(ge.isInstancedBufferGeometry){const it=ge._maxInstanceCount!==void 0?ge._maxInstanceCount:1/0,an=Math.min(ge.instanceCount,it);qe.renderInstances(ae,Te,an)}else qe.render(ae,Te)};function Mt(q,se,ge){q.transparent===!0&&q.side===va&&q.forceSinglePass===!1?(q.side=Ui,q.needsUpdate=!0,$e(q,se,ge),q.side=ql,q.needsUpdate=!0,$e(q,se,ge),q.side=va):$e(q,se,ge)}this.compile=function(q,se,ge=null){ge===null&&(ge=q),g=Q.get(ge),g.init(se),b.push(g),ge.traverseVisible(function(fe){fe.isLight&&fe.layers.test(se.layers)&&(g.pushLight(fe),fe.castShadow&&g.pushShadow(fe))}),q!==ge&&q.traverseVisible(function(fe){fe.isLight&&fe.layers.test(se.layers)&&(g.pushLight(fe),fe.castShadow&&g.pushShadow(fe))}),g.setupLights();const ve=new Set;return q.traverse(function(fe){if(!(fe.isMesh||fe.isPoints||fe.isLine||fe.isSprite))return;const Le=fe.material;if(Le)if(Array.isArray(Le))for(let Ke=0;Ke<Le.length;Ke++){const gt=Le[Ke];Mt(gt,ge,fe),ve.add(gt)}else Mt(Le,ge,fe),ve.add(Le)}),b.pop(),g=null,ve},this.compileAsync=function(q,se,ge=null){const ve=this.compile(q,se,ge);return new Promise(fe=>{function Le(){if(ve.forEach(function(Ke){nt.get(Ke).currentProgram.isReady()&&ve.delete(Ke)}),ve.size===0){fe(q);return}setTimeout(Le,10)}Tt.get("KHR_parallel_shader_compile")!==null?Le():setTimeout(Le,10)})};let lr=null;function Kt(q){lr&&lr(q)}function re(){ye.stop()}function pe(){ye.start()}const ye=new Lj;ye.setAnimationLoop(Kt),typeof self<"u"&&ye.setContext(self),this.setAnimationLoop=function(q){lr=q,we.setAnimationLoop(q),q===null?ye.stop():ye.start()},we.addEventListener("sessionstart",re),we.addEventListener("sessionend",pe),this.render=function(q,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),we.enabled===!0&&we.isPresenting===!0&&(we.cameraAutoUpdate===!0&&we.updateCamera(se),se=we.getCamera()),q.isScene===!0&&q.onBeforeRender(x,q,se,U),g=Q.get(q,b.length),g.init(se),b.push(g),xe.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),J.setFromProjectionMatrix(xe),ce=this.localClippingEnabled,Z=Y.init(this.clippingPlanes,ce),y=R.get(q,v.length),y.init(),v.push(y),we.enabled===!0&&we.isPresenting===!0){const Le=x.xr.getDepthSensingMesh();Le!==null&&Ce(Le,se,-1/0,x.sortObjects)}Ce(q,se,0,x.sortObjects),y.finish(),x.sortObjects===!0&&y.sort(H,W),Fe=we.enabled===!1||we.isPresenting===!1||we.hasDepthSensing()===!1,Fe&&te.addToRenderList(y,q),this.info.render.frame++,Z===!0&&Y.beginShadows();const ge=g.state.shadowsArray;ee.render(ge,q,se),Z===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset();const ve=y.opaque,fe=y.transmissive;if(g.setupLights(),se.isArrayCamera){const Le=se.cameras;if(fe.length>0)for(let Ke=0,gt=Le.length;Ke<gt;Ke++){const ht=Le[Ke];rt(ve,fe,q,ht)}Fe&&te.render(q);for(let Ke=0,gt=Le.length;Ke<gt;Ke++){const ht=Le[Ke];Xe(y,q,ht,ht.viewport)}}else fe.length>0&&rt(ve,fe,q,se),Fe&&te.render(q),Xe(y,q,se);U!==null&&(X.updateMultisampleRenderTarget(U),X.updateRenderTargetMipmap(U)),q.isScene===!0&&q.onAfterRender(x,q,se),et.resetDefaultState(),S=-1,N=null,b.pop(),b.length>0?(g=b[b.length-1],Z===!0&&Y.setGlobalState(x.clippingPlanes,g.state.camera)):g=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Ce(q,se,ge,ve){if(q.visible===!1)return;if(q.layers.test(se.layers)){if(q.isGroup)ge=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(se);else if(q.isLight)g.pushLight(q),q.castShadow&&g.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||J.intersectsSprite(q)){ve&&Ie.setFromMatrixPosition(q.matrixWorld).applyMatrix4(xe);const Ke=me.update(q),gt=q.material;gt.visible&&y.push(q,Ke,gt,ge,Ie.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||J.intersectsObject(q))){const Ke=me.update(q),gt=q.material;if(ve&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),Ie.copy(q.boundingSphere.center)):(Ke.boundingSphere===null&&Ke.computeBoundingSphere(),Ie.copy(Ke.boundingSphere.center)),Ie.applyMatrix4(q.matrixWorld).applyMatrix4(xe)),Array.isArray(gt)){const ht=Ke.groups;for(let Ct=0,Rt=ht.length;Ct<Rt;Ct++){const pt=ht[Ct],ae=gt[pt.materialIndex];ae&&ae.visible&&y.push(q,Ke,ae,ge,Ie.z,pt)}}else gt.visible&&y.push(q,Ke,gt,ge,Ie.z,null)}}const Le=q.children;for(let Ke=0,gt=Le.length;Ke<gt;Ke++)Ce(Le[Ke],se,ge,ve)}function Xe(q,se,ge,ve){const fe=q.opaque,Le=q.transmissive,Ke=q.transparent;g.setupLightsView(ge),Z===!0&&Y.setGlobalState(x.clippingPlanes,ge),ve&&Ye.viewport(P.copy(ve)),fe.length>0&&Ze(fe,se,ge),Le.length>0&&Ze(Le,se,ge),Ke.length>0&&Ze(Ke,se,ge),Ye.buffers.depth.setTest(!0),Ye.buffers.depth.setMask(!0),Ye.buffers.color.setMask(!0),Ye.setPolygonOffset(!1)}function rt(q,se,ge,ve){if((ge.isScene===!0?ge.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[ve.id]===void 0&&(g.state.transmissionRenderTarget[ve.id]=new _u(1,1,{generateMipmaps:!0,type:Tt.has("EXT_color_buffer_half_float")||Tt.has("EXT_color_buffer_float")?v0:Ha,minFilter:Gc,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Jt.workingColorSpace}));const Le=g.state.transmissionRenderTarget[ve.id],Ke=ve.viewport||P;Le.setSize(Ke.z,Ke.w);const gt=x.getRenderTarget();x.setRenderTarget(Le),x.getClearColor(w),E=x.getClearAlpha(),E<1&&x.setClearColor(16777215,.5),x.clear(),Fe&&te.render(ge);const ht=x.toneMapping;x.toneMapping=Ul;const Ct=ve.viewport;if(ve.viewport!==void 0&&(ve.viewport=void 0),g.setupLightsView(ve),Z===!0&&Y.setGlobalState(x.clippingPlanes,ve),Ze(q,ge,ve),X.updateMultisampleRenderTarget(Le),X.updateRenderTargetMipmap(Le),Tt.has("WEBGL_multisampled_render_to_texture")===!1){let Rt=!1;for(let pt=0,ae=se.length;pt<ae;pt++){const Re=se[pt],Te=Re.object,ot=Re.geometry,qe=Re.material,it=Re.group;if(qe.side===va&&Te.layers.test(ve.layers)){const an=qe.side;qe.side=Ui,qe.needsUpdate=!0,ft(Te,ge,ve,ot,qe,it),qe.side=an,qe.needsUpdate=!0,Rt=!0}}Rt===!0&&(X.updateMultisampleRenderTarget(Le),X.updateRenderTargetMipmap(Le))}x.setRenderTarget(gt),x.setClearColor(w,E),Ct!==void 0&&(ve.viewport=Ct),x.toneMapping=ht}function Ze(q,se,ge){const ve=se.isScene===!0?se.overrideMaterial:null;for(let fe=0,Le=q.length;fe<Le;fe++){const Ke=q[fe],gt=Ke.object,ht=Ke.geometry,Ct=ve===null?Ke.material:ve,Rt=Ke.group;gt.layers.test(ge.layers)&&ft(gt,se,ge,ht,Ct,Rt)}}function ft(q,se,ge,ve,fe,Le){q.onBeforeRender(x,se,ge,ve,fe,Le),q.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),fe.onBeforeRender(x,se,ge,ve,q,Le),fe.transparent===!0&&fe.side===va&&fe.forceSinglePass===!1?(fe.side=Ui,fe.needsUpdate=!0,x.renderBufferDirect(ge,se,ve,fe,q,Le),fe.side=ql,fe.needsUpdate=!0,x.renderBufferDirect(ge,se,ve,fe,q,Le),fe.side=va):x.renderBufferDirect(ge,se,ve,fe,q,Le),q.onAfterRender(x,se,ge,ve,fe,Le)}function $e(q,se,ge){se.isScene!==!0&&(se=Ge);const ve=nt.get(q),fe=g.state.lights,Le=g.state.shadowsArray,Ke=fe.state.version,gt=j.getParameters(q,fe.state,Le,se,ge),ht=j.getProgramCacheKey(gt);let Ct=ve.programs;ve.environment=q.isMeshStandardMaterial?se.environment:null,ve.fog=se.fog,ve.envMap=(q.isMeshStandardMaterial?de:V).get(q.envMap||ve.environment),ve.envMapRotation=ve.environment!==null&&q.envMap===null?se.environmentRotation:q.envMapRotation,Ct===void 0&&(q.addEventListener("dispose",at),Ct=new Map,ve.programs=Ct);let Rt=Ct.get(ht);if(Rt!==void 0){if(ve.currentProgram===Rt&&ve.lightsStateVersion===Ke)return xt(q,gt),Rt}else gt.uniforms=j.getUniforms(q),q.onBeforeCompile(gt,x),Rt=j.acquireProgram(gt,ht),Ct.set(ht,Rt),ve.uniforms=gt.uniforms;const pt=ve.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(pt.clippingPlanes=Y.uniform),xt(q,gt),ve.needsLights=yn(q),ve.lightsStateVersion=Ke,ve.needsLights&&(pt.ambientLightColor.value=fe.state.ambient,pt.lightProbe.value=fe.state.probe,pt.directionalLights.value=fe.state.directional,pt.directionalLightShadows.value=fe.state.directionalShadow,pt.spotLights.value=fe.state.spot,pt.spotLightShadows.value=fe.state.spotShadow,pt.rectAreaLights.value=fe.state.rectArea,pt.ltc_1.value=fe.state.rectAreaLTC1,pt.ltc_2.value=fe.state.rectAreaLTC2,pt.pointLights.value=fe.state.point,pt.pointLightShadows.value=fe.state.pointShadow,pt.hemisphereLights.value=fe.state.hemi,pt.directionalShadowMap.value=fe.state.directionalShadowMap,pt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,pt.spotShadowMap.value=fe.state.spotShadowMap,pt.spotLightMatrix.value=fe.state.spotLightMatrix,pt.spotLightMap.value=fe.state.spotLightMap,pt.pointShadowMap.value=fe.state.pointShadowMap,pt.pointShadowMatrix.value=fe.state.pointShadowMatrix),ve.currentProgram=Rt,ve.uniformsList=null,Rt}function We(q){if(q.uniformsList===null){const se=q.currentProgram.getUniforms();q.uniformsList=Hy.seqWithValue(se.seq,q.uniforms)}return q.uniformsList}function xt(q,se){const ge=nt.get(q);ge.outputColorSpace=se.outputColorSpace,ge.batching=se.batching,ge.batchingColor=se.batchingColor,ge.instancing=se.instancing,ge.instancingColor=se.instancingColor,ge.instancingMorph=se.instancingMorph,ge.skinning=se.skinning,ge.morphTargets=se.morphTargets,ge.morphNormals=se.morphNormals,ge.morphColors=se.morphColors,ge.morphTargetsCount=se.morphTargetsCount,ge.numClippingPlanes=se.numClippingPlanes,ge.numIntersection=se.numClipIntersection,ge.vertexAlphas=se.vertexAlphas,ge.vertexTangents=se.vertexTangents,ge.toneMapping=se.toneMapping}function vt(q,se,ge,ve,fe){se.isScene!==!0&&(se=Ge),X.resetTextureUnits();const Le=se.fog,Ke=ve.isMeshStandardMaterial?se.environment:null,gt=U===null?x.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:ch,ht=(ve.isMeshStandardMaterial?de:V).get(ve.envMap||Ke),Ct=ve.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,Rt=!!ge.attributes.tangent&&(!!ve.normalMap||ve.anisotropy>0),pt=!!ge.morphAttributes.position,ae=!!ge.morphAttributes.normal,Re=!!ge.morphAttributes.color;let Te=Ul;ve.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(Te=x.toneMapping);const ot=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,qe=ot!==void 0?ot.length:0,it=nt.get(ve),an=g.state.lights;if(Z===!0&&(ce===!0||q!==N)){const ho=q===N&&ve.id===S;Y.setState(ve,q,ho)}let Ot=!1;ve.version===it.__version?(it.needsLights&&it.lightsStateVersion!==an.state.version||it.outputColorSpace!==gt||fe.isBatchedMesh&&it.batching===!1||!fe.isBatchedMesh&&it.batching===!0||fe.isBatchedMesh&&it.batchingColor===!0&&fe.colorTexture===null||fe.isBatchedMesh&&it.batchingColor===!1&&fe.colorTexture!==null||fe.isInstancedMesh&&it.instancing===!1||!fe.isInstancedMesh&&it.instancing===!0||fe.isSkinnedMesh&&it.skinning===!1||!fe.isSkinnedMesh&&it.skinning===!0||fe.isInstancedMesh&&it.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&it.instancingColor===!1&&fe.instanceColor!==null||fe.isInstancedMesh&&it.instancingMorph===!0&&fe.morphTexture===null||fe.isInstancedMesh&&it.instancingMorph===!1&&fe.morphTexture!==null||it.envMap!==ht||ve.fog===!0&&it.fog!==Le||it.numClippingPlanes!==void 0&&(it.numClippingPlanes!==Y.numPlanes||it.numIntersection!==Y.numIntersection)||it.vertexAlphas!==Ct||it.vertexTangents!==Rt||it.morphTargets!==pt||it.morphNormals!==ae||it.morphColors!==Re||it.toneMapping!==Te||it.morphTargetsCount!==qe)&&(Ot=!0):(Ot=!0,it.__version=ve.version);let mt=it.currentProgram;Ot===!0&&(mt=$e(ve,se,fe));let rc=!1,Zr=!1,fh=!1;const En=mt.getUniforms(),ys=it.uniforms;if(Ye.useProgram(mt.program)&&(rc=!0,Zr=!0,fh=!0),ve.id!==S&&(S=ve.id,Zr=!0),rc||N!==q){Ye.buffers.depth.getReversed()?(ie.copy(q.projectionMatrix),hve(ie),pve(ie),En.setValue(oe,"projectionMatrix",ie)):En.setValue(oe,"projectionMatrix",q.projectionMatrix),En.setValue(oe,"viewMatrix",q.matrixWorldInverse);const Qa=En.map.cameraPosition;Qa!==void 0&&Qa.setValue(oe,ue.setFromMatrixPosition(q.matrixWorld)),ut.logarithmicDepthBuffer&&En.setValue(oe,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&En.setValue(oe,"isOrthographic",q.isOrthographicCamera===!0),N!==q&&(N=q,Zr=!0,fh=!0)}if(fe.isSkinnedMesh){En.setOptional(oe,fe,"bindMatrix"),En.setOptional(oe,fe,"bindMatrixInverse");const ho=fe.skeleton;ho&&(ho.boneTexture===null&&ho.computeBoneTexture(),En.setValue(oe,"boneTexture",ho.boneTexture,X))}fe.isBatchedMesh&&(En.setOptional(oe,fe,"batchingTexture"),En.setValue(oe,"batchingTexture",fe._matricesTexture,X),En.setOptional(oe,fe,"batchingIdTexture"),En.setValue(oe,"batchingIdTexture",fe._indirectTexture,X),En.setOptional(oe,fe,"batchingColorTexture"),fe._colorsTexture!==null&&En.setValue(oe,"batchingColorTexture",fe._colorsTexture,X));const hh=ge.morphAttributes;if((hh.position!==void 0||hh.normal!==void 0||hh.color!==void 0)&&Be.update(fe,ge,mt),(Zr||it.receiveShadow!==fe.receiveShadow)&&(it.receiveShadow=fe.receiveShadow,En.setValue(oe,"receiveShadow",fe.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(ys.envMap.value=ht,ys.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),ve.isMeshStandardMaterial&&ve.envMap===null&&se.environment!==null&&(ys.envMapIntensity.value=se.environmentIntensity),Zr&&(En.setValue(oe,"toneMappingExposure",x.toneMappingExposure),it.needsLights&&St(ys,fh),Le&&ve.fog===!0&&_.refreshFogUniforms(ys,Le),_.refreshMaterialUniforms(ys,ve,C,O,g.state.transmissionRenderTarget[q.id]),Hy.upload(oe,We(it),ys,X)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(Hy.upload(oe,We(it),ys,X),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&En.setValue(oe,"center",fe.center),En.setValue(oe,"modelViewMatrix",fe.modelViewMatrix),En.setValue(oe,"normalMatrix",fe.normalMatrix),En.setValue(oe,"modelMatrix",fe.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const ho=ve.uniformsGroups;for(let Qa=0,Xa=ho.length;Qa<Xa;Qa++){const nM=ho[Qa];le.update(nM,mt),le.bind(nM,mt)}}return mt}function St(q,se){q.ambientLightColor.needsUpdate=se,q.lightProbe.needsUpdate=se,q.directionalLights.needsUpdate=se,q.directionalLightShadows.needsUpdate=se,q.pointLights.needsUpdate=se,q.pointLightShadows.needsUpdate=se,q.spotLights.needsUpdate=se,q.spotLightShadows.needsUpdate=se,q.rectAreaLights.needsUpdate=se,q.hemisphereLights.needsUpdate=se}function yn(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(q,se,ge){nt.get(q.texture).__webglTexture=se,nt.get(q.depthTexture).__webglTexture=ge;const ve=nt.get(q);ve.__hasExternalTextures=!0,ve.__autoAllocateDepthBuffer=ge===void 0,ve.__autoAllocateDepthBuffer||Tt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ve.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(q,se){const ge=nt.get(q);ge.__webglFramebuffer=se,ge.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(q,se=0,ge=0){U=q,k=se,A=ge;let ve=!0,fe=null,Le=!1,Ke=!1;if(q){const ht=nt.get(q);if(ht.__useDefaultFramebuffer!==void 0)Ye.bindFramebuffer(oe.FRAMEBUFFER,null),ve=!1;else if(ht.__webglFramebuffer===void 0)X.setupRenderTarget(q);else if(ht.__hasExternalTextures)X.rebindTextures(q,nt.get(q.texture).__webglTexture,nt.get(q.depthTexture).__webglTexture);else if(q.depthBuffer){const pt=q.depthTexture;if(ht.__boundDepthTexture!==pt){if(pt!==null&&nt.has(pt)&&(q.width!==pt.image.width||q.height!==pt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(q)}}const Ct=q.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(Ke=!0);const Rt=nt.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(Rt[se])?fe=Rt[se][ge]:fe=Rt[se],Le=!0):q.samples>0&&X.useMultisampledRTT(q)===!1?fe=nt.get(q).__webglMultisampledFramebuffer:Array.isArray(Rt)?fe=Rt[ge]:fe=Rt,P.copy(q.viewport),G.copy(q.scissor),B=q.scissorTest}else P.copy(D).multiplyScalar(C).floor(),G.copy(T).multiplyScalar(C).floor(),B=$;if(Ye.bindFramebuffer(oe.FRAMEBUFFER,fe)&&ve&&Ye.drawBuffers(q,fe),Ye.viewport(P),Ye.scissor(G),Ye.setScissorTest(B),Le){const ht=nt.get(q.texture);oe.framebufferTexture2D(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,oe.TEXTURE_CUBE_MAP_POSITIVE_X+se,ht.__webglTexture,ge)}else if(Ke){const ht=nt.get(q.texture),Ct=se||0;oe.framebufferTextureLayer(oe.FRAMEBUFFER,oe.COLOR_ATTACHMENT0,ht.__webglTexture,ge||0,Ct)}S=-1},this.readRenderTargetPixels=function(q,se,ge,ve,fe,Le,Ke){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=nt.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Ke!==void 0&&(gt=gt[Ke]),gt){Ye.bindFramebuffer(oe.FRAMEBUFFER,gt);try{const ht=q.texture,Ct=ht.format,Rt=ht.type;if(!ut.textureFormatReadable(Ct)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ut.textureTypeReadable(Rt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=q.width-ve&&ge>=0&&ge<=q.height-fe&&oe.readPixels(se,ge,ve,fe,dt.convert(Ct),dt.convert(Rt),Le)}finally{const ht=U!==null?nt.get(U).__webglFramebuffer:null;Ye.bindFramebuffer(oe.FRAMEBUFFER,ht)}}},this.readRenderTargetPixelsAsync=async function(q,se,ge,ve,fe,Le,Ke){if(!(q&&q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=nt.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&Ke!==void 0&&(gt=gt[Ke]),gt){const ht=q.texture,Ct=ht.format,Rt=ht.type;if(!ut.textureFormatReadable(Ct))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ut.textureTypeReadable(Rt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(se>=0&&se<=q.width-ve&&ge>=0&&ge<=q.height-fe){Ye.bindFramebuffer(oe.FRAMEBUFFER,gt);const pt=oe.createBuffer();oe.bindBuffer(oe.PIXEL_PACK_BUFFER,pt),oe.bufferData(oe.PIXEL_PACK_BUFFER,Le.byteLength,oe.STREAM_READ),oe.readPixels(se,ge,ve,fe,dt.convert(Ct),dt.convert(Rt),0);const ae=U!==null?nt.get(U).__webglFramebuffer:null;Ye.bindFramebuffer(oe.FRAMEBUFFER,ae);const Re=oe.fenceSync(oe.SYNC_GPU_COMMANDS_COMPLETE,0);return oe.flush(),await fve(oe,Re,4),oe.bindBuffer(oe.PIXEL_PACK_BUFFER,pt),oe.getBufferSubData(oe.PIXEL_PACK_BUFFER,0,Le),oe.deleteBuffer(pt),oe.deleteSync(Re),Le}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(q,se=null,ge=0){q.isTexture!==!0&&(np("WebGLRenderer: copyFramebufferToTexture function signature has changed."),se=arguments[0]||null,q=arguments[1]);const ve=Math.pow(2,-ge),fe=Math.floor(q.image.width*ve),Le=Math.floor(q.image.height*ve),Ke=se!==null?se.x:0,gt=se!==null?se.y:0;X.setTexture2D(q,0),oe.copyTexSubImage2D(oe.TEXTURE_2D,ge,0,0,Ke,gt,fe,Le),Ye.unbindTexture()},this.copyTextureToTexture=function(q,se,ge=null,ve=null,fe=0){q.isTexture!==!0&&(np("WebGLRenderer: copyTextureToTexture function signature has changed."),ve=arguments[0]||null,q=arguments[1],se=arguments[2],fe=arguments[3]||0,ge=null);let Le,Ke,gt,ht,Ct,Rt,pt,ae,Re;const Te=q.isCompressedTexture?q.mipmaps[fe]:q.image;ge!==null?(Le=ge.max.x-ge.min.x,Ke=ge.max.y-ge.min.y,gt=ge.isBox3?ge.max.z-ge.min.z:1,ht=ge.min.x,Ct=ge.min.y,Rt=ge.isBox3?ge.min.z:0):(Le=Te.width,Ke=Te.height,gt=Te.depth||1,ht=0,Ct=0,Rt=0),ve!==null?(pt=ve.x,ae=ve.y,Re=ve.z):(pt=0,ae=0,Re=0);const ot=dt.convert(se.format),qe=dt.convert(se.type);let it;se.isData3DTexture?(X.setTexture3D(se,0),it=oe.TEXTURE_3D):se.isDataArrayTexture||se.isCompressedArrayTexture?(X.setTexture2DArray(se,0),it=oe.TEXTURE_2D_ARRAY):(X.setTexture2D(se,0),it=oe.TEXTURE_2D),oe.pixelStorei(oe.UNPACK_FLIP_Y_WEBGL,se.flipY),oe.pixelStorei(oe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),oe.pixelStorei(oe.UNPACK_ALIGNMENT,se.unpackAlignment);const an=oe.getParameter(oe.UNPACK_ROW_LENGTH),Ot=oe.getParameter(oe.UNPACK_IMAGE_HEIGHT),mt=oe.getParameter(oe.UNPACK_SKIP_PIXELS),rc=oe.getParameter(oe.UNPACK_SKIP_ROWS),Zr=oe.getParameter(oe.UNPACK_SKIP_IMAGES);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,Te.width),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,Te.height),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,ht),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,Ct),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Rt);const fh=q.isDataArrayTexture||q.isData3DTexture,En=se.isDataArrayTexture||se.isData3DTexture;if(q.isRenderTargetTexture||q.isDepthTexture){const ys=nt.get(q),hh=nt.get(se),ho=nt.get(ys.__renderTarget),Qa=nt.get(hh.__renderTarget);Ye.bindFramebuffer(oe.READ_FRAMEBUFFER,ho.__webglFramebuffer),Ye.bindFramebuffer(oe.DRAW_FRAMEBUFFER,Qa.__webglFramebuffer);for(let Xa=0;Xa<gt;Xa++)fh&&oe.framebufferTextureLayer(oe.READ_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,nt.get(q).__webglTexture,fe,Rt+Xa),q.isDepthTexture?(En&&oe.framebufferTextureLayer(oe.DRAW_FRAMEBUFFER,oe.COLOR_ATTACHMENT0,nt.get(se).__webglTexture,fe,Re+Xa),oe.blitFramebuffer(ht,Ct,Le,Ke,pt,ae,Le,Ke,oe.DEPTH_BUFFER_BIT,oe.NEAREST)):En?oe.copyTexSubImage3D(it,fe,pt,ae,Re+Xa,ht,Ct,Le,Ke):oe.copyTexSubImage2D(it,fe,pt,ae,Re+Xa,ht,Ct,Le,Ke);Ye.bindFramebuffer(oe.READ_FRAMEBUFFER,null),Ye.bindFramebuffer(oe.DRAW_FRAMEBUFFER,null)}else En?q.isDataTexture||q.isData3DTexture?oe.texSubImage3D(it,fe,pt,ae,Re,Le,Ke,gt,ot,qe,Te.data):se.isCompressedArrayTexture?oe.compressedTexSubImage3D(it,fe,pt,ae,Re,Le,Ke,gt,ot,Te.data):oe.texSubImage3D(it,fe,pt,ae,Re,Le,Ke,gt,ot,qe,Te):q.isDataTexture?oe.texSubImage2D(oe.TEXTURE_2D,fe,pt,ae,Le,Ke,ot,qe,Te.data):q.isCompressedTexture?oe.compressedTexSubImage2D(oe.TEXTURE_2D,fe,pt,ae,Te.width,Te.height,ot,Te.data):oe.texSubImage2D(oe.TEXTURE_2D,fe,pt,ae,Le,Ke,ot,qe,Te);oe.pixelStorei(oe.UNPACK_ROW_LENGTH,an),oe.pixelStorei(oe.UNPACK_IMAGE_HEIGHT,Ot),oe.pixelStorei(oe.UNPACK_SKIP_PIXELS,mt),oe.pixelStorei(oe.UNPACK_SKIP_ROWS,rc),oe.pixelStorei(oe.UNPACK_SKIP_IMAGES,Zr),fe===0&&se.generateMipmaps&&oe.generateMipmap(it),Ye.unbindTexture()},this.copyTextureToTexture3D=function(q,se,ge=null,ve=null,fe=0){return q.isTexture!==!0&&(np("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ge=arguments[0]||null,ve=arguments[1]||null,q=arguments[2],se=arguments[3],fe=arguments[4]||0),np('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(q,se,ge,ve,fe)},this.initRenderTarget=function(q){nt.get(q).__webglFramebuffer===void 0&&X.setupRenderTarget(q)},this.initTexture=function(q){q.isCubeTexture?X.setTextureCube(q,0):q.isData3DTexture?X.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?X.setTexture2DArray(q,0):X.setTexture2D(q,0),Ye.unbindTexture()},this.resetState=function(){k=0,A=0,U=null,Ye.reset(),et.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Sa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Jt._getDrawingBufferColorSpace(e),n.unpackColorSpace=Jt._getUnpackColorSpace()}}class Vj extends Yr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ks,this.environmentIntensity=1,this.environmentRotation=new Ks,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class $j extends Xr{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class fb extends nc{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],h=[];let p=0;const m=[],y=r/2;let g=0;v(),s===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Hs(d,3)),this.setAttribute("normal",new Hs(f,3)),this.setAttribute("uv",new Hs(h,2));function v(){const x=new Ee,I=new Ee;let k=0;const A=(n-e)/r;for(let U=0;U<=o;U++){const S=[],N=U/o,P=N*(n-e)+e;for(let G=0;G<=i;G++){const B=G/i,w=B*l+a,E=Math.sin(w),M=Math.cos(w);I.x=P*E,I.y=-N*r+y,I.z=P*M,d.push(I.x,I.y,I.z),x.set(E,A,M).normalize(),f.push(x.x,x.y,x.z),h.push(B,1-N),S.push(p++)}m.push(S)}for(let U=0;U<i;U++)for(let S=0;S<o;S++){const N=m[S][U],P=m[S+1][U],G=m[S+1][U+1],B=m[S][U+1];(e>0||S!==0)&&(u.push(N,P,B),k+=3),(n>0||S!==o-1)&&(u.push(P,G,B),k+=3)}c.addGroup(g,k,0),g+=k}function b(x){const I=p,k=new sn,A=new Ee;let U=0;const S=x===!0?e:n,N=x===!0?1:-1;for(let G=1;G<=i;G++)d.push(0,y*N,0),f.push(0,N,0),h.push(.5,.5),p++;const P=p;for(let G=0;G<=i;G++){const w=G/i*l+a,E=Math.cos(w),M=Math.sin(w);A.x=S*M,A.y=y*N,A.z=S*E,d.push(A.x,A.y,A.z),f.push(0,N,0),k.x=E*.5+.5,k.y=M*.5*N+.5,h.push(k.x,k.y),p++}for(let G=0;G<i;G++){const B=I+G,w=P+G;x===!0?u.push(w,w+1,B):u.push(w+1,w,B),U+=3}c.addGroup(g,U,x===!0?1:2),g+=U}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gy extends E0{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_j,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ks,this.combine=G3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const Ak={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class _Ee{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const SEe=new _Ee;class Z3{constructor(e){this.manager=e!==void 0?e:SEe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Z3.DEFAULT_MATERIAL_NAME="__DEFAULT";class CEe extends Z3{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Ak.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Om("img");function l(){u(),Ak.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class qj extends Z3{constructor(e){super(e)}load(e,n,r,i){const o=new Xr,s=new CEe(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Kj extends Yr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const LE=new Gn,_k=new Ee,Sk=new Ee;class TEe{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sn(512,512),this.map=null,this.mapPass=null,this.matrix=new Gn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Y3,this._frameExtents=new sn(1,1),this._viewportCount=1,this._viewports=[new jn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;_k.setFromMatrixPosition(e.matrixWorld),n.position.copy(_k),Sk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Sk),n.updateMatrixWorld(),LE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(LE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class MEe extends TEe{constructor(){super(new Dj(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Qj extends Kj{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Yr.DEFAULT_UP),this.updateMatrix(),this.target=new Yr,this.shadow=new MEe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Xj extends Kj{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:H3}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=H3);const IEe=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],REe=({isFlipping:t=!1,flipResult:e=null,flipDuration:n=2e3,isPlayerTurn:r=!1,onPowerCharge:i,onPowerRelease:o,chargingPlayer:s=null,isCharging:a=!1,creatorPower:l=0,joinerPower:c=0,size:u=300,creatorChoice:d=null,joinerChoice:f=null,isCreator:h=!1,customHeadsImage:p=null,customTailsImage:m=null})=>{console.log("🪙 OptimizedGoldCoin rendering with size:",u,"props:",{isFlipping:t,flipResult:e,isPlayerTurn:r}),console.log("🪙 Component timestamp:",Date.now());const y=z.useRef(null),g=z.useRef(null),v=z.useRef(null),b=z.useRef(null),x=z.useRef({}),I=z.useRef(null),k=z.useRef(!1),A=z.useRef({level:"high",fps:60}),U=z.useRef(0),S=z.useRef(performance.now()),N=()=>{const O=A.current.fps;return O<30?"low":O<50?"medium":"high"},P=()=>{U.current++;const O=performance.now(),C=O-S.current;C>=1e3&&(A.current.fps=Math.round(U.current*1e3/C),A.current.level=N(),U.current=0,S.current=O)},G=()=>{const O=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),C=A.current.level;if(O)return C==="low"?24:32;switch(C){case"low":return 32;case"medium":return 48;case"high":return 64;default:return 48}},B=(O,C=null)=>{const H=`${O}-${C||"default"}`;if(x.current[H])return x.current[H];if(C){const Z=new qj().load(C);return Z.colorSpace=Vr,x.current[H]=Z,Z}const W=A.current.level==="low"?256:512,D=document.createElement("canvas");D.width=W,D.height=W;const T=D.getContext("2d");O==="edge"?(T.fillStyle="#F5F5F5",T.fillRect(0,0,W,W)):T.clearRect(0,0,W,W);const $=new $j(D);return $.colorSpace=Vr,x.current[H]=$,$};z.useEffect(()=>{if(!y.current||g.current)return;console.log("🪙 Creating new Three.js scene for OptimizedGoldCoin with size:",u);const O=new Vj,C=new Ji(50,1,.1,1e3);C.position.set(0,3,10),C.lookAt(0,0,0);const H=new Wj({antialias:A.current.level!=="low",alpha:!0,powerPreference:"high-performance"});H.setSize(u,u),H.setClearColor(0,0),H.setPixelRatio(Math.min(window.devicePixelRatio,2)),H.domElement.style.display="block",H.domElement.style.margin="0 auto",H.domElement.style.position="relative",H.domElement.style.left="50%",H.domElement.style.transform="translateX(-50%)",y.current.appendChild(H.domElement),g.current=O,v.current=H;const W=new Xj(16777215,1.2);O.add(W);const D=new Qj(16777215,1);D.position.set(5,5,5),O.add(D),console.log("🎨 Creating materials at:",Date.now());const T=[new Gy({map:B("edge"),color:16777215,shininess:80,specular:4473924}),new Gy({map:B("heads",p),color:16777215,shininess:80,specular:4473924}),new Gy({map:B("tails",m),color:16777215,shininess:80,specular:4473924})],$=G(),J=new fb(3,3,.4,$),Z=new is(J,T);Z.scale.y=1.5,O.add(Z),b.current=Z,Z.rotation.x=0,Z.rotation.y=Math.PI/2,Z.rotation.z=0;const ce=()=>{if(!b.current||!v.current)return;P();const ie=b.current,xe=Date.now()*.001,ue=A.current.level;if(!k.current)if(a&&!k.current){const Ie=Math.min(1,(l+c)/20);if(ue!=="low"){const Ge=1+Math.sin(xe*10)*.05*Ie;ie.scale.set(Ge,Ge,Ge),ie.position.y=Math.sin(xe*5)*.05*Ie}ie.rotation.x+=.01*(1+Ie*.5)}else ue!=="low"&&(ie.rotation.x+=.003,ie.position.y=Math.sin(xe*2)*.01),ie.scale.set(1,1,1),ie.position.x=0,ie.position.z=0;H.render(O,C),I.current=requestAnimationFrame(ce)};if(A.current.level==="low"){let ie=0;const ue=1e3/30,Ie=Ge=>{Ge-ie>=ue&&(ce(),ie=Ge),I.current=requestAnimationFrame(Ie)};Ie(0)}else ce();return()=>{I.current&&cancelAnimationFrame(I.current),console.log("🪙 Cleaning up OptimizedGoldCoin Three.js scene"),T.forEach(ie=>{ie.map&&ie.map.dispose(),ie.dispose()}),J.dispose(),H.dispose(),Object.values(x.current).forEach(ie=>{ie.dispose()}),x.current={},g.current=null,v.current=null}},[u,p,m]),z.useEffect(()=>{if(!b.current)return;const O=b.current;Object.values(x.current).forEach(C=>{C.dispose()}),x.current={},O.material[1]&&(O.material[1].map&&O.material[1].map.dispose(),O.material[1].map=B("heads",p),O.material[1].needsUpdate=!0),O.material[2]&&(O.material[2].map&&O.material[2].map.dispose(),O.material[2].map=B("tails",m),O.material[2].needsUpdate=!0),O.material[0]&&(O.material[0].map&&O.material[0].map.dispose(),O.material[0].map=B("edge"),O.material[0].needsUpdate=!0)},[p,m,d,f]);const w=(O,C)=>{if(!b.current)return;const H=200,W=Date.now(),D=b.current,T={x:D.rotation.x,y:D.rotation.y,z:D.rotation.z},J=Math.floor(T.x/(Math.PI*2))*Math.PI*2+O,Z=()=>{const ce=Date.now()-W,ie=Math.min(ce/H,1),xe=ie<.5?2*ie*ie:1-Math.pow(-2*ie+2,2)/2;D.rotation.x=T.x+(J-T.x)*xe,D.rotation.y=Math.PI/2,D.rotation.z=0,D.position.y=0,ie<.3&&(D.position.y=Math.sin(ie*10)*.1*(1-ie*3)),ie<1?requestAnimationFrame(Z):(D.rotation.x=J,D.rotation.y=Math.PI/2,D.rotation.z=0,k.current=!1,console.log("🏁 Desktop coin animation fully complete - winner should be announced now"))};Z()};z.useEffect(()=>!t||!e||!b.current?void 0:((()=>{if(k.current)return;k.current=!0;const C=b.current,H=(l||0)+(c||0),W=Math.max(1,Math.min(10,Math.ceil(H))),D=IEe[Math.max(0,W-1)],{minFlips:T,duration:$,speed:J}=D,Z=Math.PI*2,ce=T*Z,ie=Math.random()*Math.PI*4,xe=ce+ie,Ie=e==="heads"?0:Math.PI,Ge=Date.now(),Fe={x:C.rotation.x,y:C.rotation.y,z:C.rotation.z},At=(5+W*.5)/2,oe=J,ct=()=>{const Tt=Date.now()-Ge,ut=Math.min(Tt/$,1),Ye=1-Math.pow(1-ut,3),Nt=Math.sin(ut*Math.PI);C.position.y=Nt*At,C.rotation.x=Fe.x+xe*Ye*oe,C.rotation.y=Math.PI/2,C.rotation.z=0,ut<1?requestAnimationFrame(ct):w(Ie)};ct()})(),()=>{k.current=!1}),[t,e,n,l,c]);const E=O=>{!r||!i||(O.preventDefault(),i(O))},M=O=>{!r||!o||(O.preventDefault(),o(O))};return F("div",{ref:y,onMouseDown:r?E:void 0,onMouseUp:r?M:void 0,onMouseLeave:r?M:void 0,onTouchStart:r?E:void 0,onTouchEnd:r?M:void 0,style:{width:u,height:u,cursor:r?"pointer":"default",userSelect:"none",touchAction:"none",position:"relative",margin:"0 auto",display:"block",background:a?"radial-gradient(circle, rgba(255,20,147,0.1) 0%, transparent 70%)":"transparent",transition:"background 0.3s ease",borderRadius:"50%"}})},PEe=[{minFlips:5,duration:2e3,speed:1},{minFlips:6,duration:3e3,speed:1.2},{minFlips:7,duration:4e3,speed:1.4},{minFlips:8,duration:5e3,speed:1.6},{minFlips:9,duration:6e3,speed:1.8},{minFlips:10,duration:7e3,speed:2},{minFlips:12,duration:8e3,speed:2.3},{minFlips:14,duration:1e4,speed:2.6},{minFlips:16,duration:12e3,speed:3},{minFlips:20,duration:15e3,speed:3.5}],NEe=({isFlipping:t,flipResult:e,flipDuration:n=3e3,onPowerCharge:r,onPowerRelease:i,isPlayerTurn:o,isCharging:s=!1,chargingPlayer:a,creatorPower:l=0,joinerPower:c=0,creatorChoice:u=null,joinerChoice:d=null,isCreator:f=!1,customHeadsImage:h=null,customTailsImage:p=null,size:m=187})=>{const y=z.useRef(null),g=z.useRef(null),v=z.useRef(null),b=z.useRef(null),x=z.useRef(null),I=z.useRef(!1),k=z.useRef("heads"),A=z.useRef({}),U=z.useRef({}),S=z.useRef(0),N=z.useRef(Date.now()),[P,G]=z.useState(!1),B=(O,C=null)=>{const H=`${O}-${C||"default"}-${u}-${d}`;if(A.current[H])return A.current[H];if(C){const J=new qj().load(C);return J.colorSpace=Vr,J.generateMipmaps=!1,J.minFilter=Ri,J.magFilter=Ri,A.current[H]=J,J}const W=document.createElement("canvas");W.width=256,W.height=256;const D=W.getContext("2d");if(O==="heads"){const $=D.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),D.fillStyle=$,D.fillRect(0,0,256,256),D.fillStyle="#2C1810",D.font="bold 64px serif",D.textAlign="center",D.textBaseline="middle",D.fillText("♔",128,108),u==="heads"&&f||d==="heads"&&!f?(D.fillStyle="#00FF00",D.shadowColor="#00FF00",D.shadowBlur=8):u==="heads"&&!f||d==="heads"&&f?(D.fillStyle="#FF0000",D.shadowColor="#FF0000",D.shadowBlur=8):(D.fillStyle="#2C1810",D.shadowBlur=0),D.font="bold 32px Arial",D.fillText("HEADS",128,148),D.shadowBlur=0,D.strokeStyle="#8B4513",D.lineWidth=4,D.beginPath(),D.arc(128,128,120,0,Math.PI*2),D.stroke()}else if(O==="tails"){const $=D.createRadialGradient(128,128,0,128,128,128);$.addColorStop(0,"#FFFFFF"),$.addColorStop(.3,"#FFD700"),$.addColorStop(.7,"#FFA500"),$.addColorStop(1,"#CD853F"),D.fillStyle=$,D.fillRect(0,0,256,256),D.fillStyle="#2C1810",D.font="bold 64px serif",D.textAlign="center",D.textBaseline="middle",D.fillText("♦",128,108),u==="tails"&&f||d==="tails"&&!f?(D.fillStyle="#00FF00",D.shadowColor="#00FF00",D.shadowBlur=8):u==="tails"&&!f||d==="tails"&&f?(D.fillStyle="#FF0000",D.shadowColor="#FF0000",D.shadowBlur=8):(D.fillStyle="#2C1810",D.shadowBlur=0),D.font="bold 32px Arial",D.fillText("TAILS",128,148),D.shadowBlur=0,D.strokeStyle="#8B4513",D.lineWidth=4,D.beginPath(),D.arc(128,128,120,0,Math.PI*2),D.stroke()}else if(O==="edge"){D.fillStyle="#DAA520",D.fillRect(0,0,256,256),D.strokeStyle="#B8860B",D.lineWidth=2;for(let $=0;$<256;$+=8)D.beginPath(),D.moveTo($,0),D.lineTo($,256),D.stroke()}const T=new $j(W);return T.colorSpace=Vr,T.generateMipmaps=!1,T.minFilter=Ri,T.magFilter=Ri,A.current[H]=T,T},w=(O,C=null)=>{const H=`material-${O}-${C||"default"}-${u}-${d}`;if(U.current[H])return U.current[H];const W=new Gy({map:B(O,C),color:16777215,shininess:60,specular:3355443});return U.current[H]=W,W},E=(O,C)=>{if(!g.current)return;const H=150,W=Date.now(),D=g.current,T=D.rotation.x,J=Math.floor(T/(Math.PI*2))*Math.PI*2+O,Z=()=>{const ce=Date.now()-W,ie=Math.min(ce/H,1),xe=1-Math.pow(1-ie,2);D.rotation.x=T+(J-T)*xe,D.position.y=0,D.rotation.y=Math.PI/2,D.rotation.z=0,ie<1?requestAnimationFrame(Z):(D.rotation.x=J,D.rotation.y=Math.PI/2,D.rotation.z=0,k.current=C?"heads":"tails",I.current=!1,console.log("🏁 Mobile coin animation fully complete - winner should be announced now"))};Z()},M=O=>{if(!g.current){console.warn("⚠️ No coin ref available for flip");return}if(I.current){console.log("⏸️ Flip already in progress, skipping");return}console.log("🎬 Mobile 3D flip starting with power mechanics:",{result:O,testMode:P,isFlipping:t,currentSide:k.current,coinVisible:g.current?.visible!==!1}),I.current=!0;const C=g.current;C.visible=!0,C.visible||(console.warn("⚠️ Mobile coin became invisible during flip - forcing visible"),C.visible=!0);const H=(l||0)+(c||0)||5,W=Math.max(1,Math.min(10,Math.ceil(H))),D=PEe[Math.max(0,W-1)],{minFlips:T,duration:$,speed:J}=D,Z=Math.PI*2,ce=T*Z+Math.random()*Math.PI*2,ie=O==="heads",xe=ie?0:Math.PI,ue=Date.now(),Ie=C.rotation.x,Ge=(4+W*.3)/2,Fe=()=>{if(!g.current){console.warn("⚠️ Coin disappeared during animation"),I.current=!1;return}if(!I.current){console.log("⏹️ Animation stopped externally");return}const At=Date.now()-ue,oe=Math.min(At/$,1),ct=1-Math.pow(1-oe,2);C.position.y=Math.sin(oe*Math.PI)*Ge,C.rotation.x=Ie+ce*ct*J,oe<1?requestAnimationFrame(Fe):E(xe,ie)};Fe()};return z.useEffect(()=>{if(!y.current||v.current)return;console.log("🎯 Creating mobile optimized 3D coin");const O=new Vj,C=new Ji(45,1,.1,1e3);C.position.set(0,3,10),C.lookAt(0,0,0);const H=new Wj({antialias:!1,alpha:!0,powerPreference:"high-performance"});H.setSize(m,m),H.setClearColor(0,0),H.setPixelRatio(Math.min(window.devicePixelRatio,2)),H.domElement.style.display="block",H.domElement.style.margin="0 auto",y.current.appendChild(H.domElement),v.current=O,b.current=H;const W=new Xj(16777215,1);O.add(W);const D=new Qj(16777215,.8);D.position.set(3,3,5),O.add(D);const T=[w("edge"),w("heads",h),w("tails",p)],$=new fb(3,3,.4,32),J=new is($,T);J.scale.y=1.5,O.add(J),g.current=J,J.rotation.x=0,J.rotation.y=Math.PI/2,J.rotation.z=0,J.visible=!0,k.current="heads",console.log("🪙 Mobile coin initialized:",{position:J.position,rotation:J.rotation,visible:J.visible,scale:J.scale});const Z=()=>{if(!g.current||!b.current){console.warn("⚠️ Missing refs in animation loop:",{coin:!!g.current,renderer:!!b.current});return}const ce=g.current,ie=Date.now()*.001;if(ce.visible=!0,ce.visible||(console.warn("⚠️ Mobile coin visibility issue detected - forcing visible"),ce.visible=!0),!I.current)if(s){const xe=(l+c)/20;ce.position.y=Math.sin(ie*6)*.1*xe,ce.scale.set(1+xe*.05,1+xe*.05,1+xe*.05)}else ce.scale.set(1,1,1),ce.position.set(0,0,0),ce.position.y=Math.sin(ie*2)*.02;S.current++,Date.now()-N.current>1e3&&(console.log(`📱 Mobile 3D FPS: ${S.current} | Coin visible: ${ce.visible} | Test: ${P}`),S.current=0,N.current=Date.now()),b.current.render(O,C),x.current=requestAnimationFrame(Z)};return Z(),()=>{x.current&&cancelAnimationFrame(x.current),y.current&&H.domElement&&y.current.removeChild(H.domElement),$.dispose(),T.forEach(ce=>ce.dispose()),H.dispose()}},[m]),z.useEffect(()=>{if(!g.current)return;console.log("🎨 Updating mobile coin textures:",{creatorChoice:u,joinerChoice:d});const O=g.current;O.visible=!0;try{if(O.material&&O.material[1]){const C=B("heads",h);O.material[1].map=C,O.material[1].needsUpdate=!0}if(O.material&&O.material[2]){const C=B("tails",p);O.material[2].map=C,O.material[2].needsUpdate=!0}}catch(C){console.warn("Error updating mobile coin textures:",C)}O.visible=!0},[u,d,h,p]),z.useEffect(()=>{!t||!e||P||M(e)},[t,e,l,c]),F("div",{style:{position:"relative"},children:F("div",{ref:y,style:{width:m,height:m,margin:"0 auto",cursor:o?"pointer":"default"},onTouchStart:P?void 0:r,onTouchEnd:P?void 0:i})})},Ck=({creatorPower:t=0,joinerPower:e=0,currentPlayer:n=null,creator:r=null,joiner:i=null,chargingPlayer:o=null,gamePhase:s=null,isMyTurn:a=!1,playerChoice:l=null,onChoiceSelect:c=null,isMobile:u=!1})=>{const d=t+e,f=10,h=s==="choosing"&&a&&!l&&c;console.log("🎯 PowerDisplay Debug:",{gamePhase:s,isMyTurn:a,playerChoice:l,currentPlayer:n,creator:r,joiner:i,showChoiceButtons:h,hasOnChoiceSelect:!!c});const p=s==="round_active"||l;if(!h&&!p&&s!=="choosing")return null;const m=u?{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.1)",width:"100%"}:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(25, 20, 0, 0.8) 100%)",padding:"1.5rem",borderRadius:"1rem",border:"2px solid #FFD700",backdropFilter:"blur(10px)",maxWidth:"550px",margin:"0 auto",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1)"},y=u?{color:Qe.colors.neonYellow,fontSize:"1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"}:{color:"#FFD700",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center",marginBottom:"1.2rem",textShadow:"0 0 10px rgba(255, 215, 0, 0.5)",letterSpacing:"1px"},g=u?{width:"100%",padding:"1rem",fontSize:"1rem",minHeight:"50px"}:{flex:1,padding:"1.5rem",fontSize:"1.2rem"};return K("div",{style:m,children:[F("div",{style:y,children:"⚡ POWER LEVEL ⚡"}),h&&K("div",{style:{marginBottom:u?"1rem":"1.5rem"},children:[F("div",{style:{color:u?Qe.colors.neonYellow:"#FFD700",fontSize:u?"0.9rem":"1rem",fontWeight:"bold",marginBottom:u?"0.75rem":"1rem",textAlign:"center"},children:"🎯 CHOOSE YOUR SIDE"}),K("div",{style:{display:"flex",gap:u?"0.75rem":"1rem",flexDirection:u?"column":"row"},children:[F("button",{onClick:()=>{console.log("🎯 HEADS clicked by:",n,"gamePhase:",s),c?c("heads"):console.error("❌ onChoiceSelect is null!")},style:{...g,background:"linear-gradient(45deg, #00FF41, #00CC33)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"#000000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"HEADS"}),F("button",{onClick:()=>{console.log("🎯 TAILS clicked by:",n,"gamePhase:",s),c?c("tails"):console.error("❌ onChoiceSelect is null!")},style:{...g,background:"#FF1493",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:u?"0.75rem":"1rem",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)",position:"relative",overflow:"hidden",animation:"colorPulse 2s ease infinite"},children:"TAILS"})]})]}),(p||!h)&&K("div",{children:[K("div",{style:{marginBottom:u?"1rem":"1.2rem"},children:[K("div",{style:{color:u?Qe.colors.neonYellow:"#FFD700",fontSize:u?"0.85rem":"0.95rem",fontWeight:"bold",marginBottom:u?"0.5rem":"0.6rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{children:"Total Power"}),K("span",{style:{color:u?Qe.colors.neonYellow:"#FFD700",textShadow:u?"none":"0 0 5px rgba(255, 215, 0, 0.8)"},children:[d.toFixed(1),"/10"]})]}),K("div",{style:{height:u?"16px":"24px",background:"linear-gradient(90deg, rgba(0, 0, 0, 0.8) 0%, rgba(40, 30, 0, 0.6) 100%)",borderRadius:u?"8px":"12px",overflow:"hidden",border:u?"2px solid #FFD700":"3px solid #FFD700",position:"relative",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.5)"},children:[F("div",{style:{height:"100%",width:`${d/f*100}%`,background:o?"linear-gradient(90deg, #FFD700 0%, #FFA500 30%, #FF6B00 60%, #FF1493 100%)":"linear-gradient(90deg, #FFD700 0%, #FFA500 50%, #FF6B00 100%)",borderRadius:u?"6px":"9px",transition:"width 0.15s ease-out",backgroundSize:"200% 100%",animation:o?"powerCharge 0.6s linear infinite":"none",boxShadow:o?"0 0 15px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.3)":"0 0 8px rgba(255, 215, 0, 0.6)"}}),F("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 0.5rem"},children:[2,4,6,8].map(v=>F("div",{style:{width:"2px",height:"70%",background:"rgba(255, 255, 255, 0.4)",opacity:d>=v?1:.3}},v))})]})]}),o&&F("div",{style:{padding:u?"0.5rem":"0.6rem",background:"linear-gradient(90deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 165, 0, 0.1) 100%)",border:"1px solid rgba(255, 215, 0, 0.5)",borderRadius:u?"0.5rem":"0.75rem",textAlign:"center"},children:K("div",{style:{color:u?Qe.colors.neonYellow:"#FFD700",fontSize:u?"0.8rem":"0.9rem",fontWeight:"bold",animation:"powerPulse 0.4s ease-in-out infinite",textShadow:u?"none":"0 0 10px rgba(255, 215, 0, 0.8)"},children:["⚡ ",o===r?"PLAYER 1":"PLAYER 2"," CHARGING ⚡"]})})]})]})},Yj=Ae("div",{target:"ev7jjqq2"})("position:relative;width:",t=>t.size,"px;height:",t=>t.size,"px;border-radius:",t=>t.style?.borderRadius||"50%",";overflow:hidden;cursor:",t=>t.isClickable?"pointer":"default",";border:",t=>t.style?.border||"2px solid rgba(255, 255, 255, 0.2)",";background:rgba(0, 0, 0, 0.3);display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;&:hover{border-color:",t=>t.isClickable?"rgba(255, 20, 147, 0.5)":t.style?.border,";box-shadow:",t=>t.isClickable?"0 0 15px rgba(255, 20, 147, 0.3)":"none",";}"),kEe=Ae("img",{target:"ev7jjqq1"})({name:"4uwt2b",styles:"width:100%;height:100%;object-fit:cover"}),FEe=Ae("div",{target:"ev7jjqq0"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:white;font-size:1.5rem;opacity:0;transition:opacity 0.3s ease;pointer-events:none;",Yj,":hover &{opacity:1;}"),sw=({address:t,size:e=40,isClickable:n=!1,showUploadIcon:r=!1,profileData:i=null,style:o={}})=>{const{getProfilePicture:s,setProfilePicture:a}=J1(),{address:l}=vi(),[c,u]=z.useState(i?.imageUrl||null),[d,f]=z.useState(!0);return z.useEffect(()=>{if(i?.imageUrl){u(i.imageUrl),f(!1);return}(async()=>{if(t)try{f(!0);const m=await s(t);u(m)}catch(m){console.error("Error loading profile picture:",m)}finally{f(!1)}})()},[t,i,s]),K(Yj,{size:e,isClickable:n,onClick:async p=>{if(!n)return;const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=async y=>{const g=y.target.files[0];if(g){if(g.size>5*1024*1024){alert("Image size must be less than 5MB");return}const v=new FileReader;v.onload=async b=>{try{const x=b.target.result;await a(t,x),u(x)}catch(x){console.error("Error uploading profile picture:",x)}},v.readAsDataURL(g)}},m.click()},style:o,children:[c?F(kEe,{src:c,alt:"Profile"}):F("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:`${e*.4}px`},children:t?.slice(0,2).toUpperCase()}),r&&n&&F(FEe,{children:"📷"})]})},OEe="/assets/mobile-DNcTw2U2.webm",Jj=Ae("div",{target:"e12jjgri4"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:",t=>t.isMobile?"320px":"400px",";background:rgba(0, 0, 0, 0.9);border-radius:1.5rem;z-index:1000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:1rem;backdrop-filter:blur(10px);"),BEe=Ae(Jj,{target:"e12jjgri3"})(""),Tk=Ae("div",{target:"e12jjgri2"})("position:relative;width:",t=>t.isMobile?"280px":"360px",";height:",t=>t.isMobile?"280px":"360px",";border-radius:1rem;overflow:hidden;border:",t=>t.isWinner?"3px solid #00FF41":"3px solid #FF1493",";box-shadow:",t=>t.isWinner?"0 0 30px rgba(0, 255, 65, 0.6), 0 0 60px rgba(0, 255, 65, 0.3)":"0 0 30px rgba(255, 20, 147, 0.6), 0 0 60px rgba(255, 20, 147, 0.3)",";animation:",t=>t.isWinner?"winnerGlow":"loserGlow"," 2s ease-in-out infinite alternate;@keyframes winnerGlow{0%{box-shadow:0 0 30px rgba(0, 255, 65, 0.4),0 0 60px rgba(0, 255, 65, 0.2);}100%{box-shadow:0 0 40px rgba(0, 255, 65, 0.6),0 0 80px rgba(0, 255, 65, 0.3);}}@keyframes loserGlow{0%{box-shadow:0 0 30px rgba(255, 20, 147, 0.4),0 0 60px rgba(255, 20, 147, 0.2);}100%{box-shadow:0 0 40px rgba(255, 20, 147, 0.6),0 0 80px rgba(255, 20, 147, 0.3);}}"),Mk=Ae("div",{target:"e12jjgri1"})("width:100%;display:flex;flex-direction:column;gap:1rem;align-items:center;padding:1rem;background:rgba(0, 0, 0, 0.8);border-radius:1rem;border:2px solid ",t=>t.isWinner?"#00FF41":"#FF1493",";backdrop-filter:blur(10px);animation:buttonFlash 2s ease-in-out infinite;@keyframes buttonFlash{0%,100%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";box-shadow:0 0 20px ",t=>t.isWinner?"rgba(0, 255, 65, 0.3)":"rgba(255, 20, 147, 0.3)",";}50%{border-color:",t=>t.isWinner?"rgba(0, 255, 65, 1)":"rgba(255, 20, 147, 1)",";box-shadow:0 0 30px ",t=>t.isWinner?"rgba(0, 255, 65, 0.6)":"rgba(255, 20, 147, 0.6)",";}}"),Zj=({isVisible:t,isWinner:e,flipResult:n,playerChoice:r,onClose:i,onClaimWinnings:o,gameData:s=null})=>{const a=ih(),l=window.innerWidth<=768;if(!t)return null;const c=()=>{a("/")};return K("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.3s ease-in-out"},children:[e&&K(Jj,{isMobile:l,children:[F(Tk,{isMobile:l,isWinner:!0,children:F("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endwin.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endwin.webm","images/video/LoseWin/final lose win/endwin.webm","./images/video/LoseWin/final lose win/endwin.webm"],p=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[p]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"win")}),K(Mk,{isWinner:!0,children:[F("h2",{style:{color:"#00FF41",textShadow:"0 0 10px #00FF41",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:"🎉 You Won!"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Congratulations!"}),K("div",{style:{display:"flex",gap:"0.75rem",width:"100%"},children:[F("button",{onClick:()=>{o&&o()},style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"collectFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(0, 255, 65, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.5)"},children:"💰 COLLECT"}),F("button",{onClick:c,style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem 0.75rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:"🏠 HOME"})]})]})]}),!e&&K(BEe,{isMobile:l,children:[F(Tk,{isMobile:l,isWinner:!1,children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"},src:"/images/video/LoseWin/final lose win/endlose.webm",onError:d=>{console.error("Video playback error:",d),console.log("Video source:",d.target.src);const f=["/images/video/LoseWin/final lose win/endlose.webm","images/video/LoseWin/final lose win/endlose.webm","./images/video/LoseWin/final lose win/endlose.webm"],p=(f.indexOf(d.target.src)+1)%f.length;d.target.src=f[p]},onLoadedData:d=>{console.log("Video loaded successfully"),d.target.play().catch(f=>console.error("Play error:",f))}},"lose")}),K(Mk,{isWinner:!1,children:[F("h2",{style:{color:"#FF1493",textShadow:"0 0 10px #FF1493",marginBottom:"0.5rem",fontSize:"1.4rem",textAlign:"center"},children:"💔 You Lost"}),F("p",{style:{fontSize:"1rem",marginBottom:"1rem",color:"white",textAlign:"center"},children:"Better luck next time!"}),F("button",{onClick:c,style:{width:"100%",background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.75rem",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.5)",transition:"all 0.3s ease",textTransform:"uppercase",animation:"homeFlash 1.5s ease-in-out infinite"},onMouseOver:d=>{d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 0 25px rgba(255, 20, 147, 0.7)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.5)"},children:"🏠 HOME"})]})]})]})},LEe=Ae("div",{target:"e1v3jcde7"})({name:"ugv07s",styles:"background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:1rem;height:300px;display:flex;flex-direction:column"}),DEe=Ae("div",{target:"e1v3jcde6"})({name:"oasci9",styles:"flex:1;overflow-y:auto;margin-bottom:1rem;padding-right:0.5rem;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:rgba(255, 255, 255, 0.1);border-radius:3px;}&::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.2);border-radius:3px;}"}),UEe=Ae("div",{target:"e1v3jcde5"})("margin-bottom:0.5rem;padding:0.5rem;border-radius:0.5rem;background:",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.2)":"rgba(255, 255, 255, 0.1)",";border:1px solid ",t=>t.isCurrentUser?"rgba(255, 20, 147, 0.3)":"rgba(255, 255, 255, 0.2)",";"),zEe=Ae("div",{target:"e1v3jcde4"})("display:flex;justify-content:space-between;margin-bottom:0.25rem;font-size:0.8rem;color:",t=>t.isCurrentUser?"#FF1493":"#00BFFF",";"),jEe=Ae("div",{target:"e1v3jcde3"})({name:"l6ov4n",styles:"color:#fff;word-break:break-word"}),HEe=Ae("form",{target:"e1v3jcde2"})({name:"aj6rbz",styles:"display:flex;gap:0.5rem"}),GEe=Ae("input",{target:"e1v3jcde1"})({name:"d6ulw3",styles:"flex:1;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.5rem;color:#fff;font-size:0.9rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),WEe=Ae("button",{target:"e1v3jcde0"})({name:"10wre2a",styles:"background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.5rem 1rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.05);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}"}),DE=({gameId:t,socket:e,connected:n})=>{const{address:r,isConnected:i}=vi(),{getPlayerName:o,setPlayerName:s}=J1(),{showError:a}=ps(),[l,c]=z.useState([]),[u,d]=z.useState(""),[f,h]=z.useState(!1),[p,m]=z.useState(""),[y,g]=z.useState(""),[v,b]=z.useState(!0),[x,I]=z.useState(0),[k,A]=z.useState({}),U=z.useRef(null),S=z.useRef(null);z.useEffect(()=>{r&&i&&(async()=>{const O=await o(r);g(O||"")})()},[r,i,o]),z.useEffect(()=>{U.current?.scrollIntoView({behavior:"smooth"})},[l]),z.useEffect(()=>{if(!e)return;const M=O=>{try{const C=JSON.parse(O.data);C.type==="chat_message"&&c(H=>[...H,{id:C.id,address:C.address,name:C.name,message:C.message,timestamp:C.timestamp,isSystem:C.isSystem||!1}])}catch(C){console.error("Error parsing chat message:",C)}};return e.addEventListener("message",M),()=>e.removeEventListener("message",M)},[e]);const N=M=>!(!M||typeof M!="string"||M.trim().length===0||M.length>500||M.includes("<")||M.includes(">")||M.includes("javascript:")||M.includes("data:")),P=M=>!(!M||typeof M!="string"||M.trim().length===0||M.length>50||!/^[a-zA-Z0-9\s\-_.!@#$%^&*()]+$/.test(M)||M.includes("<")||M.includes(">")||M.includes("javascript:")||M.includes("data:")),G=async M=>{if(M.preventDefault(),!n||!e||!r||!i){a("Not connected to game");return}if(!y){h(!0);return}const O=u.trim();if(!N(O)){a("Invalid message. Keep it under 500 characters and avoid special characters.");return}try{const C={type:"chat_message",gameId:t,address:r,name:y,message:O,timestamp:new Date().toISOString()};e.send(JSON.stringify(C)),d(""),S.current?.focus()}catch(C){console.error("Error sending chat message:",C),a("Failed to send message")}},B=async()=>{if(!P(p)){a("Invalid name. Use 50 characters or less, alphanumeric and basic punctuation only.");return}try{await s(r,p.trim()),g(p.trim()),h(!1),m("")}catch(M){console.error("Error saving name:",M),a("Failed to save name")}},w=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),G(M))},E=M=>new Date(M).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return z.useEffect(()=>{(async()=>{const O={};for(const C of l)if(!O[C.address]){const H=await o(C.address);O[C.address]=H}A(O)})()},[l,o]),i?K(LEe,{children:[K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255, 215, 0, 0.3)"},children:[F("div",{style:{color:"#FFD700",fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"💬 Chat"}),K("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:n?"#00FF00":"#FF0000",animation:n?"pulse 2s infinite":"none"}}),F("span",{style:{color:Qe.colors.textSecondary,fontSize:"0.8rem"},children:n?"Connected":"Disconnected"})]})]}),K(DEe,{children:[l.map((M,O)=>{const C=M.address===r,H=k[M.address]||M.address.slice(0,6)+"..."+M.address.slice(-4);return K(UEe,{isCurrentUser:C,children:[K(zEe,{isCurrentUser:C,children:[F("span",{children:H}),F("span",{children:E(M.timestamp)})]}),F(jEe,{children:M.message})]},O)}),F("div",{ref:U})]}),K(HEe,{onSubmit:G,children:[F(GEe,{ref:S,type:"text",value:u,onChange:M=>d(M.target.value),onKeyPress:w,placeholder:"Type your message...",disabled:!n,style:{flex:1,background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.75rem",color:"#fff",fontSize:"0.9rem"}}),F(WEe,{type:"submit",disabled:!n||!u.trim(),style:{background:"linear-gradient(45deg, #FF1493, #FF69B4)",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem"},children:"Send"})]}),f&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"1.5rem",width:"90%",maxWidth:"400px",position:"relative"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem",fontSize:"1.2rem"},children:y?"Change Your Name":"Set Your Name"}),F("input",{type:"text",value:p,onChange:M=>m(M.target.value),placeholder:"Enter your name...",style:{width:"100%",padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",color:"#fff",fontSize:"1rem",marginBottom:"1rem"}}),K("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[F("button",{onClick:()=>h(!1),style:{padding:"0.75rem 1.5rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#fff",fontSize:"0.9rem",cursor:"pointer"},children:"Cancel"}),F("button",{onClick:B,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer"},children:"Save"})]})]})}),F("style",{children:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `})]}):F("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"1rem",padding:"1rem",textAlign:"center"},children:F("div",{style:{color:Qe.colors.textSecondary},children:"Connect your wallet to join the chat"})})},VEe=({nftData:t,chainConfig:e})=>{if(!t)return F("div",{style:{color:"#888",textAlign:"center",padding:"1rem"},children:"NFT data not available"});const[n,r]=z.useState(!1),[i,o]=z.useState(""),s=(l,c)=>{navigator.clipboard.writeText(l),o(c),setTimeout(()=>o(""),2e3)},a=l=>l?`${(l*100).toFixed(2)}%`:"N/A";return K("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",padding:"16px",color:"#fff",fontFamily:"Inter, sans-serif"},children:[F("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:F("h3",{style:{margin:0,fontSize:"16px"},children:t.name||"Unnamed NFT"})}),K("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Collection"}),F("div",{style:{fontWeight:"bold"},children:t.collection||"Unknown"})]}),K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8},children:"Token ID"}),K("div",{style:{fontWeight:"bold"},children:["#",t.tokenId]})]})]}),K("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[F("a",{href:`${e.explorerUrl}/token/${t.contractAddress}?a=${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:"🔍 Explorer"}),F("a",{href:`${e.marketplaceUrl}/${t.contractAddress}/${t.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"4px"},children:"🛍️ OpenSea"})]}),K("div",{children:[K("button",{onClick:()=>r(!n),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"8px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[F("span",{children:"View Details"}),F("span",{children:n?"▲":"▼"})]}),n&&K("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Contract Address"}),K("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",wordBreak:"break-all"},children:[F("span",{children:`${t.contractAddress.slice(0,6)}...${t.contractAddress.slice(-4)}`}),F("button",{onClick:()=>s(t.contractAddress,"contract"),style:{background:"none",border:"none",color:"#fff",cursor:"pointer",padding:"4px"},children:i==="contract"?"✓":"📋"})]})]}),t.metadata?.description&&K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Description"}),F("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:t.metadata.description})]}),t.metadata?.attributes?.length>0&&K("div",{style:{marginBottom:"16px"},children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"8px"},children:"Attributes"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"8px"},children:t.metadata.attributes.map((l,c)=>K("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"8px",borderRadius:"6px",fontSize:"12px"},children:[F("div",{style:{opacity:.8},children:l.trait_type}),F("div",{style:{fontWeight:"bold"},children:l.value}),l.rarity&&K("div",{style:{fontSize:"10px",opacity:.6},children:["Rarity: ",a(l.rarity)]})]},c))})]}),K("div",{children:[F("div",{style:{fontSize:"14px",opacity:.8,marginBottom:"4px"},children:"Verification Status"}),K("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[F("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Qe.colors.neonGreen}}),K("span",{children:["Verified on ",e.name]})]})]})]})]})]})},Ik=({gameId:t,gameData:e,isCreator:n,socket:r,connected:i,offeredNFTs:o=[],onOfferSubmitted:s,onOfferAccepted:a})=>{const{isConnected:l,address:c,nfts:u,provider:d}=vi(),{showSuccess:f,showError:h,showInfo:p}=ps(),[m,y]=z.useState(null),[g,v]=z.useState(!1),[b,x]=z.useState(!1),I=async()=>{if(!(!m||!i||!r))try{v(!0),p("Submitting NFT offer...");const S={type:"nft_offer",gameId:t,offererAddress:c,nft:{contractAddress:m.contractAddress,tokenId:m.tokenId,name:m.name,image:m.image,collection:m.collection,chain:m.chain},timestamp:new Date().toISOString()};r.send(JSON.stringify(S)),f("NFT offer submitted! Waiting for creator to accept..."),y(null),x(!1),s&&s(S)}catch(S){console.error("Error submitting offer:",S),h("Failed to submit offer: "+S.message)}finally{v(!1)}},k=async S=>{if(!(!n||!i||!r))try{p("Accepting NFT challenge...");const N={type:"accept_nft_offer",gameId:t,creatorAddress:c,acceptedOffer:S,timestamp:new Date().toISOString()};r.send(JSON.stringify(N)),a&&a(S)}catch(N){console.error("Error accepting offer:",N),h("Failed to accept offer: "+N.message)}},A=S=>{const N={ethereum:"https://etherscan.io",base:"https://basescan.org",polygon:"https://polygonscan.com",arbitrum:"https://arbiscan.io"};return`${N[S.chain?.toLowerCase()]||N.ethereum}/token/${S.contractAddress}?a=${S.tokenId}`},U=S=>`https://opensea.io/assets/${{ethereum:"ethereum",base:"base",polygon:"matic",arbitrum:"arbitrum"}[S.chain?.toLowerCase()]||"ethereum"}/${S.contractAddress}/${S.tokenId}`;return n?K("div",{style:{background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[K("h3",{style:{color:"#00FF41",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:["💎 NFT Battle Offers (",o.length,")"]}),o.length===0?K("div",{style:{textAlign:"center",padding:"2rem",color:"rgba(255, 255, 255, 0.7)"},children:[F("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"⏳"}),F("p",{children:"Waiting for players to offer their NFTs..."}),F("p",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:"Share your game link to attract challengers!"})]}):F("div",{style:{display:"grid",gap:"1rem",maxHeight:"400px",overflowY:"auto"},children:o.map((S,N)=>K("div",{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:S.nft.image,alt:S.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{style:{flex:1},children:[F("h4",{style:{color:"white",margin:"0 0 0.25rem 0",fontSize:"1rem"},children:S.nft.name}),F("p",{style:{color:"rgba(255, 255, 255, 0.7)",margin:"0 0 0.5rem 0",fontSize:"0.8rem"},children:S.nft.collection}),K("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.7rem",marginBottom:"0.5rem"},children:["From: ",S.offererAddress.slice(0,6),"...",S.offererAddress.slice(-4)]}),K("div",{style:{display:"flex",gap:"0.5rem"},children:[F("a",{href:A(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00FF41",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 255, 65, 0.3)"},children:"🔍 Verify"}),F("a",{href:U(S.nft),target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",color:"#00BFFF",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",border:"1px solid rgba(0, 191, 255, 0.3)"},children:"🛍️ OpenSea"})]})]}),F("button",{onClick:()=>k(S),style:{background:"linear-gradient(45deg, #00FF41, #39FF14)",color:"#000",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontWeight:"bold",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseOver:P=>{P.target.style.transform="scale(1.05)",P.target.style.boxShadow="0 0 15px rgba(0, 255, 65, 0.5)"},onMouseOut:P=>{P.target.style.transform="scale(1)",P.target.style.boxShadow="none"},children:"⚔️ BATTLE!"})]},N))})]}):!n&&e?.gameType==="nft-vs-nft"&&e?.status==="waiting"?K("div",{style:{background:"rgba(255, 20, 147, 0.1)",border:"2px solid rgba(255, 20, 147, 0.3)",borderRadius:"1rem",padding:"1.5rem",marginTop:"1rem"},children:[F("h3",{style:{color:"#FF1493",fontSize:"1.2rem",marginBottom:"1rem",textAlign:"center"},children:"⚔️ Challenge with Your NFT!"}),K("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Creator's NFT:"}),K("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:e.nft.image,alt:e.nft.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{children:[F("div",{style:{color:"white",fontWeight:"bold"},children:e.nft.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:e.nft.collection})]})]})]}),m?K("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"0.75rem",marginBottom:"1rem"},children:[F("h4",{style:{color:"white",margin:"0 0 0.5rem 0"},children:"Your NFT:"}),K("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[F("img",{src:m.image,alt:m.name,style:{width:"60px",height:"60px",borderRadius:"0.5rem",objectFit:"cover"}}),K("div",{style:{flex:1},children:[F("div",{style:{color:"white",fontWeight:"bold"},children:m.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:m.collection})]}),F("button",{onClick:()=>y(null),style:{background:"rgba(255, 0, 0, 0.2)",color:"white",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.25rem",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.8rem"},children:"Change"})]})]}):F("button",{onClick:()=>x(!0),style:{width:"100%",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",border:"2px dashed rgba(255, 20, 147, 0.5)",borderRadius:"0.75rem",color:"#FF1493",cursor:"pointer",marginBottom:"1rem"},children:"Select Your NFT to Battle"}),K("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"1rem",fontSize:"0.8rem"},children:[F("strong",{style:{color:"#FFD700"},children:"⚠️ Battle Rules:"}),F("br",{}),"• Winner takes both NFTs",F("br",{}),"• You pay $0.50 only if your offer is accepted",F("br",{}),"• Best of 5 rounds"]}),F("button",{onClick:I,disabled:!m||g||!i,style:{width:"100%",padding:"1rem",background:m?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.75rem",fontWeight:"bold",cursor:m?"pointer":"not-allowed",fontSize:"1rem",opacity:m?1:.5,transition:"all 0.3s ease"},children:g?"Submitting Offer...":"⚔️ Submit Battle Offer!"}),b&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FF1493",borderRadius:"1rem",padding:"2rem",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",position:"relative"},children:[F("button",{onClick:()=>x(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"30px",height:"30px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"✕"}),F("h3",{style:{color:"#FF1493",marginBottom:"1rem"},children:"Select Your Battle NFT"}),F("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:u?.map(S=>K("div",{onClick:()=>{y(S),x(!1)},style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.75rem",padding:"1rem",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},onMouseOver:N=>{N.currentTarget.style.transform="scale(1.05)",N.currentTarget.style.borderColor="#FF1493"},onMouseOut:N=>{N.currentTarget.style.transform="scale(1)",N.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)"},children:[F("img",{src:S.image,alt:S.name,style:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"0.5rem",marginBottom:"0.5rem"}}),F("div",{style:{color:"white",fontWeight:"bold",fontSize:"0.9rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.name}),F("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.collection})]},S.id))}),(!u||u.length===0)&&F("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No NFTs found in your wallet"})]})})]}):null};var $Ee={VITE_ALCHEMY_API_KEY:"hoaKpKFy40ibWtxftFZbJNUk5NQoL0R3",VITE_API_URL:"https://cryptoflipz2-production.up.railway.app",VITE_WS_URL:"wss://cryptoflipz2-production.up.railway.app",VITE_WALLETCONNECT_PROJECT_ID:"fd95ed98ecab7ef051bdcaa27f9d0547",PRIVATE_KEY:"d2f16b0335fe82780d97aac50ebac18894452cdad053218b6729d66b306d832d",ADMIN_WALLET:"0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839",ALLUSERSPROFILE:"C:\\ProgramData",ANDROID_SDK_HOME:"C:\\Android",APPDATA:"C:\\Users\\Daniel\\AppData\\Roaming","asl.log":"Destination=file",BUNDLED_DEBUGPY_PATH:"c:\\Users\\Daniel\\.cursor\\extensions\\ms-python.debugpy-2025.8.0-win32-x64\\bundled\\libs\\debugpy",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133759967110016571",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_8444_CGXIDHQCCSVKIWTR",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"MSI",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",configsetroot:"C:\\WINDOWS\\ConfigSetRoot",CURSOR_TRACE_ID:"0f6f7647f8b94c768ce57b46caf89243",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",GIT_ASKPASS:"c:\\Users\\Daniel\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Daniel",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Daniel",INIT_CWD:"D:\\Crypto Flipz Final 2",INTEL_DEV_REDIST:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Daniel\\AppData\\Local",LOGONSERVER:"\\\\MSI",MIC_LD_LIBRARY_PATH:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\compiler\\lib\\mic",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\Daniel\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Daniel\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Daniel\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Daniel\\.npm-init.js",npm_config_local_prefix:"D:\\Crypto Flipz Final 2",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\Daniel\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Daniel\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.14.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_engines_node:">=20.0.0",npm_package_engines_npm:">=9.0.0",npm_package_json:"D:\\Crypto Flipz Final 2\\package.json",npm_package_name:"crypto-flipz",npm_package_version:"0.1.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\Daniel\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\Crypto Flipz Final 2\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;c:\\Users\\Daniel\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Libraries\\redist\\intel64\\compiler;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\Sys;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\NVIDIA Corporation\\NVIDIA App\\NvDLISR;C:\\Users\\Daniel\\.cargo\\bin;C:\\Users\\Daniel\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Daniel\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Daniel\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Daniel\\AppData\\Roaming\\npm;C:\\Users\\Daniel\\.local\\share\\solana\\install\\active_release\\bin;C:\\Users\\Daniel\\AppData\\Local\\Programs\\Windsurf\\bin;c:\\Users\\Daniel\\.cursor\\extensions\\ms-python.debugpy-2025.8.0-win32-x64\\bundled\\scripts\\noConfigScripts",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 158 Stepping 9, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9e09",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Daniel\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PYDEVD_DISABLE_FILE_VALIDATION:"1",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\Daniel\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.2.1",TMP:"C:\\Users\\Daniel\\AppData\\Local\\Temp",USERDOMAIN:"MSI",USERDOMAIN_ROAMINGPROFILE:"MSI",USERNAME:"Daniel",USERPROFILE:"C:\\Users\\Daniel",VSCODE_DEBUGPY_ADAPTER_ENDPOINTS:"c:\\Users\\Daniel\\.cursor\\extensions\\ms-python.debugpy-2025.8.0-win32-x64\\.noConfigDebugAdapterEndpoints\\endpoint-7b4bc94731b312de.txt",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Daniel\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Daniel\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-4e20c3c87c-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS"};const qEe=Ae("video",{target:"eua38od28"})({name:"5au173",styles:"position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;opacity:0.7;pointer-events:none;background:#000"}),KEe=Ae("div",{target:"eua38od27"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"6rem":"10rem",";font-weight:900;color:",t=>t.color,";text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:choiceAnimation 1s ease-out forwards;text-shadow:0 0 20px ",t=>t.color,";@keyframes choiceAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.2);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.1);}80%{opacity:1;transform:translate(-50%, -50%) scale(1);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.2);}}"),QEe=Ae("div",{target:"eua38od26"})("position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);font-size:",t=>t.isMobile?"4rem":"6rem",";font-weight:900;color:#FFD700;text-transform:uppercase;opacity:0;z-index:1000;pointer-events:none;animation:autoFlipAnimation 2s ease-out forwards;text-shadow:0 0 30px #FFD700,0 0 60px #FFD700;text-align:center;line-height:1.2;@keyframes autoFlipAnimation{0%{opacity:0;transform:translate(-50%, -50%) scale(0.1) translateZ(-100px);}20%{opacity:1;transform:translate(-50%, -50%) scale(1.2) translateZ(50px);}60%{opacity:1;transform:translate(-50%, -50%) scale(1) translateZ(0px);}100%{opacity:0;transform:translate(-50%, -50%) scale(1.5) translateZ(100px);}}"),Ug=Ae("div",{target:"eua38od25"})({name:"mlpn4u",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.7);display:flex;align-items:center;justify-content:center;z-index:1000"}),zg=Ae(Eu,{target:"eua38od24"})({name:"12nlpps",styles:"max-width:500px;width:90%;padding:2rem"}),jg=Ae("div",{target:"eua38od23"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),Hg=Ae("div",{target:"eua38od22"})({name:"1h026t7",styles:"margin-bottom:1.5rem"}),Rk=Ae("div",{target:"eua38od21"})({name:"wb501w",styles:"display:flex;justify-content:flex-end;gap:1rem"}),Gg=Ae("button",{target:"eua38od20"})("position:absolute;top:1rem;right:1rem;background:none;border:none;color:",t=>t.theme.colors.textSecondary,";cursor:pointer;font-size:1.5rem;padding:0.5rem;&:hover{color:",t=>t.theme.colors.textPrimary,";}"),UE=Ae("img",{target:"eua38od19"})({name:"1g591yl",styles:"width:100%;max-width:200px;height:auto;border-radius:1rem;margin:0.5rem 0"}),Pk=Ae("a",{target:"eua38od18"})("color:",t=>t.theme.colors.neonBlue,";text-decoration:none;&:hover{text-decoration:underline;}"),XEe=Ae("div",{target:"eua38od17"})({name:"174mppy",styles:"display:none;@media (max-width: 768px){display:flex;flex-direction:column;gap:1rem;padding:0.5rem;width:100%;}"}),Nk=Ae("div",{target:"eua38od16"})({name:"15n7w10",styles:"padding:0.75rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin-bottom:0.5rem"}),YEe=Ae("div",{target:"eua38od15"})({name:"hgry52",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;display:flex;flex-direction:column;align-items:center;gap:0.5rem"}),JEe=Ae("div",{target:"eua38od14"})({name:"8ilj6n",styles:"width:100%;padding:0.75rem;background:rgba(0, 0, 0, 0.3);border-radius:0.5rem;margin-bottom:0.5rem"}),zE=Ae("div",{target:"eua38od13"})({name:"1hqz8lq",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;font-size:0.9rem;&:last-child{margin-bottom:0;}"}),jE=Ae("span",{target:"eua38od12"})("color:",t=>t.theme.colors.textSecondary,";"),HE=Ae("span",{target:"eua38od11"})("color:",t=>t.theme.colors.textPrimary,";font-family:monospace;"),ZEe=Ae("div",{target:"eua38od9"})({name:"1y953wd",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0"}),eAe=Ae("div",{target:"eua38od8"})({name:"zp1p6h",styles:"padding:1rem;background:rgba(255, 255, 255, 0.05);border-radius:1rem;border:1px solid rgba(255, 255, 255, 0.1);width:100%;margin:0.5rem 0;height:300px;overflow-y:auto"}),tAe=Ae("div",{target:"eua38od7"})({name:"1rvp68",styles:"display:grid;grid-template-columns:300px 1fr 300px;gap:2rem;margin-bottom:2rem;align-items:start;min-height:500px;@media (max-width: 768px){display:none;}"}),nAe=Ae("div",{target:"eua38od6"})({name:"1rx4431",styles:"display:flex;gap:0.5rem;width:100%;justify-content:center;padding:0.5rem"}),rAe=Ae("div",{target:"eua38od5"})({name:"10o8xn0",styles:"position:fixed;bottom:0;left:0;right:0;display:flex;gap:0.25rem;padding:0.5rem;background:rgba(0, 0, 0, 0.9);backdrop-filter:blur(10px);border-top:1px solid rgba(255, 255, 255, 0.1);z-index:1000;@media (min-width: 769px){display:none;}"}),GE=Ae("button",{target:"eua38od4"})("flex:",t=>t.isJoinButton?"2":"1",";padding:0.5rem;border-radius:0.5rem;border:2px solid rgba(0, 255, 65, 0.6);background:",t=>t.isJoinButton?"linear-gradient(45deg, #FF1493, #FF69B4)":"rgba(255, 255, 255, 0.05)",";color:white;font-weight:bold;display:flex;align-items:center;justify-content:center;gap:0.25rem;cursor:pointer;transition:all 0.2s ease;font-size:0.875rem;&:hover{transform:translateY(-2px);border-color:rgba(0, 255, 65, 0.8);box-shadow:",t=>t.isJoinButton?"0 0 20px rgba(255, 20, 147, 0.5)":"0 0 15px rgba(0, 255, 65, 0.3)",";}"),WE=Ae("div",{target:"eua38od3"})({name:"18t8hgp",styles:"@media (max-width: 768px){display:none;}"}),kk=Ae("div",{target:"eua38od1"})("position:fixed;bottom:",t=>t.isOpen?"60px":"-100%",";left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:0.75rem;border-top:1px solid rgba(255, 255, 255, 0.1);transition:bottom 0.3s ease;z-index:999;max-height:70vh;overflow-y:auto;@media (min-width: 769px){display:none;}"),iAe=()=>{const{gameId:t}=Fz(),e=ih(),{publicClient:n,isMobile:r}=vi(),{showSuccess:i,showError:o,showInfo:s}=ps(),{isFullyConnected:a,connectionError:l,address:c}=lh(),u="https://cryptoflipz2-production.up.railway.app",[d,f]=z.useState(null),[h,p]=z.useState(!0),[m,y]=z.useState(""),[g,v]=z.useState(!1),[b,x]=z.useState(!1),[I,k]=z.useState(null),[A,U]=z.useState(null),[S,N]=z.useState(!1),[P,G]=z.useState(null),[B,w]=z.useState(null),[E,M]=z.useState(null),[O,C]=z.useState(null),[H,W]=z.useState(null),[D,T]=z.useState(null),[$,J]=z.useState(null),Z=z.useRef(!1),ce=z.useRef(null),ie=d?.creator===c,xe=d?.joiner===c,ue=ie||xe,Ie=P?.currentPlayer===c,[Ge,Fe]=z.useState(!1),[At,oe]=z.useState(null),[ct,Tt]=z.useState(null),[ut,Ye]=z.useState(!1),[Nt,nt]=z.useState([]),[X,V]=z.useState(null),[de,be]=z.useState(!1),[Me,me]=z.useState(!1),[j,_]=z.useState(!1),[R,Q]=z.useState(""),[Y,ee]=z.useState("#00FF41"),[te,Be]=z.useState(!1),[Ne,He]=z.useState(!1),[dt,et]=z.useState(!1),[le,tt]=z.useState(!1),[we,Se]=z.useState(!1),[Je,ze]=z.useState(null),[at,dn]=z.useState(null),[Ft,Mt]=z.useState(null),lr=()=>d?(console.log("🔍 Join button state check:",{gameData:{joiner:d.joiner,status:d.status,creator:d.creator},gameState:{joiner:P?.joiner,phase:P?.phase},address:c,joinInProgress:b,joiningGame:g}),b||P?.joinInProgress?(I||P?.joiningPlayer)===c?{text:"⏳ Joining...",disabled:!0,color:"yellow"}:{text:"👤 Player Joining...",disabled:!0,color:"blue"}:d.joiner&&d.joiner!=="0x0000000000000000000000000000000000000000"?{text:"Game Full",disabled:!0,color:"gray"}:P?.joiner&&P.joiner!=="0x0000000000000000000000000000000000000000"?{text:"Game Full",disabled:!0,color:"gray"}:d.creator===c?{text:"Your Game",disabled:!0,color:"gray"}:d.status!=="waiting"&&P?.phase!=="waiting"?{text:"In Progress",disabled:!0,color:"gray"}:g?{text:"⏳ Processing...",disabled:!0,color:"yellow"}:a?{text:"Join Flip",disabled:!1,color:"green"}:{text:"Connect Wallet",disabled:!0,color:"red"}):{text:"Loading...",disabled:!0,color:"gray"},Kt=z.useRef(null),[re,pe]=z.useState(!1),[ye,Ce]=z.useState(!1),[Xe,rt]=z.useState(!1),[Ze,ft]=z.useState(!1),[$e,We]=z.useState(!1);z.useEffect(()=>{console.log("🪙 Coin useEffect triggered - gameState?.coin:",P?.coin),P?.coin?(console.log("🪙 Using game creator's selected coin:",P.coin),J(P.coin),W(P.coin.headsImage),T(P.coin.tailsImage),console.log("🪙 Set coin images to:",{heads:P.coin.headsImage,tails:P.coin.tailsImage,type:P.coin.type})):(console.log("🪙 No game coin data - using default null (no fallback to profile)"),W(null),T(null))},[P?.coin]),z.useEffect(()=>{const ae=Kt.current;ae&&(async()=>{try{await ae.play()}catch(Te){console.error("Video play error:",Te),pe(!0)}})()},[]),z.useEffect(()=>{const ae=()=>{const Re=window.innerWidth<=768;console.log("📱 Screen size check:",{windowWidth:window.innerWidth,isMobile:Re,previousIsMobile:Ze}),ft(Re),We(!0)};return ae(),window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[Ze]),z.useEffect(()=>{if(!t||!c){console.log("❌ Cannot connect - missing gameId or address:",{gameId:t,address:c});return}console.log("🎮 Setting up WebSocket connection:",{gameId:t,address:c});let ae=0;const Re=5;let Te;const ot=()=>{const it="wss://cryptoflipz2-production.up.railway.app";console.log("🔌 Connecting to WebSocket:",it);const an=new WebSocket(it);return an.onopen=()=>{console.log("✅ WebSocket connected"),N(!0),U(an),ae=0;const Ot={type:"connect_to_game",gameId:t,address:c};console.log("🎮 Sending join message:",Ot),an.send(JSON.stringify(Ot))},an.onmessage=Ot=>{try{const mt=JSON.parse(Ot.data);switch(console.log("📡 Received WebSocket message:",{type:mt.type,phase:mt.phase,currentPlayer:mt.currentPlayer,creatorChoice:mt.creatorChoice,joinerChoice:mt.joinerChoice,creator:mt.creator,joiner:mt.joiner}),mt.type){case"game_state":if(console.log("🔄 Game state update:",{phase:mt.phase,currentRound:mt.currentRound,currentPlayer:mt.currentPlayer,creatorWins:mt.creatorWins,joinerWins:mt.joinerWins,isFlipInProgress:mt.isFlipInProgress,creatorChoice:mt.creatorChoice,joinerChoice:mt.joinerChoice,creator:mt.creator,joiner:mt.joiner,coin:mt.coin}),console.log("🪙 Coin data in game state:",mt.coin),G(mt),mt.phase==="round_active"&&(ie&&mt.joinerChoice||xe&&mt.creatorChoice)){const Zr=(ie?mt.joinerChoice:mt.creatorChoice)==="heads"?"tails":"heads";Q(Zr.toUpperCase()),ee("#FF1493"),_(!0),setTimeout(()=>{_(!1)},1e3)}break;case"flip_animation":console.log("🎬 Flip animation received:",mt),console.log("🎬 Flip animation details:",{result:mt.result,duration:mt.duration,playerChoice:mt.playerChoice,playerAddress:mt.playerAddress,power:mt.power}),w(mt),M(null);break;case"round_result":console.log("🏁 Round result received:",mt),console.log("🏁 Round result details:",{result:mt.result,isWinner:mt.isWinner,playerAddress:mt.playerAddress,playerChoice:mt.playerChoice,actualWinner:mt.actualWinner,creatorWins:mt.creatorWins,joinerWins:mt.joinerWins,roundNumber:mt.roundNumber,myAddress:c,isCreator:ie,isJoiner:xe,flipperWon:mt.flipperWon,creatorChoice:mt.creatorChoice,joinerChoice:mt.joinerChoice}),M(mt),C(mt.result),w(null),setTimeout(()=>M(null),4e3);break;case"error":console.log("❌ Error received:",mt.error),o(mt.error);break}}catch(mt){console.error("❌ Error parsing WebSocket message:",mt)}},an.onclose=()=>{console.log("❌ WebSocket disconnected"),N(!1),U(null),ae<Re?(ae++,console.log(`🔄 Attempting to reconnect (${ae}/${Re})...`),Te=setTimeout(()=>{ot()},2e3*ae)):o("Lost connection to game server. Please refresh the page.")},an.onerror=Ot=>{console.error("❌ WebSocket error:",Ot)},an},qe=ot();return()=>{Te&&clearTimeout(Te),qe&&qe.readyState===WebSocket.OPEN&&qe.close()}},[t,c]),z.useEffect(()=>{if(!P)return;const ae=P.turnTimeLeft,Re=ce.current;Re!==null&&Re>0&&(ae===0||ae===void 0)&&P.phase==="round_active"&&(console.log("⚡ Auto-flip detected! Showing animation..."),Be(!0),setTimeout(()=>{Be(!1)},2e3)),ce.current=ae},[P?.turnTimeLeft,P?.phase]);const xt=async ae=>{try{const Re=$Ee.REACT_APP_API_URL||"https://cryptoflipz2-production.up.railway.app";(await fetch(`${Re}/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)})).ok||console.warn("Failed to update game in database")}catch(Re){console.error("Error updating database:",Re)}},vt=async()=>{try{p(!0),y("");const Re=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!Re.ok)throw new Error("Game not found");const Te=await Re.json();if(console.log("✅ Game loaded from database:",Te),Te.coin&&typeof Te.coin=="string")try{Te.coin=JSON.parse(Te.coin)}catch(ot){console.warn("Could not parse coin data:",ot)}f(Te),Tt({contractAddress:Te.nft_contract,tokenId:Te.nft_token_id,name:Te.nft_name,image:Te.nft_image,collection:Te.nft_collection,chain:Te.nft_chain})}catch(ae){console.error("❌ Error loading game:",ae),y(ae.message)}finally{p(!1)}};z.useEffect(()=>{vt()},[t]),z.useEffect(()=>{t&&d&&oAe(t)},[t,d]),z.useEffect(()=>{d&&!ct&&!ut&&(console.log("🎨 Setting NFT data from gameData:",d.nft),Tt({contractAddress:d.nft.contractAddress,tokenId:d.nft.tokenId,name:d.nft.name,image:d.nft.image,collection:d.nft.collection,chain:d.nft.chain,metadata:{description:d.nft.description||"",attributes:d.nft.attributes||[]}}))},[d,ct,ut]),z.useEffect(()=>{d?.coin&&(console.log("🪙 Setting coin data from gameData:",d.coin),J(d.coin),W(d.coin.headsImage),T(d.coin.tailsImage))},[d?.coin]);const St=()=>{if(console.log("💥 handlePowerChargeStart called:",{isMyTurn:Ie,hasSocket:!!A,isCharging:Z.current,gamePhase:P?.phase,currentPlayer:P?.currentPlayer,myAddress:c}),!Ie||!A||Z.current){console.log("❌ Cannot start charging:",{isMyTurn:Ie,hasSocket:!!A,isCharging:Z.current});return}if(P?.phase!=="round_active"&&P?.phase!=="choosing"){console.log("❌ Wrong phase for charging:",P?.phase);return}if(!(ie?P?.creatorChoice:P?.joinerChoice)){o("You must choose heads or tails first!");return}Z.current=!0,A.send(JSON.stringify({type:"start_charging",gameId:t,address:c}))},yn=async()=>{if(!(!A||!Z.current))if(Z.current=!1,kt.currentChain&&d?.contract_game_id)try{s("Flipping coin on blockchain...");const ae={gameId:d.contract_game_id,power:chargedPower||50};console.log("🪙 Flipping coin with smart contract:",ae);const Re=await kt.flipCoin(ae);if(!Re.success)throw new Error("Failed to flip coin: "+Re.error);if(console.log("✅ Coin flipped on blockchain:",Re),Re.gameDetails){const{game:Te,gameState:ot}=Re.gameDetails;f(it=>({...it,current_round:ot.currentRound,creator_wins:ot.creatorWins,joiner_wins:ot.joinerWins,winner:ot.winner,status:ot.winner!=="0x0000000000000000000000000000000000000000"?"completed":"active"})),await xt({current_round:ot.currentRound,creator_wins:ot.creatorWins,joiner_wins:ot.joinerWins,winner:ot.winner,status:ot.winner!=="0x0000000000000000000000000000000000000000"?"completed":"active",flip_transaction_hash:Re.transactionHash});const qe=ot.winner===c;ot.winner!=="0x0000000000000000000000000000000000000000"?i(`Game completed! ${qe?"You won!":"You lost!"}`):i(`Round ${ot.currentRound} completed!`)}}catch(ae){console.error("❌ Error flipping coin:",ae),o("Failed to flip coin: "+ae.message),A.send(JSON.stringify({type:"stop_charging",gameId:t,address:c}))}else A.send(JSON.stringify({type:"stop_charging",gameId:t,address:c}))},q=ae=>{if(console.log("🎯 handlePlayerChoice called:",{choice:ae,hasSocket:!!A,hasGameState:!!P,gamePhase:P?.phase,isMyTurn:P?.currentPlayer===c,currentPlayer:P?.currentPlayer,myAddress:c,isCreator:ie,isJoiner:xe}),!A||!P){console.log("❌ Cannot make choice - missing socket or gameState"),o("Connection error - please refresh");return}if(P.phase!=="choosing"){console.log("❌ Cannot make choice - wrong phase:",P.phase),o("Not in choosing phase");return}if(!(P.currentPlayer===c)){console.log("❌ Not my turn:",{currentPlayer:P.currentPlayer,myAddress:c,isCreator:ie,isJoiner:xe}),o("Not your turn");return}Q(ae.toUpperCase()),ee("#00FF41"),_(!0),setTimeout(()=>{_(!1)},1e3),console.log("🎯 Sending player choice to server:",ae),A.send(JSON.stringify({type:"player_choice",gameId:t,address:c,choice:ae}))},se=async()=>{if(!a||!c){o("Please connect your wallet to join the game");return}if(!d){o("Game data not available");return}v(!0);try{if(s("Joining game..."),d.contract_game_id){const Te=parseInt(d.contract_game_id);if(isNaN(Te)||Te<=0)throw new Error("Invalid game ID: "+d.contract_game_id);console.log("🎮 Joining game with ID:",Te);const ot={gameId:Te,coinChoice:0,roleChoice:1,paymentToken:0,challengerNFTContract:null,challengerTokenId:null};try{const qe=await kt.joinGame(ot);if(!qe.success)throw new Error(qe.error||"Failed to join game");console.log("✅ Payment processed on blockchain:",qe)}catch(qe){console.error("❌ Contract error:",qe),console.log("🔄 Falling back to database-only join...")}}if(!(await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({joinerAddress:c,paymentTxHash:result?.transactionHash||null,paymentAmount:d.price_usd||0})})).ok)throw new Error("Failed to update game status");i("Successfully joined the game!"),setTimeout(()=>{vt()},1e3)}catch(ae){console.error("❌ Error joining game:",ae),o(`Failed to join game: ${ae.message}`)}finally{v(!1)}},ge=async()=>{if(!a||!c){o("Please connect your wallet to withdraw");return}try{s("Processing withdrawal...");const ae=await kt.withdrawRewards();if(!ae.success)throw new Error("Failed to withdraw: "+ae.error);i("Winnings withdrawn successfully! 🎉"),console.log("✅ Withdrawal successful:",ae),d?.nft_contract&&d?.token_id&&(await kt.withdrawNFT(d.nft_contract,d.token_id)).success&&i("NFT returned to your wallet!")}catch(ae){console.error("❌ Error withdrawing:",ae),o("Failed to withdraw: "+ae.message)}};z.useEffect(()=>{if(P?.phase==="game_complete"){const ae=P.winner===c;oe({isWinner:ae,flipResult:null,playerChoice:null,gameData:d,finalScore:{creatorWins:P.creatorWins,joinerWins:P.joinerWins}}),Fe(!0)}},[P?.phase,P?.winner,c,d]),z.useEffect(()=>{d&&me(d.gameType==="nft-vs-nft")},[d]),z.useEffect(()=>{if(!A)return;const ae=Re=>{try{const Te=JSON.parse(Re.data);switch(console.log("📡 Received WebSocket message:",Te),Te.type){case"game_state":G(Te),Te.joinInProgress!==void 0&&(x(Te.joinInProgress),k(Te.joiningPlayer));break;case"game_info":x(Te.joinInProgress||!1),k(Te.joiningPlayer||null);break;case"join_state_update":x(Te.joinInProgress||!1),k(Te.joiningPlayer||null),Te.joiner&&Te.joiner!==d?.joiner&&f(ot=>({...ot,joiner:Te.joiner}));break;case"join_process_response":Te.success?s("Join process started - processing payment..."):(o(Te.error||"Failed to start join process"),v(!1));break;case"flip_animation":console.log("🎬 Flip animation received:",Te),w(Te),M(null);break;case"round_result":console.log("🏁 Round result received:",Te),M(Te),C(Te.result),w(null),setTimeout(()=>M(null),4e3);break;case"nft_offer_received":console.log("🎯 NFT offer received:",Te.offer),nt(ot=>[...ot,Te.offer]),ie||s(`New NFT battle offer: ${Te.offer.nft.name}`);break;case"nft_offer_accepted":console.log("✅ NFT offer accepted:",Te.acceptedOffer),V(Te.acceptedOffer),Te.acceptedOffer.offererAddress===c&&s("Your NFT offer was accepted! Please pay to join the battle.");break;case"challenger_payment_confirmed":console.log("💰 Challenger payment confirmed"),be(!0),i("Payment confirmed! Game starting...");break;case"error":console.log("❌ Error received:",Te.error),o(Te.error),v(!1);break;case"chat_message":console.log("💬 Chat message received:",Te);break}}catch(Te){console.error("❌ Error parsing WebSocket message:",Te)}};return A.addEventListener("message",ae),()=>A.removeEventListener("message",ae)},[A,c,d,ie,o,s,i]);const ve=ae=>{console.log("📤 NFT offer submitted:",ae)},fe=async ae=>{try{if(s("Accepting NFT challenge..."),!(await fetch(`${u}/api/games/${t}/accept-nft-offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creatorAddress:c,acceptedOffer:ae})})).ok)throw new Error("Failed to accept offer");i(`Challenge accepted! Waiting for ${ae.offererAddress.slice(0,6)}... to pay.`),V(ae)}catch(Re){console.error("❌ Error accepting offer:",Re),o("Failed to accept offer: "+Re.message)}};z.useEffect(()=>{d?.gameType==="nft-vs-nft"&&(console.log("🎮 NFT vs NFT game detected"),!ie&&!Nt?.length&&He(!0))},[d,ie,Nt]);const Le=ae=>{console.log("NFT offer accepted:",ae),V(ae),He(!1),i("NFT offer accepted!")},Ke=()=>{console.log("NFT offer rejected"),He(!1),s("NFT offer rejected")},gt=ae=>{console.log("NFT verification complete:",ae),ze(ae),et(!1),i("NFT verified successfully!")},ht=()=>Ne?F(Ug,{children:K(zg,{children:[F(Gg,{onClick:()=>He(!1),children:"×"}),F(jg,{children:F(Os,{children:"NFT Offer"})}),F(Hg,{children:F(Ik,{gameId:t,onOfferAccepted:Le,onOfferRejected:Ke})})]})}):null,Ct=()=>dt?F(Ug,{children:K(zg,{children:[F(Gg,{onClick:()=>et(!1),children:"×"}),F(jg,{children:F(Os,{children:"NFT Verification"})}),F(Hg,{children:F(VEe,{nft:Je,onVerificationComplete:gt})})]})}):null,Rt=()=>!le||!Je?null:F(Ug,{children:K(zg,{children:[F(Gg,{onClick:()=>tt(!1),children:"×"}),F(jg,{children:F(Os,{children:"NFT Details"})}),K(Hg,{children:[F(UE,{src:Je.image,alt:Je.name}),K("div",{children:[F("h3",{children:Je.name}),K("p",{children:["Collection: ",Je.collection]}),K("p",{children:["Token ID: ",Je.tokenId]}),F(Pk,{href:Je.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})]}),F(Rk,{children:F(wr,{onClick:()=>tt(!1),children:"Close"})})]})}),pt=()=>!we||!at?null:F(Ug,{children:K(zg,{children:[F(Gg,{onClick:()=>Se(!1),children:"×"}),F(jg,{children:F(Os,{children:"Review NFT Offer"})}),F(Hg,{children:K("div",{children:[F("h3",{children:"NFT Details"}),F(UE,{src:at.image,alt:at.name}),K("p",{children:["Name: ",at.name]}),K("p",{children:["Collection: ",at.collection]}),K("p",{children:["Token ID: ",at.tokenId]}),F(Pk,{href:at.openseaUrl,target:"_blank",rel:"noopener noreferrer",children:"View on OpenSea"})]})}),K(Rk,{children:[F(wr,{onClick:()=>{Le(at),Se(!1)},children:"Accept Offer"}),F(wr,{onClick:()=>{Ke(),Se(!1)},children:"Reject Offer"})]})]})});return a?h?F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:F("div",{style:{display:"flex",justifyContent:"center",padding:"3rem"},children:F(ab,{})})})})}):K(qr,{theme:Qe,children:[F(qEe,{ref:Kt,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onError:ae=>{console.error("Video error:",ae),pe(!0)},children:F("source",{src:Ze?OEe:Py,type:"video/webm"})}),j&&F(KEe,{color:Y,isMobile:Ze,children:R}),te&&K(QEe,{isMobile:Ze,children:["FINAL ROUND",F("br",{}),"AUTOFLIP"]}),F(eo,{style:{position:"relative",minHeight:"100vh",background:"transparent !important",zIndex:1},children:K(to,{children:[console.log("🔍 Screen size debug:",{isMobileScreen:Ze,windowWidth:window.innerWidth}),$e&&Ze?K(XEe,{children:[K(rAe,{children:[K(GE,{onClick:()=>Ce(!ye),children:[F("span",{children:"ℹ️"})," Info"]}),K(GE,{onClick:()=>rt(!Xe),children:[F("span",{children:"💬"})," Chat"]}),!ue&&(()=>{const ae=lr();return F(GE,{isJoinButton:!0,onClick:se,disabled:ae.disabled,style:{background:ae.disabled?"rgba(100, 100, 100, 0.5)":ae.color==="green"?"linear-gradient(45deg, #00FF41, #00BF31)":ae.color==="yellow"?"linear-gradient(45deg, #FFD700, #FFA500)":ae.color==="blue"?"linear-gradient(45deg, #00BFFF, #1E90FF)":"rgba(100, 100, 100, 0.5)",opacity:ae.disabled?.6:1},children:ae.text})})()]}),F(kk,{isOpen:ye,children:K("div",{style:{marginBottom:"0.5rem"},children:[F("h3",{style:{color:Qe.colors.neonYellow,marginBottom:"0.25rem",fontSize:"1rem"},children:"Game Info"}),K("div",{style:{color:Qe.colors.textSecondary},children:[F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Cost:"}),K("span",{style:{color:Qe.colors.neonGreen,fontWeight:"bold",fontSize:"0.875rem"},children:["$",(d?.priceUSD||0).toFixed(2)]})]})}),F("div",{style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",marginBottom:"0.5rem"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("span",{style:{fontSize:"0.875rem"},children:"Contract:"}),F("span",{onClick:()=>{d?.nft?.contractAddress&&(navigator.clipboard.writeText(d.nft.contractAddress),i("Contract address copied to clipboard!"))},style:{color:Qe.colors.textPrimary,fontFamily:"monospace",fontSize:"0.8rem",cursor:"pointer",padding:"0.25rem 0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"0.25rem",transition:"all 0.2s ease"},onMouseOver:ae=>{ae.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ae.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ae=>{ae.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ae.currentTarget.style.border="none"},children:d?.nft?.contractAddress?`${d.nft.contractAddress.slice(0,6)}...${d.nft.contractAddress.slice(-4)}`:"Unknown"})]})}),d?.nft&&K(Na,{children:[K("div",{style:{margin:"0.5rem 0",padding:"0.5rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("img",{src:d.nft.image,alt:d.nft.name,style:{width:"100%",maxWidth:"120px",height:"auto",borderRadius:"0.25rem",margin:"0 auto",display:"block"}}),F("p",{style:{marginTop:"0.25rem",textAlign:"center",fontSize:"0.8rem",margin:"0.25rem 0"},children:d.nft.name}),K("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Collection: ",d.nft.collection]}),K("p",{style:{fontSize:"0.75rem",opacity:.8,margin:"0.125rem 0"},children:["Token ID: ",d.nft.tokenId]})]}),K("div",{style:{display:"flex",gap:"0.25rem",marginTop:"0.25rem",justifyContent:"center"},children:[K(wr,{onClick:()=>window.open(`https://opensea.io/assets/${d.nft.contract}/${d.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"12px",height:"12px",objectFit:"contain"}}),"OpenSea"]}),K(wr,{onClick:()=>window.open(`https://etherscan.io/token/${d.nft.contract}?a=${d.nft.tokenId}`,"_blank"),style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.7rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.25rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",flex:1,justifyContent:"center"},children:[F("span",{style:{fontSize:"0.8rem"},children:"🔍"}),"Etherscan"]})]})]})]})]})}),F(kk,{isOpen:Xe,children:K("div",{style:{marginBottom:"1rem"},children:[F("h3",{style:{color:Qe.colors.neonYellow,marginBottom:"0.5rem"},children:"Game Chat"}),F(DE,{gameId:t,socket:A,connected:S,isMobile:!0})]})}),F(Nk,{style:{background:ie?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${ie?"#FF1493":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"12px",height:"60px",width:"100%",animation:Ie&&ie&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:P?.creatorProfile?.profilePicture?`url(${P.creatorProfile.profilePicture})`:"linear-gradient(45deg, #FF1493, #FF69B4)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!P?.creatorProfile?.profilePicture&&"P1"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ae=>{const Re=ae,Te=P?.currentRound||1;let ot="pending";if(Re<Te){const an=P?.roundResults?.[Re-1];an==="creator"?ot="creator_won":an==="joiner"&&(ot="joiner_won")}else Re===Te&&(ot="current");const qe=()=>{switch(ot){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.1)"}},it=()=>{switch(ot){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:qe(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:it(),boxShadow:ot==="current"?"0 0 10px #FFFF00":ot==="creator_won"?"0 0 8px #00FF41":ot==="joiner_won"?"0 0 8px #FF1493":"none",transition:"all 0.3s ease",transform:ot==="current"?"scale(1.1)":"scale(1)",animation:ot==="current"?"pulse 2s infinite":"none"},children:ae},`p1-round-${ae}`)})})]})}),F("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"0.25rem auto",padding:"0.25rem",width:"100%",textAlign:"center"},children:F(NEe,{isFlipping:!!B,flipResult:B?B.result:E?.result||O,flipDuration:B?.duration,onPowerCharge:St,onPowerRelease:yn,isPlayerTurn:Ie,isCharging:P?.chargingPlayer===c,chargingPlayer:P?.chargingPlayer,creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,creatorChoice:P?.creatorChoice,joinerChoice:P?.joinerChoice,isCreator:ie,size:187,customHeadsImage:H,customTailsImage:D})}),(()=>{const ae=P?.creatorChoice,Re=P?.joinerChoice;if(ae||Re){let Te;return ie?Te=ae:xe&&(Te=Re),Te||(ie&&Re?Te=Re==="heads"?"tails":"heads":xe&&ae&&(Te=ae==="heads"?"tails":"heads")),Te?F("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"0.5rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"0.75rem",animation:"pulse 2s ease-in-out infinite"},children:K("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 10px rgba(0, 255, 65, 0.5)"},children:["You're ",Te.toUpperCase()]})}):null}return null})(),F(Nk,{style:{background:xe?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",border:`2px solid ${xe?"#00BFFF":"rgba(255, 255, 255, 0.1)"}`,padding:"0.5rem",marginBottom:"0.5rem",marginTop:"-15px",borderRadius:"12px",height:"60px",width:"100%",animation:Ie&&xe&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[F("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:P?.joinerProfile?.profilePicture?`url(${P.joinerProfile.profilePicture})`:"linear-gradient(45deg, #00BFFF, #87CEEB)",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid rgba(255, 255, 255, 0.3)",fontSize:"1rem",fontWeight:"bold",color:"#fff",textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:!P?.joinerProfile?.profilePicture&&"P2"}),F("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(ae=>{const Re=ae,Te=P?.currentRound||1;let ot="pending";if(Re<Te){const an=P?.roundResults?.[Re-1];an==="creator"?ot="creator_won":an==="joiner"&&(ot="joiner_won")}else Re===Te&&(ot="current");const qe=()=>{switch(ot){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.1)"}},it=()=>{switch(ot){case"current":return"#000";case"creator_won":return"#000";case"joiner_won":return"#000";default:return"#666"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:qe(),border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:"bold",color:it(),boxShadow:ot==="current"?"0 0 10px #FFFF00":ot==="creator_won"?"0 0 8px #FF1493":ot==="joiner_won"?"0 0 8px #00FF41":"none",transition:"all 0.3s ease",transform:ot==="current"?"scale(1.1)":"scale(1)",animation:ot==="current"?"pulse 2s infinite":"none"},children:ae},`p2-round-${ae}`)})})]})}),F("div",{style:{marginBottom:"1rem",padding:"0.5rem"},children:F(Ck,{creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,currentPlayer:P?.currentPlayer,creator:P?.creator,joiner:P?.joiner,chargingPlayer:P?.chargingPlayer,gamePhase:P?.phase,isMyTurn:Ie,playerChoice:ie?P?.creatorChoice:P?.joinerChoice,onChoiceSelect:q})}),F(WE,{children:K(YEe,{children:[d?.nftImage&&F(UE,{src:d.nftImage,alt:"NFT"}),K(JEe,{children:[K(zE,{children:[F(jE,{children:"Collection:"}),F(HE,{children:d?.collectionName||"Unknown"})]}),K(zE,{children:[F(jE,{children:"Token ID:"}),F(HE,{children:d?.tokenId||"Unknown"})]}),K(zE,{children:[F(jE,{children:"Contract:"}),F(HE,{children:d?.contractAddress?`${d.contractAddress.slice(0,6)}...${d.contractAddress.slice(-4)}`:"Unknown"})]})]}),K(nAe,{children:[F(wr,{onClick:()=>window.open(Fk(d?.chain),"_blank"),style:{flex:1},children:"View on Explorer"}),K(wr,{onClick:()=>window.open(Ok(d?.chain),"_blank"),style:{flex:1},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain",marginRight:"0.4rem"}}),"View on OpenSea"]})]})]})}),F(WE,{children:F(ZEe,{children:F("div",{style:{fontSize:"0.85rem",color:P?.currentPlayer===c?Qe.colors.neonGreen:Qe.colors.textSecondary,textAlign:"center",padding:"0.5rem",background:P?.currentPlayer===c?"rgba(0, 255, 65, 0.1)":"transparent",borderRadius:"0.5rem"},children:P?.currentPlayer===c?"Your Turn":P?.phase==="waiting"?"Waiting for opponent":"Waiting"})})}),F(WE,{children:F(eAe,{children:F(DE,{gameId:t})})})]}):K(tAe,{children:[K("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",position:"relative"},children:[K("div",{style:{marginBottom:"1rem",padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"0.75rem",background:ie?"rgba(255, 20, 147, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${ie?Qe.colors.neonPink:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Ie&&ie&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(sw,{address:d?.creator,size:40,isClickable:ie,showUploadIcon:ie,profileData:P?.creatorProfile,style:{borderRadius:"12px",border:`2px solid ${Qe.colors.neonPink}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(d?.rounds||5)].map((ae,Re)=>{const Te=Re+1,ot=P?.currentRound||1;P?.creatorWins,P?.joinerWins;let qe="pending";if(Te<ot){const mt=P?.roundResults?.[Te-1];mt==="creator"?qe="creator_won":mt==="joiner"&&(qe="joiner_won")}else Te===ot&&(qe="current");const it=()=>{switch(qe){case"current":return"#FFFF00";case"creator_won":return"#00FF41";case"joiner_won":return"#FF1493";default:return"rgba(255, 255, 255, 0.2)"}},an=()=>{switch(qe){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";case"joiner_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";default:return"none"}},Ot=()=>{switch(qe){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:it(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:Ot(),boxShadow:an(),transition:"all 0.3s ease",transform:qe==="current"?"scale(1.1)":"scale(1)",animation:qe==="current"?"pulse 2s infinite":"none"},children:Te},Re)})})]}),P?.turnTimeLeft!==void 0&&K("div",{style:{padding:"1.5rem",background:"linear-gradient(135deg, rgba(255, 255, 0, 0.2), rgba(255, 215, 0, 0.1))",borderRadius:"1rem",border:`2px solid ${P.turnTimeLeft<=5?"#FF1493":"#FFFF00"}`,textAlign:"center",marginBottom:"1rem",boxShadow:P.turnTimeLeft<=5?"0 0 30px rgba(255, 20, 147, 0.6), inset 0 0 20px rgba(255, 20, 147, 0.3)":"0 0 30px rgba(255, 255, 0, 0.6), inset 0 0 20px rgba(255, 255, 0, 0.3)",animation:P.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[F("div",{style:{color:P.turnTimeLeft<=5?"#FF1493":"#FFFF00",fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"2px"},children:"Turn Timer"}),K("div",{style:{fontSize:"3rem",fontWeight:"bold",color:P.turnTimeLeft<=5?"#FF1493":"#FFFF00",textShadow:P.turnTimeLeft<=5?"0 0 20px rgba(255, 20, 147, 0.8)":"0 0 20px rgba(255, 255, 0, 0.8)",fontFamily:"monospace"},children:[P.turnTimeLeft,"s"]}),P?.currentPlayer&&F("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.8)",marginTop:"0.5rem"},children:P.currentPlayer===c?"Your Turn":"Opponent's Turn"})]}),K("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",background:xe?"rgba(0, 191, 255, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"12px",border:`2px solid ${xe?Qe.colors.neonBlue:"rgba(255, 255, 255, 0.1)"}`,height:"60px",animation:Ie&&xe&&(P?.phase==="choosing"||P?.phase==="round_active")?"playerTurnFlash 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[F(sw,{address:d?.joiner,size:40,isClickable:xe,showUploadIcon:xe,profileData:P?.joinerProfile,style:{borderRadius:"12px",border:`2px solid ${Qe.colors.neonBlue}`}}),F("div",{style:{display:"flex",gap:"0.25rem",alignItems:"center"},children:[...Array(d?.rounds||5)].map((ae,Re)=>{const Te=Re+1,ot=P?.currentRound||1;P?.creatorWins,P?.joinerWins;let qe="pending";if(Te<ot){const mt=P?.roundResults?.[Te-1];mt==="creator"?qe="creator_won":mt==="joiner"&&(qe="joiner_won")}else Te===ot&&(qe="current");const it=()=>{switch(qe){case"current":return"#FFFF00";case"creator_won":return"#FF1493";case"joiner_won":return"#00FF41";default:return"rgba(255, 255, 255, 0.2)"}},an=()=>{switch(qe){case"current":return"0 0 10px #FFFF00, 0 0 20px #FFFF00";case"creator_won":return"0 0 10px #FF1493, 0 0 20px #FF1493";case"joiner_won":return"0 0 10px #00FF41, 0 0 20px #00FF41";default:return"none"}},Ot=()=>{switch(qe){case"current":return"#000000";case"creator_won":return"#000000";case"joiner_won":return"#000000";default:return"#ffffff"}};return F("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:it(),opacity:1,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:Ot(),boxShadow:an(),transition:"all 0.3s ease",transform:qe==="current"?"scale(1.1)":"scale(1)",animation:qe==="current"?"pulse 2s infinite":"none"},children:Te},Re)})})]})]}),K("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},children:[K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:Qe.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Game ID"}),K("div",{style:{color:Qe.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["#",d?.id?.slice(-6).toUpperCase()]})]}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{color:Qe.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Entry Fee"}),K("div",{style:{color:Qe.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["$",d?.priceUSD?.toFixed(2)]})]}),K("div",{children:[F("div",{style:{color:Qe.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.25rem"},children:"Rounds"}),K("div",{style:{color:Qe.colors.textPrimary,fontWeight:"bold",fontSize:"1.125rem"},children:["Best of ",d?.rounds]})]})]}),F("div",{style:{marginTop:"2rem"},children:F(DE,{gameId:t,socket:A,connected:S})})]}),$e&&!Ze&&K("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[F("div",{id:"desktop-coin-container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"440px",marginBottom:"2rem",marginLeft:"auto",marginRight:"auto",position:"relative",padding:"20px"},children:H&&D&&F(REe,{isFlipping:!!B,flipResult:B?B.result:E?.result||O,flipDuration:B?.duration,onPowerCharge:St,onPowerRelease:yn,isPlayerTurn:Ie,isCharging:P?.chargingPlayer===c,chargingPlayer:P?.chargingPlayer,gamePhase:P?.phase,creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,creatorChoice:P?.creatorChoice,joinerChoice:P?.joinerChoice,isCreator:ie,size:440,customHeadsImage:H,customTailsImage:D})}),(()=>{const ae=P?.creatorChoice,Re=P?.joinerChoice;if(ae||Re){let Te;return ie?Te=ae:xe&&(Te=Re),Te||(ie&&Re?Te=Re==="heads"?"tails":"heads":xe&&ae&&(Te=ae==="heads"?"tails":"heads")),Te?F("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem",animation:"pulse 2s ease-in-out infinite"},children:K("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#00FF41",textShadow:"0 0 15px rgba(0, 255, 65, 0.5)"},children:["You're ",Te.toUpperCase()]})}):null}return null})(),F(Ck,{creatorPower:P?.creatorPower||0,joinerPower:P?.joinerPower||0,currentPlayer:P?.currentPlayer,creator:P?.creator,joiner:P?.joiner,chargingPlayer:P?.chargingPlayer,gamePhase:P?.phase,isMyTurn:Ie,playerChoice:ie?P?.creatorChoice:P?.joinerChoice,onChoiceSelect:q})]}),K("div",{style:{position:"relative",width:"100%",maxWidth:"600px",margin:"0 auto",padding:"2rem",background:"linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(0, 0, 0, 0.3) 100%)",border:"2px solid rgba(0, 255, 65, 0.3)",borderRadius:"1.5rem",backdropFilter:"blur(10px)"},children:[ct?.image&&F("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:F("img",{src:ct.image,alt:"NFT",style:{width:"200px",height:"200px",borderRadius:"1rem",objectFit:"cover",border:"4px solid rgba(0, 255, 65, 0.6)",boxShadow:"0 0 30px rgba(0, 255, 65, 0.5), inset 0 0 30px rgba(0, 255, 65, 0.3)",animation:"nftBananaGlow 2s ease-in-out infinite"}})}),K("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:"1.5rem"},children:[F("div",{style:{color:Qe.colors.textSecondary,fontSize:"0.875rem",marginBottom:"0.75rem",textAlign:"center"},children:"Share"}),K("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[F("button",{onClick:()=>{const ae=window.location.href;window.open(`https://twitter.com/intent/tweet?text=Join my game of Crypto Flipz! ${ae}`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:"𝕏"})}),F("button",{onClick:()=>{const ae=window.location.href;window.open(`https://t.me/share/url?url=${encodeURIComponent(ae)}&text=Join my game of Crypto Flipz!`,"_blank")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:"✈️"})}),F("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),i("Game link copied to clipboard!")},style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",padding:"0.4rem 0.8rem",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem",transition:"all 0.3s ease"},children:F("span",{style:{fontSize:"1rem"},children:"📋"})})]})]}),ct&&K("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"1rem",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[F("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"1rem",color:Qe.colors.neonYellow},children:ct.name}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Collection"}),F("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:ct.collection})]}),K("div",{style:{marginBottom:"1.5rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Token ID"}),K("div",{style:{fontWeight:"bold",fontSize:"1rem"},children:["#",ct.tokenId]})]}),K("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[F("a",{href:`${Fk(ct?.chain)}/token/${ct.contractAddress}?a=${ct.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:"🔍 Explorer"}),K("a",{href:`${Ok(ct?.chain)}/${ct.contractAddress}/${ct.tokenId}`,target:"_blank",rel:"noopener noreferrer",style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.4rem 0.8rem",borderRadius:"0.5rem",fontSize:"0.8rem",textDecoration:"none",color:"#fff",display:"flex",alignItems:"center",gap:"0.4rem",border:"1px solid rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease"},children:[F("img",{src:"/images/opensea.png",alt:"OpenSea",style:{width:"16px",height:"16px",objectFit:"contain"}}),"OpenSea"]})]}),K("div",{style:{marginBottom:"1rem"},children:[F("div",{style:{fontSize:"0.8rem",opacity:.8,marginBottom:"0.25rem"},children:"Contract Address"}),K("div",{onClick:()=>{navigator.clipboard.writeText(ct.contractAddress)},style:{fontSize:"0.9rem",fontFamily:"monospace",background:"rgba(0, 0, 0, 0.3)",padding:"0.5rem",borderRadius:"0.25rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease"},onMouseOver:ae=>{ae.currentTarget.style.background="rgba(0, 0, 0, 0.4)",ae.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)"},onMouseOut:ae=>{ae.currentTarget.style.background="rgba(0, 0, 0, 0.3)",ae.currentTarget.style.border="none"},children:[K("span",{children:[ct.contractAddress?.slice(0,6),"...",ct.contractAddress?.slice(-4)]}),F("span",{style:{opacity:.6},children:"📋"})]})]})]}),!ue&&F("div",{style:{marginTop:"2rem",textAlign:"center"},children:(()=>{const ae=lr(),Re=()=>{switch(ae.color){case"green":return"linear-gradient(45deg, #00FF41, #00BF31)";case"yellow":return"linear-gradient(45deg, #FFD700, #FFA500)";case"blue":return"linear-gradient(45deg, #00BFFF, #1E90FF)";case"red":return"linear-gradient(45deg, #FF4444, #CC0000)";default:return"rgba(100, 100, 100, 0.5)"}};return F("button",{onClick:se,disabled:ae.disabled,style:{background:ae.disabled?"rgba(100, 100, 100, 0.5)":Re(),color:"#fff",border:"none",padding:"1.5rem 3rem",borderRadius:"1rem",fontSize:"1.3rem",fontWeight:"bold",cursor:ae.disabled?"not-allowed":"pointer",width:"100%",transition:"all 0.3s ease",opacity:ae.disabled?.6:1,boxShadow:ae.disabled?"none":"0 0 20px rgba(0, 255, 65, 0.3)"},children:ae.text})})()})]})]}),Me&&P?.phase==="waiting"&&F("div",{style:{gridColumn:"1 / -1",marginTop:"2rem"},children:F(Ik,{gameId:t,gameData:d,isCreator:ie,socket:A,connected:S,offeredNFTs:Nt,onOfferSubmitted:ve,onOfferAccepted:fe})}),Me&&X&&P?.phase==="waiting"&&K("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",textAlign:"center",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"0.5rem"},children:"⚔️ BATTLE ACCEPTED!"}),K("p",{style:{color:"white",margin:0},children:["Waiting for ",X.offererAddress.slice(0,6),"...",X.offererAddress.slice(-4)," to complete payment..."]}),K("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginTop:"1rem",alignItems:"center"},children:[K("div",{style:{textAlign:"center"},children:[F("img",{src:d.nft.image,alt:d.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:d.nft.name})]}),F("div",{style:{fontSize:"2rem",color:"#FFD700",animation:"pulse 2s infinite"},children:"⚔️"}),K("div",{style:{textAlign:"center"},children:[F("img",{src:X.nft.image,alt:X.nft.name,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover",marginBottom:"0.5rem"}}),F("div",{style:{fontSize:"0.8rem",color:"white"},children:X.nft.name})]})]})]}),!ue&&P?.phase&&P.phase!=="waiting"&&K("div",{style:{marginTop:"2rem",textAlign:"center",padding:"1rem",background:"rgba(0, 191, 255, 0.1)",border:"1px solid rgba(0, 191, 255, 0.3)",borderRadius:"1rem"},children:[F("p",{style:{color:"#00BFFF",fontWeight:"bold",margin:0},children:"🎮 GAME IN PROGRESS"}),F("p",{style:{color:"#888",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:"Join a game to see the action!"})]}),P?.phase==="choosing"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Ie?K("div",{style:{padding:"1rem",background:"rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Qe.colors.textSecondary,marginTop:"0.5rem"},children:"Select heads or tails in your player box, then you can charge power and flip!"}),P.turnTimeLeft!==void 0&&K("div",{style:{color:P.turnTimeLeft<=5?Qe.colors.statusError:Qe.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:P.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[P.turnTimeLeft,"s to choose"]})]}):K("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Qe.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:"⏳ Opponent is Choosing"}),K("div",{style:{color:Qe.colors.textSecondary,marginTop:"0.5rem"},children:["Waiting for ",ie?"Player 2":"Player 1"," to choose heads or tails"]}),P.turnTimeLeft!==void 0&&K("div",{style:{color:P.turnTimeLeft<=5?Qe.colors.statusError:Qe.colors.neonYellow,fontWeight:"bold",fontSize:"1.2rem",marginTop:"0.5rem",animation:P.turnTimeLeft<=5?"pulse 1s infinite":"none"},children:[P.turnTimeLeft,"s remaining"]})]})}),P?.phase==="round_active"&&F("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Ie?K("div",{style:{padding:"1rem",background:"rgba(0, 255, 65, 0.1)",border:"1px solid rgba(0, 255, 65, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Qe.colors.statusSuccess,fontWeight:"bold",fontSize:"1.2rem"},children:"⚡ YOUR TURN TO FLIP!"}),K("div",{style:{color:Qe.colors.textSecondary,marginTop:"0.5rem"},children:["You chose ",ie?P.creatorChoice?.toUpperCase():P.joinerChoice?.toUpperCase()," - Hold coin to charge power, release to flip!"]})]}):K("div",{style:{padding:"1rem",background:"rgba(255, 165, 0, 0.1)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"1rem"},children:[F("div",{style:{color:Qe.colors.statusWarning,fontWeight:"bold",fontSize:"1.2rem"},children:"⏳ Opponent's Turn"}),K("div",{style:{color:Qe.colors.textSecondary,marginTop:"0.5rem"},children:["They chose ",ie?P.joinerChoice?.toUpperCase():P.creatorChoice?.toUpperCase()," and are charging power to flip"]})]})}),E&&K("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,background:"rgba(0, 0, 0, 0.95)",padding:"2rem",borderRadius:"2rem",border:`4px solid ${E.actualWinner===c?"#00FF41":"#FF1493"}`,textAlign:"center",width:"90%",maxWidth:"600px",pointerEvents:"none",boxShadow:`0 0 50px ${E.actualWinner===c?"rgba(0, 255, 65, 0.5)":"rgba(255, 20, 147, 0.5)"}`},children:[F("div",{style:{position:"relative",width:"100%",height:"200px",marginBottom:"1rem",borderRadius:"1rem",overflow:"hidden"},children:F("video",{autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"},src:E.actualWinner===c?"images/video/LoseWin/final lose win/win.webm":"images/video/LoseWin/final lose win/lose.webm",onError:ae=>{console.error("Video playback error:",ae),console.log("Video source:",ae.target.src),ae.target.src=E.actualWinner===c?"/images/video/LoseWin/final lose win/win.webm":"/images/video/LoseWin/final lose win/lose.webm"},onLoadedData:ae=>{console.log("Video loaded successfully"),ae.target.play().catch(Re=>console.error("Play error:",Re))}},E.actualWinner===c?"win":"lose")}),F("div",{style:{fontSize:"2.5rem",color:"white",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:E.result==="heads"?"👑 HEADS":"💎 TAILS"}),K("div",{style:{fontSize:"1.2rem",color:"rgba(255, 255, 255, 0.9)",marginBottom:"1rem",pointerEvents:"auto",padding:"0.5rem 1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:["You chose: ",F("strong",{children:((ie?P?.creatorChoice:P?.joinerChoice)||E?.playerChoice)?.toUpperCase()||"UNKNOWN"})]}),F("div",{style:{fontSize:"1.8rem",color:(ie?P?.creatorChoice:P?.joinerChoice)===E.result?"#00FF41":"#FF1493",fontWeight:"bold",marginBottom:"1rem",pointerEvents:"auto",textShadow:`0 0 15px ${(ie?P?.creatorChoice:P?.joinerChoice)===E.result?"rgba(0, 255, 65, 0.7)":"rgba(255, 20, 147, 0.7)"}`,animation:"pulse 1s infinite"},children:(ie?P?.creatorChoice:P?.joinerChoice)===E.result?"🎉 YOU WON!":"💔 YOU LOST!"})]}),F(Zj,{isVisible:Ge&&P?.phase==="game_complete",isWinner:At?.isWinner||!1,flipResult:At?.flipResult,playerChoice:At?.playerChoice,gameData:At?.gameData,onClose:()=>Fe(!1),onClaimWinnings:ge}),P?.winner&&F("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem",backdropFilter:"blur(10px)"},children:K("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(25, 20, 0, 0.9) 100%)",border:"2px solid #FFD700",borderRadius:"1rem",padding:"2rem",textAlign:"center",maxWidth:Ze?"400px":"700px",width:Ze?"80%":"140%",boxShadow:"0 0 30px rgba(255, 215, 0, 0.3)"},children:[F("h2",{style:{color:"#FFD700",marginBottom:"1rem"},children:"🎉 You Won! 🎉"}),K("p",{style:{color:"#fff",marginBottom:"2rem"},children:["Congratulations! You've won ",P?.potAmount||0," ",P?.currency||"ETH"]}),K("div",{style:{display:"flex",gap:"1rem",width:"100%",marginBottom:"1rem"},children:[F("button",{onClick:ge,style:{flex:1,background:"linear-gradient(135deg, #00FF41, #39FF14)",color:"#000",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(0, 255, 65, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ae=>{ae.currentTarget.style.transform="scale(1.05)",ae.currentTarget.style.boxShadow="0 0 30px rgba(0, 255, 65, 0.6)"},onMouseOut:ae=>{ae.currentTarget.style.transform="scale(1)",ae.currentTarget.style.boxShadow="0 0 20px rgba(0, 255, 65, 0.4)"},children:"💰 COLLECT"}),F("button",{onClick:()=>e("/"),style:{flex:1,background:"linear-gradient(135deg, #FF1493, #FF69B4)",color:"#fff",border:"none",padding:"1rem",borderRadius:"0.8rem",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 0 20px rgba(255, 20, 147, 0.4)",transition:"all 0.3s ease",textTransform:"uppercase"},onMouseOver:ae=>{ae.currentTarget.style.transform="scale(1.05)",ae.currentTarget.style.boxShadow="0 0 30px rgba(255, 20, 147, 0.6)"},onMouseOut:ae=>{ae.currentTarget.style.transform="scale(1)",ae.currentTarget.style.boxShadow="0 0 20px rgba(255, 20, 147, 0.4)"},children:"🏠 HOME"})]}),F("p",{style:{color:"#ff4444",fontSize:"0.9rem",marginTop:"1rem",border:"1px solid rgba(255, 68, 68, 0.3)",padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255, 68, 68, 0.1)"},children:"⚠️ Warning: If you leave this screen without claiming, you will lose your winnings."})]})}),d?.gameType==="nft-vs-nft"&&!ie&&!Nt?.length&&F(wr,{colorScheme:"green",size:"lg",onClick:()=>He(!0),mb:4,children:"Offer NFT to Battle"}),d?.gameType==="nft-vs-nft"&&!ie&&offerStatus==="pending"&&F(Text,{color:"neonYellow",mb:4,children:"Your NFT offer is pending review..."}),d?.gameType==="nft-vs-nft"&&!ie&&offerStatus==="accepted"&&F(wr,{colorScheme:"green",size:"lg",onClick:se,mb:4,children:"Join Battle"}),d?.status==="completed"&&d?.winner===c&&F("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center"},children:F("button",{onClick:ge,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:ae=>{ae.currentTarget.style.transform="translateY(-2px)",ae.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.4)"},onMouseOut:ae=>{ae.currentTarget.style.transform="translateY(0)",ae.currentTarget.style.boxShadow="none"},children:"Claim Your Winnings 🎉"})})]})}),F("style",{children:`
          @keyframes buttonPulse {
            0% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
            }
            100% {
              box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            }
          }

          @keyframes nftBananaGlow {
            0% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
            50% {
              box-shadow: 0 0 50px rgba(255, 255, 0, 0.7), inset 0 0 50px rgba(255, 255, 0, 0.4);
            }
            100% {
              box-shadow: 0 0 30px rgba(255, 255, 0, 0.5), inset 0 0 30px rgba(255, 255, 0, 0.3);
            }
          }
        `}),ht(),Ct(),Rt(),pt()]}):F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:K(Eu,{style:{textAlign:"center",padding:"3rem"},children:[F(Os,{children:"Connect Your Wallet"}),l&&F("p",{style:{color:"#FF6B6B",marginTop:"1rem"},children:l}),F(wr,{onClick:()=>e("/"),style:{marginTop:"1rem"},children:"Go Home"})]})})})})},Fk=t=>t&&{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",base:"https://basescan.org",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[t.toLowerCase()]||"https://etherscan.io",Ok=t=>t&&{ethereum:"https://opensea.io/assets/ethereum",polygon:"https://opensea.io/assets/matic",base:"https://opensea.io/assets/base",arbitrum:"https://opensea.io/assets/arbitrum",optimism:"https://opensea.io/assets/optimism"}[t.toLowerCase()]||"https://opensea.io/assets/ethereum",oAe=async t=>{try{setIsLoadingNFT(!0),console.log("🎨 Fetching NFT data for game:",t);const e=await fetch(`${API_URL}/api/games/${t}/nft`);if(!e.ok)throw new Error("Failed to fetch NFT data");const n=await e.json();console.log("✅ NFT data received:",n),setNftData(n)}catch(e){console.error("❌ Error fetching NFT data:",e),setNftData(null)}finally{setIsLoadingNFT(!1)}},sAe=()=>{const{gameId:t}=Fz(),e=ih(),{isFullyConnected:n,connectionError:r,address:i,walletClient:o,publicClient:s}=lh(),{chain:a}=vi(),{showSuccess:l,showError:c,showInfo:u}=ps(),[d,f]=z.useState(null),[h,p]=z.useState(!0),[m,y]=z.useState(""),[g,v]=z.useState(null),[b,x]=z.useState(!1),[I,k]=z.useState(!1);z.useEffect(()=>{if(n&&o&&s&&a){const E=a.name.toLowerCase();kt.init(E,o,s).then(()=>{console.log("✅ Contract service initialized for chain:",E)}).catch(M=>{console.error("❌ Failed to initialize contract service:",M),y("Failed to connect to smart contract")})}},[n,o,s,a,kt]),z.useEffect(()=>{t&&A()},[t]);const A=async()=>{try{if(p(!0),y(""),n&&kt.isInitialized())try{const C=await kt.getGame(t);if(C.success&&C.game){console.log("✅ Game loaded from smart contract:",C.game);const H=U(C.game);f(H),p(!1);return}}catch(C){console.warn("⚠️ Failed to load from contract, trying database:",C)}const M=await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`);if(!M.ok)throw new Error("Game not found");const O=await M.json();console.log("✅ Game loaded from database:",O),f(O)}catch(E){console.error("❌ Error loading game:",E),y(E.message)}finally{p(!1)}},U=E=>({id:E.gameId.toString(),creator:E.creator,joiner:E.joiner,nft_contract:E.nftContract,token_id:E.tokenId.toString(),price_usd:parseFloat(E.priceUSD)/100,game_type:E.gameType===1?"nft-vs-nft":"nft-vs-crypto",status:S(E),current_round:E.currentRound,max_rounds:E.maxRounds,creator_score:E.creatorScore,joiner_score:E.joinerScore,auth_info:E.authInfo?JSON.parse(E.authInfo):{},created_at:new Date().toISOString(),contract_game_id:E.gameId.toString()}),S=E=>E.joiner==="0x0000000000000000000000000000000000000000"?"waiting":E.currentRound>=E.maxRounds?"completed":"active",N=async()=>{if(!n||!i){c("Please connect your wallet to join the game");return}if(!d){c("Game data not available");return}x(!0);try{u("Joining game...");const E={gameId:t,joiner:i,acceptedToken:0,authInfo:JSON.stringify({joiner:i,joinedAt:new Date().toISOString()})};console.log("🎮 Joining game with smart contract:",E);const M=await kt.joinGame(E);if(!M.success)throw new Error("Failed to join game: "+M.error);l("Successfully joined the game!"),console.log("✅ Joined game on blockchain:",M),f(O=>({...O,joiner:i,status:"active"})),await B({joiner:i,status:"active"})}catch(E){console.error("❌ Error joining game:",E),c("Failed to join game: "+E.message)}finally{x(!1)}},P=async()=>{if(!n||!i){c("Please connect your wallet to flip the coin");return}if(!d){c("Game data not available");return}k(!0);try{u("Flipping coin...");const E={gameId:t,player:i,authInfo:JSON.stringify({player:i,flippedAt:new Date().toISOString()})};console.log("🎮 Flipping coin with smart contract:",E);const M=await kt.flipCoin(E);if(!M.success)throw new Error("Failed to flip coin: "+M.error);console.log("✅ Coin flipped on blockchain:",M);const O=await G();O&&f(O),v({winner:M.winner,round:M.round,isFinal:M.isFinal,transactionHash:M.transactionHash}),M.isFinal?l(`Game completed! ${M.winner===i?"You won!":"You lost!"}`):l(`Round ${M.round} completed! ${M.winner===i?"You won this round!":"Opponent won this round!"}`)}catch(E){console.error("❌ Error flipping coin:",E),c("Failed to flip coin: "+E.message)}finally{k(!1)}},G=async()=>{try{const E=await kt.getGame(t);if(E.success&&E.game)return U(E.game)}catch(E){console.error("❌ Error loading updated game from contract:",E)}return null},B=async E=>{try{if(!(await fetch(`https://cryptoflipz2-production.up.railway.app/api/games/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).ok)throw new Error("Failed to update game in database");console.log("✅ Game updated in database")}catch(M){console.error("❌ Error updating game in database:",M)}},w=async()=>{if(!n||!i){c("Please connect your wallet to withdraw rewards");return}try{u("Checking for unclaimed rewards...");const E=await kt.getUnclaimedRewards(i);if(!E.success)throw new Error("Failed to check rewards: "+E.error);if(E.ethAmount>0||E.usdcAmount>0||E.nftCount>0){u("Withdrawing rewards...");const M=await kt.withdrawRewards();if(!M.success)throw new Error("Failed to withdraw rewards: "+M.error);l("Rewards withdrawn successfully!"),console.log("✅ Rewards withdrawn:",M)}else u("No unclaimed rewards found")}catch(E){console.error("❌ Error withdrawing rewards:",E),c("Failed to withdraw rewards: "+E.message)}};return!n||!i?F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:K(cj,{children:[F(uj,{children:"Connect Your Wallet"}),F(dj,{children:r||"Please connect your wallet to play the game."}),F(Ou,{}),r&&F("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#FF6B6B"},children:r})]})})})}):h?F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:K(oye,{children:[F(ab,{}),F("div",{children:"Loading game..."})]})})})}):m?F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:K(AN,{children:[F(_N,{children:"Error Loading Game"}),F(U2,{children:m}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})}):d?F(qr,{theme:Qe,children:K(eo,{children:[F(to,{children:F(sye,{children:F(iAe,{game:d,currentPlayer:i,onJoinGame:N,onFlipCoin:P,onWithdrawRewards:w,isJoining:b,isFlipping:I,contractService:kt,gameId:t,socket:null,connected:!1})})}),g&&F(Zj,{result:g,onClose:()=>v(null),onPlayAgain:()=>{v(null),e("/create")}})]})}):F(qr,{theme:Qe,children:F(eo,{children:F(to,{children:K(AN,{children:[F(_N,{children:"Game Not Found"}),F(U2,{children:"This game doesn't exist or has been removed."}),F("button",{onClick:()=>e("/"),style:{marginTop:"1rem",padding:"0.75rem 1.5rem",background:"linear-gradient(45deg, #00FF41, #39FF14)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer"},children:"Go Home"})]})})})})},aAe="/assets/FLIPNOSIS-C0NSmved.webp",lAe="/assets/mobile-DVZ6fP2r.webp",cAe=({onHeadsImageChange:t,onTailsImageChange:e,currentHeadsImage:n=null,currentTailsImage:r=null})=>{const[i,o]=z.useState(n),[s,a]=z.useState(r),[l,c]=z.useState("heads"),u=z.useRef(null),d=z.useRef(null),f=(p,m)=>{const y=p.target.files[0];if(!y)return;if(y.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!y.type.startsWith("image/")){alert("Please select an image file");return}const g=new FileReader;g.onload=v=>{const b=v.target.result,x=new Image;x.onload=()=>{const I=document.createElement("canvas"),k=I.getContext("2d"),A=512;let U=x.width,S=x.height;U>S?U>A&&(S=S*(A/U),U=A):S>A&&(U=U*(A/S),S=A),I.width=U,I.height=S,k.drawImage(x,0,0,U,S);const N=I.toDataURL("image/jpeg",.9);m==="heads"?(o(N),t(N)):(a(N),e(N))},x.src=b},g.readAsDataURL(y)},h=p=>{p==="heads"?(o(null),t(null)):(a(null),e(null))};return K("div",{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"1rem",padding:"2rem",maxWidth:"500px",margin:"0 auto"},children:[F("h3",{style:{color:"#FFD700",textAlign:"center",marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"bold"},children:"Customize Your Coin"}),K("div",{style:{display:"flex",marginBottom:"2rem",borderBottom:"2px solid rgba(255, 215, 0, 0.3)"},children:[F("button",{onClick:()=>c("heads"),style:{flex:1,padding:"1rem",background:l==="heads"?"rgba(255, 215, 0, 0.2)":"transparent",border:"none",color:l==="heads"?"#FFD700":"#fff",fontSize:"1.1rem",fontWeight:l==="heads"?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",borderBottom:l==="heads"?"2px solid #FFD700":"none",marginBottom:"-2px"},children:"Heads"}),F("button",{onClick:()=>c("tails"),style:{flex:1,padding:"1rem",background:l==="tails"?"rgba(255, 215, 0, 0.2)":"transparent",border:"none",color:l==="tails"?"#FFD700":"#fff",fontSize:"1.1rem",fontWeight:l==="tails"?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",borderBottom:l==="tails"?"2px solid #FFD700":"none",marginBottom:"-2px"},children:"Tails"})]}),F("div",{style:{minHeight:"300px"},children:l==="heads"?K("div",{children:[F("div",{style:{width:"200px",height:"200px",margin:"0 auto 2rem",borderRadius:"50%",border:"3px solid #FFD700",overflow:"hidden",background:i?"transparent":"linear-gradient(45deg, #FFD700, #DAA520)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>u.current?.click(),children:i?F("img",{src:i,alt:"Heads",style:{width:"100%",height:"100%",objectFit:"cover"}}):K("div",{style:{textAlign:"center",color:"#8B4513"},children:[F("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"+"}),F("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Add Image"}),F("div",{style:{fontSize:"0.8rem"},children:"HEADS"})]})}),F("input",{ref:u,type:"file",accept:"image/*",onChange:p=>f(p,"heads"),style:{display:"none"}}),K("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[F("button",{onClick:()=>u.current?.click(),style:{padding:"0.75rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:i?"Change Image":"Upload Image"}),i&&F("button",{onClick:()=>h("heads"),style:{padding:"0.75rem 2rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#ff6b6b",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:"Remove"})]})]}):K("div",{children:[F("div",{style:{width:"200px",height:"200px",margin:"0 auto 2rem",borderRadius:"50%",border:"3px solid #FFD700",overflow:"hidden",background:s?"transparent":"linear-gradient(45deg, #FFD700, #DAA520)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>d.current?.click(),children:s?F("img",{src:s,alt:"Tails",style:{width:"100%",height:"100%",objectFit:"cover"}}):K("div",{style:{textAlign:"center",color:"#8B4513"},children:[F("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:"+"}),F("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Add Image"}),F("div",{style:{fontSize:"0.8rem"},children:"TAILS"})]})}),F("input",{ref:d,type:"file",accept:"image/*",onChange:p=>f(p,"tails"),style:{display:"none"}}),K("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[F("button",{onClick:()=>d.current?.click(),style:{padding:"0.75rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"0.5rem",color:"#000",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:s?"Change Image":"Upload Image"}),s&&F("button",{onClick:()=>h("tails"),style:{padding:"0.75rem 2rem",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"0.5rem",color:"#ff6b6b",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease"},children:"Remove"})]})]})}),K("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"0.5rem",fontSize:"0.9rem",color:"#FFD700",textAlign:"center"},children:[K("p",{style:{margin:"0 0 0.5rem 0"},children:["💡 ",F("strong",{children:"Tip:"})," Square images work best. Images will be automatically resized and cropped to fit the coin."]}),F("p",{style:{margin:0,fontSize:"0.8rem",opacity:.8},children:"Maximum file size: 5MB • Supported formats: JPG, PNG, GIF"})]})]})},uAe=Ae("div",{target:"e17gqmei11"})({name:"1abnokh",styles:"display:flex;align-items:center;gap:0.75rem;z-index:100"}),dAe=Ae("div",{target:"e17gqmei10"})({name:"tz190x",styles:"position:fixed;top:1rem;right:1rem;display:flex;align-items:center;gap:1rem;z-index:1000"}),fAe=Ae("div",{target:"e17gqmei9"})({name:"15e7j3g",styles:"display:flex;align-items:center;gap:0.75rem;background:rgba(0, 0, 0, 0.7);border:1px solid rgba(255, 255, 255, 0.1);border-radius:1rem;padding:0.5rem 1rem;cursor:pointer;transition:all 0.3s ease;&:hover{background:rgba(0, 0, 0, 0.8);border-color:rgba(255, 20, 147, 0.3);box-shadow:0 0 15px rgba(255, 20, 147, 0.2);}"}),hAe=Ae("div",{target:"e17gqmei8"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),pAe=Ae("div",{target:"e17gqmei7"})({name:"1drlcdz",styles:"color:#fff;font-weight:bold;font-size:0.9rem"}),mAe=Ae("div",{target:"e17gqmei6"})({name:"12186il",styles:"position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.8);display:flex;align-items:center;justify-content:center;z-index:1100"}),gAe=Ae("div",{target:"e17gqmei5"})({name:"1hprs3i",styles:"background:rgba(0, 0, 0, 0.9);border:1px solid rgba(255, 20, 147, 0.3);border-radius:1rem;padding:2rem;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative"}),yAe=Ae("button",{target:"e17gqmei4"})({name:"rpd1bl",styles:"position:absolute;top:1rem;right:1rem;background:none;border:none;color:rgba(255, 255, 255, 0.6);font-size:1.5rem;cursor:pointer;padding:0.5rem;&:hover{color:#fff;}"}),vAe=Ae("div",{target:"e17gqmei3"})({name:"16j8bo9",styles:"display:flex;margin-bottom:2rem;border-bottom:2px solid rgba(255, 20, 147, 0.3)"}),Bk=Ae("button",{target:"e17gqmei2"})("flex:1;padding:1rem;background:",t=>t.active?"rgba(255, 20, 147, 0.2)":"transparent",";border:none;color:",t=>t.active?"#FF1493":"#fff",";font-size:1.1rem;font-weight:",t=>t.active?"bold":"normal",";cursor:pointer;transition:all 0.3s ease;border-bottom:",t=>t.active?"2px solid #FF1493":"none",";margin-bottom:-2px;&:hover{background:rgba(255, 20, 147, 0.1);}"),wAe=Ae("input",{target:"e17gqmei1"})({name:"orjgjc",styles:"width:100%;background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:0.5rem;padding:0.75rem;color:#fff;font-size:1rem;margin-bottom:1rem;&:focus{outline:none;border-color:rgba(255, 20, 147, 0.5);box-shadow:0 0 10px rgba(255, 20, 147, 0.2);}"}),bAe=Ae("button",{target:"e17gqmei0"})({name:"14cvs0b",styles:"width:100%;background:linear-gradient(45deg, #FF1493, #FF69B4);border:none;border-radius:0.5rem;padding:0.75rem;color:#fff;font-weight:bold;cursor:pointer;transition:all 0.3s ease;&:hover{transform:scale(1.02);box-shadow:0 0 15px rgba(255, 20, 147, 0.4);}"}),eH=({isInHeader:t=!1})=>{const{address:e}=vi(),{getPlayerName:n,setPlayerName:r,getProfilePicture:i,setProfilePicture:o,getCoinHeadsImage:s,setCoinHeadsImage:a,getCoinTailsImage:l,setCoinTailsImage:c}=J1(),{showSuccess:u,showError:d}=ps(),[f,h]=z.useState(!1),[p,m]=z.useState("profile"),[y,g]=z.useState(""),[v,b]=z.useState(!0),[x,I]=z.useState(null),[k,A]=z.useState(null);z.useEffect(()=>{(async()=>{if(e)try{b(!0);const B=await n(e),w=await s(e),E=await l(e);g(B||""),I(w),A(E)}catch(B){console.error("Error loading user data:",B)}finally{b(!1)}})()},[e,n,s,l]);const U=async()=>{if(e)try{await r(e,y),u("Profile updated successfully!")}catch(G){console.error("Error saving profile:",G),d("Failed to update profile")}},S=async G=>{if(e)try{await a(e,G),I(G),u("Heads image updated!")}catch(B){console.error("Error saving heads image:",B),d("Failed to save heads image")}},N=async G=>{if(e)try{await c(e,G),A(G),u("Tails image updated!")}catch(B){console.error("Error saving tails image:",B),d("Failed to save tails image")}};return e?K(Na,{children:[F(t?uAe:dAe,{children:K(fAe,{onClick:()=>h(!0),children:[F(sw,{address:e,size:40,isClickable:!1,style:{borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)"}}),F(hAe,{children:F(pAe,{children:v?"...":y||"Anonymous"})})]})}),f&&F(mAe,{children:K(gAe,{children:[F(yAe,{onClick:()=>h(!1),children:"×"}),K(vAe,{children:[F(Bk,{active:p==="profile",onClick:()=>m("profile"),children:"Profile"}),F(Bk,{active:p==="coin",onClick:()=>m("coin"),children:"Customize Coin"})]}),p==="profile"?K("div",{children:[F("h2",{style:{color:"#fff",marginBottom:"1.5rem"},children:"Edit Profile"}),F("div",{style:{marginBottom:"1.5rem"},children:F(sw,{address:e,size:100,isClickable:!0,showUploadIcon:!0,style:{borderRadius:"12px",border:"2px solid rgba(255, 20, 147, 0.5)"}})}),F(wAe,{type:"text",placeholder:"Enter your name",value:y,onChange:G=>g(G.target.value)}),F(bAe,{onClick:U,children:"Save Profile"})]}):F("div",{children:F(cAe,{onHeadsImageChange:S,onTailsImageChange:N,currentHeadsImage:x,currentTailsImage:k})})]})})]}):null},xAe=Ae("div",{target:"etw64w16"})("position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.5);backdrop-filter:blur(5px);opacity:",t=>t.isOpen?1:0,";visibility:",t=>t.isOpen?"visible":"hidden",";transition:all 0.3s ease;z-index:999999;"),EAe=Ae("div",{target:"etw64w15"})("position:fixed;top:0;right:0;width:70%;max-width:250px;height:100vh;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);padding:1.5rem;transform:translateX(",t=>t.isOpen?"0":"100%",");transition:transform 0.3s ease;z-index:1000000;display:flex;flex-direction:column;gap:0.75rem;overflow-y:auto;border-left:1px solid rgba(0, 255, 65, 0.2);box-shadow:-5px 0 20px rgba(0, 255, 65, 0.1);@media (min-width: 769px){display:none;}"),Wg=Ae(oh,{target:"etw64w14"})("color:",t=>t.theme.colors.textPrimary,";text-decoration:none;padding:1rem;border-radius:0.5rem;transition:all 0.3s ease;background:rgba(0, 255, 65, 0.05);border:2px solid rgba(0, 255, 65, 0.6);margin-bottom:0.5rem;&:hover{background:rgba(0, 255, 65, 0.1);color:#00FF41;transform:translateY(-2px);box-shadow:0 0 15px rgba(0, 255, 65, 0.2);border-color:rgba(0, 255, 65, 0.8);}"),AAe=Ae("div",{target:"etw64w13"})({name:"noie68",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(0, 255, 65, 0.2)"}),_Ae=Ae("h2",{target:"etw64w12"})({name:"15t7f0j",styles:"color:#00FF41;margin:0;font-size:2rem;text-shadow:0 0 10px rgba(0, 255, 65, 0.5);font-family:'Hyperwave',sans-serif;letter-spacing:2px"}),SAe=Ae("div",{target:"etw64w11"})({name:"tk3n8a",styles:'margin:1rem 0;button{width:100%!important;background:transparent!important;color:#00FF41!important;border:1px solid rgba(0, 255, 65, 0.3)!important;border-radius:0.75rem!important;padding:0.75rem 1rem!important;font-weight:600!important;transition:all 0.3s ease!important;div[data-testid="rk-chain-button"]{display:none!important;}&:hover{transform:translateY(-2px)!important;border-color:rgba(0, 255, 65, 0.5)!important;box-shadow:0 0 20px rgba(0, 255, 65, 0.2)!important;}}'}),CAe=Ae("div",{target:"etw64w10"})({name:"mb3gdk",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0, 255, 65, 0.2)"}),TAe=({isOpen:t,onClose:e})=>{const{isConnected:n,address:r}=vi(),o=n&&r&&r.toLowerCase()==="0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839".toLowerCase();return t?I4.createPortal(K(Na,{children:[F(xAe,{isOpen:t,onClick:e}),K(EAe,{isOpen:t,children:[F(AAe,{children:F(_Ae,{children:"Menu"})}),F(Wg,{to:"/",onClick:e,children:"Home"}),F(Wg,{to:"/create",onClick:e,children:"Create Flip"}),o&&F(Wg,{to:"/admin",onClick:e,children:"Admin Panel"}),F(Wg,{to:"/test",onClick:e,children:"Contract Test"}),F(SAe,{children:F(Ou,{showBalance:{smallScreen:!1,largeScreen:!0}})}),n&&F(CAe,{children:F(eH,{isInHeader:!0})})]})]}),document.body):null},MAe=Ae("header",{target:"e18h9zca23"})("background-color:",t=>t.theme.colors.bgDark,";padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:100;width:100%;box-sizing:border-box;overflow-x:hidden;@media (max-width: 768px){padding:0.75rem 1rem;position:fixed;top:0;left:0;right:0;background:rgba(0, 0, 0, 0.95);backdrop-filter:blur(10px);z-index:9998;}"),IAe=Ae("div",{target:"e18h9zca22"})({name:"21q7ph",styles:"display:flex;align-items:center;gap:1rem;@media (max-width: 768px){gap:0.5rem;}"}),RAe=Ae(oh,{target:"e18h9zca21"})("color:#00FF41;font-size:3rem;font-weight:700;text-decoration:none;letter-spacing:6px;font-family:'Hyperwave',sans-serif;animation:neonPulse 2s infinite;",t=>t.theme.animations.neonPulse,"@media (max-width: 768px){font-size:2.5rem;letter-spacing:4px;}"),PAe=Ae("div",{target:"e18h9zca20"})({name:"10imiyw",styles:"display:flex;gap:1rem;align-items:center;@media (max-width: 768px){display:none;}"}),NAe=Ae(oh,{target:"e18h9zca19"})("background:linear-gradient(45deg, #00FF41, #39FF14);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #00FF41;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),kAe=Ae(oh,{target:"e18h9zca18"})("background:linear-gradient(45deg, #FF6B35, #F7931E);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #FF6B35;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),FAe=Ae(oh,{target:"e18h9zca17"})("background:linear-gradient(45deg, #9B59B6, #8E44AD);color:#000000;padding:0.5rem 1.5rem;border-radius:0.75rem;text-decoration:none;font-weight:600;transition:",t=>t.theme.transitions.default,";position:relative;overflow:hidden;border:2px solid #9B59B6;&::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);transform:translateX(-100%);transition:",t=>t.theme.transitions.default,";}&:hover{transform:translateY(-2px);&::before{transform:translateX(100%);}}"),OAe=Ae("button",{target:"e18h9zca15"})({name:"191oh3x",styles:"display:none;background:none;border:none;color:#00FF41;font-size:1.5rem;cursor:pointer;padding:0.5rem;z-index:100000;@media (max-width: 768px){display:block;}"}),BAe=N0e`
  0%, 100% {
    box-shadow: 0 0 0px #00FF41, 0 0 0px #00FF41;
    border-color: #00FF41;
  }
  50% {
    box-shadow: 0 0 16px #00FF41, 0 0 32px #00FF41;
    border-color: #baffc9;
  }
`,LAe=Ae("button",{target:"e18h9zca6"})("background:rgba(0,255,65,0.12);border:2px solid #00FF41;color:#00FF41;border-radius:50%;width:2.5rem;height:2.5rem;font-size:1.5rem;font-weight:bold;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background 0.2s;animation:",BAe," 1.2s infinite;&:hover{background:rgba(0,255,65,0.25);}@media (max-width: 768px){display:none;}"),DAe=Ae("div",{target:"e18h9zca4"})({name:"ohaszm",styles:"position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:9999;display:flex;align-items:center;justify-content:center"}),UAe=Ae("div",{target:"e18h9zca3"})({name:"6bvd8o",styles:"background:#181c1b;border-radius:1rem;padding:2rem;box-shadow:0 0 32px #00FF41;max-width:95vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;width:90vw"}),zAe=Ae("button",{target:"e18h9zca2"})({name:"3cl7o3",styles:"background:none;border:none;color:#00FF41;font-size:2rem;position:absolute;top:2rem;right:2rem;cursor:pointer"}),jAe=Ae("div",{target:"e18h9zca1"})({name:"jl9pt",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem"}),HAe=Ae("div",{target:"e18h9zca0"})({name:"iya5c3",styles:"max-width:90vw;width:100%;height:100%;display:flex;justify-content:center;align-items:center;padding:1rem"}),GAe=()=>{const{isConnected:t,address:e}=vi(),{showInfo:n}=ps(),[r,i]=z.useState(!1),[o,s]=z.useState(!1),l=t&&e&&e.toLowerCase()==="0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839".toLowerCase(),c=()=>{window.innerWidth>768&&i(!1)};return L.useEffect(()=>(window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[]),F(qr,{theme:Qe,children:K(MAe,{children:[F(IAe,{children:F(RAe,{to:"/",children:"FLIPNOSIS"})}),K(PAe,{children:[F(NAe,{to:"/create",children:"Create Flip"}),l&&F(kAe,{to:"/admin",children:"Admin"}),F(FAe,{to:"/test",children:"Test"}),F(Ou,{showBalance:{smallScreen:!1,largeScreen:!0}}),t&&F(eH,{isInHeader:!0})]}),F(OAe,{onClick:()=>i(!r),children:r?"✕":"☰"}),F(TAe,{isOpen:r,onClose:()=>i(!1)}),F(LAe,{onClick:()=>s(!0),title:"About FLIPNOSIS",children:"i"}),o&&F(DAe,{onClick:()=>s(!1),children:K(UAe,{onClick:u=>u.stopPropagation(),children:[F(zAe,{onClick:()=>s(!1),children:"×"}),F(jAe,{children:F("h2",{style:{color:"#00FF41",margin:0},children:"About FLIPNOSIS"})}),F(HAe,{children:F("img",{src:window.innerWidth<=768?lAe:aAe,alt:"FLIPNOSIS Info",style:{maxWidth:"100%",height:"auto",borderRadius:"1rem",objectFit:"contain"}})})]})})]})})},WAe=()=>K("div",{className:"min-h-screen bg-bg-primary",children:[F(GAe,{}),F("main",{style:{paddingTop:window.innerWidth<=768?"80px":"0"},children:F(l0e,{})})]});var VAe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $Ae=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qAe=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>z.createElement("svg",{ref:c,...VAe,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${$Ae(t)}`,...l},[...e.map(([u,d])=>z.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var Qs=qAe;const KAe=Qs("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),QAe=Qs("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),XAe=Qs("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),YAe=Qs("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),JAe=Qs("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Lk=Qs("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),ZAe=Qs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),e_e=Qs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),t_e=Qs("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),n_e=Qs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),r_e=()=>{const{address:t}=lh(),{showSuccess:e,showError:n,showInfo:r}=ps(),[i,o]=z.useState(""),[s,a]=z.useState(""),[l,c]=z.useState(!1),[u,d]=z.useState(null),[f,h]=z.useState(null),p=async()=>{if(!i||!s){n("Please enter NFT contract address and token ID");return}c(!0);try{r("Searching for your NFT...");const g=await kt.findMyNFTs(i,s);d(g),g.success?e(`NFT found: ${g.message}`):n("Failed to find NFT: "+g.error)}catch(g){n("Error searching for NFT: "+g.message)}finally{c(!1)}},m=async()=>{if(!t){n("Please connect your wallet");return}c(!0);try{r("Searching for your games...");const g=await kt.getMyGames(t);h(g),g.success?e(`Found ${g.myGames.length} games`):n("Failed to find games: "+g.error)}catch(g){n("Error searching for games: "+g.message)}finally{c(!1)}},y=async g=>{if(confirm(`Are you sure you want to cancel game ${g}? This will return your NFT to your wallet.`))try{r("Cancelling game...");const v=await kt.emergencyCancelGame(g);v.success?(e("Game cancelled successfully! Your NFT should be returned to your wallet."),m()):n("Failed to cancel game: "+v.error)}catch(v){n("Error cancelling game: "+v.message)}};return K("div",{children:[K("div",{style:{marginBottom:"2rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem"},children:"Find Your NFT"}),K("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[F("input",{type:"text",placeholder:"NFT Contract Address",value:i,onChange:g=>o(g.target.value),style:{flex:1,padding:"0.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",color:"white"}}),F("input",{type:"text",placeholder:"Token ID",value:s,onChange:g=>a(g.target.value),style:{width:"120px",padding:"0.5rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",color:"white"}}),F("button",{onClick:p,disabled:l,style:{padding:"0.5rem 1rem",background:"#FF4444",color:"white",border:"none",borderRadius:"0.5rem",cursor:l?"not-allowed":"pointer"},children:l?"Searching...":"Find NFT"})]}),u&&K("div",{style:{padding:"1rem",background:u.success?"rgba(0, 255, 0, 0.1)":"rgba(255, 0, 0, 0.1)",border:`1px solid ${u.success?"rgba(0, 255, 0, 0.3)":"rgba(255, 0, 0, 0.3)"}`,borderRadius:"0.5rem",color:u.success?"#00FF00":"#FF4444"},children:[F("strong",{children:"Result:"})," ",u.message||u.error]})]}),K("div",{style:{marginBottom:"2rem"},children:[F("h3",{style:{color:"#FFD700",marginBottom:"1rem"},children:"Find Your Games"}),F("button",{onClick:m,disabled:l||!t,style:{padding:"0.5rem 1rem",background:"#FFD700",color:"black",border:"none",borderRadius:"0.5rem",cursor:l||!t?"not-allowed":"pointer",marginBottom:"1rem"},children:l?"Searching...":"Find My Games"}),f&&K("div",{children:[K("p",{style:{color:"white",marginBottom:"1rem"},children:["Total games created: ",f.totalGames]}),f.myGames.length>0?F("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:f.myGames.map(g=>F("div",{style:{padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"0.5rem",color:"white"},children:K("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[K("div",{children:[K("strong",{children:["Game ",g.gameId]}),F("br",{}),K("small",{children:["NFT: ",g.nftContract," #",g.tokenId]}),F("br",{}),K("small",{children:["State: ",g.state===0?"Created":g.state===1?"Joined":"Completed"]}),F("br",{}),K("small",{children:["Joiner: ",g.joiner==="0x0000000000000000000000000000000000000000"?"None":g.joiner]})]}),g.state===0&&F("button",{onClick:()=>y(g.gameId),style:{padding:"0.5rem 1rem",background:"#FF4444",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer"},children:"Cancel Game"})]})},g.gameId))}):F("p",{style:{color:"white"},children:"No games found for your address."})]})]}),K("div",{style:{padding:"1rem",background:"rgba(255, 0, 0, 0.1)",border:"1px solid rgba(255, 0, 0, 0.3)",borderRadius:"0.5rem",color:"#FF4444"},children:[F("strong",{children:"⚠️ Important:"}),' If your NFT is stuck in a game contract, you can cancel the game to recover it. Only games in "Created" state (no joiner) can be cancelled.']})]})},i_e="0x93277281Fd256D0601Ce86Cdb1D5c00a97b59839",o_e=Ae("div",{target:"e1at9ogk25"})({name:"18g9eba",styles:"min-height:100vh;background:linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0d0d0d 100%);color:#ffffff;padding:2rem;font-family:'Inter',sans-serif"}),s_e=Ae("div",{target:"e1at9ogk24"})({name:"1u3n3gu",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:2rem;background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:20px;border:1px solid rgba(0, 255, 65, 0.2);backdrop-filter:blur(10px)"}),a_e=Ae("h1",{target:"e1at9ogk23"})({name:"qzr0p5",styles:"font-size:2.5rem;font-weight:700;background:linear-gradient(135deg, #00FF41 0%, #FF6B35 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0"}),l_e=Ae("div",{target:"e1at9ogk21"})({name:"10u2hu4",styles:"display:flex;gap:1rem;margin-bottom:2rem;background:rgba(255, 255, 255, 0.05);padding:0.5rem;border-radius:16px;backdrop-filter:blur(10px)"}),Wh=Ae("button",{target:"e1at9ogk20"})("background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"transparent",";color:",t=>t.active?"#000":"#fff",";border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem;&:hover{background:",t=>t.active?"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)":"rgba(0, 255, 65, 0.1)",";}"),Dk=Ae("div",{target:"e1at9ogk19"})({name:"13t28xe",styles:"background:rgba(255, 255, 255, 0.05);border-radius:20px;padding:2rem;backdrop-filter:blur(10px);border:1px solid rgba(255, 255, 255, 0.1)"}),c_e=Ae("div",{target:"e1at9ogk18"})({name:"1bkibp1",styles:"display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:1.5rem;margin-bottom:2rem"}),Vg=Ae("div",{target:"e1at9ogk17"})({name:"ov55uu",styles:"background:linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(255, 107, 53, 0.1) 100%);border-radius:16px;padding:1.5rem;border:1px solid rgba(0, 255, 65, 0.2);transition:all 0.3s ease;&:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(0, 255, 65, 0.2);}"}),$g=Ae("div",{target:"e1at9ogk16"})({name:"16b97m6",styles:"display:flex;align-items:center;gap:1rem;margin-bottom:1rem"}),qg=Ae("div",{target:"e1at9ogk15"})({name:"gne3w0",styles:"width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);display:flex;align-items:center;justify-content:center;color:#000"}),Kg=Ae("div",{target:"e1at9ogk14"})({name:"1nwd60l",styles:"font-size:2rem;font-weight:700;color:#00FF41"}),Qg=Ae("div",{target:"e1at9ogk13"})({name:"cyrik3",styles:"color:#ccc;font-size:0.9rem;margin-top:0.5rem"}),u_e=Ae("div",{target:"e1at9ogk12"})({name:"19ym1g9",styles:"display:flex;gap:1rem;margin-bottom:2rem"}),VE=Ae("div",{target:"e1at9ogk10"})({name:"c55fph",styles:"background:rgba(255, 255, 255, 0.05);border-radius:16px;padding:1.5rem;margin-bottom:1rem;border:1px solid rgba(255, 255, 255, 0.1);transition:all 0.3s ease;&:hover{background:rgba(255, 255, 255, 0.08);transform:translateY(-2px);}"}),$E=Ae("div",{target:"e1at9ogk9"})({name:"8r8ifa",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem"}),d_e=Ae("span",{target:"e1at9ogk8"})("padding:0.5rem 1rem;border-radius:20px;font-size:0.8rem;font-weight:600;background:",t=>{switch(t.status){case"active":return"linear-gradient(135deg, #00FF41 0%, #39FF14 100%)";case"completed":return"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)";case"cancelled":return"linear-gradient(135deg, #FF4444 0%, #CC0000 100%)";default:return"rgba(255, 255, 255, 0.2)"}},";color:",t=>t.status==="active"||t.status==="completed"?"#000":"#fff",";"),f_e=Ae("div",{target:"e1at9ogk7"})({name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"}),h_e=Ae("div",{target:"e1at9ogk6"})({name:"1dkpf8h",styles:"margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255, 255, 255, 0.1);p{margin:0.5rem 0;color:#ccc;}"}),p_e=Ae("form",{target:"e1at9ogk5"})({name:"1i3qy3r",styles:"display:grid;gap:1.5rem"}),Uk=Ae("div",{target:"e1at9ogk4"})({name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"}),zk=Ae("label",{target:"e1at9ogk3"})({name:"1qzg6tw",styles:"font-weight:600;color:#ccc"}),jk=Ae("input",{target:"e1at9ogk2"})({name:"1aga977",styles:"background:rgba(255, 255, 255, 0.1);border:1px solid rgba(255, 255, 255, 0.2);border-radius:8px;padding:0.75rem;color:#fff;font-size:1rem;&:focus{outline:none;border-color:#00FF41;}"}),dl=Ae("button",{target:"e1at9ogk1"})({name:"1jwqxzp",styles:"background:linear-gradient(135deg, #00FF41 0%, #39FF14 100%);color:#000;border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease;&:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(0, 255, 65, 0.3);}&:disabled{background:#666;cursor:not-allowed;}"}),m_e=Ae("div",{target:"e1at9ogk0"})("position:fixed;top:2rem;right:2rem;padding:1rem 2rem;border-radius:12px;color:#fff;font-weight:600;z-index:1000;animation:slideIn 0.3s ease;",t=>t.type==="success"&&`
    background: linear-gradient(135deg, #00FF41 0%, #39FF14 100%);
    color: #000;
  `," ",t=>t.type==="error"&&`
    background: linear-gradient(135deg, #FF4444 0%, #CC0000 100%);
  `,"@keyframes slideIn{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}");function g_e(){const{isFullyConnected:t,address:e,walletClient:n,publicClient:r}=lh(),{chain:i}=vi(),[o,s]=z.useState(!1),[a,l]=z.useState(""),[c,u]=z.useState(!1),[d,f]=z.useState("overview"),[h,p]=z.useState("base"),[m,y]=z.useState(!1),[g,v]=z.useState(""),[b,x]=z.useState({totalGames:0,activeGames:0,totalVolume:0,platformFees:0,monthlyFees:0,totalNFTsInContract:0,totalETHInContract:0,totalUSDCInContract:0}),[I,k]=z.useState([]),[A,U]=z.useState([]),[S,N]=z.useState([]),[P,G]=z.useState({platformFeePercent:3.5,listingFeeUSD:.2}),[B,w]=z.useState(null),[E,M]=z.useState([]),O="https://cryptoflipz2-production.up.railway.app";z.useEffect(()=>{if(t&&e)if(e.toLowerCase()===i_e.toLowerCase()){u(!0),s(!0),l(e);const ue=i?.name?.toLowerCase()||"base";kt.init(ue,n,r).then(()=>{console.log("✅ Admin contract service initialized"),C()}).catch(Ie=>{console.error("❌ Failed to initialize contract service:",Ie)})}else alert("Unauthorized wallet. Admin access only.")},[t,e,n,r,i]);const C=async()=>{y(!0);try{const ue=await fetch(`${O}/api/admin/games`);if(!ue.ok)throw new Error("Failed to load games");const Ie=await ue.json();if(k(Ie.games||[]),x(Ge=>({...Ge,totalGames:Ie.stats?.totalGames||0,activeGames:Ie.stats?.activeGames||0,totalVolume:Ie.stats?.totalVolume||0})),kt.currentChain)try{console.log("Contract service is initialized for:",kt.currentChain)}catch(Ge){console.error("Error loading blockchain data:",Ge)}}catch(ue){console.error("Error loading data:",ue),Z("error","Failed to load data: "+ue.message)}finally{y(!1)}},H=async()=>{if(!kt.currentChain){Z("error","Contract not initialized");return}try{Z("info","Platform fee update not implemented yet - use contract directly")}catch(ue){console.error("Error updating platform fee:",ue),Z("error","Failed to update platform fee")}},W=async()=>{if(!kt.currentChain){Z("error","Contract not initialized");return}try{Z("info","Listing fee update not implemented yet - use contract directly")}catch(ue){console.error("Error updating listing fee:",ue),Z("error","Failed to update listing fee")}},D=async ue=>{if(confirm("Emergency withdraw NFT from this game?"))try{const Ie=I.find(Fe=>Fe.id===ue);if(!Ie)throw new Error("Game not found");const Ge=await kt.emergencyCancelGame(Ie.contract_game_id);if(Ge.success)Z("success","NFT withdrawn successfully!"),await fetch(`${O}/api/admin/games/${ue}/cancel`,{method:"PUT"}),await C();else throw new Error(Ge.error)}catch(Ie){console.error("Error withdrawing NFT:",Ie),Z("error","Failed to withdraw NFT: "+Ie.message)}},T=async()=>{if(confirm("PAUSE ALL GAMES? This will prevent new games from being created or joined."))try{const ue=await fetch(`${O}/api/admin/pause-all`,{method:"POST"});if(ue.ok)Z("success","All games paused!"),await C();else if(ue.status===404){Z("info","Server endpoint not available, using fallback method...");const Ie=await fetch(`${O}/api/admin/games`);if(Ie.ok){const Fe=(await Ie.json()).games.filter(oe=>oe.status==="waiting");let At=0;for(const oe of Fe)try{await fetch(`${O}/api/admin/games/${oe.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paused"})}),At++}catch(ct){console.warn("Failed to update game:",oe.id,ct)}Z("success",`Paused ${At} games using fallback method!`),await C()}else throw new Error("Failed to load games for fallback update")}else throw new Error("Failed to pause games")}catch(ue){Z("error","Failed to pause games: "+ue.message)}},$=async()=>{if(!kt.currentChain){Z("error","Contract not initialized");return}try{const ue=await kt.withdrawRewards();if(ue.success)Z("success",`Withdrew ${ue.ethWithdrawn} ETH and ${ue.usdcWithdrawn} USDC`);else throw new Error(ue.error)}catch(ue){Z("error","Failed to withdraw fees: "+ue.message)}},J=async ue=>{try{(await fetch(`${O}/api/admin/games/${ue}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json"}})).ok?(Z("success","Game cancelled successfully!"),await C()):Z("error","Failed to cancel game")}catch(Ie){console.error("Error cancelling game:",Ie),Z("error","Failed to cancel game")}},Z=(ue,Ie)=>{const Ge=Date.now();M(Fe=>[...Fe,{id:Ge,type:ue,message:Ie}]),setTimeout(()=>{M(Fe=>Fe.filter(At=>At.id!==Ge))},5e3)},ce=ue=>`${ue.slice(0,6)}...${ue.slice(-4)}`,ie=ue=>new Date(ue).toLocaleDateString(),xe=ue=>{switch(ue){case"active":return"#00FF41";case"completed":return"#FF6B35";case"cancelled":return"#FF4444";default:return"#666"}};return z.useEffect(()=>{const ue=I.filter(Ie=>Ie.id.toString().includes(g)||Ie.creator.toLowerCase().includes(g.toLowerCase())||Ie.joiner&&Ie.joiner.toLowerCase().includes(g.toLowerCase()));U(ue)},[I,g]),K(o_e,{children:[K(s_e,{children:[F(a_e,{children:"Admin Dashboard"}),o?K("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[K("span",{children:["Connected: ",ce(a)]}),F("span",{children:i?.name||"Unknown Chain"})]}):F(Ou,{})]}),o?K(Na,{children:[K(l_e,{children:[K(Wh,{active:d==="overview",onClick:()=>f("overview"),children:[F(QAe,{size:20}),"Overview"]}),K(Wh,{active:d==="games",onClick:()=>f("games"),children:[F(Lk,{size:20}),"Games"]}),K(Wh,{active:d==="players",onClick:()=>f("players"),children:[F(n_e,{size:20}),"Players"]}),K(Wh,{active:d==="settings",onClick:()=>f("settings"),children:[F(e_e,{size:20}),"Settings"]}),K(Wh,{active:d==="emergency",onClick:()=>f("emergency"),children:[F(t_e,{size:20}),"Emergency"]})]}),K(Dk,{children:[d==="overview"&&K("div",{children:[K(c_e,{children:[F(Vg,{children:K($g,{children:[F(qg,{children:F(Lk,{size:24})}),K("div",{children:[F(Kg,{children:b.totalGames}),F(Qg,{children:"Total Games"})]})]})}),F(Vg,{children:K($g,{children:[F(qg,{children:F(KAe,{size:24})}),K("div",{children:[F(Kg,{children:b.activeGames}),F(Qg,{children:"Active Games"})]})]})}),F(Vg,{children:K($g,{children:[F(qg,{children:F(JAe,{size:24})}),K("div",{children:[K(Kg,{children:["$",b.totalVolume.toFixed(2)]}),F(Qg,{children:"Total Volume"})]})]})}),F(Vg,{children:K($g,{children:[F(qg,{children:F(YAe,{size:24})}),K("div",{children:[K(Kg,{children:["$",b.platformFees.toFixed(2)]}),F(Qg,{children:"Platform Fees"})]})]})})]}),K("div",{style:{marginTop:"2rem"},children:[F("h3",{children:"Recent Activity"}),I.slice(0,5).map(ue=>F(VE,{children:K($E,{children:[K("div",{children:[K("strong",{children:["Game #",ue.id]}),K("div",{style:{fontSize:"0.9rem",color:"#ccc"},children:["Created by ",ce(ue.creator)]})]}),F(d_e,{status:ue.status,children:ue.status})]})},ue.id))]})]}),d==="games"&&K("div",{children:[K(u_e,{children:[F(ZAe,{size:20}),F("input",{type:"text",placeholder:"Search by game ID or address...",value:g,onChange:ue=>v(ue.target.value)})]}),F(f_e,{children:A.map(ue=>K(VE,{children:[K($E,{onClick:()=>w(B===ue.id?null:ue.id),children:[K("div",{children:[K("h4",{children:["Game #",ue.id]}),K("p",{children:["NFT: ",ue.nft_name]}),K("p",{children:["Status: ",F("span",{style:{color:xe(ue.status)},children:ue.status})]})]}),F(XAe,{style:{transform:B===ue.id?"rotate(180deg)":"none"}})]}),B===ue.id&&K(h_e,{children:[K("p",{children:[F("strong",{children:"Creator:"})," ",ce(ue.creator)]}),K("p",{children:[F("strong",{children:"Joiner:"})," ",ce(ue.joiner)]}),K("p",{children:[F("strong",{children:"Price:"})," $",ue.price_usd," USD"]}),K("p",{children:[F("strong",{children:"Contract Game ID:"})," ",ue.contract_game_id||"N/A"]}),K("p",{children:[F("strong",{children:"Created:"})," ",ie(ue.created_at)]}),K("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[ue.status==="waiting"&&F(dl,{onClick:()=>J(ue.id),style:{background:"#ff4444"},children:"Cancel Game"}),ue.contract_game_id&&ue.status==="waiting"&&F(dl,{onClick:()=>D(ue.id),style:{background:"#ff8800"},children:"Emergency Withdraw NFT"}),F(dl,{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/game/${ue.id}`),Z("success","Game URL copied!")},style:{background:"#0088ff"},children:"Copy Game URL"})]})]})]},ue.id))})]}),d==="players"&&K("div",{children:[F("h3",{children:"Player Statistics"}),S.map(ue=>K(VE,{children:[F($E,{children:F("div",{children:F("strong",{children:ce(ue.address)})})}),K("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[K("div",{children:[F("strong",{children:"Games Created:"})," ",ue.gamesCreated]}),K("div",{children:[F("strong",{children:"Games Won:"})," ",ue.gamesWon]}),K("div",{children:[F("strong",{children:"Total Volume:"})," $",ue.totalVolume.toFixed(2)]})]})]},ue.address))]}),d==="settings"&&K("div",{children:[F("h3",{children:"Platform Settings"}),K(p_e,{children:[K(Uk,{children:[F(zk,{children:"Platform Fee Percentage"}),F(jk,{type:"number",step:"0.1",value:P.platformFeePercent,onChange:ue=>G(Ie=>({...Ie,platformFeePercent:parseFloat(ue.target.value)}))})]}),K(Uk,{children:[F(zk,{children:"Listing Fee (USD)"}),F(jk,{type:"number",step:"0.01",value:P.listingFeeUSD,onChange:ue=>G(Ie=>({...Ie,listingFeeUSD:parseFloat(ue.target.value)}))})]}),F(dl,{onClick:H,disabled:!kt.currentChain,children:"Update Platform Fee"}),F(dl,{onClick:W,disabled:!kt.currentChain,children:"Update Listing Fee"})]})]}),d==="emergency"&&K("div",{children:[F("h3",{style:{color:"#ff4444",marginBottom:"2rem"},children:"⚠️ Emergency Controls"}),K("div",{style:{background:"rgba(255, 68, 68, 0.1)",border:"2px solid #ff4444",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{style:{color:"#ff4444",marginBottom:"1rem"},children:"🚨 User NFT Recovery"}),F("p",{style:{marginBottom:"1rem"},children:"Help users recover their NFTs if they're stuck in game contracts."}),F(r_e,{})]}),K("div",{style:{background:"rgba(255, 0, 0, 0.1)",border:"2px solid #ff4444",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{children:"Pause All Games"}),F("p",{children:"This will prevent any new games from being created or joined."}),F(dl,{onClick:T,style:{background:"#ff4444",marginTop:"1rem"},children:"🛑 PAUSE ALL GAMES"})]}),K("div",{style:{background:"rgba(255, 215, 0, 0.1)",border:"2px solid #FFD700",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[F("h4",{children:"Withdraw Platform Fees"}),F("p",{children:"Withdraw accumulated platform fees from the contract."}),F(dl,{onClick:$,style:{background:"#FFD700",color:"#000",marginTop:"1rem"},children:"💰 Withdraw Fees"})]}),K("div",{style:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"12px",padding:"2rem"},children:[F("h4",{children:"Database Admin"}),F("p",{children:"Direct database management (use with caution)."}),F(dl,{onClick:()=>window.open("/database-admin","_blank"),style:{background:"#666",marginTop:"1rem"},children:"🗄️ Open Database Admin"})]})]})]})]}):F(Dk,{children:K("div",{style:{textAlign:"center",padding:"4rem"},children:[F("h2",{children:"Connect your admin wallet to access the dashboard"}),F("p",{children:"Only authorized wallets can access this panel"})]})}),E.map(ue=>F(m_e,{type:ue.type,children:ue.message},ue.id))]})}const y_e=()=>{const{isFullyConnected:t,connectionError:e,address:n,walletClient:r,publicClient:i}=lh(),{chain:o}=vi(),[s,a]=z.useState([]),[l,c]=z.useState(!1),u=(f,h="info")=>{a(p=>[...p,{message:f,type:h,timestamp:new Date().toISOString()}])};return K("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[F("h2",{children:"Contract Service Test"}),F("div",{style:{marginBottom:"20px"},children:F("button",{onClick:async()=>{c(!0),a([]);try{if(u("🧪 Starting contract service tests...","info"),u(`🔍 Wallet connection: ${t?"✅ Connected":"❌ Not connected"}`,t?"success":"error"),!t){u(`❌ Connection error: ${e}`,"error");return}if(u(`🔍 Wallet client: ${r?"✅ Available":"❌ Missing"}`,r?"success":"error"),u(`🔍 Public client: ${i?"✅ Available":"❌ Missing"}`,i?"success":"error"),u(`🔍 Chain: ${o?.name||"Unknown"}`,"info"),!r||!i||!o){u("❌ Missing required clients or chain info","error");return}try{const h=o.name.toLowerCase();u(`🔧 Initializing contract service for ${h}...`,"info"),await kt.init(h,r,i),u("✅ Contract service initialized successfully","success")}catch(h){u(`❌ Failed to initialize contract service: ${h.message}`,"error");return}const f=kt.isInitialized();if(u(`🔍 Service initialized: ${f?"✅ Yes":"❌ No"}`,f?"success":"error"),!f){u("❌ Contract service not properly initialized","error");return}try{const h=kt.getCurrentConfig();u(`🔍 Contract address: ${h.address}`,"info"),u(`🔍 Full config object: ${JSON.stringify(h,null,2)}`,"info"),u("✅ Successfully retrieved contract config","success")}catch(h){u(`❌ Failed to get contract config: ${h.message}`,"error")}try{const h=kt.getCurrentClients();u(`🔍 Wallet client available: ${!!h.wallet}`,h.wallet?"success":"error"),u(`🔍 Public client available: ${!!h.public}`,h.public?"success":"error"),u("✅ Successfully retrieved clients","success")}catch(h){u(`❌ Failed to get clients: ${h.message}`,"error")}try{u("🔍 Testing getETHAmount function...","info");const h=kt.getCurrentClients();u(`🔍 Clients before getETHAmount - wallet: ${!!h.wallet}, public: ${!!h.public}`,"info");try{const m=kt.getCurrentConfig();u("🔍 Trying direct publicClient call...","info");const y=await h.public.readContract({address:m.address,abi:Jn,functionName:"getETHAmount",args:[1e6]});u(`✅ Direct call result: ${y} wei`,"success")}catch(m){u(`❌ Direct call failed: ${m.message}`,"error")}try{u("🔍 Testing getCurrentClients method...","info");const m=kt.getCurrentClients();u(`✅ getCurrentClients returned - wallet: ${!!m.wallet}, public: ${!!m.public}`,"success"),m.public?u(`✅ publicClient has readContract: ${typeof m.public.readContract}`,"success"):u("❌ publicClient is undefined","error")}catch(m){u(`❌ getCurrentClients failed: ${m.message}`,"error")}const p=await kt.getETHAmount(1e6);u(`✅ getETHAmount result: ${p} wei`,"success")}catch(h){u(`❌ getETHAmount failed: ${h.message}`,"error");try{u(`🔍 Current chain: ${kt.currentChain}`,"info"),u(`🔍 Available chains: ${Object.keys(kt.clients||{}).join(", ")}`,"info"),u(`🔍 Available contracts: ${Object.keys(kt.contracts||{}).join(", ")}`,"info")}catch(p){u(`🔍 Debug error: ${p.message}`,"error")}}u("🎉 All tests completed!","success")}catch(f){u(`❌ Test suite error: ${f.message}`,"error")}finally{c(!1)}},disabled:l,style:{padding:"10px 20px",background:l?"#666":"#00FF41",color:"black",border:"none",borderRadius:"5px",cursor:l?"not-allowed":"pointer",fontWeight:"bold"},children:l?"Running Tests...":"Run Tests"})}),K("div",{style:{marginBottom:"20px"},children:[F("h3",{children:"Current State:"}),K("ul",{children:[K("li",{children:["Wallet Connected: ",t?"✅ Yes":"❌ No"]}),K("li",{children:["Address: ",n||"Not connected"]}),K("li",{children:["Chain: ",o?.name||"Unknown"]}),K("li",{children:["Connection Error: ",e||"None"]})]})]}),K("div",{children:[F("h3",{children:"Test Results:"}),F("div",{style:{background:"#1a1a1a",padding:"15px",borderRadius:"5px",maxHeight:"400px",overflowY:"auto"},children:s.length===0?F("p",{style:{color:"#888"},children:'No tests run yet. Click "Run Tests" to start.'}):s.map((f,h)=>K("div",{style:{marginBottom:"5px",color:f.type==="error"?"#ff6b6b":f.type==="success"?"#00FF41":"#ffffff"},children:[K("span",{style:{color:"#888"},children:["[",new Date(f.timestamp).toLocaleTimeString(),"]"]})," ",f.message]},h))})]})]})},v_e=g0e([{path:"/",element:F(WAe,{}),children:[{index:!0,element:F(wye,{})},{path:"create",element:F(Eye,{})},{path:"game/:gameId",element:F(sAe,{})},{path:"admin",element:F(g_e,{})},{path:"test",element:F(y_e,{})}]}]);function tH(t){const e=typeof window<"u"?window:void 0;if(typeof e>"u"||typeof e.ethereum>"u")return;const n=e.ethereum.providers;return n?n.find(r=>r[t]):e.ethereum[t]?e.ethereum:void 0}function nH(t){const e=(n,r)=>{const[i,...o]=r.split("."),s=n[i];if(s)return o.length===0?s:e(s,o.join("."))};if(typeof window<"u")return e(window,t)}function TS({flag:t,namespace:e}){return!!(e&&typeof nH(e)<"u"||t&&typeof tH(t)<"u")}function w_e({flag:t,namespace:e}){const n=typeof window<"u"?window:void 0;if(typeof n>"u")return;if(e){const i=nH(e);if(i)return i}const r=n.ethereum?.providers;if(t){const i=tH(t);if(i)return i}return typeof r<"u"&&r.length>0?r[0]:n.ethereum}function b_e(t){return e=>{const n=t?{target:()=>({id:e.rkDetails.id,name:e.rkDetails.name,provider:t})}:{};return r=>({...t0(n)(r),...e})}}function aw({flag:t,namespace:e,target:n}){const r=n||w_e({flag:t,namespace:e});return b_e(r)}var Hk=new Map,x_e=({projectId:t,walletConnectParameters:e,rkDetailsShowQrModal:n,rkDetailsIsWalletConnectModalConnector:r})=>{let i={...e||{},projectId:t,showQrModal:!1};n&&(i={...i,showQrModal:!0}),"customStoragePrefix"in i||(i={...i,customStoragePrefix:r?"clientOne":"clientTwo"});const o=JSON.stringify(i),s=Hk.get(o);if(s)return s;const a=E1(i);return Hk.set(o,a),a};function E_e({projectId:t,walletDetails:e,walletConnectParameters:n}){return r=>({...x_e({projectId:t,walletConnectParameters:n,rkDetailsShowQrModal:e.rkDetails.showQrModal,rkDetailsIsWalletConnectModalConnector:e.rkDetails.isWalletConnectModalConnector})(r),...e})}function eM({projectId:t,walletConnectParameters:e}){const n="21fef48091f12692cad574a6f7753643";if(!t||t==="")throw new Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return t==="YOUR_PROJECT_ID"&&(t=n),r=>E_e({projectId:t,walletDetails:r,walletConnectParameters:e})}function rH(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function A_e(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function __e(){return typeof navigator<"u"&&(/iPad/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)}function tM(){return A_e()||__e()}function Gk(){return rH()||tM()}var S_e=({projectId:t,walletConnectParameters:e})=>{const n=Gk()?TS({flag:"isTrust"}):TS({flag:"isTrustWallet"}),r=!n,i=c=>`trust://wc?uri=${encodeURIComponent(c)}`,o=c=>c,s={getUri:r?i:void 0};let a;return r&&(a={getUri:o,instructions:{learnMoreUrl:"https://trustwallet.com/",steps:[{description:"wallet_connectors.trust.qr_code.step1.description",step:"install",title:"wallet_connectors.trust.qr_code.step1.title"},{description:"wallet_connectors.trust.qr_code.step2.description",step:"create",title:"wallet_connectors.trust.qr_code.step2.title"},{description:"wallet_connectors.trust.qr_code.step3.description",step:"scan",title:"wallet_connectors.trust.qr_code.step3.title"}]}}),{id:"trust",name:"Trust Wallet",rdns:"com.trustwallet.app",iconUrl:async()=>(await Ve(async()=>{const{default:c}=await import("./trustWallet-42DZQQWY-B0DkYL5U.js");return{default:c}},[])).default,installed:n||void 0,iconAccent:"#3375BB",iconBackground:"#fff",downloadUrls:{android:"https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp",ios:"https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409",mobile:"https://trustwallet.com/download",qrCode:"https://trustwallet.com/download",chrome:"https://chrome.google.com/webstore/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph",browserExtension:"https://trustwallet.com/browser-extension"},mobile:s,qrCode:a,extension:{instructions:{learnMoreUrl:"https://trustwallet.com/browser-extension",steps:[{description:"wallet_connectors.trust.extension.step1.description",step:"install",title:"wallet_connectors.trust.extension.step1.title"},{description:"wallet_connectors.trust.extension.step2.description",step:"create",title:"wallet_connectors.trust.extension.step2.title"},{description:"wallet_connectors.trust.extension.step3.description",step:"refresh",title:"wallet_connectors.trust.extension.step3.title"}]}},createConnector:r?eM({projectId:t,walletConnectParameters:e}):Gk()?aw({flag:"isTrust"}):aw({flag:"isTrustWallet"})}},C_e=({projectId:t,options:e})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await Ve(async()=>{const{default:r}=await import("./walletConnectWallet-YHWKVTDY-BcMJSWZw.js");return{default:r}},[])).default,iconBackground:"#3b99fc",qrCode:{getUri:r=>r},createConnector:eM({projectId:t,walletConnectParameters:e})}),T_e=({projectId:t,walletConnectParameters:e})=>{const n=TS({flag:"isRainbow"}),r=!n,i=o=>rH()?o:tM()?`rainbow://wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await Ve(async()=>{const{default:o}=await import("./rainbowWallet-O26YNBMX-Cp7N6hKb.js");return{default:o}},[])).default,iconBackground:"#0c2f78",installed:r?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:r?i:void 0},qrCode:r?{getUri:i,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:r?eM({projectId:t,walletConnectParameters:e}):aw({flag:"isRainbow"})}},M_e=()=>({id:"injected",name:"Browser Wallet",iconUrl:async()=>(await Ve(async()=>{const{default:t}=await import("./injectedWallet-AWJSZPMG-Df9x-YJA.js");return{default:t}},[])).default,iconBackground:"#fff",createConnector:aw({})}),iH=({appName:t,appIcon:e})=>{const n=i=>i,r=tM();return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await Ve(async()=>{const{default:i}=await import("./coinbaseWallet-OKXU3TRC-BmQqixYK.js");return{default:i}},[])).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:!0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...r?{}:{qrCode:{getUri:n,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:i=>{const{...o}=iH,s=r0({appName:t,appLogoUrl:e,...o});return a=>({...s(a),...i})}}};console.log("Initializing Rainbow Kit with:",{projectId:"fd95ed98ecab7ef051bdcaa27f9d0547",chains:[g1,Nu,v1,OT,BT,y1,m1]});const _l=[g1,Nu,v1,OT,BT,y1,m1];if(!_l||!Array.isArray(_l)||_l.length===0)throw console.error("❌ Chains array is invalid:",_l),new Error("Chains configuration is invalid");_l.forEach((t,e)=>{if(!t||!t.id||!t.name)throw console.error(`❌ Invalid chain at index ${e}:`,t),new Error(`Chain at index ${e} is invalid`)});console.log("✅ Chains validated successfully:",_l.map(t=>({id:t.id,name:t.name})));const Wk="fd95ed98ecab7ef051bdcaa27f9d0547",I_e=typeof window<"u"&&/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let Sl;if(I_e){const t=k8([{groupName:"Popular",wallets:[M_e,iH,T_e,S_e,C_e]}],{appName:"FLIPNOSIS",projectId:Wk});Sl=hD({chains:_l,connectors:t,transports:{[g1.id]:la(),[Nu.id]:la(),[v1.id]:la(),[OT.id]:la(),[BT.id]:la(),[y1.id]:la(),[m1.id]:la()}})}else Sl=Tse({appName:"FLIPNOSIS",projectId:Wk,chains:_l,ssr:!1});console.log("✅ Rainbow Kit configuration created successfully");const R_e=new vee({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),{chains:MS}=Sl;console.log("Rainbow Kit Config:",{chains:MS.map(t=>t.name),projectId:Sl.projectId});class P_e extends L.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?K("div",{style:{padding:"20px",color:"red",background:"#000",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"},children:[F("h1",{children:"Something went wrong"}),F("pre",{children:this.state.error?.message}),F("pre",{children:this.state.error?.stack})]}):this.props.children}}function N_e(){return console.log("🔍 App.jsx - Config check:",{config:Sl,hasChains:!!Sl?.chains,chainsLength:Sl?.chains?.length}),F(P_e,{children:F(NZ,{config:Sl,children:F(Lee,{client:R_e,children:F(Xie,{theme:UD({accentColor:"#00FF41",accentColorForeground:"black",borderRadius:"large",fontStack:"system",overlayBlur:"small"}),modalSize:"compact",initialChain:MS[0],chains:MS,children:F(Mse,{children:F(qpe,{children:F(Kpe,{children:F(qr,{theme:Qe,children:F(S0e,{router:v_e})})})})})})})})})}ZE.createRoot(document.getElementById("root")).render(F(N_e,{}));const Vk=Object.freeze(Object.defineProperty({__proto__:null,default:O_},Symbol.toStringTag,{value:"Module"}));export{t2e as $,oue as A,ke as B,C2e as C,yle as D,S2e as E,FL as F,oY as G,hp as H,W_e as I,Kp as J,jq as K,Mi as L,bZ as M,qc as N,Z_e as O,ii as P,Nse as Q,o2e as R,e2e as S,n2e as T,Bi as U,tce as V,r2e as W,vp as X,Bse as Y,i2e as Z,Oe as _,WC as a,Fse as a0,vle as a1,Pe as a2,xle as a3,_2e as a4,Wle as a5,M2e as a6,yP as a7,oD as a8,tm as a9,Sn as aa,Sd as ab,x_ as ac,qm as ad,la as ae,fi as af,Ose as ag,GS as ah,J_e as ai,$_e as b,n1 as c,JK as d,Ws as e,Zl as f,Bm as g,Gs as h,i1 as i,k_e as j,$t as k,VB as l,P7 as m,T2e as n,R2e as o,P2e as p,zv as q,Wl as r,pr as s,jv as t,Ole as u,N2e as v,k1 as w,Ve as x,qk as y,Uo as z};
